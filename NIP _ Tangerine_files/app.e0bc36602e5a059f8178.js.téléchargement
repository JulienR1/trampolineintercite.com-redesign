!function(e){function t(t){for(var i,a,r=t[0],l=t[1],c=t[2],u=0,_=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&_.push(s[a][0]),s[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(d&&d(t);_.length;)_.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==s[l]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={app:0},s={app:0},o=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[];a[e]?t.push(a[e]):0!==a[e]&&{accountAggregationBundle:1,aml:1,appReview:1,budgetBundle:1,inbox:1,insights:1,investment:1,mobileTermsConditionsOffers:1,rdc:1,recipes:1,transactions:1,abmLocator:1,accountDetails:1,bills:1,charting:1,common:1,contactUs:1,documents:1,eNotification:1,financialPlan:1,goalsBundle:1,mortgage:1,onboarding:1,peopleLikeYou:1,userSettings:1}[e]&&t.push(a[e]=new Promise((function(t,n){for(var i="assets/styles/css/"+({accountAggregationBundle:"accountAggregationBundle",aml:"aml",appReview:"appReview",budgetBundle:"budgetBundle",inbox:"inbox",insights:"insights",investment:"investment",mobileTermsConditionsOffers:"mobileTermsConditionsOffers",rdc:"rdc",recipes:"recipes",transactions:"transactions",abmLocator:"abmLocator",accountDetails:"accountDetails",bills:"bills",charting:"charting",common:"common",contactUs:"contactUs",documents:"documents",eNotification:"eNotification",financialPlan:"financialPlan",goalsBundle:"goalsBundle",mortgage:"mortgage",onboarding:"onboarding",peopleLikeYou:"peopleLikeYou",userSettings:"userSettings"}[e]||e)+".b54814c9a3505590e7cd.css",s=r.p+i,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var c=(d=o[l]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===i||c===s))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){var d;if((c=(d=u[l]).getAttribute("data-href"))===i||c===s)return t()}var _=document.createElement("link");_.rel="stylesheet",_.type="text/css",_.onload=t,_.onerror=function(t){var i=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete a[e],_.parentNode.removeChild(_),n(o)},_.href=s,document.getElementsByTagName("head")[0].appendChild(_)})).then((function(){a[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=s[e]=[t,i]}));t.push(n[2]=i);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=function(e){return r.p+"./bundles/"+({accountAggregationBundle:"accountAggregationBundle",aml:"aml",appReview:"appReview",budgetBundle:"budgetBundle",inbox:"inbox",insights:"insights",investment:"investment",mobileTermsConditionsOffers:"mobileTermsConditionsOffers",rdc:"rdc",recipes:"recipes",transactions:"transactions",abmLocator:"abmLocator",accountDetails:"accountDetails",bills:"bills",charting:"charting",common:"common",contactUs:"contactUs",documents:"documents",eNotification:"eNotification",financialPlan:"financialPlan",goalsBundle:"goalsBundle",mortgage:"mortgage",onboarding:"onboarding",peopleLikeYou:"peopleLikeYou",userSettings:"userSettings"}[e]||e)+"."+{accountAggregationBundle:"d80405d19a5899e9da9b",aml:"41e188a3ab325b28bb6f",appReview:"d9d3df8598eddd637002",budgetBundle:"c80a4eaf739ebaf730c2",inbox:"7015d3bc8c0a6d005521",insights:"f4562515f160dbb1260c",investment:"602629038dfbf53ac866",mobileTermsConditionsOffers:"7340628ea42050f6a94b",rdc:"9bdff3635261b847f697",recipes:"e2ee6d366a3517f106bd",transactions:"f71e374971290aa07094",abmLocator:"e31f4664a92a9a420cbf",accountDetails:"aea1feb177fceb452df5",bills:"fefb514f025b076eacaa",charting:"44865b5d89d332f10209",common:"5ccc726b9f7c97a67687",contactUs:"2212479dc6a1cb5b3431",documents:"4c3f6d3d0c96031924dd",eNotification:"5d40a7343ce38e1258db",financialPlan:"958f56d24da93219ee8a",goalsBundle:"38bff08257c678e86267",mortgage:"dc41b85c2895fc58e948",onboarding:"ec299128c2abeea1b352",peopleLikeYou:"c9449927725d3e56d03c",userSettings:"888a65f42ba3544ba0a9"}[e]+".bundle.js"}(e);var c=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=s[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}s[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./",r.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;o.push([567,"vendor"]),n()}(Array(46).concat([function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("accountDetails")]).then(function(){var i=n(1830),a=n(536),s=n(1831),o=n(546);t.load([{name:i.name},{name:a},{name:s.name},{name:o.name}]),e([i,a,s,o])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("charting")]).then(function(){var i=n(1844);t.load([{name:i.name}]),e([i])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOGGLE_CONTACT_US_MENU="TOGGLE_CONTACT_US_MENU",t.TOGGLE_MAIN_NAV_MENU="TOGGLE_MAIN_NAV_MENU",t.GO_TO_SIGNIN="GO_TO_SIGNIN",t.UI_ROUTE_STATE_CHANGE_SUCCESS="UI_ROUTE_STATE_CHANGE_SUCCESS",t.RESTORE_STATE="RESTORE_STATE",t.RELOAD_ACTIVE_CHAT="RELOAD_ACTIVE_CHAT",t.TOGGLE_CHAT_WITH_US_MODAL="TOGGLE_CHAT_WITH_US_MODAL",t.START_CHAT="START_CHAT",t.TOGGLE_CHAT_WINDOW_MINI="TOGGLE_CHAT_WINDOW_MINI",t.TOGGLE_CHAT_WINDOW_DOCK="TOGGLE_CHAT_WINDOW_DOCK",t.TOGGLE_CONFIRMATION_STOP_CHAT_MODAL="TOGGLE_CONFIRMATION_STOP_CHAT_MODAL",t.CHANGE_CHAT_STATE="CHANGE_CHAT_STATE",t.EXIT_CHAT="EXIT_CHAT",t.SET_CHAT_AVAILABILITY="SET_CHAT_AVAILABILITY",t.TOGGLE_SCREEN_SHARING="TOGGLE_SCREEN_SHARING",t.TOGGLE_CALL_YOU_MODAL="TOGGLE_CALL_YOU_MODAL",t.TOGGLE_CALL_YOU_CONFORMATION_MODAL="TOGGLE_CALL_YOU_CONFORMATION_MODAL",t.TOGGLE_CALL_YOU_ERROR_MODAL="TOGGLE_CALL_YOU_ERROR_MODAL",t.STOP_CALL_YOU="STOP_CALL_YOU",t.SET_CALL_YOU_AVAILABILITY="SET_CALL_YOU_AVAILABILITY",t.TOGGLE_CALL_US_MODAL="TOGGLE_CALL_US_MODAL",t.TOGGLE_CALL_US_ERROR_MODAL="TOGGLE_CALL_US_ERROR_MODAL",t.STOP_CALL_US="STOP_CALL_US",t.SET_CALL_US_AVAILABILITY="SET_CALL_US_AVAILABILITY"},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ytCadAddressPattern=t.skCadAddressPattern=t.nuCadAddressPattern=t.ntCadAddressPattern=t.peCadAddressPattern=t.nsCadAddressPattern=t.nlCadAddressPattern=t.nbCadAddressPattern=t.mbCadAddressPattern=t.bcCadAddressPattern=t.abCadAddressPattern=t.qcCadAddressPattern=t.onCadAddressPattern=t.cadAddressPattern=t.tpiAddressPattern=t.addressPattern=t.documentUploadInvalidCharacterPattern=t.accountNicknamePattern=t.businessNumberOrNamePattern=t.poBoxPattern=t.referenceSanitizePattern=t.digitPattern=t.contactNameParsePattern=t.contactEmailParsePattern=t.emtAnswerReenterPattern=t.emtQuestionExcludingPattern=t.emtAnswerPattern=t.emtQuestionPattern=t.lettersNumbersSpacesPattern=t.lettersNumbersSpacesReplacePattern=t.streetNumberPattern=t.fileNameAlphaNumericPattern=t.numbersOnlyPattern=t.phoneViewPattern=t.sinPattern=t.orangeKeyPattern=t.emailPattern=t.alphanumericPattern=t.usZipCodePatter=t.interacEmailFullPattern=t.emailFullPattern=t.pinPattern=t.pinSanitizePattern=t.captchaPattern=t.secretQuestionPattern=t.phoneNumberPattern=t.userIdPattern=t.havingNumbersPattern=t.notTwoConsecutiveAMLCharsPattern=t.twoOrMoreConsecutiveAMLCharsPattern=t.normalAndAMLCharsAndNumbersPattern=t.normalAndAMLCharsPattern=t.namePatternUnlimited=t.namePattern=void 0;var i,a=n(177),s=(i=a)&&i.__esModule?i:{default:i};t.quetionContainsForbiddenKeywords=function(e){return!!e&&f.test(e.toLocaleLowerCase())},t.contactNameParseValidation=function(e){return A.test(e)},t.contactEmailParseValidation=function(e){return g.test(e)},t.userIdValidation=function(e){return u.test(e)},t.userIdSanitize=function(e){return e.replace(/[^a-zA-Z0-9@._-]/g,"")},t.phoneNumberValidation=function(e){return d.test(e)},t.accountNicknameValidation=function(e){return C.test(e)},t.documentUploadInvalidCharacterValidation=function(e){return m.test(e)},t.secretQuestionValidation=function(e){var t=_.test(e);return!!e&&t},t.captchaValidation=function(e){return E.test(e)},t.pinSanitize=function(e){return e.replace(h,"")},t.pinValidation=function(e){return S.test(e)},t.nameValidation=function(e){return o.test(e)},t.personNameValidation=function(e){return r.test(e)&&!c.test(e)},t.businessNameValidation=function(e){return l.test(e)&&!c.test(e)},t.otherRelationShipValidation=function(e){return l.test(e)&&!c.test(e)},t.emailValidation=function(e){return T.test(e)},t.interacEmailValidation=function(e){return p.test(e)},t.lastThreeSSNValidation=function(e){return/^([0-9]){1,4}$/.test(e)},t.phraseValidation=function(e){return/^([a-zA-ZàçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ0-9@._-\s]){1,25}$/.test(e)},t.newPinValidation=function(e){return/^([0-9]){6}$/.test(e)},t.hasUsernameSpecialChars=function(e){return!/^[a-zA-Z0-9àâçéèêëîïôûùüÿñæœ@._-]+$/.test(e)},t.hasGoalnameChars=function(e){return!/^[a-zA-Z0-9àâçéèêëîïôûùüÿñæœÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ\s]+$/.test(e)},t.hasAtLeastOneLetter=function(e){return/^(?=.*[a-zA-ZàâçéèêëîïôûùüÿñæœÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ])/.test(e)},t.inputIsValid=function(e,t){if(e)return e.$valid||e.$pristine&&!t&&(!e.$modelValue||angular.isString(e.$modelValue)&&0===e.$modelValue.length);return!0},t.showError=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=function(n){return!!(e&&e[t]&&e[t].$error[n]&&(e[t].$touched||i))};if(!Array.isArray(n))return a(n);return n.some((function(e){return a(e)}))},t.inputsAreEqual=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t){var i=e.$viewValue,a=t.$viewValue;return n&&"string"==typeof i&&"string"==typeof a?i.toLowerCase()===a.toLowerCase():i===a}return!1},t.referenceSanitize=function(e){return e.replace(v,"")},t.validationOrderComparison=O,t.genericFormValidator=function(e){var t=e.form,n=e.anchorService,i=void 0===n?null:n,a=null,o=null,r=(0,s.default)(t);(function e(t){t.$valid||angular.forEach(t,(function(t,n){if(t&&"string"==typeof n&&"$$parentForm"!==n&&t.$invalid)if(t.$setTouched&&!t.$touched&&t.$setTouched(),t.$setDirty&&!t.$dirty&&t.$setDirty(),(0,s.default)(t)===r)e(t);else{var i=angular.element(document).find("[name='"+n+"']");if(i&&i.length>0){var l=i[0].attributes["validation-order"];l&&l.value&&(a&&!O(l.value,o)||(a=n,o=l.value))}}}))})(t),a&&i&&(i.scrollWithOffset(a),i.scrollWithOffset(a+"_label"));return t.$valid};var o=t.namePattern=/^([a-z A-Z-.\'\/(\/)àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ]){1,33}$/,r=(t.namePatternUnlimited=/^([a-z A-Z-.\'\/(\/)àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ])*$/,t.normalAndAMLCharsPattern=/^([a-zA-Z '-\/(\/)àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ`<>"''%;()&+\\#\?\{\}\|\^~\[\]\/:\*,\$!@])*$/),l=t.normalAndAMLCharsAndNumbersPattern=/^([a-zA-Z '-\/(\/)àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ`<>"''%;()&+\\#\?\{\}\|\^~\[\]\/:\*,\$!@1234567890])*$/,c=t.twoOrMoreConsecutiveAMLCharsPattern=/[`<>"'%;()&+\\#\?\{\}\|\^~\[\]\/:\*,\$!@]{2,}/,u=(t.notTwoConsecutiveAMLCharsPattern=/^(?!.*[`<>"'%;()&+\\#\?\{\}\|\^~\[\]\/:\*,\$!@]{2}).*$/,t.havingNumbersPattern=/^.*[0-9]+.*$/,t.userIdPattern=/^([a-zA-Z0-9@._\-àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ]){2,40}$/),d=t.phoneNumberPattern=/^[2-9][0-9]{2}-[2-9][0-9]{2}-[0-9]{4}$/,_=t.secretQuestionPattern=/^([\\\s\/@._\-a-zA-Z0-9]){1,40}$/,E=t.captchaPattern=/^([a-zA-Z0-9@._-\s]){1,40}$/,h=t.pinSanitizePattern=/[^0-9]/g,S=t.pinPattern=/^([0-9]){4,6}$/,T=t.emailFullPattern=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,p=t.interacEmailFullPattern=/^(([^<>()\[\]\\.,;:\s@"!#$%&'*\/=?^`{|}~àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,f=(t.usZipCodePatter="^\\d{5}(-?\\d{4})?$",t.alphanumericPattern="^[a-zA-Z0-9 ]*",t.emailPattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",t.orangeKeyPattern="[a-zA-Z0-9]+",t.sinPattern="^(\\d{3})-?(\\d{3})-?(\\d{3})$",t.phoneViewPattern="^\\([2-9][0-9]{2}\\) [2-9][0-9]{2}-[0-9]{4}$",t.numbersOnlyPattern="^[0-9]*$",t.fileNameAlphaNumericPattern="[^0-9a-zA-Z]",t.streetNumberPattern=/^([a-zA-Z0-9 àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ.,_\\-])*$/,t.lettersNumbersSpacesReplacePattern=/[^A-Za-z0-9 ÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝ]/g,t.lettersNumbersSpacesPattern=/^[A-Za-z0-9 ÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝ]*$/,t.emtQuestionPattern=/^[a-zA-Z0-9$.?,!' <>%{}[\]&#\\ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïòóôõöùúûüýÿñ]*$/,t.emtAnswerPattern=/^[a-zA-Z0-9\-ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïòóôõöùúûüýÿñ]*$|^\*{5}$/,t.emtQuestionExcludingPattern=/^.*www|http|https|javascript|function.*$/i),g=(t.emtAnswerReenterPattern=/^[a-zA-Z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïòóôõöùúûüýÿñ]*$/,t.contactEmailParsePattern=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+/),A=t.contactNameParsePattern=/^[a-zA-Z]+\s[a-zA-Z]+/,v=(t.digitPattern="[0-9]",t.referenceSanitizePattern=/[^A-Za-z0-9- ]/g),C=(t.poBoxPattern=/\b(p(ost){0,1})\.?\s*(o(ffice){0,1})\.?\s*(box){0,1}\s*(([^\w\s]|_)*\s*\d+|([^\w\s]|_)*\s+|([^\w\s]|_)+\w)|\b(box)\s*(([^\w\s]|_)*\s*\d+)|\b(c((ase)|(asier)){0,1})\.?\s*p(ost){0,1}((ale)|(al)){0,1}\.?\s*([^\w\s]|_)*\s*\d+|\b(case|casier)\.?\s*([^\w\s]|_)*\s*\d+|\b(b((oite)|(oîte)){0,1})\.?\s*p(ost){0,1}((ale)|(al)){0,1}\.?\s*([^\w\s]|_)*\s*\d+|\b(boite|boîte)\.?\s*([^\w\s]|_)*\s*\d+/,t.businessNumberOrNamePattern=/^([A-Za-z0-9-. ])*$/,t.accountNicknamePattern=/^[a-zA-ZÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝ\d\s']*$/),m=t.documentUploadInvalidCharacterPattern=/[&"<>]/;t.addressPattern="^[a-zA-Z0-9 àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ.]*",t.tpiAddressPattern="^[a-zA-Z0-9 àçéèëœùûìòáúýâêîôäïöüÿíóÀÇÉÈËŒÙÛÌÒÁÚÝÂÊÎÔÄÏÖÜŸÍÓ_.,'-]*$",t.cadAddressPattern="^([a-zA-Z]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.onCadAddressPattern="^([KLMNPklmnp]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.qcCadAddressPattern="^(([ghjGHJ]\\d[a-zA-Z]|k1a|K1a|k1A|K1A)( )?\\d[a-zA-Z]\\d)$",t.abCadAddressPattern="^([tT]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.bcCadAddressPattern="^([vV]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.mbCadAddressPattern="^([Rr]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.nbCadAddressPattern="^([Ee]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.nlCadAddressPattern="^([Aa]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.nsCadAddressPattern="^([Bb]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.peCadAddressPattern="^([Cc]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.ntCadAddressPattern="^((?!x0a)(?!X0A)(?!x0A)(?!X0a)(?!x0b)(?!X0B)(?!x0B)(?!X0b)(?!x0c)(?!X0C)(?!x0C)(?!X0c)([Xx]\\d[a-zA-Z])( )?\\d[a-zA-Z]\\d)$",t.nuCadAddressPattern="^((x0a|X0A|x0A|X0a|x0b|X0B|x0B|X0b|x0c|X0C|x0C|X0c)( )?\\d[a-zA-Z]\\d)$",t.skCadAddressPattern="^([Ss]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$",t.ytCadAddressPattern="^([Yy]\\d[a-zA-Z]( )?\\d[a-zA-Z]\\d)$";function I(e){return null==e?[]:e.split("_")}function O(e,t){for(var n=I(e),i=I(t),a=Math.min(n.length,i.length),s=0;s<a;){var o=parseInt(n[s],10),r=parseInt(i[s],10);if(o<r)return!0;if(o>r)return!1;s+=1}return n.length<=i.length}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("userSettings")]).then(function(){var i=n(1824),a=n(1826);t.load([{name:i.name},{name:a.name}]),e([i,a])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("onboarding")]).then(function(){var i=n(1820),a=n(1822),s=n(546);t.load([{name:i.name},{name:a.name},{name:s.name}]),e([i,a,s])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("goalsBundle")]).then(function(){var i=n(1845);t.load({name:i.name}),e(i)}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EtransferFlowActions=t.MainNavMenuActions=t.ContactUsActions=t.CallUsActions=t.CallYouActions=t.RouteActions=t.ChatWithUsActions=void 0;var i=u(n(676)),a=u(n(677)),s=u(n(678)),o=u(n(679)),r=u(n(680)),l=u(n(681)),c=u(n(682));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.ChatWithUsActions=i,t.RouteActions=l,t.CallYouActions=a,t.CallUsActions=s,t.ContactUsActions=o,t.MainNavMenuActions=r,t.EtransferFlowActions=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={ABSTRACT:"abstract",ABSTRACT_AUTH:"abstractAuth",ABSTRACT_GUEST:"abstractGuest",ABSTRACT_ANON:"abstractAnonymous",LOGIN:"loginPage",LOGIN_PIN:"loginPin",FORGOT_LOGIN:"forgotLogin",LOGGED_OUT:"loggedOut",SHOW_DOUBLE_SAFE_MODAL:"showDoubleSafeModal",RESET_PIN:"resetPin",ACCOUNT_SUMMARY:"accountSummary",BUDGET_LTS_OVERVIEW:"budgetLtsPage",NEW_CLIENT_ENROLLMENT:"tngNewClientEnrollment",EXISTING_CLIENT_ONBOARDING:"existingClientOnboarding",CSA_POST_CONVERSION:"tngCsaPostConversionSteps",ACCOUNT_DETAILS_CHEQUING:"accountDetailsChequing",ACCOUNT_DETAILS_CREDIT_CARD:"accountDetailsCreditCard",ACCOUNT_DETAILS_SAVINGS:"accountDetailsSavings",ACCOUNT_DETAILS_GOALS:"accountDetailsGoals",GOAL_DETAILS:"goalDetails",ACCOUNT_DETAILS_MORTGAGE:"accountDetailsMortgage",ACCOUNT_DETAILS_LOAN:"accountDetailsLoan",ACCOUNT_DETAILS_INVESTMENT:"accountDetailsInvestment",ACCOUNT_DOCUMENTS:"accountDocuments",ACCOUNT_DOCUMENTS_STATEMENTS:"accountDocuments.accountStatements",ACCOUNT_DOCUMENTS_TAX_RECEIPTS:"accountDocuments.taxReceipts",ACCOUNT_DOCUMENTS_INVESTMENTS:"accountDocuments.investmentReports",ACCOUNT_DOCUMENTS_OTHER:"accountDocuments.otherDocuments",EXAMPLES:"examples",FORMS:"forms",FORMS_BANKING:"forms.banking",FORMS_INVESTMENT:"forms.investment",JOINT_ENROLLMENT_VALIDATION:"tngJointEnrollmentValidation",JOINT_ENROLLMENT_ACCEPT_OR_DECLINE:"tngJointEnrollmentAcceptOrDecline",HELP:"help",AIDE:"aide",COMING_SOON:"comingSoon",COMING_SOON_SITE:"comingSoonSite",BILL_PAY:"billPay",BILL_PAY_HISTORY:"billHistory",USER_SETTINGS:"userSettings",USER_SETTINGS_GENERAL:"userSettings.general",USER_SETTINGS_ORANGE_ALERTS:"userSettings.orangeAlerts",USER_SETTINGS_EXTERNAL_ACCOUNTS:"userSettings.externalAccounts",USER_SETTINGS_ASP:"userSettings.automaticSavingsProgram",USER_SETTINGS_TRANSFER_CONTACTS:"userSettings.transferContacts",USER_SETTINGS_MONEY_TRANSFER:"userSettings.moneyTransfer",USER_SETTINGS_INTERAC_AUTODEPOSIT:"userSettings.interacAutoDeposit",USER_SETTINGS_CONTEST_BONUSES:"userSettings.contestBonuses",USER_SETTINGS_SECURITY:"userSettings.security",USER_SETTINGS_SECURITY_LOGIN_OPTIONS:"userSettings.security.loginOptions",USER_SETTINGS_SECURITY_CLIENT_PIN:"userSettings.security.clientPin",USER_SETTINGS_SECURITY_DOUBLE_SAFE:"userSettings.security.doubleSafe",USER_SETTINGS_SECURITY_DEVICES:"userSettings.security.devices",USER_SETTINGS_SECURITY_LOGIN_TOUCH_ID:"userSettings.security.touchId",USER_SETTINGS_SECURITY_LOGIN_TOUCH_ID_REENROLL:"userSettings.security.touchIdReenroll",USER_SETTINGS_SECURITY_LOGIN_TOUCH_ID_FROM_SIMPLE_SIGN_ON:"userSettings.security.touchIdFromSimpleSignOn",USER_SETTINGS_SECURITY_LOGIN_QUICK_VIEW:"userSettings.security.quickView",USER_SETTINGS_SECURITY_LOGIN_FINGERPRINT_ID:"userSettings.security.fingerprintId",USER_SETTINGS_SECURITY_LOGIN_FINGERPRINT_ID_REENROLL:"userSettings.security.fingerprintIdReenroll",USER_SETTINGS_SECURITY_LOGIN_FINGERPRINT_ID_FROM_SIMPLE_SIGN_ON:"userSettings.security.fingerprintIdFromSimpleSignOn",USER_SETTINGS_SECURITY_LOGIN_DEFER_PIN:"userSettings.security.instantAccess",USER_SETTINGS_SECURITY_LOGIN_DEFER_PIN_FROM_SIMPLE_SIGN_ON:"userSettings.security.instantAccessFromSimpleSignOn",USER_SETTINGS_SECURITY_LOGIN_DEFER_PIN_FROM_SIMPLE_SIGN_ON_NO_TOUCH:"userSettings.security.instantAccessFromSimpleSignOnNoTouch",USER_SETTINGS_SECURITY_LOGIN_DEFER_PIN_FROM_FINGERPRINT:"simpleSignOnFingerprintInstantAccess",MOBILE_TERMS_AND_CONDITIONS:"mobileTermsAndConditions",SIGNOUT:"signOut",MOBILE_PAY:"mobilePay",SIMPLE_SIGN_ON_TOUCH_ID:"simpleSignOnTouchId",SIMPLE_SIGN_ON_FINGERPRINT_ID:"simpleSignOnFingerprintId",SIMPLE_SIGN_ON_QUICK_VIEW_FROM_FINGERPRINT:"simpleSignOnQuickViewFromFingerprint",SIMPLE_SIGN_ON_QUICK_VIEW:"simpleSignOnQuickView",SIMPLE_SIGN_ON_QUICK_VIEW_NO_BACK:"simpleSignoOnQuickViewNoBack",FINGERPRINT_WIZARD:"fingerprintWizard",FINGERPRINT_WIZARD_FINGERPRINT_ID:"fingerprintWizardFingerprintId",QUICK_VIEW_INSTANT_ACCESS:"userSettings.security.instantAccess",DEVICES:"devices",DEVICES_SECURITY:"devices.security",DEVICES_ORANGE_SNAPSHOTS:"devices.orangeSnapshots",DEVICES_LOGIN_OPTIONS:"devices.loginOptions",DEVICES_DEVICE_LIST:"devices.deviceList",MAINTENANCE:"maintenance",NOT_FOUND:"notFound",EMT_RECEIVE_MONEY_CLIENT:"receiveMoneyClient",EMT_RECEIVE_MONEY_INTERAC:"receiveMoneyInterac",EMT_RECEIVE_MONEY_STANDARD:"receiveMoneyStandard",MOBILE_NAVIGATION:"navigation",MOBILE_NAVIGATION_DOCUMENTS:"navigation.documents",TRANSACTIONS:"transactionsPage",INSIGHTS_TRANSACTIONS_PLACEHOLDER:"insightsTransactionsPlaceholder",INSIGHTS:"insights",PERSONAL_INSIGHT_STORY:"personalInsightStory",PERSONAL_INSIGHTS_MBOX:"personalInsightsMbox",INBOX:"inbox",ABM_LOCATIONS:"abmLocations",ABM_ACCESS:"abmAccess",BUDGET_TOOL:"budgetTool",ACCESS_DENIED:"comingSoon403",KYC:"kycPage",INSIGHTS_TLOC_LEARN_MORE:"insightsTlocLearnMore",FINANCIAL_PLAN:"financialPlan",FINANCIAL_PLAN_ARCHETYPES:"financialPlanArchetypes",RECIPES:"recipes",MORTGAGE_TRACKER:"mortgageTracker",OVERDRAFT_PRE_APPROVAL:"overdraftPreapproval",ABSTRACT_ACCOUNTS_MODAL:"abstractAccountsModal",ABSTRACT_TRANSACTIONS_MODAL:"abstractTransactionsModal",MOVE_MONEY_MODAL:"moveMoneyModal",PAY_BILLS_MODAL:"payBillsModal",PAY_BILLS_MODAL_V2:"payBillsModalV2",ADD_BILLER_MODAL_V2:"addBillerModalV2",ADD_BILL_MODAL:"addBillModal",SEND_ETRANSFER_MODAL:"sendEtransferModal",EMT_MODAL:"emtModal",EMT_RECLAIM_MODAL:"emtReclaimModal",UNCONFIRMED_TRANSACTIONS_MODAL:"unconfirmedTransactionsModal",UNCATEGORIZED_TRANSACTIONS_MODAL:"uncategorizedTransactionsModal",CREDIT_CARD_BALANCE_TRANSFER_MODAL:"creditCardBalanceTransferModal",CREDIT_LIMIT_CHANGE_MODAL:"creditLimitChangeModal",CREDIT_CARD_ACTIVATION_MODAL:"creditCardActivationModal",DEBIT_CARD_ACTIVATION_MODAL:"debitCardActivationModal",ASP_MODAL:"aspModal",CSA_CONVERSION_MODAL:"csaConversionModal",DIRECT_DEPOSIT_FORM_MODAL:"directDepositFormModal",E_NOTIFICATION_MODAL:"eNotificationModal",REFER_FRIEND_MODAL:"referFriendModal",DONATIONS_MODAL:"donationsModal",HOLDS_MODAL:"holdsModal",ORDER_CHEQUES_MODAL:"orderChequesModal",PENDING_APPLICATIONS:"pendingApplicationsModal",OVERDRAFT_PROTECTION_APPLY:"overDraftProtectionApplyModal",OVERDRAFT_CONSENT_MODAL:"overDraftConsentModal",RIF_SUMMARY_MODAL:"rifSummaryModal",ACTIVATE_OFFER_MODAL:"activateOfferModal",BENEFICIARIES_MODAL:"beneficiariesModal",FEES_SAVED_CALCULATOR_MODAL:"feesSavedCalculatorModal",GOAL_MODAL:"goalModal",MAGIC_SWITCH_MODAL:"magicSwitchModal",UPDATE_EMAIL_MODAL:"updateEmailModal",MORTGAGE_RENEWAL_MODAL:"mortgageRenewalModal",MAKE_INITIAL_DEPOSIT_MODAL:"makeInitialDepositModal",OTHER_COMMUNICATIONS:"otherCommunications",REWARDS:"rewards",RDC:"rdc",EMT_FULFIlL_REQUEST_INTERAC:"fulfillRequestInterac",PEOPLE_LIKE_YOU:"peopleLikeYou",REACH_GOAL_SOONER:"reachGoalSooner",ENVIRONMENT_SWITCH:"environmentSwitch",ACCOUNT_CONTRIBUTION_DETAILS_MODAL:"accountContributionDetailsModal",DEBIT_CARD_REPLACEMENT:"debitCardReplacement",AML_CONFIRM_INFO_MODAL:"amlConfirmInfoModal",JOINT_INVITE_MANAGER:"jointInviteManager",KYC_ROADBLOCK_MODAL:"kycRoadblockModal",CREDIT_CARD_CONVERSION_MODAL:"creditCardConversionModal",ACCOUNT_AGGREGATION_MODAL:"accountAggregationModal"},e.exports=t.default},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={API:{RESPONSE_CODES:{SUCCESS:"SUCCESS",NO_DATA:"NO_DATA",VALIDATION_ERROR:"VALIDATION_ERROR",USERNAME_EXISTS:"USERNAME_EXISTS",UPDATE_FAILURE:"UPDATE_FAILURE",PININVALID:"PININVALID",INVALID_BANK_INFO:"INVALID_BANK_INFO",INVALID_AMOUNT:"INVALID_AMOUNT",PROFANITY:"MESSAGE_39205",BIINV:"BIINV",INVALID_CIF:"INVALID_CIF",INVALID:"INVALID",INVALID_NICKNAME:"INVALID_NICKNAME",INVALID_REQUEST_BODY:"INVALID_REQUEST_BODY"},ADDRESS_TYPE:{HOME:"HOME",MAILING:"MAILING",BUSINESS:"BUSINESS",FUTURE:"FUTURE",FUTURE_MAILING:"FUTURE_MAILING"},ADDRESS_DATE_FORMAT:"YYYY-MM-DD",ADDRESS_CANADA_COUNTRY_CODE:"CA",ADDRESS_UNITED_STATES_COUNTRY_CODE:"US",RESIDENT:"RESIDENT",NON_RESIDENT:"NON_RESIDENT",PHONE_TYPE:{HOME:{KEY:"HOME",TRANSLATION:"userSettings.general.basicInfo.phoneType.home",TABLE_TITLE_TRANSLATION:"userSettings.general.basicInfo.homePhoneNumber"},CELL:{KEY:"CELL",TRANSLATION:"userSettings.general.basicInfo.phoneType.mobile",TABLE_TITLE_TRANSLATION:"userSettings.general.basicInfo.mobilePhoneNumber"},BUSINESS:{KEY:"BUSINESS",TRANSLATION:"userSettings.general.basicInfo.phoneType.business",TABLE_TITLE_TRANSLATION:"userSettings.general.basicInfo.workPhoneNumber"}},EMPLOYMENT_STATUS:{EMPLOYED:{KEY:"EMPLOYED",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.employed"},SELF_EMPLOYED:{KEY:"SELF_EMPLOYED",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.selfEmployed"},RETIRED:{KEY:"RETIRED",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.retired"},STUDENT:{KEY:"STUDENT",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.student"},HOME_MAKER:{KEY:"HOME_MAKER",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.homeMaker"},UNEMPLOYED:{KEY:"UNEMPLOYED",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.notWorking"},OTHER:{KEY:"OTHER",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.other"},EMPLOYED_FULL_TIME:{KEY:"EMPLOYED_FULL_TIME",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.employedFullTime"},EMPLOYED_PART_TIME:{KEY:"EMPLOYED_PART_TIME",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.employedPartTime"},SEASONAL:{KEY:"SEASONAL",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.seasonal"},CHILD_PRE_SCHOOL:{KEY:"CHILD_PRE_SCHOOL",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.childPreSchool"},NOT_WORKING:{KEY:"NOT_WORKING",TRANSLATION:"userSettings.general.basicInfo.employmentStatus.notWorking"}},COMMUNICATION:{MARKETING_TYPE:{EMAIL:"EMAIL",MAIL:"MAIL",STATEMENTS:"STATEMENTS",PHONE:"PHONE"},LANGUAGES:{ENGLISH:{KEY:"ENGLISH",TRANSLATION:"userSettings.general.otherCommunication.language.english"},FRENCH:{KEY:"FRENCH",TRANSLATION:"userSettings.general.otherCommunication.language.french"}},PREFERENCES_KEYS:{SAVINGS:{KEY:"savings",TRANSLATION:"userSettings.general.otherCommunication.preferencesKeys.savings"},MUTUAL_FUNDS:{KEY:"mutual_funds",TRANSLATION:"userSettings.general.otherCommunication.preferencesKeys.mutual_funds"},CREDIT_CARD:{KEY:"credit_card",TRANSLATION:"userSettings.general.otherCommunication.preferencesKeys.creditcard"}},OTHER_TYPES:{ELECTRONIC:{KEY:"ELECTRONIC",TRANSLATION:"userSettings.general.otherCommunication.otherTypes.electronic"},PAPER:{KEY:"PAPER",TRANSLATION:"userSettings.general.otherCommunication.otherTypes.paper"}},STATES:{YES:{KEY:"Y",TRANSLATION:"global.yes"},NO:{KEY:"N",TRANSLATION:"global.no"}},USER_DATA:{LANGUAGE:{KEY:"langauge",TRANSLATION:"userSettings.general.otherCommunication.language.label"},EDOCUMENT:{KEY:"edocument",TRANSLATION:"userSettings.general.otherCommunication.eDocuments"},STATEMENT:{KEY:"statements",TRANSLATION:"userSettings.general.otherCommunication.statement"},TAX_RECEIPT:{KEY:"tax_receipts",TRANSLATION:"userSettings.general.otherCommunication.taxReceipt"},TRADE_CONFIRMATION:{KEY:"trade_confirmation",TRANSLATION:"userSettings.general.otherCommunication.trade"},STATEMENTS_CONSENT:{KEY:"statements_consent"}}},DOUBLE_SAFE:{DEVICES:{UNREGISTER_ALL:"UNBIND_ALL_DEVICES",UNREGISTER_DEVICE:"UNBIND_DEVICE",REGISTER_DEVICE:"BIND_DEVICE",DELETE_REMEMBER_ME_ALL:"DELETE_REMEMBER_ME_ALL"},DEVICE_COOKIE:"PMData"},CARD:{TYPE:{DEBIT:{KEY:"DEBIT",TRANSLATION:"userSettings.general.cards.type.debit"},CREDIT:{KEY:"CREDIT",TRANSLATION:"userSettings.general.cards.type.credit"}},STATUS:{OKAY:{KEY:"OKAY",TRANSLATION:"userSettings.general.cards.status.okay"},STOLEN:{KEY:"STOLEN",TRANSLATION:"userSettings.general.cards.status.stolen"},CAPTURE:{KEY:"CAPTURE",TRANSLATION:"userSettings.general.cards.status.capture"},NOT_ACTIVATED:{KEY:"NOT_ACTIVATED",TRANSLATION:"userSettings.general.cards.status.notActivated"},SETTLE:{KEY:"SETTLE",TRANSLATION:"userSettings.general.cards.status.settle"},CLOSED:{KEY:"CLOSED",TRANSLATION:"userSettings.general.cards.status.closed"},ORDER:{KEY:"ORDER",TRANSLATION:"userSettings.general.cards.status.order"},COMPROMISED:{KEY:"COMPROMISED",TRANSLATION:"userSettings.general.cards.status.compromised"},DESTROYED:{KEY:"DESTROYED",TRANSLATION:"userSettings.general.cards.status.destroyed"}}},ASP_TRANSACTION_TYPE:"ASP",EFT:"EFT"},LAST_LOGIN_REPLACE:" at",CUSTOMER_JSON_KEY:"customer",ERROR_CODES:{CARDS_FETCH_ERROR:"CARDS_FETCH_ERROR",DEBIT_CARDS_API_ERROR:"DEBIT_CARDS_API_ERROR",CREDIT_CARDS_API_ERROR:"CREDIT_CARDS_API_ERROR"},DUMMY_SIN_NUMBERS:["000000000","999999998"],BUSINESS_INVOLVED_PARTY_TYPE:{DIRECTOR:"DIRECTOR",BENEFICIAL_OWNER:"BENEFICIAL_OWNER"},BENEFICIAL_OWNER_TYPE:{PERSON:"PERSON",BUSINESS:"BUSINESS"}};t.default=i,e.exports=t.default},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("financialPlan")]).then(function(){var i=n(537),a=n(1859);t.load({name:i.name},{name:a.name}),e([i,a])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(68)),a=l(n(0)),s=l(n(2)),o=l(n(45)),r=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"parseDateString",value:function(e){var t=e.match(/([0-9]{4})([0-9]{2})([0-9]{2})/);return t?{year:parseInt(t[1],10),month:parseInt(t[2],10),day:parseInt(t[3],10)}:null}},{key:"padMonthDay",value:function(e){return e.toString().length<2?"0"+e.toString():e.toString()}},{key:"toMoment",value:function(e){return(0,o.default)([e.year,e.month,e.day],"YYYY/MM/DD")}},{key:"parseMoment",value:function(e){try{return{day:e.date(),month:e.month()+1,year:e.year()}}catch(e){return null}}},{key:"sameDates",value:function(e,t){return!(!e||!t)&&(e.day===t.day&&(e.month===t.month&&e.year===t.year))}},{key:"greaterThan",value:function(e,t){return e.year>t.year||!(e.year<t.year)&&(e.month>t.month||!(e.month<t.month)&&e.day>t.day)}},{key:"lessThan",value:function(e,t){return e.year<t.year||!(e.year>t.year)&&(e.month<t.month||!(e.month>t.month)&&e.day<t.day)}},{key:"monthStart",value:function(e,t){return{day:1,month:e,year:t}}},{key:"monthEnd",value:function(e,t){return{day:(0,o.default)(t+"-"+e+"-01","YYYY-MM-DD").endOf("month").date(),month:e,year:t}}},{key:"getEndOfTime",value:function(){return{year:3e3,month:12,day:31}}},{key:"stringify",value:function(t){var n=e.padMonthDay(t.month),i=e.padMonthDay(t.day);return""+t.year+n+i}},{key:"getHighlightedDaysCount",value:function(t,n,i,a){if(!t)return 0;var s=e.toMoment(t),l=void 0;l=a!==r.DATE_SELECTOR_MODES.INDEFINITE&&n?e.toMoment(n):(0,o.default)(s).add(2,"years");var c=1;return i===r.FREQUENCY_MODE_CONSTANTS.DAILY?c+=l.diff(s,"days"):i===r.FREQUENCY_MODE_CONSTANTS.YEARLY?c+=l.diff(s,"years"):i===r.FREQUENCY_MODE_CONSTANTS.QUARTERLY?c+=l.diff(s,"quarters"):i===r.FREQUENCY_MODE_CONSTANTS.MONTHLY?c+=l.diff(s,"months"):i===r.FREQUENCY_MODE_CONSTANTS.SEMI_MONTHLY?(c=2*(l.month()-s.month()+1),e.isNextSemiMonthlyInSameMonth(t)?(c-=l.date()<e.getNextSemiMonthlyInSameMonth(s.clone().month(n.month-1)).date()?1:0,c-=l.date()<s.date()?1:0):(c-=1,c-=l.date()<s.date()?1:0,c-=l.date()<s.clone().add(-15,"days").date()?1:0)):i===r.FREQUENCY_MODE_CONSTANTS.BIWEEKLY?c+=Math.floor(l.diff(s,"weeks")/2):i===r.FREQUENCY_MODE_CONSTANTS.WEEKLY&&(c+=l.diff(s,"weeks")),c}},{key:"isNextSemiMonthlyInSameMonth",value:function(e){return e.day<16}},{key:"getNextSemiMonthlyInSameMonth",value:function(t){var n=t._isAMomentObject?t:e.toMoment(t);if(n.date()<16){var i=n.clone().add(15,"days");return i.month()===n.month()?i:i.date(1).add(-1,"days")}return null}},{key:"getHighlightedDaysList",value:function(t,n,a,s){if(!s||s===r.FREQUENCY_MODE_CONSTANTS.NONE)return[];var l=[],c=e.toMoment(t),u=e.toMoment(n),d=e.toMoment(a).endOf("month"),_=(0,o.default)(c),E=void 0;if(s===r.FREQUENCY_MODE_CONSTANTS.YEARLY)E=[1,"year"];else if(s===r.FREQUENCY_MODE_CONSTANTS.MONTHLY)E=[1,"month"];else if(s===r.FREQUENCY_MODE_CONSTANTS.SEMI_MONTHLY){var h=void 0;h=e.isNextSemiMonthlyInSameMonth(t)?{day:t.day,month:a.month,year:a.year}:{day:t.day-15,month:a.month,year:a.year},l.push(h);var S=e.getNextSemiMonthlyInSameMonth(h);l.push({day:S.date(),month:S.month()+1,year:S.year()})}else E=s===r.FREQUENCY_MODE_CONSTANTS.BIWEEKLY?[2,"weeks"]:s===r.FREQUENCY_MODE_CONSTANTS.WEEKLY?[1,"weeks"]:s===r.FREQUENCY_MODE_CONSTANTS.QUARTERLY?[1,"quarters"]:s===r.FREQUENCY_MODE_CONSTANTS.DAILY?[1,"days"]:[];if(s!==r.FREQUENCY_MODE_CONSTANTS.SEMI_MONTHLY&&2===E.length)for(;_<u&&_<=d;){var T,p=e.parseDateString(_.format("YYYYMMDD"));p.month===a.month&&p.year===a.year&&l.push(p),_=(T=_).add.apply(T,(0,i.default)(E))}return l}},{key:"addDays",value:function(t,n){var i=e.toMoment(t);return e.parseMoment(i.add(n,"days"))}},{key:"addMonths",value:function(t,n){var i=e.toMoment(t);return e.parseMoment(i.add(n,"M"))}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(45),s=(i=a)&&i.__esModule?i:{default:i};var o={numericYearMonthDayWithDashes:"YYYY-MM-DD",numericYearMonthWithDashes:"YYYY-MM",dateMonthYear:"DD-MMM-YYYY",expandedMonthDayYear:"MMMM Do, YYYY",longDate:"LL",year:"YYYY"},r=(0,s.default)("1990-01-01",o.numericYearMonthDayWithDashes),l=(0,s.default)("1900-01-01",o.numericYearMonthDayWithDashes),c=(0,s.default)().subtract(5,"years"),u=(0,s.default)().subtract(12,"years"),d=(0,s.default)().isDST()?-4:-5,_=(0,s.default)().utcOffset(d).utcOffset(0,!0),E=(0,s.default)().subtract(1,"days").utcOffset(d).utcOffset(0,!0),h=(0,s.default)().startOf("day");t.default={DATE_SELECTOR_CSS_CLASSES:{calendarMonthClass:"tng-dp__month",calendarMonthOddClass:"tng-dp__month--odd",calendarMonthDisabledClass:"tng-dp__month--disabled",calendarMonthRangedClass:"tng-dp__month--ranged",calendarMonthRangedPreClass:"tng-dp__month--ranged-pre",calendarMonthRangedPostClass:"tng-dp__month--ranged-post",calendarMonthHeaderClass:"tng-dp__month-header",calendarWeekClass:"tng-dp__week",calendarWeekHeaderClass:"tng-dp__week-header",calendarWeekPopulatedClass:"tng-dp__week--populated",calendarDayClass:"tng-dp__day",calendarWeekendsClass:"tng-dp__day--weekends",calendarDayDisabledClass:"tng-dp__day--disabled",calendarDayPreRangeClass:"tng-dp__day--pre-range",calendarDayPostRangeClass:"tng-dp__day--post-range",calendarDayRangedClass:"tng-dp__day--ranged",calendarDayHighlightedClass:"tng-dp__day--highlighted",calendarHandleClass:"tng-dp__handle",calendarDaySelectedClass:"tng-dp__day--selected",calendarDayEndSelectedClass:"tng-dp__day--selected-end",calendarTodayClass:"tng-dp__day--today",jsCalendarContainerClass:"js-calendar-container",jsDayInputClass:"js-day-input",jsYearInputClass:"js-year-input",jsMonthClass:"js-month",jsMonthInputClass:"js-month-input",jsMonthHeaderClass:"js-month-header",jsWeekClass:"js-week",jsWeekdayClass:"js-weekday",jsWeeksHeaderClass:"js-weeks-header"},FREQUENCY_MODE_CONSTANTS:{NONE:"NONE",DAILY:"DAILY",WEEKLY:"WEEKLY",BIWEEKLY:"BIWEEKLY",MONTHLY:"MONTHLY",SEMI_MONTHLY:"SEMI_MONTHLY",QUARTERLY:"QUARTERLY",YEARLY:"YEARLY"},DEFAULT_END_DATE_CONSTANTS:{NONE:{},DAILY:{days:1},WEEKLY:{weeks:1},BIWEEKLY:{weeks:2},MONTHLY:{months:1},SEMI_MONTHLY:{days:15},QUARTERLY:{months:3},YEARLY:{years:1}},DATE_SELECTOR_MODES:{RANGE:"RANGE",INDEFINITE:"INDEFINITE",SINGLE:"SINGLE"},THRESHOLDS:{TABLET_PX:768,RESIZE_THROTTLE_MS:500,MONTH_SLOTS_DESKTOP:4,MONTH_BACKWARD_SLOTS_DESKTOP:-1,MONTH_SLOTS_TABLET:1,MONTH_BACKWARD_SLOTS_TABLET:0},LATEST_CHANGES_OPTIONS:{FROM_DATE:"FROM_DATE",TO_DATE:"TO_DATE",NONE:"NONE"},DEFAULT_MIN_DATE_OF_BIRTH:l,DEFAULT_MAX_DATE_OF_BIRTH:c,DEFAULT_MAX_DATE_OF_BIRTH_TWELVE:u,DEFAULT_DATE_OF_BIRTH:r,TODAY_IN_EST:_,TODAY:h,YESTERDAY_IN_EST:E,DATE_FORMATS:o,UTC_OFFSET:d},e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageFlowButton=void 0;var i=u(n(15)),a=u(n(58)),s=u(n(104)),o=u(n(0)),r=u(n(2)),l=u(n(370)),c=u(n(21));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n,i,a,s,r,l,c,u,d){(0,o.default)(this,e),this.$log=t,this.$q=n,this.$transitions=i,this.$state=a,this.$window=s,this.$rootScope=r,this.AnalyticsService=c,this.modalDialogConstants=u,this.ConfirmWindowUnloadService=d,this.ANALYTICS_AVAILABLE_EVENTS=this.AnalyticsService.availableEvents,this.BUTTON_TYPES=l.BUTTON_TYPES,this.CB_DISABLED_BUTTONS=[this.BUTTON_TYPES.SAVE,this.BUTTON_TYPES.SUBMIT,this.BUTTON_TYPES.SEND,this.BUTTON_TYPES.ACCEPT],this.ANALYTICS_TIMEOUT=l.ANALYTICS_TIMEOUT,this.STATES={},this._listeners={},this.idleTimeoutCleanup=null,this._initialState=null,this._skipNextAnalytics=!1,this._scrollTarget=null,this.userExiting=!1,this._isActive=!1}return(0,r.default)(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$log.debug("activating onExit warning"),this._isActive=!0,this.userExiting=!1,this._loadingOnActivate=n,this._skipNextAnalytics=!!e,this._resetState();var a=this.$state.$current.name;if(i||(this._unbindOnExit=this.$transitions.onExit({exiting:a},(function(){return t._warnOnExit()}))),this.$window.addEventListener("beforeunload",this._catchBrowserButtons),this.$rootScope&&(this.$log.info("PageFlowService: listening for idle timeout event"),this.idleTimeoutCleanup=this.$rootScope.$on("IdleTimeout",(function(){t.deactivate()}))),e&&"function"==typeof e){var o=e({subFlow:this}),r=(0,s.default)(o,3);this.BUTTONS=r[0],this.flowIsDone=r[1],this.flowIsRetreating=r[2],this._updateUI(),this.sendAnalytics()}}},{key:"deactivate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$log.debug("deactivating onExit warning"),this._isActive=!1,this.hideWarning(),this._unbindOnExit&&this._unbindOnExit(),this.$window.removeEventListener("beforeunload",this._catchBrowserButtons),e||this._resetState(),this.idleTimeoutCleanup&&(this.$log.info("PageFlowService: cleaning up idle timeout event callback"),this.idleTimeoutCleanup(),this.idleTimeoutCleanup=null),this._parentFlow&&this._parentFlow._clearSubFlow()}},{key:"enableHijackWindowUnload",value:function(){this.ConfirmWindowUnloadService&&this.ConfirmWindowUnloadService.enableHijackWindowUnload(this.warn.bind(this))}},{key:"disableHijackWindowUnload",value:function(){this.ConfirmWindowUnloadService&&this.ConfirmWindowUnloadService.disableHijackWindowUnload()}},{key:"hideWarningOnExit",value:function(){this._showWarningOnExit=!1}},{key:"_showSurvey",value:function(){this.surveyService&&this.feedbackIDs&&(this.surveyService.launchFeedbackSurvey(this.feedbackIDs),this.storageService.setItem(this.storageConstant,!0),this.feedbackIDs=null,this.storageConstant=null)}},{key:"setStorageConstant",value:function(e){this.storageConstant=e}},{key:"setStorageService",value:function(e){this.storageService=e}},{key:"hideWarning",value:function(){this.hideWarningOnExit()}},{key:"showWarningOnExit",value:function(){this._showWarningOnExit=!0}},{key:"showWarning",value:function(){this.showWarningOnExit()}},{key:"stateHistoryCount",value:function(){return this._stateHistory.length}},{key:"getPreviousState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._stateHistory.length<=e?null:this._stateHistory[this._stateHistory.length-e]}},{key:"gotoPreviousState",value:function(){this._stateHistory.length>0?(this._preGotoPreviousState(),this.currentStateValidator=null,this.currentState=this._stateHistory.pop(),this._stateHistory.length<1&&this.hideWarning(),this._updateUI(),this.postGotoPreviousState()):this.flowIsRetreating&&"function"==typeof this.flowIsRetreating&&this.flowIsRetreating(),this._conditionalScrollToTop()}},{key:"_preGotoPreviousState",value:function(){}},{key:"postGotoPreviousState",value:function(){}},{key:"gotoNextState",value:function(){return this.$log.warn("You'll want to override this method in your custom PageFlow service"),this.currentState}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this._preMoveTo(),this.currentStateValidator=null,this.showWarning(),this.currentState||this.$log.warn("No current state is detected. Did you initialize one in _resetState()?"),t||this._stateHistory.push(this.currentState),this.currentState=e,this._updateUI(),this.postMoveTo(),this._conditionalScrollToTop())}},{key:"confirmMoveTo",value:function(e){var t=this;this.warn().then((function(){t.moveTo(e)}))}},{key:"_preMoveTo",value:function(){}},{key:"postMoveTo",value:function(){}},{key:"moveBackTo",value:function(e){if(e){this.showWarning();var t=this._stateHistory.lastIndexOf(e);if(t>=0){this._preMoveBackTo(e),this.currentStateValidator=null;var n=this._stateHistory.length-t;this._stateHistory.splice(t,n),this.currentState=e,this._updateUI(),this.postMoveBackTo(),this._conditionalScrollToTop()}else this.$log.error(e,"not found in state history")}}},{key:"_conditionalScrollToTop",value:function(){this.AnchorService&&this.AnchorService.scrollToTop()}},{key:"_preMoveBackTo",value:function(e){}},{key:"postMoveBackTo",value:function(){}},{key:"warn",value:function(e){return this._warnOnExit(e)}},{key:"onButtonClick",value:function(e){switch(e.type){case this.BUTTON_TYPES.CANCEL:this.onButtonClickCancel();break;case this.BUTTON_TYPES.BACK:this.onButtonClickBack();break;case this.BUTTON_TYPES.SKIP:this.onButtonClickSkip();break;case this.BUTTON_TYPES.NEXT:this.onButtonClickNext();break;case this.BUTTON_TYPES.PAY:this.onButtonClickPay();break;case this.BUTTON_TYPES.SUBMIT:this.onButtonClickSubmit();break;case this.BUTTON_TYPES.DONE:this.onButtonClickDone();break;case this.BUTTON_TYPES.EXIT:this.onButtonClickExit();break;case this.BUTTON_TYPES.SAVE:this.onButtonClickSave();break;case this.BUTTON_TYPES.CONTINUE:this.onButtonClickContinue();break;case this.BUTTON_TYPES.PRINT:this.onButtonClickPrint();break;case this.BUTTON_TYPES.DECLINE:this.onButtonClickDecline();break;default:this.onButtonClickDefault(e.type)}}},{key:"onButtonClickCancel",value:function(){this.gotoNextState()}},{key:"onButtonClickBack",value:function(){this.gotoPreviousState()}},{key:"onButtonClickNext",value:function(){"function"==typeof this.currentStateValidator?this.currentStateValidator()&&this.gotoNextState():this.gotoNextState()}},{key:"onButtonClickSkip",value:function(){this.gotoNextState()}},{key:"onButtonClickPay",value:function(){this.$log.debug("You'll probably want to override this method with custom PAY logic")}},{key:"onButtonClickSubmit",value:function(){this.$log.debug("You'll probably want to override this method with custom SUBMIT logic")}},{key:"onButtonClickDone",value:function(){this.$log.debug("You'll probably want to override this method with custom DONE logic")}},{key:"onButtonClickExit",value:function(){this.$log.debug("You'll probably want to override this method with custom EXIT logic")}},{key:"onButtonClickSave",value:function(){this.$log.debug("You'll probably want to override this method with custom SAVE logic")}},{key:"onButtonClickContinue",value:function(){this.$log.debug("You'll probably want to override this method with custom CONTINUE logic")}},{key:"onButtonClickPrint",value:function(){this.$log.debug("You'll probably want to override this method with custom PRINT logic")}},{key:"onButtonClickDefault",value:function(e){this.$log.debug("You'll probably want to override this method with custom PRINT logic",e)}},{key:"onButtonClickDecline",value:function(){this.$log.debug("You'll probably want to override this method with custom DECLINE logic")}},{key:"showLoadingSpinner",value:function(){this.isLoading=!0,this.isDoneLoading=!1}},{key:"showLoadingDoneIcon",value:function(){this.isLoading=!1,this.isDoneLoading=!0}},{key:"enterLoadingMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.showLoadingSpinner(),e||this._conditionalScrollToTop()}},{key:"exitLoadingMode",value:function(){this.isLoading=!1,this.isDoneLoading=!1}},{key:"_resetState",value:function(){this.currentStateValidator=null,this.hideWarning(),this.currentState=null,this._loadingOnActivate||(this.isLoading=!1,this.isDoneLoading=!1),this._loadingOnActivate=!1,this.showConfirmExitUI=!1,this._unbindOnExit=null,this._stateHistory=[],this._currentSubFlow=null,this._initialState&&(this.currentState=this._initialState),this._scrollTarget=null,this.currentAnalyticsPath=null,delete this._pageFlowLoadingText}},{key:"_warnOnExit",value:function(e){var t=this;this.$log.debug("_warnOnExit",this._showWarningOnExit);var n=this._showWarningOnExit;this.isUnloadHijacked=e,this.showConfirmExitUI=!0;var i=this.$q((function(i,a){t.allowExit=function(){e&&(t.hideWarningOnExit(),t.$window.removeEventListener("beforeunload",t._catchBrowserButtons)),t.showConfirmExitUI=!1,t.userExitedFlow(),i("user accepted navigation"),e||(t._skipNextAnalytics=!0,t._resetState()),n&&t._showSurvey()},t.denyExit=function(){t.showConfirmExitUI=!1,a("user rejected navigation")}}));return this._showWarningOnExit||(this.allowExit(),this.showConfirmExitUI=!1),i}},{key:"showWarningOnExitFlag",value:function(){return this._showWarningOnExit}},{key:"_catchBrowserButtons",value:function(e){if(this._showWarningOnExit){var t="you'll lose your progress";return(e||{}).returnValue=t,t}}},{key:"_updateUI",value:function(){this.$log.debug("You should override your flow service's _updateUI() method")}},{key:"userExitedFlow",value:function(){this.userExiting=!0}},{key:"setSubFlow",value:function(e){return this.$log.debug("setting subFlow:",e),this._currentSubFlow&&this._currentSubFlow.setParentFlow(null),e===this?this._currentSubFlow=null:(e&&e.setParentFlow(this),this._currentSubFlow=e),[this.BUTTONS,this._subFlowIsDone.bind(this),this._subFlowIsRetreating.bind(this)]}},{key:"setParentFlow",value:function(e){this._parentFlow=e}},{key:"_clearSubFlow",value:function(){this.setSubFlow(null)}},{key:"_subFlowIsDone",value:function(e,t){this.$log.debug("currentFlow signaled that it's done:",e),this._clearSubFlow(),t?this._updateUI():this.gotoNextState()}},{key:"_subFlowIsRetreating",value:function(e){this.$log.debug("currentFlow signaled that it's retreating"),this._clearSubFlow(),e?this._updateUI():this.gotoPreviousState()}},{key:"subscribe",value:function(e,t){var n=this;return(0,c.default)(this._listeners[e])?this._listeners[e].push(t):this._listeners[e]=[t],function(){(0,c.default)(n._listeners[e])&&(0,l.default)(n._listeners[e],t)}}},{key:"publish",value:function(e){if((0,c.default)(this._listeners[e])){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var a=0;a<this._listeners[e].length;a++){var s;(s=this._listeners[e][a]).call.apply(s,[this].concat(n))}}}},{key:"clearSubscriptions",value:function(){this._listeners={}}},{key:"_getAnalyticsID",value:function(){var e=this.constructor.name.toString(),t=/^([\w]+)flowservice$/gi.exec(e);return t&&t.length>1?t[1].toLowerCase():this.constructor.name.toLowerCase()}},{key:"getButtonId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.match(/[^.]+$/i);n=n?n[0]:"";var i=this._getAnalyticsPath().replace(/\//g,"_").replace(/^_/,"");return t&&(i=i+"_"+t),(i+"_"+n).toLowerCase()}},{key:"submit",value:function(){this.BUTTONS.BTN_ORG.disable||this.onButtonClick(this.BUTTONS.BTN_ORG)}},{key:"_getAnalyticsPath",value:function(){var e="/"+this._getCurrentStateKey().toLowerCase();this._parentFlow?e=""+this._parentFlow._getAnalyticsPath()+e:e="/"+this._getAnalyticsID()+e;return e}},{key:"_getCurrentStateKey",value:function(){if(this.currentState&&this._parentFlow&&this.currentState.gtmSubFlowKey)return this.currentState.gtmSubFlowKey;var e=null,t=!0,n=!1,s=void 0;try{for(var o,r=(0,a.default)((0,i.default)(this.STATES));!(t=(o=r.next()).done);t=!0){var l=o.value;if(this.STATES[l]===this.currentState){e=l;break}}}catch(e){n=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw s}}return e||""}},{key:"sendAnalytics",value:function(){if(this.currentFlow===this&&!this._skipNextAnalytics){var e=this._getAnalyticsPath();this.AnalyticsService&&this.AnalyticsService.sendAction&&this.currentAnalyticsPath!==e&&(this.AnalyticsService.sendAction(this.ANALYTICS_AVAILABLE_EVENTS.FLOW_STATE_CHANGE,e),this.currentAnalyticsPath=e)}this._skipNextAnalytics=!1}},{key:"_onCurrentStateChange",value:function(){this.currentState&&this._isActive&&(this.sendAnalytics(),this.$window.currentStatePageChangeCb&&this.$window.currentStatePageChangeCb(this._getAnalyticsPath()))}},{key:"setInitialState",value:function(e){this._initialState=e}},{key:"setSurveyService",value:function(e){this.surveyService=e}},{key:"setFeedbackSurveyIDs",value:function(e){this.feedbackIDs=e}},{key:"currentState",get:function(){return this._currentState},set:function(e){e||(e=null),this._currentState=e,this._onCurrentStateChange()}},{key:"stateHistory",get:function(){return this._stateHistory},set:function(e){this._stateHistory=e}},{key:"currentStateValidator",get:function(){return this._currentStateValidator},set:function(e){this._currentStateValidator=e}},{key:"inLoadingMode",get:function(){return this.isLoading||this.isDoneLoading}},{key:"currentFlow",get:function(){return this._currentSubFlow&&this._currentSubFlow._currentSubFlow?this._currentSubFlow._currentSubFlow:this._currentSubFlow?this._currentSubFlow:this}},{key:"showMainUI",get:function(){return!this.showConfirmExitUI&&!this.inLoadingMode}},{key:"pageFlowLoadingText",get:function(){return this._pageFlowLoadingText},set:function(e){e?this._pageFlowLoadingText=e:delete this._pageFlowLoadingText}}]),e}();t.PageFlowButton=function e(t,n,i){(0,o.default)(this,e),this.type=t,this.show=n,this.disable=i};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAILING_ADDRESS_TYPES=void 0;var i=u(n(58)),a=u(n(15)),s=u(n(0)),o=u(n(2)),r=u(n(199)),l=u(n(559)),c=u(n(367));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.MAILING_ADDRESS_TYPES={HOME:"HOME",MAILING:"MAILING",PREVIOUS:"PREVIOUS",TEMPORARY:"TEMPORARY",FUTURE:"FUTURE",FUTURE_MAILING:"FUTURE_MAILING",BUSINESS:"BUSINESS",SOLE_PROPRIETOR:"SOLE_PROPRIETOR"},_=["PO","P.O.","P.O"],E=function(){function e(){(0,s.default)(this,e)}return(0,o.default)(e,null,[{key:"modifyAddressType",value:function(e,t){t&&c.default.findObjectType(e,"address_list",r.default.API.ADDRESS_TYPE.BUSINESS,(function(e){e.address_type=r.default.API.ADDRESS_TYPE.HOME}))}},{key:"getDisplayedAddress",value:function(e,t,n){var i=this,a={displayedInfo:t,editHomeAddress:{},editMailingAddress:{},originalIsMailingAddressDifferent:!1,isMailingAddressDifferent:!1},s="",o=n?"userSettings.general.basicInfo.businessAddress":"userSettings.general.basicInfo.homeAddress";return c.default.findObjectType(e,"address_list",r.default.API.ADDRESS_TYPE.HOME,(function(e){a.editHomeAddress=e;var t=i.getFormattedAddress(e);s=t;var n={order:5,label:o,text:t};a.displayedInfo.push(n)})),c.default.findObjectType(e,"address_list",r.default.API.ADDRESS_TYPE.MAILING,(function(e){a.editMailingAddress=e;var t=i.getFormattedAddress(e);if(s!==t)a.displayedInfo.push({order:6,label:"userSettings.general.basicInfo.mailingAddress",text:t}),a.originalIsMailingAddressDifferent=!0,a.isMailingAddressDifferent=!0;else{var o={order:6,label:"userSettings.general.basicInfo.mailingAddress",text:"userSettings.general.basicInfo.sameAsHome"};n&&(o.text="userSettings.general.basicInfo.sameAsBusiness"),a.displayedInfo.push(o),a.editMailingAddress={},a.originalIsMailingAddressDifferent=!1,a.isMailingAddressDifferent=!1}})),a}},{key:"getApiScheduledAddressChange",value:function(e){return!!(e.scheduled_address_change&&e.scheduled_address_change.future_address_list&&e.scheduled_address_change.future_address_list.length>0)&&e.scheduled_address_change.future_address_list}},{key:"fillClearMailingAddress",value:function(e,t,n,i,a){var s={editMailingAddress:n};return a?s.editMailingAddress={address_type:r.default.API.ADDRESS_TYPE.MAILING}:i!==a?s.editMailingAddress=angular.copy(t):c.default.findObjectType(e,"address_list",r.default.API.ADDRESS_TYPE.MAILING,(function(e){s.editMailingAddress=angular.copy(e)})),s}},{key:"shouldCheckIfResident",value:function(e,t,n){var i=!0;return n?e.scheduled_address_change.future_address_list.some((function(t){return t.address_type===r.default.API.ADDRESS_TYPE.FUTURE&&(t.country===r.default.API.ADDRESS_CANADA_COUNTRY_CODE&&e.resident_type.resident_type===r.default.API.RESIDENT?i=!1:t.country===r.default.API.ADDRESS_CANADA_COUNTRY_CODE&&e.resident_type.resident_type!==r.default.API.RESIDENT&&t.country!==e.resident.non_resident_code&&(i=!1),!0)})):c.default.findObjectType(e,"address_list",r.default.API.ADDRESS_TYPE.HOME,(function(e){i=!!(t&&e&&t.country&&e.country&&(t.country!==e.country&&"CA"===e.country||t.country!==e.country&&"CA"===t.country))})),i}},{key:"saveAddresses",value:function(e,t,n,i,a,s,o,c){var u={infoPayload:n,originalData:angular.copy(e),userData:t,originalIsMailingAddressDifferent:a,editHomeAddress:s,editMailingAddress:o,addressChange:c},d=u.infoPayload[r.default.CUSTOMER_JSON_KEY];d.address_list||(d.address_list=[]),d.scheduled_address_change||(d.scheduled_address_change={}),d.scheduled_address_change.future_address_list||(d.scheduled_address_change.future_address_list=[]),u.editHomeAddress=this.removeEmptyAddressFields(u.editHomeAddress),u.editMailingAddress=this.removeEmptyAddressFields(u.editMailingAddress);var _=angular.copy(u.editHomeAddress);return u.editHomeAddress.address_type=r.default.API.ADDRESS_TYPE.HOME,u.editMailingAddress.address_type=r.default.API.ADDRESS_TYPE.MAILING,u=this._saveAddressesHomeAddress(u),u=this._saveAddressesMailingAddress(i,_,u),d.address_list.length<=0&&delete d.address_list,d.scheduled_address_change.future_address_list.length<=0?delete d.scheduled_address_change:(u.addressChange={immediately:!0,laterDate:l.default.TODAY.clone().add(1,"days")},u.userData.scheduled_address_change||(u.userData.scheduled_address_change={}),u.userData.scheduled_address_change.future_address_list=d.scheduled_address_change.future_address_list),u.userData.address_list=angular.copy(u.originalData.address_list),u}},{key:"getFormattedAddress",value:function(e,t){var n=t?"<br />":"\n",i="";return e?(e.suite&&(i+=e.suite+" - "),e.street_number&&(i+=e.street_number+" "),i+=""+e.address_line1+n,e.address_line2&&(i+=""+e.address_line2+n),e.province?i+=e.city+", "+e.province+n:i+=""+e.city+n,i+=e.country+", "+e.postal_code):i}},{key:"getHTMLAddress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="";if(!e||e.length<4)return n;var i=""+(e.street_number?e.street_number:""),a=[e.street_name,e.street_type,e.street_direction].join(" ").trim(),s=""+(e.address_line1&&!a?e.address_line1:""),o=(i+" "+a+" "+s).trim();return e.suite?n+=o?"Unit "+e.suite+", "+o+"\n":"Unit "+e.suite+"\n":o&&(n+=o+"\n"),e.address_line2&&(n+=e.address_line2+"\n"),e.city?e.province?n+=e.city+", "+e.province+"\n":n+=e.city+"\n":e.province&&(n+=e.province+"\n"),!t&&e.country?(n+=""+e.country,e.postal_code&&(n+=", "+e.postal_code)):!t&&e.postal_code&&(n+=""+e.postal_code),n}},{key:"removeEmptyAddressFields",value:function(e){var t=e;return(0,a.default)(t).forEach((function(e){Object.prototype.hasOwnProperty.call(t,e)&&(!t[e]||t[e].length<1)&&delete t[e]})),t}},{key:"serverDateToMoment",value:function(e){return moment(e,r.default.API.ADDRESS_DATE_FORMAT)}},{key:"extractAddressStreetNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.MAILING;if(!e||!e.street_name)return e;var n=e.street_name.trim(),a=n.toUpperCase();if(t===d.MAILING){var s=!0,o=!1,r=void 0;try{for(var l,c=(0,i.default)(_);!(s=(l=c.next()).done);s=!0){var u=l.value,E=u.toUpperCase();if(a.startsWith(E))return{street_number:n.substring(0,u.length).trim(),street_name:n.substring(u.length).trim()}}}catch(e){o=!0,r=e}finally{try{!s&&c.return&&c.return()}finally{if(o)throw r}}}return this.parseAddress(n)}},{key:"extractEmployerAddressStreetNumber",value:function(e){if(!e||!e.street_name||!/\d+/.test(e.street_name))return e;var t=e,n=t.street_name.match(/\d+/)[0];t.street_number=n;var i=new RegExp(t.street_number+"s*","g");return t.street_name=t.street_name.replace(i,"").trim(),t}},{key:"parseAddress",value:function(e){var t={street_number:"",street_name:e},n=e.indexOf(" ");if(n>=0){var i=e.substr(0,n);i&&this._isStreetNumber(i)&&(t.street_number=i.trim(),t.street_name=e.substr(n).trim())}return t}},{key:"_isStreetNumber",value:function(e){return/^[0-9]+[a-z]?$/i.test(e)}},{key:"getAddressFormattedLaterDate",value:function(e){var t="";return e&&(t=e.format(r.default.API.ADDRESS_DATE_FORMAT)),t}},{key:"_saveAddressesHomeAddress",value:function(e){var t=this,n=e;return c.default.findObjectType(n.originalData,"address_list",r.default.API.ADDRESS_TYPE.HOME,(function(e,i){if(!angular.equals(n.editHomeAddress,e))if(n.addressChange.immediately)n.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(n.editHomeAddress),n.originalData.address_list[i]=angular.copy(n.editHomeAddress),n.userData.address_list=angular.copy(n.originalData.address_list);else{var a=t._getFutureAddress(n.editHomeAddress,n.addressChange,!0);n.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(a),n.editHomeAddress=angular.copy(e)}}),(function(){if(n.addressChange.immediately)n.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(n.editHomeAddress),n.originalData.address_list.push(angular.copy(n.editHomeAddress)),n.userData.address_list=angular.copy(n.originalData.address_list);else{var e=t._getFutureAddress(n.editHomeAddress,n.addressChange,!0);n.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(e),n.editHomeAddress={}}})),n}},{key:"_saveAddressesMailingAddress",value:function(e,t,n){var i=this,a=n;if(!0===e)a.originalIsMailingAddressDifferent=angular.copy(e),c.default.findObjectType(a.originalData,"address_list",r.default.API.ADDRESS_TYPE.MAILING,(function(e,t){if(!angular.equals(a.editMailingAddress,e))if(a.addressChange.immediately)a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.length<=0&&a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(a.editHomeAddress),a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(a.editMailingAddress),a.originalData.address_list[t]=angular.copy(a.editMailingAddress),a.userData.address_list=angular.copy(a.originalData.address_list);else{if(a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.length<=0){var n=i._getFutureAddress(a.editHomeAddress,a.addressChange,!0);a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(n)}var s=i._getFutureAddress(a.editMailingAddress,a.addressChange,!1);a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(s),a.editMailingAddress=e}}),(function(){if(a.addressChange.immediately)a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.length<=0&&a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(a.editHomeAddress),a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(a.editMailingAddress),a.originalData.address_list.push(angular.copy(a.editMailingAddress)),a.userData.address_list=angular.copy(a.originalData.address_list);else{if(a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.length>0){var e=i._getFutureAddress(a.editHomeAddress,a.addressChange,!0);a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(e)}var t=i._getFutureAddress(a.editMailingAddress,a.addressChange,!1);a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(t),a.editMailingAddress={}}}));else if(!1===e&&!0===a.originalIsMailingAddressDifferent)if(a.addressChange.immediately){var s=angular.copy(a.editHomeAddress);s.address_type=r.default.API.ADDRESS_TYPE.MAILING,a.originalData.address_list=[],a.originalData.address_list.push(angular.copy(a.editHomeAddress)),a.originalData.address_list.push(angular.copy(s)),a.userData.address_list=angular.copy(a.originalData.address_list),a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.length<=0&&a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(a.editHomeAddress),a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(s)}else{var o=angular.copy(t);o.address_type=r.default.API.ADDRESS_TYPE.FUTURE_MAILING,o.future_change_date=this.getAddressFormattedLaterDate(a.addressChange.laterDate),a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.length<=0&&(a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(t),a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list[0].address_type=r.default.API.ADDRESS_TYPE.FUTURE,a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list[0].future_change_date=this.getAddressFormattedLaterDate(a.addressChange.laterDate)),a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(o)}if(1===a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.length)if(e)a.originalData.address_list=[],a.originalData.address_list.push(angular.copy(a.editHomeAddress)),a.originalData.address_list.push(angular.copy(a.editMailingAddress)),a.userData.address_list=angular.copy(a.originalData.address_list),a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(a.editMailingAddress);else{var l=angular.copy(a.editHomeAddress);l.address_type=r.default.API.ADDRESS_TYPE.MAILING,a.originalData.address_list=[],a.originalData.address_list.push(angular.copy(a.editHomeAddress)),a.originalData.address_list.push(angular.copy(l)),a.userData.address_list=angular.copy(a.originalData.address_list),a.infoPayload[r.default.CUSTOMER_JSON_KEY].address_list.push(l)}if(1===a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.length)if(e){var u=this._getFutureAddress(a.editMailingAddress,a.addressChange,!1);a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(u)}else{var d=angular.copy(t);d.address_type=r.default.API.ADDRESS_TYPE.FUTURE_MAILING,d.future_change_date=this.getAddressFormattedLaterDate(a.addressChange.laterDate),a.infoPayload[r.default.CUSTOMER_JSON_KEY].scheduled_address_change.future_address_list.push(d)}return a}},{key:"_getFutureAddress",value:function(e,t,n){var i=angular.copy(e);return i.address_type=n?r.default.API.ADDRESS_TYPE.FUTURE:r.default.API.ADDRESS_TYPE.FUTURE_MAILING,i.future_change_date=this.getAddressFormattedLaterDate(t.laterDate),i}},{key:"parseCanadaPostFormatSteetAddressWithUnit",value:function(e){var t=/(?:(?:(?:(\d+)\s*-\s*)?(\d+(?:\w|(?:\s+\d+\/\d+))?))|([pP]\.?[oO]\.?\s*[bB][oO][xX]\s*\d*))\s+(.+)/.exec(e);if(!t)return null;var n=t[1],i=t[2],a=t[3],s=t[4];return n||(t=/(.+)\s+(?:(?:(?:[aA][pP][tT])|(?:[sS][uU][iI][tT][eE])|(?:[uU][nN][iI][tT])|(?:[aA][pP][pP])|(?:[bB][uU][rR][eE][aA][uU])|(?:[uU][nN][iI][tT](?:[eE]|[éÉ])))\s*(\d+))\s*$/.exec(s))&&(s=t[1],n=t[2]),{unit:n,streetNum:i,streetName:s,poBox:a}}}]),e}();t.default=E},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a,s,o,r,l,c,u,d,_,E,h,S,T,p,f,g=n(33),A=(i=g)&&i.__esModule?i:{default:i};var v={WEEKLY:"WEEKLY",ACCELERATED_WEEKLY:"ACCELERATED_WEEKLY",BIWEEKLY:"BIWEEKLY",ACCELERATED_BIWEEKLY:"ACCELERATED_BIWEEKLY",SEMI_MONTHLY:"SEMI_MONTHLY",MONTHLY:"MONTHLY"},C=[{label:"accountDetails.mortgage.frequencyOptions.WEEKLY",enrollmentCode:"52",accountCode:v.WEEKLY},{label:"accountDetails.mortgage.frequencyOptions.ACCELERATED_WEEKLY",enrollmentCode:"52A",accountCode:v.ACCELERATED_WEEKLY},{label:"accountDetails.mortgage.frequencyOptions.BIWEEKLY",enrollmentCode:"26",accountCode:v.BIWEEKLY},{label:"accountDetails.mortgage.frequencyOptions.ACCELERATED_BIWEEKLY",enrollmentCode:"26A",accountCode:v.ACCELERATED_BIWEEKLY},{label:"accountDetails.mortgage.frequencyOptions.SEMI_MONTHLY",enrollmentCode:"24",accountCode:v.SEMI_MONTHLY},{label:"accountDetails.mortgage.frequencyOptions.MONTHLY",enrollmentCode:"12",accountCode:v.MONTHLY}],m={CC:"1100",CC_WORLD_MASTERCARD:"1200",MUTUAL_FUND:"2000",MUTUAL_FUND_RSP:"2100",MUTUAL_FUND_TFSA:"2200",MUTUAL_FUND_RIF:"2300",SAVINGS:"3000",USDSAVINGS:"3010",RSP:"3100",TFSA:"3200",TFSAKS:"3201",CSA:"3300",RIF_ISA:"3400",GIC:"3500",GIC_USD:"3510",GIC_RSP:"3600",GIC_TFSA:"3800",GIC_RIF:"3900",TGSA:"3950",CHEQUING:"4000",RSP_LOAN:"5100",MORTGAGE:"7000",TERM_LOAN:"5700",MORTGAGE_PRE_APPROVAL:"-7001",MORTGAGE_RATE_HOLD:"-7002",MORTGAGE_VARIABLE_RATE:"7700",HELOC:"7910",BUSINESS_SAVINGS:"3333",BUSINESS_US_SAVINGS:"3343",BUSINESS_GIC:"3533",BUSINESS_GIC_USD:"3543",BUSINESS_GIC_SHORT_TERM:"3534",BUSINESS_GIC_USD_SHORT_TERM:"3544",TLOC_INTEREST:"6800",TLOC_INTEREST_BAL:"6900",SDRRSP:"SDRRSP",SDTFSA:"SDTFSA",SDGTFSA:"SDGTFSA",SDSRRSP:"SDSRRSP",SDGRSP:"SDGRSP",SDGSRSP:"SDGSRSP",SDOPEN:"SDOPEN",SDLRSP:"SDLRSP",SDLRIF:"SDLRIF",SDLIRA:"SDLIRA",SDLIF:"SDLIF",SDRRIF:"SDRRIF"},I=[m.MUTUAL_FUND,m.MUTUAL_FUND_RSP,m.MUTUAL_FUND_RIF,m.MUTUAL_FUND_TFSA],O={GIC:"3504",GIC_USD:"3514",GIC_RSP:"3604",GIC_TFSA:"3804",GIC_RIF:"3904"},N=(a={},(0,A.default)(a,"4000CAD","4000CAD"),(0,A.default)(a,"1100CAD","1100CAD"),(0,A.default)(a,"1200CAD","1200CAD"),(0,A.default)(a,"3000CAD","3000CAD"),(0,A.default)(a,"3090CAD","3000CAD"),(0,A.default)(a,"3091CAD","3000CAD"),(0,A.default)(a,"3500CAD","3500CAD"),(0,A.default)(a,"3501CAD","3500CAD"),(0,A.default)(a,"3502CAD","3500CAD"),(0,A.default)(a,"3503CAD","3500CAD"),(0,A.default)(a,"3504CAD","3500CAD"),(0,A.default)(a,"3505CAD","3500CAD"),(0,A.default)(a,"3590CAD","3500CAD"),(0,A.default)(a,"3594CAD","3500CAD"),(0,A.default)(a,"3700CAD","3500CAD"),(0,A.default)(a,"3703CAD","3500CAD"),(0,A.default)(a,"3300CAD","3300CAD"),(0,A.default)(a,"3200CAD","3200CAD"),(0,A.default)(a,"3290CAD","3200CAD"),(0,A.default)(a,"3100CAD","3100CAD"),(0,A.default)(a,"3190CAD","3100CAD"),(0,A.default)(a,"3400CAD","3400CAD"),(0,A.default)(a,"3201CAD","3201CAD"),(0,A.default)(a,"3804CAD","3804CAD"),(0,A.default)(a,"3894CAD","3804CAD"),(0,A.default)(a,"3800CAD","3804CAD"),(0,A.default)(a,"3890CAD","3804CAD"),(0,A.default)(a,"3600CAD","3600CAD"),(0,A.default)(a,"3604CAD","3600CAD"),(0,A.default)(a,"3690CAD","3600CAD"),(0,A.default)(a,"3694CAD","3600CAD"),(0,A.default)(a,"3900CAD","3900CAD"),(0,A.default)(a,"3904CAD","3900CAD"),(0,A.default)(a,"3000USD","3000USD"),(0,A.default)(a,"3010USD","3000USD"),(0,A.default)(a,"3090USD","3000USD"),(0,A.default)(a,"3500USD","3500USD"),(0,A.default)(a,"3504USD","3500USD"),(0,A.default)(a,"3510USD","3500USD"),(0,A.default)(a,"3514USD","3500USD"),(0,A.default)(a,"3590USD","3500USD"),(0,A.default)(a,"3594USD","3500USD"),(0,A.default)(a,"3333CAD","3333CAD"),(0,A.default)(a,"3393CAD","3333CAD"),(0,A.default)(a,"3333USD","3333USD"),(0,A.default)(a,"3343USD","3333USD"),(0,A.default)(a,"3393USD","3333USD"),(0,A.default)(a,"3533CAD","3533CAD"),(0,A.default)(a,"3534CAD","3533CAD"),(0,A.default)(a,"3535CAD","3533CAD"),(0,A.default)(a,"3597CAD","3533CAD"),(0,A.default)(a,"3598CAD","3533CAD"),(0,A.default)(a,"3533USD","3533USD"),(0,A.default)(a,"3534USD","3533USD"),(0,A.default)(a,"3543USD","3533USD"),(0,A.default)(a,"3544USD","3533USD"),(0,A.default)(a,"3597USD","3533USD"),(0,A.default)(a,"3598USD","3533USD"),(0,A.default)(a,"5000CAD","5000CAD"),(0,A.default)(a,"5100CAD","5000CAD"),(0,A.default)(a,"5500CAD","5000CAD"),(0,A.default)(a,"5700CAD","5700CAD"),(0,A.default)(a,"6000CAD","6000CAD"),(0,A.default)(a,"6030CAD","6030CAD"),(0,A.default)(a,"6050CAD","6030CAD"),(0,A.default)(a,"6100CAD","6100CAD"),(0,A.default)(a,"6120CAD","6120CAD"),(0,A.default)(a,"7400CAD","6120CAD"),(0,A.default)(a,"6200CAD","6200CAD"),(0,A.default)(a,"6300CAD","6200CAD"),(0,A.default)(a,"6400CAD","6200CAD"),(0,A.default)(a,"6450CAD","6200CAD"),(0,A.default)(a,"6700CAD","6700CAD"),(0,A.default)(a,"7910CAD","7910CAD"),(0,A.default)(a,"6800CAD","6800CAD"),a),R=(s={},(0,A.default)(s,m.RSP_LOAN,{payment_accounts:[m.CHEQUING,m.SAVINGS]}),(0,A.default)(s,m.GIC,{payment_accounts:[m.CHEQUING,m.SAVINGS]}),(0,A.default)(s,m.TLOC_INTEREST,{payment_accounts:[m.CHEQUING,m.SAVINGS]}),(0,A.default)(s,m.TLOC_INTEREST_BAL,{payment_accounts:[m.CHEQUING,m.SAVINGS]}),s),y=[m.CHEQUING,m.GIC_RSP,m.GIC_TFSA,m.GIC_RIF,m.TFSAKS,[m.GIC,O.GIC],[m.GIC_USD,O.GIC_USD],[m.MORTGAGE,m.MORTGAGE_VARIABLE_RATE]],L=(o={},(0,A.default)(o,O.GIC,m.GIC),(0,A.default)(o,O.GIC_USD,m.GIC_USD),(0,A.default)(o,O.GIC_RSP,m.GIC_RSP),(0,A.default)(o,O.GIC_TFSA,m.GIC_TFSA),(0,A.default)(o,O.GIC_RIF,m.GIC_RIF),o),M={NREG:"NREG",NREGJ:"NREGJ",RSP:"RSP",RSPSP:"RSPSP",TFSA:"TFSA"},D=(r={},(0,A.default)(r,m.MUTUAL_FUND,M.NREG),(0,A.default)(r,m.MUTUAL_FUND_RSP,M.RSP),(0,A.default)(r,m.MUTUAL_FUND_TFSA,M.TFSA),r),P=(l={},(0,A.default)(l,m.MUTUAL_FUND,M.NREG),(0,A.default)(l,m.MUTUAL_FUND_RSP,M.RSP),(0,A.default)(l,m.MUTUAL_FUND_TFSA,M.TFSA),l),b=(c={},(0,A.default)(c,M.NREG,m.MUTUAL_FUND),(0,A.default)(c,M.NREGJ,m.MUTUAL_FUND),(0,A.default)(c,M.RSP,m.MUTUAL_FUND_RSP),(0,A.default)(c,M.RSPSP,m.MUTUAL_FUND_RSP),(0,A.default)(c,M.TFSA,m.MUTUAL_FUND_TFSA),c),U=(u={4e3:"CHQ",3e3:"SAV",3010:"SAV",3100:"SAV",3200:"SAV",3201:"SAV",3300:"CSA",3400:"SAV",3500:"SAV",3504:"SAV",3510:"SAV",3514:"SAV",3600:"SAV",3800:"SAV",3900:"SAV"},(0,A.default)(u,m.BUSINESS_GIC,"BSAV"),(0,A.default)(u,m.BUSINESS_GIC_USD,"BSAV"),(0,A.default)(u,m.BUSINESS_SAVINGS,"BSAV"),(0,A.default)(u,m.BUSINESS_US_SAVINGS,"BSAV"),u),$=[m.BUSINESS_GIC,m.BUSINESS_GIC_USD,m.BUSINESS_SAVINGS,m.BUSINESS_US_SAVINGS,m.BUSINESS_GIC_SHORT_TERM,m.BUSINESS_GIC_USD_SHORT_TERM],F=[m.GIC,m.GIC_USD,m.GIC_RSP,m.GIC_TFSA,m.GIC_RIF,m.BUSINESS_GIC,m.BUSINESS_GIC_USD],k=[m.SAVINGS,m.USDSAVINGS,m.RSP,m.TFSA,m.TFSAKS,m.CHEQUING],B=[m.MUTUAL_FUND,m.MUTUAL_FUND_TFSA,m.MUTUAL_FUND_RSP],G={CHEQUING:"CHEQUING",SAVINGS:"SAVINGS",MUTUAL_FUND:"MUTUAL_FUND",MF:"MF",MORT_WEB:"MORT_WEB",MORTGAGE:"MORTGAGE",MORT_DAWT:"MORT_DAWT",LOAN:"LOAN",OTHER:"OTHER",EXT:"EXT",CREDIT_CARD:"CREDIT_CARD",BUSINESS_SAVINGS:"BUSINESS_SAVINGS",GOALS:"GOALS",ASP:"ASP",ALL:"ALL",ACCOUNT_AGGREGATION:"ACCOUNT_AGGREGATION",RSPLOAN:"RSPLOAN",RECIPES:"RECIPES",CREDIT:"CREDIT"},w={CHEQUING:"chequing",SPENDING:"spending",SAVINGS:"savings",BORROWING:"borrowing",SPECIAL_OFFERS:"specialOffers",INVESTING:"investing",MORTGAGE:"mortgage",GIC:"gic",GOALS:"goals",ACCOUNT_AGGREGATION:"accountAggregation"},H={SPENDING:"SPENDING",SAVING:"SAVING",INVESTING:"INVESTING",BORROWING:"BORROWING",CHEQUING:"CHEQUING",GOALS:"GOALS",BUSINESS_SAVING:"BUSINESS_SAVING",BUSINESS_GIC:"BUSINESS_GIC",ACCOUNT_AGGREGATION:"ACCOUNT_AGGREGATION",EXTERNAL:"EXTERNAL"},V={SAVINGS:"SAVINGS",GIC:"GIC",USSAVING:"USSAVING",RSPSAVING:"RSPSAVING",TFSASAVING:"TFSASAVING",CSASAVING:"CSASAVING",RIFSAVING:"RIFSAVING",CHEQUING:"CHEQUING",CREDIT_CARD:"CREDIT_CARD",VIEW_ONLY:"VIEW_ONLY",ACTIVE:"ACTIVE",PENDING:"PENDING",NRIF:"NRIF",TFIF:"TFIF",RSPIF:"RSPIF",RIFIF:"RIFIF",MORTGAGE:"MORTGAGE",HELOC:"HELOC",RSPLOAN:"RSPLOAN",TLOC:"TLOC",TERM_LOAN:"TERM_LOAN",OTHERS:"OTHERS",CREDITREPAYMENT:"CREDITREPAYMENT"},Y={3333:V.SAVINGS,3343:V.USSAVING,3533:V.GIC,3543:V.GIC,3534:V.GIC,3544:V.GIC,3e3:V.SAVINGS,3091:V.SAVINGS,3444:V.SAVINGS,3950:V.SAVINGS,3010:V.USSAVING,3100:V.RSPSAVING,3190:V.RSPSAVING,3200:V.TFSASAVING,3201:V.TFSASAVING,3290:V.TFSASAVING,3300:V.CSASAVING,3400:V.RIFSAVING,3500:V.GIC,3501:V.GIC,3502:V.GIC,3503:V.GIC,3504:V.GIC,3505:V.GIC,3510:V.GIC,3514:V.GIC,3590:V.GIC,3594:V.GIC,3595:V.GIC,3596:V.GIC,3600:V.GIC,3604:V.GIC,3690:V.GIC,3694:V.GIC,3700:V.GIC,3703:V.GIC,3793:V.GIC,3800:V.GIC,3804:V.GIC,3890:V.GIC,3894:V.GIC,3900:V.GIC,3904:V.GIC,4e3:V.CHEQUING,1100:V.CREDIT_CARD,1200:V.CREDIT_CARD,SDOPEN:V.NRIF,SDTFSA:V.TFIF,SDGTFSA:V.TFIF,SDRRSP:V.RSPIF,SDSRRSP:V.RSPIF,SDGRSP:V.RSPIF,SDGSRSP:V.RSPIF,SDLRSP:V.RSPIF,SDLIRA:V.RSPIF,SDLRIF:V.RIFIF,SDRRIF:V.RIFIF,SDLIF:V.RIFIF,7e3:V.MORTGAGE,7001:V.MORTGAGE,7002:V.MORTGAGE,7010:V.MORTGAGE,7100:V.MORTGAGE,7110:V.MORTGAGE,7200:V.MORTGAGE,7210:V.MORTGAGE,7300:V.MORTGAGE,7310:V.MORTGAGE,7500:V.MORTGAGE,7510:V.MORTGAGE,7700:V.MORTGAGE,7710:V.MORTGAGE,7108:V.MORTGAGE,7118:V.MORTGAGE,7708:V.MORTGAGE,7718:V.MORTGAGE,7910:V.HELOC,5e3:V.RSPLOAN,5100:V.RSPLOAN,5500:V.RSPLOAN,6800:V.TLOC,6900:V.TLOC,5700:V.TERM_LOAN,6e3:V.CREDITREPAYMENT,6030:V.CREDITREPAYMENT,6050:V.CREDITREPAYMENT,6100:V.CREDITREPAYMENT,6120:V.CREDITREPAYMENT,6300:V.CREDITREPAYMENT,6400:V.CREDITREPAYMENT,6450:V.CREDITREPAYMENT,6700:V.CREDITREPAYMENT,7400:V.CREDITREPAYMENT,PENDING:V.PENDING},x={BY_PRODUCT_CODE:"BY_PRODUCT_CODE",BY_SUBCATEGORY_NAME:"BY_SUBCATEGORY_NAME"},W={MATURITY_DATE:"MATURITY_DATE"},K=(d={},(0,A.default)(d,H.SPENDING,{id:"accountSummary_spendingAccounts"}),(0,A.default)(d,H.SAVING,{showTotal:!0,id:"accountSummary_savingAccounts"}),(0,A.default)(d,H.INVESTING,{showTotal:!0,id:"accountSummary_investingAccounts"}),(0,A.default)(d,H.BORROWING,{id:"accountSummary_borrowingAccounts"}),(0,A.default)(d,H.EXTERNAL,{readOnly:!0,id:"accountSummary_externalAccounts"}),d),q={EDIT:"EDIT",ADD:"ADD",MANAGE:"MANAGE",STATEMENTS:"STATEMENTS",ADD_GOAL:"ADD_GOAL",ADD_ASP:"ADD_ASP",ADD_RECIPE:"ADD_RECIPE"},j=(_={},(0,A.default)(_,V.SAVINGS,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_savingAccounts"}),(0,A.default)(_,V.GIC,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_gicAccounts",maturityDate:"accountDetails.savings.accountDetailsTab.maturityDate",accountSort:W.MATURITY_DATE}),(0,A.default)(_,V.USSAVING,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_USSavingAccounts"}),(0,A.default)(_,V.RSPSAVING,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_RSPSavingAccounts"}),(0,A.default)(_,V.TFSASAVING,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_TFSASavingAccounts"}),(0,A.default)(_,V.CSASAVING,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_CSASavingAccounts"}),(0,A.default)(_,V.RIFSAVING,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_RIFSavingAccounts"}),(0,A.default)(_,V.CHEQUING,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_chequingAccounts"}),(0,A.default)(_,V.CREDIT_CARD,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_creditCard"}),(0,A.default)(_,V.NRIF,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_nonRegisteredInvestmentFunds"}),(0,A.default)(_,V.TFIF,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_taxFreeInvestmentFunds"}),(0,A.default)(_,V.RSPIF,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_RSPInvestmentFunds"}),(0,A.default)(_,V.RIFIF,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_RIFInvestmentFunds"}),(0,A.default)(_,V.MORTGAGE,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_Mortgage"}),(0,A.default)(_,V.HELOC,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_Heloc"}),(0,A.default)(_,V.RSPLOAN,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_RSPLoan"}),(0,A.default)(_,V.TLOC,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_TLOC"}),(0,A.default)(_,V.TERM_LOAN,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_TermLoan"}),(0,A.default)(_,V.PENDING,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_pendingAccount"}),(0,A.default)(_,V.OTHERS,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_otherAccount"}),(0,A.default)(_,V.CREDITREPAYMENT,{accountMapper:x.BY_PRODUCT_CODE,id:"accountSummary_creditRepayment"}),(0,A.default)(_,V.VIEW_ONLY,{headingText:"account.overview.subcategory.viewOnlyDescription",accountMapper:x.BY_SUBCATEGORY_NAME,emptyState:"account.overview.emptyState.subcategory.viewOnly",readOnly:!0,headingLinks:[{name:"Manage",translation:"account.overview.subcategory.link.manage",action:q.EDIT}],id:"accountSummary_externalAccounts"}),(0,A.default)(_,V.ACTIVE,{headingText:"account.overview.subcategory.activeDescription",accountMapper:x.BY_SUBCATEGORY_NAME,emptyState:"account.overview.emptyState.subcategory.active",readOnly:!0,headingLinks:[{name:"Manage",translation:"account.overview.subcategory.link.manage",action:q.MANAGE}],id:"accountSummary_activeExternalAccounts"}),_),z={GOALS:"GOALS",RECIPES:"RECIPES",ASP:"ASP"},Q={GET_ASPS:"GET_ASPS",GET_RECIPES:"GET_RECIPES"},X=(E={},(0,A.default)(E,z.GOALS,{footerButtons:[{id:"account_progress_add-goal-button",name:"AddGoal",translation:"account.overview.progress.link.addGoal",action:q.ADD_GOAL,class:"btn btn--orange btn--large btn--auto"}],emptyStateButtons:[{id:"account_progress_add-goal-button-empty-state",name:"AddGoal",translation:"account.overview.progress.link.startGoal",action:q.ADD_GOAL,class:"btn btn--orange btn--large btn--auto"}],emptyState:"financialPlan.archetypes.goalsSection.noGoals.reachYourGoalsText"}),(0,A.default)(E,z.RECIPES,{footerButtons:[{id:"account_progress_add-recipe-button",name:"AddRecipe",translation:"account.overview.progress.link.addRecipe",action:q.ADD_RECIPE,class:"btn btn--orange btn--large btn--auto"}],emptyStateButtons:[{id:"account_progress_add-recipe-button-empty-state",name:"AddRecipe",translation:"account.overview.progress.link.startRecipe",action:q.ADD_RECIPE,class:"btn btn--orange btn--large btn--auto"}],lazy:!0,dataKey:Q.GET_RECIPES,emptyState:"account.overview.quickAccess.recipeDesc"}),(0,A.default)(E,z.ASP,{footerButtons:[{id:"account_progress_add-asp-button",name:"AddAsp",translation:"account.overview.progress.link.addAsp",action:q.ADD_ASP,class:"btn btn--orange btn--large btn--auto"}],emptyStateButtons:[{id:"account_progress_add-asp-button-empty-state",name:"AddAsp",translation:"account.overview.progress.link.startAsp",action:q.ADD_ASP,class:"btn btn--orange btn--large btn--auto"}],lazy:!0,dataKey:Q.GET_ASPS,emptyState:"account.overview.quickAccess.aspDesc"}),E),J={IS_GOALS_TAB_ALLOWED:"IS_GOALS_TAB_ALLOWED",IS_RECIPE_TAB_ALLOWED:"IS_RECIPE_TAB_ALLOWED",IS_ASP_TAB_ALLOWED:"IS_ASP_TAB_ALLOWED"},Z=[{NAME:z.GOALS,ICON:"heart",DEFAULT:!0,eligibilityLogic:J.IS_GOALS_TAB_ALLOWED},{NAME:z.RECIPES,ICON:"savings-transfers",eligibilityLogic:J.IS_RECIPE_TAB_ALLOWED},{NAME:z.ASP,ICON:"alarm",eligibilityLogic:J.IS_ASP_TAB_ALLOWED}],ee=(h={ALL:{NAME:"ALL",ICON:"pin-charge",ACCOUNTS:[H.SAVING,H.EXTERNAL],DEFAULT:!0,EMPTY_STATE:"account.overview.emptyState.all",OPEN_ACCOUNT:{title:"account.overview.addAccountButton",sref:"existingClientOnboarding"},STATEMENTS:{title:"account.overview.statements",action:q.STATEMENTS}}},(0,A.default)(h,H.SAVING,{NAME:H.SAVING,ICON:"savings",ACCOUNTS:H.SAVING,SUBCATEGORIES:[V.SAVINGS,V.USSAVING,V.GIC],TOTAL:!0,EMPTY_STATE:"account.overview.emptyState.saving",OPEN_ACCOUNT:{title:"account.overview.addAccountButton",sref:"existingClientOnboarding"},STATEMENTS:{title:"account.overview.statements",action:q.STATEMENTS}}),(0,A.default)(h,H.EXTERNAL,{NAME:H.EXTERNAL,ICON:"income",ACCOUNTS:H.EXTERNAL,SUBCATEGORIES:[V.ACTIVE,V.VIEW_ONLY]}),h),te=(S={ALL:{NAME:"ALL",ICON:"pin-charge",ACCOUNTS:[H.SPENDING,H.SAVING,H.INVESTING,H.BORROWING,H.EXTERNAL],DEFAULT:!0,EMPTY_STATE:"account.overview.emptyState.all",OPEN_ACCOUNT:{title:"account.overview.addAccountButton",sref:"existingClientOnboarding"},STATEMENTS:{title:"account.overview.statements",action:q.STATEMENTS}}},(0,A.default)(S,H.SPENDING,{NAME:H.SPENDING,ICON:"dollar-bill",ACCOUNTS:H.SPENDING,SUBCATEGORIES:[V.PENDING,V.CHEQUING,V.CREDIT_CARD,V.OTHERS],EMPTY_STATE:"account.overview.emptyState.spending",OPEN_ACCOUNT:{title:"account.overview.addAccountButton",sref:"existingClientOnboarding",srefParam:{addAccount:w.SPENDING}},STATEMENTS:{title:"account.overview.statements",action:q.STATEMENTS}}),(0,A.default)(S,H.SAVING,{NAME:H.SAVING,ICON:"savings",ACCOUNTS:H.SAVING,SUBCATEGORIES:[V.PENDING,V.SAVINGS,V.USSAVING,V.RSPSAVING,V.TFSASAVING,V.CSASAVING,V.RIFSAVING,V.GIC,V.OTHERS],TOTAL:!0,EMPTY_STATE:"account.overview.emptyState.saving",OPEN_ACCOUNT:{title:"account.overview.addAccountButton",sref:"existingClientOnboarding",srefParam:{addAccount:w.SAVINGS}},STATEMENTS:{title:"account.overview.statements",action:q.STATEMENTS}}),(0,A.default)(S,H.INVESTING,{NAME:H.INVESTING,TOTAL:!0,ICON:"investment",ACCOUNTS:H.INVESTING,SUBCATEGORIES:[V.PENDING,V.NRIF,V.TFIF,V.RSPIF,V.RIFIF,V.OTHERS],EMPTY_STATE:"account.overview.emptyState.investing",EXTRA_NOTE:"account.overview.emptyState.investingNote",OPEN_ACCOUNT:{title:"account.overview.addAccountButton",sref:"existingClientOnboarding",srefParam:{addAccount:w.INVESTING}},STATEMENTS:{title:"account.overview.statements",action:q.STATEMENTS}}),(0,A.default)(S,H.BORROWING,{NAME:H.BORROWING,ICON:"donations",ACCOUNTS:H.BORROWING,SUBCATEGORIES:[V.PENDING,V.TLOC,V.TERM_LOAN,V.MORTGAGE,V.HELOC,V.RSPLOAN,V.OTHERS,V.CREDITREPAYMENT],EMPTY_STATE:"account.overview.emptyState.borrowing",OPEN_ACCOUNT:{title:"account.overview.addAccountButton",sref:"existingClientOnboarding",srefParam:{addAccount:w.BORROWING}},STATEMENTS:{title:"account.overview.statements",action:q.STATEMENTS}}),(0,A.default)(S,H.EXTERNAL,{NAME:H.EXTERNAL,ICON:"income",ACCOUNTS:H.EXTERNAL,SUBCATEGORIES:[V.ACTIVE,V.VIEW_ONLY]}),S),ne=(T={},(0,A.default)(T,G.CHEQUING,H.SPENDING),(0,A.default)(T,G.CREDIT_CARD,H.SPENDING),(0,A.default)(T,G.SAVINGS,H.SAVING),(0,A.default)(T,G.MUTUAL_FUND,H.INVESTING),(0,A.default)(T,G.MORTGAGE,H.BORROWING),(0,A.default)(T,G.LOAN,H.BORROWING),(0,A.default)(T,G.GOALS,H.GOALS),(0,A.default)(T,H.EXTERNAL,H.EXTERNAL),(0,A.default)(T,G.RSPLOAN,H.BORROWING),(0,A.default)(T,G.CREDIT,H.BORROWING),T),ie=(p={},(0,A.default)(p,G.CHEQUING,0),(0,A.default)(p,G.SAVINGS,1),(0,A.default)(p,G.BUSINESS_SAVINGS,2),(0,A.default)(p,G.MF,3),(0,A.default)(p,G.MORT_WEB,4),(0,A.default)(p,G.MORTGAGE,5),(0,A.default)(p,G.MORT_DAWT,5),(0,A.default)(p,G.LOAN,6),p),ae=[m.CHEQUING,m.CC,m.CC_WORLD_MASTERCARD,m.RSP,m.TFSA,m.TFSAKS,m.SAVINGS,m.USDSAVINGS,m.INV_FUND,m.MUTUAL_FUND,m.MUTUAL_FUND_RIF,m.MUTUAL_FUND_RSP,m.MUTUAL_FUND_TFSA,m.GIC,m.GIC_USD,m.GIC_RSP,m.GIC_TFSA,m.GIC_RIF,m.BUSINESS_SAVINGS,m.BUSINESS_US_SAVINGS,m.BUSINESS_GIC,m.BUSINESS_GIC_USD,m.TLOC_INTEREST,m.TLOC_INTEREST_BAL,m.TERM_LOAN],se=[m.GIC,m.GIC_USD,m.GIC_RSP,m.GIC_TFSA,m.GIC_RIF],oe=(f={},(0,A.default)(f,m.GIC,m.SAVINGS),(0,A.default)(f,O.GIC,m.SAVINGS),(0,A.default)(f,m.GIC_USD,m.USDSAVINGS),(0,A.default)(f,O.GIC_USD,m.USDSAVINGS),(0,A.default)(f,m.GIC_RSP,m.RSP),(0,A.default)(f,O.GIC_RSP,m.RSP),(0,A.default)(f,m.GIC_TFSA,m.TFSA),(0,A.default)(f,O.GIC_TFSA,m.TFSA),(0,A.default)(f,m.GIC_RIF,m.RIF_ISA),(0,A.default)(f,O.GIC_RIF,m.RIF_ISA),f);t.default={CURRENCY_TYPES:{CAD:"CAD",USD:"USD"},FREQUENCY:v,FREQUENCIES:C,ACCOUNT_TYPES:G,ACCOUNT_GROUPS:w,PLAN_TYPES:{3500:"NONREG",3504:"NONREG",3510:"NONREG",3514:"NONREG",3600:"RSP",3604:"RSP",3800:"TFSA",3804:"TFSA",3900:"RIF",3904:"RIF",3533:"NONREG",3543:"NONREG",3400:"RIF"},PLAN_TYPES_FR:{3500:"NONREG",3504:"NONREG",3510:"NONREG",3600:"RÉR",3604:"RÉR",3800:"CÉLI",3804:"CÉLI",3900:"FRR",3904:"FRR",3533:"NONREG",3543:"NONREG",3400:"FRR"},ACCOUNT_PRFL:{MUTUAL_FUND_TFSA:"2003",MUTUAL_FUND:"2000",MUTUAL_FUND_RSP:"2001",MUTUAL_FUND_RRIF:"2002"},ACCOUNT_PPTS:m,ACCOUNT_PPTS_SHORT_TERM:O,PRODUCT_CODE_MAP:N,GIC_ACCOUNT_PPTS:F,CHQ_SAV_ACCOUNT_PPTS:k,MF_ACCOUNT_PPTS:B,ACCOUNT_RATES_TO_MERGE:y,SHORT_TERM_TO_LONG_TERM:L,DOCUMENT_TYPES_BY_PPT:{1100:"CREDIT_CARD",1200:"CREDIT_CARD",4e3:"CHEQUING",3e3:"SAVINGS",3010:"SAVINGS",3100:"SAVINGS",3200:"SAVINGS",3201:"SAVINGS",3400:"GIC",3500:"GIC",3504:"GIC",3510:"GIC",3514:"GIC",3600:"GIC",3800:"GIC",3900:"GIC"},MUTUAL_FUND_PLAN_TYPES:M,MUTUAL_FUND_PLAN_TYPES_FOR_OPEN_ACCOUNTS:{NREG:"NONREG",NREGJ:"NONREG",RSP:"RSP",RSPSP:"SPOUSAL",TFSA:"TFSA"},ACCOUNT_CODES_BY_MUTUAL_FUND_PPT:D,ACCOUNT_CODES_BY_INVESTMENT_FUND_PPT:P,MUTUAL_FUND_PLAN_TYPES_TO_PPT:b,ACCOUNT_CODES_BY_PPT:U,ACCOUNT_NAME_TO_ACCOUNT_CODE:{CHEQUING:"CHEQUING",SAVINGS:"SAV"},ACCOUNT_CATEGORIES:H,ACCOUNT_MAPS:ne,ACCOUNT_USAGE_TYPES_MAP:ie,ACCOUNT_TABS:{CHEQUING:{TRANSACTIONS:"TRANSACTIONS",CHEQUING_ACCOUNT_DETAILS:"CHEQUING_ACCOUNT_DETAILS",OVERDRAFTS:"OVERDRAFTS"},SAVINGS:{GIC:{TFSA:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS",BENEFICIARIES:"BENEFICIARIES"},TFSAKS:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS"},RIF:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS",BENEFICIARIES:"BENEFICIARIES"},RSP:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS",BENEFICIARIES:"BENEFICIARIES"},OTHER:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS"}},RIF:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS",BENEFICIARIES:"BENEFICIARIES"},TFSA:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS",BENEFICIARIES:"BENEFICIARIES"},TFSAKS:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS"},RSP:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS",BENEFICIARIES:"BENEFICIARIES"},OTHER:{SAVINGS_TRANSACTIONS:"SAVINGS_TRANSACTIONS",SAVINGS_ACCOUNT_DETAILS:"SAVINGS_ACCOUNT_DETAILS"},HOLDS:"HOLDS",REWARDS:"REWARDS"},CREDIT_CARD:{TRANSACTIONS:"TRANSACTIONS",CREDIT_CARD_ACCOUNT_DETAILS:"CREDIT_CARD_ACCOUNT_DETAILS",REWARDS:"REWARDS"},MORTGAGE:{PAYMENTS:"PAYMENTS",MORTGAGE_ACCOUNT_DETAILS:"MORTGAGE_ACCOUNT_DETAILS"},LOAN:{TERM_LOAN:{LOAN_TRANSACTIONS:"LOAN_TRANSACTIONS",LOAN_PAYMENTS:"LOAN_PAYMENTS",LOAN_ACCOUNT_DETAILS:"LOAN_ACCOUNT_DETAILS"},OTHER:{LOAN_TRANSACTIONS:"LOAN_TRANSACTIONS",LOAN_ACCOUNT_DETAILS:"LOAN_ACCOUNT_DETAILS"}},INVESTMENT:{DESKTOP:{NONREG:{INVESTMENT_PORTFOLIO_DETAILS:"INVESTMENT_PORTFOLIO_DETAILS",TRANSACTIONS:"TRANSACTIONS",INVESTMENT_INVESTOR_PROFILE:"INVESTMENT_INVESTOR_PROFILE"},REGISTERED:{INVESTMENT_PORTFOLIO_DETAILS:"INVESTMENT_PORTFOLIO_DETAILS",TRANSACTIONS:"TRANSACTIONS",INVESTMENT_INVESTOR_PROFILE:"INVESTMENT_INVESTOR_PROFILE",BENEFICIARIES:"BENEFICIARIES"}},MOBILE:{NONREG:{TRANSACTIONS:"TRANSACTIONS",INVESTMENT_PORTFOLIO_DETAILS:"INVESTMENT_PORTFOLIO_DETAILS",INVESTMENT_INVESTOR_PROFILE:"INVESTMENT_INVESTOR_PROFILE"},REGISTERED:{TRANSACTIONS:"TRANSACTIONS",INVESTMENT_PORTFOLIO_DETAILS:"INVESTMENT_PORTFOLIO_DETAILS",INVESTMENT_INVESTOR_PROFILE:"INVESTMENT_INVESTOR_PROFILE",BENEFICIARIES:"BENEFICIARIES"}}},GOAL:{HOME_DOWNPAYMENT:{GOALS_TRANSACTIONS_HOME_DOWNPAYMENT:"GOALS_TRANSACTIONS_HOME_DOWNPAYMENT"},RETIREMENT:{GOALS_TRANSACTIONS_RETIREMENT:"GOALS_TRANSACTIONS_RETIREMENT"},DEBT_REPAYMENT:{GOALS_TRANSACTIONS_PBD:"GOALS_TRANSACTIONS_PBD"}}},ACCOUNT_SAVING_TYPES:{RSP:"RSP",TFSA:"TFSA",TFSAKS:"TFSAKS",RIF:"RIF",GIC:"GIC",OTHER:"OTHER"},ACCOUNT_SAVING_TYPES_FR:{"RÉR":"RÉR","CÉLI":"CÉLI",TFSAKS:"TFSAKS",FRR:"FRR",GIC:"GIC",OTHER:"OTHER"},ACCOUNT_LOAN_TYPES:{HELOC:"HELOC",LOC:"LOC",TLOC:"TLOC",TERM_LOAN:"TERM_LOAN"},FUND_TYPE_CODES:{CHQ:"CHQ",CTE:"CTE",CTIF:"CTIF",EFT:"EFT",RISA:"RISA",TFISA:"TFISA",MFP:"MFP",TFSAP:"TFSAP"},OVERDRAFT_STATUSES:{SUSPENDED:"SUSPENDED",CANCELED:"CANCELED"},AVAILABLE_ACTIONS:{MOVE_MONEY:"MOVE_MONEY",REWARDS_MANAGEMENT:"REWARDS_MANAGEMENT",REWARDS_READ_ONLY:"REWARDS_READ_ONLY",AUTHORIZED_USER_MANAGEMENT:"AUTHORIZED_USER_MANAGEMENT",STATEMENTS:"STATEMENTS",ACTIVATE_CARD:"ACTIVATE_CARD",ACTIVATE_REPLACEMENT_CARD:"ACTIVATE_REPLACEMENT_CARD",ACTIVATE_CARD_CALL_CENTER:"ACTIVATE_CARD_CALL_CENTER",CHANGE_PIN:"CHANGE_PIN",CHANGE_CREDIT_LIMIT:"CHANGE_CREDIT_LIMIT",BALANCE_TRANSFER:"BALANCE_TRANSFER",BALANCE_PROTECTION_INSURANCE:"BALANCE_PROTECTION_INSURANCE",ALERTS_MANAGEMENT:"ALERTS_MANAGEMENT",TRAVEL_NOTICE:"TRAVEL_NOTICE",PAUSE_CARD:"PAUSE_CARD",PAUSE_OLD_CARD:"PAUSE_OLD_CARD",REACTIVATE_CARD:"REACTIVATE_CARD",REACTIVATE_OLD_CARD:"REACTIVATE_OLD_CARD",CHANGE_PAYMENT:"CHANGE_PAYMENT",CHANGE_PAYMENT_OPTIONS:"CHANGE_PAYMENT_OPTIONS",CHANGE_FREQUENCY:"CHANGE_FREQUENCY",CHANGE_ACCOUNT:"CHANGE_ACCOUNT",CHANGE_ADDITIONAL_PAYMENT:"CHANGE_ADDITIONAL_PAYMENT",CONVERT_TO_FIXED_RATE:"CONVERT_TO_FIXED_RATE",ORDER_A_DRAFT:"ORDER_A_DRAFT",ORDER_CHEQUE:"ORDER_CHEQUE",APPLY_FOR_OVERDRAFT:"APPLY_FOR_OVERDRAFT",INCREASE_OVERDRAFT_LIMIT:"INCREASE_OVERDRAFT_LIMIT",DECREASE_OVERDRAFT_LIMIT:"DECREASE_OVERDRAFT_LIMIT",CLOSE_OVERDRAFT:"CLOSE_OVERDRAFT",PAY_FULL_OVERDRAFT:"PAY_FULL_OVERDRAFT",ACCEPT_OD_INCREASE_INVITATION:"ACCEPT_OD_INCREASE_INVITATION",ACCEPT_OD_INVITATION:"ACCEPT_OD_INVITATION",CANCEL_JOINT_ACCOUNT:"CANCEL_JOINT_ACCOUNT",MAKE_JOINT_ACCOUNT:"MAKE_JOINT_ACCOUNT",SUBMIT_MORTGAGE_RENEWAL:"SUBMIT_MORTGAGE_RENEWAL",VIEW_MORTGAGE_RENEWAL_SUMMARY:"VIEW_MORTGAGE_RENEWAL_SUMMARY",EARLY_REDEMPTION:"EARLY_REDEMPTION"},ACCOUNT_REGISTRATIONS:{CSA:{SINGLE:"A",JOINT:"B"},SINGLE:"Single",FR_SINGLE:"Individuel",JOINT:"Joint",FR_JOINT:"Conjoint",SINGLE_TRUSTEE:"Single trustee",JOINT_TRUSTEE:"Joint trustee",ADMINISTRATOR_ESTATE:"Administrator/Estate",CORPORATION:"Corporation",JOINT_POWER_OF_ATTORNEY:"Joint Power of Attorney",ORGANIZATION:"Organization",MULTIPLE_BENEFICIARIES:"Multiple beneficiaries",MINORS_TRUST:"Minor's Trust",SOLE_PROPRIETORSHIP:"Sole Proprietorship",PARTNERSHIP:"Partnership",OTHER_TRUSTS:"Other Trusts",POWER_OF_ATTORNEY:"Power of Attorney",SUCCESSOR:"Successor",BENEFICIARY:"Beneficiary",ANY:"Any"},INTENDED_USE_OTHER:"OTHER",ACCOUNT_EVENTS:{INVALIDATE_ACCOUNT:"INVALIDATE_ACCOUNT",ACCOUNT_SUMMARY_LOADED:"ACCOUNT_SUMMARY_LOADED"},ACCOUNT_REGISTRATION_TYPE:{SINGLE:{value:"Single",key:"accountDetails.registrationType.single"},JOINT:{value:"Joint",key:"accountDetails.registrationType.joint"}},BUSINESS_ACCOUNT_PPTS:$,ACCOUNT_CONTROL_OPTIONS:{SAVINGS:{GIC:{TFSA:{GIC_OPTIONS:"GIC_OPTIONS",CONTRIBUTIONS:"CONTRIBUTIONS",REDEMPTION:"REDEMPTION"},TFSAKS:{},RSP:{GIC_OPTIONS:"GIC_OPTIONS",CONTRIBUTIONS:"CONTRIBUTIONS",REDEMPTION:"REDEMPTION"},RIF:{GIC_OPTIONS:"GIC_OPTIONS",REDEMPTION:"REDEMPTION",RIF_SUMMARY:"RIF_SUMMARY"},OTHER:{GIC_OPTIONS:"GIC_OPTIONS",REDEMPTION:"REDEMPTION"}},TFSA:{CONTRIBUTIONS:"CONTRIBUTIONS",TFSA_TRANSFER:"TFSA_TRANSFER",ADD_GOAL:"ADD_GOAL"},TFSAKS:{},RIF:{RIF_SUMMARY:"RIF_SUMMARY",RIF_TRANSFER:"RIF_TRANSFER"},RSP:{CONTRIBUTIONS:"CONTRIBUTIONS",RSP_TRANSFER:"RSP_TRANSFER",ADD_GOAL:"ADD_GOAL"},OTHER:{STATEMENTS:"STATEMENTS",ADD_GOAL:"ADD_GOAL"}},GOALS:{MOVE_MONEY:"MOVE_MONEY",EDIT_GOAL:"EDIT_GOAL"}},ACCOUNT_GIC_OPTIONS:{MATURITY:{SHORT_TERM:{REINVEST:{header:"accountDetails.maturityInstructions.SHORT_TERM.REINVEST",id:0},COMBINED:{header:"accountDetails.maturityInstructions.SHORT_TERM.COMBINED",id:1},PAYOUT:{header:"accountDetails.maturityInstructions.SHORT_TERM.PAYOUT",id:2}},LONG_TERM:{REINVEST:{header:"accountDetails.maturityInstructions.LONG_TERM.REINVEST",id:3},PAYOUT:{header:"accountDetails.maturityInstructions.LONG_TERM.PAYOUT",id:2}}},INTERESTS:{REINVEST:{header:"accountDetails.interestsOptions.REINVEST",id:0},PAYOUT:{header:"accountDetails.interestsOptions.PAYOUT",id:2}},ACCOUNT_TERM_CODES:[{apiCode:90,name:"90 days",days:90},{apiCode:180,name:"180 days",days:180},{apiCode:270,name:"270 days",days:270},{apiCode:1,name:"1 year",days:365,longTerm:!0},{apiCode:1.5,name:"1.5 year",days:545,longTerm:!0},{apiCode:2,name:"2 year",days:730,longTerm:!0},{apiCode:3,name:"3 year",days:1095,longTerm:!0},{apiCode:4,name:"1 year",days:1460,longTerm:!0},{apiCode:5,name:"2 year",days:1825,longTerm:!0},{apiCode:7,name:"3 year",days:2555,longTerm:!0},{apiCode:10,name:"10 year",days:3650,longTerm:!0}]},REDEMPTION_MIN_DATE:"2014-07-19",ACCOUNT_CONTROL_BUTTONS:{GIC_OPTIONS:"GIC_OPTIONS",BENEFICIARIES:"BENEFICIARIES",CONTRIBUTIONS:"CONTRIBUTIONS",REDEMPTION:"REDEMPTION",RIF_SUMMARY:"RIF_SUMMARY",RSP_TRANSFER:"RSP_TRANSFER",TFSA_TRANSFER:"TFSA_TRANSFER",RIF_TRANSFER:"RIF_TRANSFER",STATEMENTS:"STATEMENTS",CSA_CONVERSION:"CSA_CONVERSION",EDIT_GOAL:"EDIT_GOAL",MOVE_MONEY:"MOVE_MONEY",ADD_GOAL:"ADD_GOAL"},FUND_NUMBER_TO_PORTFOLIO_TYPE:{210:"PRUD",220:"MOD",230:"ADV",235:"DVD",240:"EQU",310:"ECON",320:"EMOD",330:"EADV",340:"EEQU"},NICKNAME_MAX_LEN:25,NICKNAME_MIN_LEN:2,TGSA_LIMIT:5,AMOUNT_MAX_LEN:9,SEARCH_ACCT_CONFIG:{MIN_TOKEN_LEN:"2"},MORTGAGE_HELOC_LOC_DESCRIPTIONS:["Tangerine Staff Credit Account","Tangerine Staff Credit Account - 2% Repayment","Tangerine Staff Credit Account - 2% Repayment","Credit Account","Tangerine Bridge Loan","Credit Account - 2% Repayment","Credit Account - FAS","Credit Account - 2% Repayment","Credit Account - 2% Repayment","Credit Account - 2% Repayment","Canadian Tire Line of Credit","Tangerine Home Equity Line of Credit","Compte Crédit de personnel","Compte Crédit de personnel - Remboursement de 2 %","Compte Crédit de personnel - Remboursement de 2 %","Compte Crédit","Prêt provisoire Tangerine","Compte Crédit - Remboursement de 2 %","Compte Crédit - SRF","Compte Crédit - Remboursement de 2 %","Compte Crédit - Remboursement de 2 %","Compte Crédit - Remboursement de 2 %","Marge de crédit Canadian Tire","Marge de crédit hypothécaire Tangerine"],CARD_RESTRICTIONS:{PD01:"has_PD01_restriction_only",PD02:"has_PD02_restriction_only",PD03:"has_PD03_restriction_only"},CANADIAN_PROVINCE_TO_AGE_OF_MATURITY:{AB:18,BC:19,MN:18,NB:18,NL:19,NT:19,NS:19,NU:19,ON:18,PE:18,QC:18,SK:18,YT:19},INTERCHANGEABLE_COMPANION_PRODUCTS:R,ACCOUNT_TYPE_TO_LEARN_MORE_EXCLUSION_LIST:[],MOBILE_PILOT_OPEN_ACCOUNT_WHITELIST:ae,VIEW_TYPES:[{value:"TILE",label:"account.overview.tileView"},{value:"LIST",label:"account.overview.listView"}],ACCOUNT_GROUPS_WITH_LIMITED_NUMBER_OF_CODES:{spending:["4000","1100"],savings:["3000","3010","3200","3100","3201"],investing:["2000","2200","2100","2300"]},LOCKED_IN:{EN:"Locked-in",FR:"immobilisé"},GIC_PPTS:se,GIC_ACCOUNT_TO_COMPANION_ACCOUNT:oe,MORTGAGE:{ACCOUNT_HOLDER:{PRIMARY:"PR",SECONDARY:"CO"}},ACCOUNT_REGISTERED_TYPES:{RSP:"RSP",TFSA:"TFSA"},MUTUAL_FUND_LIST:I,CREDIT_CARD_DESCRIPTIONS:{1100:"accountDetails.creditCard.description.1100",1200:"accountDetails.creditCard.description.1200"},CREDIT_CARD_PRODUCT_TYPES:{1100:"CBK",1200:"CBW"},CREDIT_CARD_PRODUCT_TYPES_CODE:{CBK:"1100",CBW:"1200"},CREDIT_CARD_OFFER_TYPES:{CCRN:"CCRN",CCPA:"CCPA"},CREDIT_CARD_MIN_INCOMES:{CBK_MIN_ANNUAL_INCOME:12e3,CBW_MIN_ANNUAL_INCOME:6e4,CBW_MIN_HOUSEHOLD_INCOME:1e5,CBW_MIN_ASSETS:25e4},CREDIT_CARD_BALANCE_TRANSFER_PROMO_IDS:{10019506:"10019506",20000006:"20000006"},ACCOUNT_AGGREGATION:{ACCOUNT_AGGREGATION_HAVE_OWE_TYPE_EXTERNAL:"EXTERNAL",ACCOUNT_SUMMARY_CAPABILITY:"ACCOUNT_SUMMARY",INSIGHTS_SHOW_EXTERNAL_ACCOUNTS:"INSIGHTS_SHOW_EXTERNAL_ACCOUNTS",INSIGHTS_BANNER_EXTERNAL_ID_TILE_VIEW:"accountSummary_externalAccounts",INSIGHTS_BANNER_EXTERNAL_ID_LIST_VIEW:"view_only-accounts-heading",INSIGHT_CARD_HASHTAG_ID:"accountSummary_externalAccounts",INSIGHT_CARD_EXTERNAL_ID:"accounts?externalAccounts",WHAT_I_HAVE_CATEGORIES:{CHECKING:"CHECKING",SAVINGS:"SAVINGS",EDUCATION:"EDUCATION",EMERGENCY_SAVINGS:"EMERGENCY_SAVINGS",HOME:"HOME",INVESTMENTS:"INVESTMENTS",RETIREMENT:"RETIREMENT"},WHAT_I_OWE_CATEGORIES:{CREDIT_CARD:"CREDIT_CARD",HELOC:"HELOC",LOAN:"LOAN",LOC:"LOC",MORTGAGE:"MORTGAGE",STUDENT_LOAN:"STUDENT_LOAN"}},ACCOUNT_LIST:te,BUSINESS_ACCOUNT_LIST:ee,PROGRESS_LIST:Z,ACCOUNT_SUBCATEGORY_CONFIG:j,ACCOUNT_CATEGORY_CONFIG:K,AGGREGATION_ACCOUNT_CONSTANTS:{ALL_AGGREGATED_ACCOUNTS:"allAggregatedAccounts",AGGREGATION_ACCOUNTS:"aggregationAccounts"},ACCOUNT_SUBCATEGORIES:V,PRODUCT_SUBCATEGORY_MAP:Y,LINK_ACTION_FUNCTIONS:q,ACCOUNT_MAPING_FUNCTIONS:x,PROGRESS_TABS:z,PROGRESS_TABS_CONFIG:X,DATE_FREQUENCY:{DAILY:"global.datePicker.frequencies.daily",WEEKLY:"global.datePicker.frequencies.weekly",BIWEEKLY:"global.datePicker.frequencies.biWeekly",MONTHLY:"global.datePicker.frequencies.monthly",YEARLY:"global.datePicker.frequencies.yearly"},ELIGIBILITY_FUNCTIONS:J,DATA_RETRIEVAL_FUNCTIONS:Q,POSITIVE_ACCOUNT_SERVICE_ANSERS:{CREATED:"CREATED",SUCCESS:"SUCCESS"},AA_LOGIN_REQUIRED:"LOGIN_REQUIRED",ACCOUNT_LIST_COMPARATORS:W},e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("abmLocator")]).then(function(){var i=n(1823);t.load({name:i.name}),e([i])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){n.e("transactions").then(function(){var i=n(1828),a=n(536);t.load([{name:i.name},{name:a}]),e([i,a])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){n.e("recipes").then(function(){var i=n(1829);t.load({name:i.name}),e([i])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(t,i){return t((function(t){n.e("rdc").then(function(){(function(e){e=n(1850);i.load({name:e.name}),t([e])}).call(this,n(50)(e))}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){n.e("mobileTermsConditionsOffers").then(function(){var i=n(1853),a=n(1854),s=n(1855),o=n(1856);t.load({name:i.name},{name:a.name},{name:s.name},{name:o.name}),e([i,a,s,o])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalFooterButton=void 0;var i=o(n(142)),a=o(n(2)),s=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}t.ModalFooterButton=function e(t,n,i){(0,s.default)(this,e),this.type=t,this.show=n,this.disable=i};var r=function(){function e(t,n,i,a,o,r,l,c,u,d,_,E,h,S){(0,s.default)(this,e),this.isHybrid=!1,this.$log=t,this.$location=o,this.AnalyticsService=l,this.ANALYTICS_AVAILABLE_EVENTS=this.AnalyticsService.availableEvents,this.$document=n,this.document=n[0],this.EventBusService=i,this.environmentService=a,this.ModalDialogConstants=r,this.NativeService=c,this.$timeout=u,this.$state=d,this.$scope=h,this.$q=S,this.ModalDialogService=_,this.CurrentStateService=E;var T=r.SELECTOR_CLASSES.DIALOG_CONTENT;this.dialogClassName=r.SELECTOR_CLASSES.DIALOG,this.contentBlock=document.querySelector("."+T),this.DIALOG_OPEN_CSS_CLASS="dialog-open",this.DIALOG_CONTENT_CLASS=".dialog__content",this.SHADOW_EFFECT_CLASS="shadow-effect",this.DIALOG_HEADER_CLASS=".dialog__header",this.DIALOG_FOOTER_CLASS=".dialog__footer",this.PLATFORM_DIALOG_OPEN_CSS_CLASS=this.environmentService.isIOS()?"ios-dialog-open":"non-ios-dialog-open",this.lastScrollTop=0,this.keyboardIsOpen=!1,this.DEFAULT_SHOULD_CLOSE_ON_ESC=!0,this.DEFAULT_SHOULD_CLOSE_ON_CLICK_OUTSIDE=!0,this.mobileDevice=this.environmentService.isNative()||this.environmentService.isIOS()||this.environmentService.isAndroid()}return(0,a.default)(e,[{key:"$onInit",value:function(){return angular.isUndefined(this.isVisible)&&(this.isVisible=!0),angular.isDefined(this.size)?this.sizeModifier="--"+this.size:this.sizeModifier="",this.isDimming=!angular.isDefined(this.isDimming)||this.isDimming,this.isVisible&&this._processModalDialogOn(),this.setStateMetadata(!0),this._setCloseOnEsc(),this._setCloseOnClickOutside(),this.mobileDevice||(this.nextCycle$=this.$timeout(this._nextCycleHandler.bind(this),1e3)),this.nextCycle$||this.$q.resolve()}},{key:"_nextCycleHandler",value:function(){if(this.dialogContent=this._getDialogContent(),this.dialogHeaderElement=this.document.querySelector(this.DIALOG_HEADER_CLASS),this.dialogFooterElement=this.document.querySelector(this.DIALOG_FOOTER_CLASS),this.dialogContent&&this.dialogHeaderElement&&this.dialogFooterElement)try{this._isScrollPossible()&&this._toggleFooterShadowClass(!0),this._addScrollListener()}catch(e){this.$log.error("error adding event listener")}}},{key:"_getDialogContent",value:function(){var e=this.$document.find(this.DIALOG_CONTENT_CLASS);return!!e&&!!e.length&&(0,i.default)(e).pop()}},{key:"_addScrollListener",value:function(){this.dialogContent&&(this.scrollHandler=this._scrollHandler.bind(this),this.dialogContent.addEventListener("scroll",this.scrollHandler,{passive:!0}))}},{key:"_isScrollPossible",value:function(){return this.dialogContent&&Math.floor(this.dialogContent.scrollHeight-this.dialogContent.clientHeight)>0}},{key:"_removeScrollListener",value:function(){this.dialogContent&&this.dialogContent.removeEventListener("scroll",this.scrollHandler,{passive:!0})}},{key:"_shouldDropHeaderShadow",value:function(){return!!(this.dialogContent&&this.dialogContent.scrollTop>0)}},{key:"_shouldDropFooterShadow",value:function(){return!!(this.dialogContent&&Math.floor(this.dialogContent.scrollTop)<Math.floor(this.dialogContent.scrollHeight-this.dialogContent.clientHeight))}},{key:"_hasShadowStateChanged",value:function(){return this._isHeaderShadowDisplayed()!==this._shouldDropHeaderShadow()||this._isFooterShadowDisplayed()!==this._shouldDropFooterShadow()}},{key:"_isHeaderShadowDisplayed",value:function(){return this.dialogHeaderElement&&this.dialogHeaderElement.classList.contains(this.SHADOW_EFFECT_CLASS)}},{key:"_isFooterShadowDisplayed",value:function(){return this.dialogFooterElement&&this.dialogFooterElement.classList.contains(this.SHADOW_EFFECT_CLASS)}},{key:"_toggleHeaderShadowClass",value:function(e){e&&!this._isHeaderShadowDisplayed()?this.dialogHeaderElement.classList.add(this.SHADOW_EFFECT_CLASS):!e&&this._isHeaderShadowDisplayed()&&this.dialogHeaderElement.classList.remove(this.SHADOW_EFFECT_CLASS)}},{key:"_toggleFooterShadowClass",value:function(e){e&&!this._isFooterShadowDisplayed()?this.dialogFooterElement.classList.add(this.SHADOW_EFFECT_CLASS):!e&&this._isFooterShadowDisplayed()&&this.dialogFooterElement.classList.remove(this.SHADOW_EFFECT_CLASS)}},{key:"_scrollHandler",value:function(){this._hasShadowStateChanged()&&(this._toggleHeaderShadowClass(this._shouldDropHeaderShadow()),this._toggleFooterShadowClass(this._shouldDropFooterShadow()))}},{key:"_setCloseOnEsc",value:function(){angular.isUndefined(this.shouldCloseOnEsc)&&(this.shouldCloseOnEsc=this.DEFAULT_SHOULD_CLOSE_ON_ESC)}},{key:"_setCloseOnClickOutside",value:function(){angular.isUndefined(this.shouldCloseOnClickOutside)&&(this.shouldCloseOnClickOutside=this.DEFAULT_SHOULD_CLOSE_ON_CLICK_OUTSIDE)}},{key:"clickOutside",value:function(){this.$log.debug("Click outside"),this===this.ModalDialogService.getModalOnTop()&&this.shouldCloseOnClickOutside&&!this.hideClose&&this.handleOnClose()}},{key:"_addMobileBackgroundStyling",value:function(){angular.element(".dialog__main-content").addClass("ios-background")}},{key:"_removeMobileBackgroundStyling",value:function(){angular.element(".dialog__main-content").removeClass("ios-background")}},{key:"setStateMetadata",value:function(e){this.analyticsId!==this.ModalDialogConstants.METADATA_IGNORED_LOCATIONS.CONTACT_US_CHAT&&this.analyticsId!==this.ModalDialogConstants.METADATA_IGNORED_LOCATIONS.CONTACT_US_CHAT_WITH_US&&this.analyticsId&&(e?(this.$state.kvp_current=this.$state.current.url+"?modal="+this.analyticsId,this.$state.kvp_previous=this.$state.current.url):(this.$state.kvp_previous=this.$state.current.url+"?modal="+this.analyticsId,this.$state.kvp_current=this.$state.current.url)),this.flowService&&this.flowService.holdLink&&!0===this.flowService.holdLink&&(this.flowService.holdLink=!1,this.flowService.$state.go(this.flowService.stateConstants.HOLDS_MODAL,{},{reload:!0}))}},{key:"onConfirmExit",value:function(){this.onAllowExit?this.onAllowExit():this.flowService&&this.flowService.allowExit()}},{key:"onCancelExit",value:function(){this.flowService&&this.flowService.currentState&&"SELECT_BILLER"===this.flowService.currentState&&(this.flowService.holdLink=!1),this.onDenyExit?this.onDenyExit():this.flowService&&this.flowService.denyExit()}},{key:"handleOnClose",value:function(){var e=this,t=document.querySelector("."+this.dialogClassName),n=document.activeElement,i=n.children,a=document.querySelector(".c-help-bubble");n&&n.type&&"submit"===n.type&&i&&i.length&&i[0].classList&&i[0].classList.length&&"icon-x"===i[0].classList[0]&&this.flowService?this.flowService.holdLink=!1:n&&n.length&&n.length>1&&"icon-x"===n[1].classList&&this.flowService?this.flowService.holdLink=!1:n&&n.lastChild&&n.lastChild.className&&this.flowService?-1!==n.lastChild.className.indexOf("c-tool-tip")==!0&&-1!==n.lastChild.className.indexOf("js-tooltip")==!0&&this.flowService||(this.flowService.holdLink=!1):n&&n.lastChild&&void 0!==a&&this.flowService?this.flowService.holdLink=!1:this.flowService&&(this.flowService.holdLink=!1),t&&(t.classList.add(this.ModalDialogConstants.SELECTOR_CLASSES.DIALOG_DURING_THE_CLOSE),this.$timeout((function(){e.onClose()}),250))}},{key:"logoLoaded",value:function(){return!0}},{key:"$onChanges",value:function(e){"scrollTopOn"in e&&this.contentBlock&&(this.contentBlock.scrollTop=0),"isVisible"in e&&(this.isVisible?this._processModalDialogOn():this._processModalDialogOff())}},{key:"$onDestroy",value:function(){this._processModalDialogOff(),this.setStateMetadata(!1),this._removeScrollListener()}},{key:"_addDialogBodyClass",value:function(){this.lastScrollTop=this.document.body.scrollTop,this.inlineMode||(this.document.body.classList.add(this.DIALOG_OPEN_CSS_CLASS,this.PLATFORM_DIALOG_OPEN_CSS_CLASS),this.document.documentElement.classList.add(this.DIALOG_OPEN_CSS_CLASS,this.PLATFORM_DIALOG_OPEN_CSS_CLASS),this.ModalDialogService.registerModalWithBodyCssChange(this))}},{key:"_removeDialogBodyClass",value:function(){this.inlineMode||(this.ModalDialogService.unregisterModalWithBodyCssChange(this),this.ModalDialogService.hasModalWithBodyCssChange()||(this.document.body.classList.remove(this.DIALOG_OPEN_CSS_CLASS,this.PLATFORM_DIALOG_OPEN_CSS_CLASS),this.document.documentElement.classList.remove(this.DIALOG_OPEN_CSS_CLASS,this.PLATFORM_DIALOG_OPEN_CSS_CLASS))),this.document.body.scrollTop=this.lastScrollTop}},{key:"_publishModalOpen",value:function(){this.EventBusService.publish(this.ModalDialogConstants.EVENTS.MODAL_OPENED,{})}},{key:"_publishModalClose",value:function(){this.EventBusService.publish(this.ModalDialogConstants.EVENTS.MODAL_CLOSED,{})}},{key:"_sendAnalytics",value:function(){if(this.analyticsId){var e=this._getAnalyticsID();this.AnalyticsService.sendAction(this.ANALYTICS_AVAILABLE_EVENTS.MODAL_SHOW,e)}}},{key:"_getAnalyticsID",value:function(){return"/"+this.analyticsId}},{key:"_processModalDialogOn",value:function(){this._publishModalOpen(),this.CurrentStateService.modalOpen(),this._addDialogBodyClass(),this.environmentService.isIOS()&&this._addMobileBackgroundStyling(),this._sendAnalytics(),this.ModalDialogService.registerOpenModal(this)}},{key:"_processModalDialogOff",value:function(){this._publishModalClose(),this.CurrentStateService.modalClose(),this._removeDialogBodyClass(),this.ModalDialogService.unregisterOpenModal(this),this.ModalDialogService.hasOpenModal()||this.environmentService.isIOS()&&this._removeMobileBackgroundStyling()}},{key:"confirmExitIsOpen",get:function(){return this.showConfirmExit||this.flowService&&this.flowService.showConfirmExitUI}}]),e}();r.$inject=["$log","$document","EventBusService","EnvironmentService","$location","modalDialogConstants","AnalyticsService","NativeService","$timeout","$state","ModalDialogService","CurrentStateService","$scope","$q"],t.default=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_(n(58)),a=_(n(365)),s=_(n(15)),o=_(n(0)),r=_(n(2)),l=_(n(367)),c=_(n(199)),u=_(n(268)),d=_(n(463));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,null,[{key:"canConfirmAMLEvent",value:function(e,t,n){var i=!e.isChild();if(i&&(void 0!==t&&(i=!t.amlEventConfirmed),i)){var a=void 0!==n&&n;i=!e.isKYCPending&&(e.didParentSwitchToChild()||!e.isBusiness()&&e.isNormal()||a&&e.isBusiness())}return i}},{key:"canConfirmAMLClientInfo",value:function(e,t,n,i){var a=!1;if(t.employment_status&&!angular.equals(e.employment_status,t.employment_status)||t.occupation&&!angular.equals(e.occupation,t.occupation))return!0;if(t.address_list&&(l.default.isObjectChanged(e,t,"address_list",c.default.API.ADDRESS_TYPE.HOME)||l.default.isObjectChanged(e,t,"address_list",c.default.API.ADDRESS_TYPE.MAILING)))return!0;if(n&&t.scheduled_address_change&&((a=this.compareFutureAddress(e,t.scheduled_address_change,c.default.API.ADDRESS_TYPE.HOME,c.default.API.ADDRESS_TYPE.FUTURE))||(a=this.compareFutureAddress(e,t.scheduled_address_change,c.default.API.ADDRESS_TYPE.MAILING,c.default.API.ADDRESS_TYPE.FUTURE_MAILING))),!a&&i){var s=l.default.isObjectChanged(e,t,"phone_list",c.default.API.PHONE_TYPE.HOME.KEY),o=!1;s||(l.default.findObjectType(e,"phone_list",c.default.API.PHONE_TYPE.CELL.KEY,(function(){o=l.default.isObjectChanged(e,t,"phone_list",c.default.API.PHONE_TYPE.CELL.KEY)}),(function(){})),o||this.isValidCellPhoneNumber(t,"phone_list")&&l.default.findObjectType(t,"phone_list",c.default.API.PHONE_TYPE.CELL.KEY,(function(){o=l.default.isObjectChanged(e,t,"phone_list",c.default.API.PHONE_TYPE.CELL.KEY)}),(function(){}))),(s||o)&&(a=!0)}return a}},{key:"isFutureAddressChanged",value:function(e,t,n,i){var a=null;l.default.findObjectType(e,n,i,(function(e){a=e}));var s=null;l.default.findObjectType(t,n,i,(function(e){s=e}));var o=null!=a?angular.copy(a):a;null!=o&&o.future_change_date&&delete o.future_change_date;var r=null!=s?angular.copy(s):s;return null!=r&&r.future_change_date&&delete r.future_change_date,!angular.equals(o,r)}},{key:"compareFutureAddress",value:function(e,t,n,i){var a=!1,s=null;l.default.findObjectType(e,"address_list",n,(function(e){s=e}));var o=null;if(l.default.findObjectType(t,"future_address_list",i,(function(e){o=e})),null===s&&null!==o)return!0;if(null!==s&&null!==o){var r=angular.copy(s);r.future_change_date&&delete r.future_change_date;var c=angular.copy(o);c.future_change_date&&delete c.future_change_date,a=!angular.equals(r,c)}return a}},{key:"isValidCellPhoneNumber",value:function(e,t){var n=e[t];if(null==n)return!1;var i=!1;return n.some((function(e){if(e.type===c.default.API.PHONE_TYPE.CELL.KEY){var t=e.number;t&&t.trim().length>0&&(i=!0)}return i})),i}},{key:"hasAMLMissingInfo",value:function(e,t,n,i){return this.canConfirmAMLEvent(n,t)?i.getAMLRemediationMissingInfoENotification().then((function(e){var t=!1;return e.roadblocks&&e.roadblocks.length&&(t=!0),t})).then((function(e){return e})):e.resolve(!1)}},{key:"showRemediationMissingInfoRoadblock",value:function(e,t,n,i,a,s){return this.canConfirmAMLEvent(n,t)?i.getAMLRemediationMissingInfoENotification().then((function(e){var t=!1;return e.roadblocks&&e.roadblocks.length&&(a.showAMLRemediationMissingInfoRoadblock(e.roadblocks[0],e.mandatory,s),t=!0),t})).then((function(e){return e})):e.resolve(!1)}},{key:"buildAMLEventInProgressParams",value:function(e,t,n,i){return{amlEventInProgressParams:{askMeLater:{whereToNext:e,param:t},complete:{whereToNext:n,param:i}}}}},{key:"isEmployerAddressMandatory",value:function(e,t){return e.getAccounts().then((function(e){var n=!1;return e.accounts.forEach((function(e){e.type!==t.ACCOUNT_TYPES.MUTUAL_FUND&&e.type!==t.ACCOUNT_TYPES.LOAN&&e.type!==t.ACCOUNT_TYPES.MORTGAGE&&e.type!==t.ACCOUNT_TYPES.CREDIT_CARD||(n=!0)})),n})).then((function(e){return e}))}},{key:"isEmployerAddressEmpty",value:function(e){return null!=e&&this.isEmptyString(e.address_line1)&&this.isEmptyString(e.suite)&&this.isEmptyString(e.city)&&this.isEmptyString(e.province)&&this.isEmptyString(e.postal_code)}},{key:"isEmptyString",value:function(e){return null==e||0===e.length}},{key:"isEmployerAddressEmptyOld",value:function(e){var t=!0;return e.employer.company_address&&((e.employer.company_address.address_line1&&e.employer.company_address.address_line1.length>0||e.employer.company_address.suite&&e.employer.company_address.suite.length>0||e.employer.company_address.city&&e.employer.company_address.city.length>0||e.employer.company_address.postal_code&&e.employer.company_address.postal_code.length>0||e.employer.company_address.country&&e.employer.company_address.country.length>0)&&(t=!1),t&&(e.employer.company_address.country!==c.default.API.ADDRESS_CANADA_COUNTRY_CODE&&e.employer.company_address.country!==c.default.API.ADDRESS_UNITED_STATES_COUNTRY_CODE||e.employer.company_address.province&&e.employer.company_address.province.length>0&&(t=!1))),t}},{key:"employerAddressProvided",value:function(e){var t=!1;return e.employer.company_address&&(t=!1,e.employer.company_address.address_line1&&e.employer.company_address.address_line1.length>0&&e.employer.company_address.city&&e.employer.company_address.city.length>0&&e.employer.company_address.country&&e.employer.company_address.country.length>0&&e.employer.company_address.postal_code&&e.employer.company_address.postal_code.length>0&&(t=!0),t&&(e.employer.company_address.country!==c.default.API.ADDRESS_CANADA_COUNTRY_CODE&&e.employer.company_address.country!==c.default.API.ADDRESS_UNITED_STATES_COUNTRY_CODE||(t=!!(e.employer.company_address.province&&e.employer.company_address.province.length>0)))),t}},{key:"isValidNonMandatoryEmployerAddress",value:function(e,t,n){var i=!1;return t&&(n&&!this.employerAddressProvided(e)&&(i=!0),n||(i=!this.isEmployerAddressEmpty(e.employer.company_address)&&!this.employerAddressProvided(e))),i}},{key:"updateCustomerObject",value:function(e){var t=angular.copy(e);if(delete t.dateOfBirth,t.phoneNumbers&&((0,s.default)(t.phoneNumbers).forEach((function(e){t.phoneNumbers[e].type=e})),t.phone_list=(0,a.default)(t.phoneNumbers)),t.employment_status)if(t.employment_status=t.employment_status.code,-1!==d.default.EMPLOYED_STATUS_CODES.indexOf(t.employment_status)){if(this.isEmployerAddressEmpty(t.employer.company_address))t.employer.empty_company_address=!0,delete t.employer.company_address;else{var n=angular.copy(t.employer.company_address);n.address_line1&&(n.street_name=angular.copy(n.address_line1),delete n.address_line1,n=u.default.extractEmployerAddressStreetNumber(n)),n=u.default.removeEmptyAddressFields(n),t.employer.company_address=n,t.employer.company_address.country!==c.default.API.ADDRESS_CANADA_COUNTRY_CODE&&t.employer.company_address.country!==c.default.API.ADDRESS_UNITED_STATES_COUNTRY_CODE&&delete t.employer.company_address.province}delete t.occupation.occupationObject,delete t.occupation.industryObject}else delete t.employer,delete t.occupation;return t.confirm_event=!0,t}},{key:"prepareCustomerInfoConfirm",value:function(e){if(e.phoneNumbers={},e.phone_list){var t=!0,n=!1,a=void 0;try{for(var o,r=(0,i.default)(e.phone_list);!(t=(o=r.next()).done);t=!0){var l=o.value;l&&(e.phoneNumbers[l.type]=l,l.preferred&&(e.primaryPhoneType=l.type))}}catch(e){n=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw a}}var u=!0,d=!1,_=void 0;try{for(var E,h=(0,i.default)((0,s.default)(c.default.API.PHONE_TYPE));!(u=(E=h.next()).done);u=!0){var S=E.value;e.phoneNumbers[S]||(e.phoneNumbers[S]={number:"",type:S})}}catch(e){d=!0,_=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw _}}}if(e.addresses={},e.address_list){var T=!0,p=!1,f=void 0;try{for(var g,A=(0,i.default)(e.address_list);!(T=(g=A.next()).done);T=!0){var v=g.value;e.addresses[v.address_type]=v}}catch(e){p=!0,f=e}finally{try{!T&&A.return&&A.return()}finally{if(p)throw f}}}if(e.employer&&e.employer.company_address&&(e.employer.company_address=this.setEmployerAddressLine1(e.employer.company_address)),e.extraData={mailingAddressDifferent:!0},e.address_list&&e.address_list.length>1){var C=angular.copy(e.address_list[0]);delete C.address_type;var m=angular.copy(e.address_list[1]);delete m.address_type,angular.equals(C,m)&&(e.extraData.mailingAddressDifferent=!1)}}},{key:"setEmployerAddressLine1",value:function(e){var t=angular.copy(e),n=t.street_number?t.street_number.trim():"",i=t.street_name?t.street_name.trim():"";return t.address_line1=(n||"")+" "+(i||""),t.address_line1=t.address_line1.trim(),delete t.street_number,delete t.street_name,t}},{key:"isFeatureEnabled",value:function(e){return e.isEnabled("amlKYCRefresh")}},{key:"populateIntendedUseList",value:function(e,t){var n=this,i=[],a=[],s=[],o=[],r=[],l=[];e&&e.length>0&&e.forEach((function(e){if(e.masked_account_name=n.getAccountName(e,t),void 0!==e.missing_intended_use&&e.missing_intended_use){i.push(e);var c=!(!e.legal_instructions||!e.legal_instructions.intended_account_use);o.push({account_number:e.account_number,missing_intended_use:e.missing_intended_use,enableNext:c})}void 0!==e.missing_third_party&&e.missing_third_party&&(r.push({account_number:e.account_number,missing_third_party:e.missing_third_party,enableNext:!1}),a.push(e)),void 0!==e.missing_intended_use&&e.missing_intended_use||!e.legal_instructions||!e.legal_instructions.intended_account_use||(void 0===e.legal_instructions.original_intended_account_use&&(e.legal_instructions.original_intended_account_use=e.legal_instructions.intended_account_use,e.legal_instructions.original_other_intended_use=e.legal_instructions.other_intended_use),l.push({account_number:e.account_number,intended_use:e.legal_instructions.intended_account_use,other_intended_use:e.legal_instructions.other_intended_use,enableNext:!0}),s.push(e))}));var c=this.isHeaderForFirstMissingIu(i,a),u=0;return e.forEach((function(e){void 0!==e.missing_intended_use&&e.missing_intended_use&&(e.isFirstMissingIU=!0,c&&u>0&&(e.isFirstMissingIU=!1)),u+=1})),{missingIUList:i,missingTPIList:a,allNonMissingTpiIuList:s,getAllIuItemValidObj:o,getAllTpiItemValidObj:r,getAllNonMissingIUItemValidObj:l}}},{key:"isHeaderForFirstMissingIu",value:function(e,t){return void 0!==e&&e.length>0&&void 0!==t&&t.length<=0}},{key:"checkUserChangeImportantFieldValues",value:function(e){for(var t={},n=!1,i=0;e.length>i;){if(e[i]&&(t=e[i].data,!0===(n=!angular.equals(t.originalData.data,t.changedData.data))))return n;i+=1}return!1}},{key:"getAccountName",value:function(e,t){return(void 0!==e.account_nick_name&&""!==e.account_nick_name?e.account_nick_name:e.product_description)+t.getMaskedAccountNumber(e.account_number)}},{key:"cleanCustomerDataBeforeSubmit",value:function(e,t,n){e&&e.length>0&&e.forEach((function(e){if(delete e.isFirstMissingIU,delete e.masked_account_name,void 0!==e.legal_instructions)if(delete e.legal_instructions.original_intended_account_use,delete e.legal_instructions.original_other_intended_use,!1===e.legal_instructions.third_party)delete e.legal_instructions.third_party_info;else if(!0===e.legal_instructions.third_party&&void 0!==e.legal_instructions.third_party_info)if(e.legal_instructions.third_party_info.type===t.TYPES.INDIVIDUAL)delete e.legal_instructions.third_party_info.corporate_info;else{delete e.legal_instructions.third_party_info.person_info;var i=e.legal_instructions.third_party_info.corporate_info;i.type!==n.CORPORATION_BUSINESS.CORPORATION&&(delete i.incorporation_number,delete i.incorporation_place,delete i.incorporation_place_other),i.type===n.CORPORATION_BUSINESS.CORPORATION&&i.incorporation_place!==n.OTHER_INTENDED_USE.TYPE&&delete i.incorporation_place_other}}))}}]),e}();t.default=E,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,null,[{key:"findObjectType",value:function(e,t,n,i,a){if(null==e)return!1;var s=e[t];if(null==s)return!1;s.some((function(e,t){return e.type===n||e.address_type===n?(i&&i(e,t),!0):(a&&t>=s.length-1&&a(e,t),!1)}))}},{key:"isObjectChanged",value:function(t,n,i,a){var s=null;e.findObjectType(t,i,a,(function(e){s=e}));var o=null;return e.findObjectType(n,i,a,(function(e){o=e})),!angular.equals(s,o)}},{key:"isCountryChanged",value:function(t,n,i,a){var s=null;e.findObjectType(t,i,a,(function(e){s=e}));var o=null;return e.findObjectType(n,i,a,(function(e){o=e})),(null!==s||null!==o)&&(null===s&&null!==o||(null===s||null!==o)&&!angular.equals(s.country,o.country))}},{key:"getEmployerErrorCode",value:function(e){if(e&&e.field_name){if(0===e.field_name.indexOf("employer.company_address.street_number"))return"global.errorCodes.13517";if(0===e.field_name.indexOf("employer.company_address.street_name"))return"global.errorCodes.13518";if(0===e.field_name.indexOf("employer.company_name")){return 0===e.technical_description.indexOf("has profanity")?"global.errorCodes.41102":0===e.technical_description.indexOf("has Consecutive AML Restricted Symbols")?"global.errorCodes.41103":0===e.technical_description.indexOf("MIN_LENGTH")||0===e.technical_description.indexOf("MAX_LENGTH")?"global.errorCodes.41104":e.technical_description}return e.technical_description}return""}}]),e}();t.default=o,e.exports=t.default},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=o(n(45));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,o,r,l,c){(0,i.default)(this,e),this.$filter=t,this.LocaleService=n,this.LOCALES=n.localeConstants.LOCALES,this.now=s.default.utc(),this.timeStateConstants=a,this.FREQUENCY=a.FREQUENCY,this.tngDateSelectorConstants=o,this.BusinessDaysService=r,this.RequesterService=l,this.serviceConstants=c}return(0,a.default)(e,[{key:"isToday",value:function(e){var t=s.default.utc(e);return t.date()===this.now.date()&&t.month()===this.now.month()&&t.year()===this.now.year()}},{key:"isCurrentYear",value:function(e){return s.default.utc(e).year()===this.now.year()}},{key:"isCurrentMonth",value:function(e){var t=e.split("-"),n=t[0],i=t[1];return!(!n||!i)&&((0,s.default)().year()===Number(n)&&(0,s.default)().month()+1===Number(i))}},{key:"getNewPaymentDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=void 0;switch(t){case this.FREQUENCY.BIWEEKLY:a=s.default.utc(e).add(2,"weeks");break;case this.FREQUENCY.WEEKLY:a=s.default.utc(e).add(1,"weeks");break;case this.FREQUENCY.MONTHLY:a=s.default.utc(e).add(1,"months");break;case this.FREQUENCY.DAILY:a=s.default.utc(e).add(1,"days");break;default:return e}return i&&!this.BusinessDaysService.isBusinessDay(a)&&(a=this.BusinessDaysService.nextBusinessDay(a)),n?a:a.toDate()}},{key:"_isFrench",value:function(){return this.LocaleService.locale===this.LOCALES.FR_CA}},{key:"convertToOrdinalDay",value:function(e){return this._isFrench()?e.format("D"):e.format("Do")}},{key:"convertToOrdinalMonthDay",value:function(e){return this._isFrench()?this.$filter("date")(e.toDate(),"d MMMM"):e.format("MMMM Do")}},{key:"convertToFormattedMonthDayYear",value:function(e){return this._isFrench()?this._setMomentLocale(e).format("D MMMM YYYY"):this._setMomentLocale(e).format("MMMM D, YYYY")}},{key:"convertToFormattedNonUTCMonthDayYear",value:function(e){return this._isFrench()?(0,s.default)(s.default.utc(e).toDate()).format("D MMMM YYYY"):(0,s.default)(s.default.utc(e).toDate()).format("MMMM D, YYYY")}},{key:"formatMomentToTimeWithLocalizedTime",value:function(e){return this._isFrench()?(0,s.default)(s.default.utc(e).toDate()).format("H [h] mm"):(0,s.default)(s.default.utc(e).toDate()).format("hh:mm a")}},{key:"convertToFormattedMonthYear",value:function(e){return this._setMomentLocale(e).format("MMMM YYYY")}},{key:"convertToFormattedShortMonthYear",value:function(e){return this._setMomentLocale(e).format("MMM YYYY")}},{key:"convertToFormattedDayMonthYear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return this._setMomentLocale(e).format("DD"+t+"MMM"+t+"YYYY")}},{key:"convertToNumberForm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return this._isFrench()?this._setMomentLocale(e).format("DD"+t+"MM"+t+"YYYY"):this._setMomentLocale(e).format("MM"+t+"DD"+t+"YYYY")}},{key:"printFullOrdinalDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"longDateOrdinal",n=(0,s.default)(e);return this.$filter("momentDate")(n,t)}},{key:"dateFormatter",value:function(){return this._isFrench()?"d MMMM yyyy":"MMMM d, yyyy"}},{key:"formatMomentToDateIgnoreTimezone",value:function(e){return new Date(e.valueOf())}},{key:"formatMomentToDateWithTimezone",value:function(e){return this._setMomentLocale(e).format("dddd, MMMM Do")}},{key:"formatMomentToLongDateWithTimezone",value:function(e){return this._setMomentLocale(e).format("MMMM Do, YYYY")}},{key:"formatMomentToDateWithTimezoneAndYear",value:function(e){return this._setMomentLocale(e).format("MMMM Do YYYY")}},{key:"formatMomentToDateWithTimeAndTimezone",value:function(e){return this._isFrench()?this._setMomentLocale(e).format("DD MMMM YYYY, H [h] mm z"):this._setMomentLocale(e).format("DD MMMM YYYY [at] hh:mm a z")}},{key:"_setMomentLocale",value:function(e){return this._isFrench()?e.locale("fr-ca"):e.locale("en-ca")}},{key:"serverDateToTngDate",value:function(e,t){var n=null;return e&&(n=this.$filter("date")(e,"longDate"),t&&(n=this.$filter("firstDayOfMonth")(n))),n}},{key:"momentToTngDate",value:function(e){return this.serverDateToTngDate(this.momentToServerFormat(e))}},{key:"getTodayInServerFormat",value:function(){return(0,s.default)().format(this.tngDateSelectorConstants.DATE_FORMATS.numericYearMonthDayWithDashes)}},{key:"momentToServerFormat",value:function(e){return e.format(this.tngDateSelectorConstants.DATE_FORMATS.numericYearMonthDayWithDashes)}},{key:"getTodayTngDate",value:function(){return this.serverDateToTngDate(this.getTodayInServerFormat())}},{key:"serverFormatToMoment",value:function(e){return(0,s.default)(e,this.tngDateSelectorConstants.DATE_FORMATS.numericYearMonthDayWithDashes)}},{key:"getDateProperties",value:function(e){var t=this,n=this.momentToServerFormat(e);return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_DATE_PROPERTIES,{queries:{date:n}}).then((function(e){if(e.response_status.status_code!==t.serviceConstants.STATUS_CODES.SUCCESS)throw e;return e}))}},{key:"isDateBefore",value:function(e,t){return(0,s.default)(e,"YYYY-MM-DD").isBefore(t,"YYYY-MM-DD")}},{key:"isDateSameOrAfter",value:function(e,t){return(0,s.default)(e,"YYYY-MM-DD").isSameOrAfter(t,"YYYY-MM-DD")}},{key:"isDateSame",value:function(e,t){return(0,s.default)(e,"YYYY-MM-DD").isSame(t,"YYYY-MM-DD")}}]),e}();r.$inject=["$filter","LocaleService","timeStateConstants","tngDateSelectorConstants","BusinessDaysService","RequesterService","serviceConstants"],t.default=r,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("bills")]).then(function(){var i=n(1849),a=n(547),s=n(548);t.load([{name:i.name},{name:a.name},{name:s.name}]),e([i,a,s])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){n.e("budgetBundle").then(function(){var i=n(1857),a=n(1858);t.load({name:i.name},{name:a.name}),e([i,a])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_ETRANSFER_BUTTONS="SET_ETRANSFER_BUTTONS",t.CANCEL_ETRANSFER="CANCEL_ETRANSFER",t.EXIT_ETRANSFER="EXIT_ETRANSFER",t.ETRANSFER_RESET="ETRANSFER_RESET",t.PREVIOUS_STATE="PREVIOUS_STATE",t.ETRANSFER_TYPE_SELECTED="ETRANSFER_TYPE_SELECTED",t.SETUP_CREATE_CONTACT="SETUP_CREATE_CONTACT",t.SETUP_DELETE_CONTACT="SETUP_DELETE_CONTACT",t.SETUP_UPDATE_CONTACT="SETUP_UPDATE_CONTACT",t.PAYMENT_MOBILE_NEXT="PAYMENT_MOBILE_NEXT",t.FROM_REVIEW_TO_ENTRY="FROM_REVIEW_TO_ENTRY",t.FROM_REVIEW_TO_SETUP="FROM_REVIEW_TO_SETUP",t.ETRANSFER_SETUP_MOBILE="ETRANSFER_SETUP_MOBILE",t.ETRANSFER_SECURITY_QUESTION_AND_ANSWER="ETRANSFER_SECURITY_QUESTION_AND_ANSWER",t.ETRANSFER_REVIEW="ETRANSFER_REVIEW",t.ACCEPT_INTERAC_AGREEMENT="ACCEPT_INTERAC_AGREEMENT",t.SAVE_TRANSFER_DETAILS="SAVE_TRANSFER_DETAILS",t.ETRANSFER_DONE="ETRANSFER_DONE",t.HIDE_ETRANSFER_EXIT_CONFIRMATION="HIDE_ETRANSFER_EXIT_CONFIRMATION",t.ETRANSFER_LOADING_UPDATE="ETRANSFER_LOADING_UPDATE",t.ETRANSFER_ADD_NEW_RECIPIENT="ETRANSFER_ADD_NEW_RECIPIENT"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="";n=e?"/passmarks?"+e:void 0!==t?"/passmarks?imgIdx="+t:"/passmarks?imgIdx=";return n},e.exports=t.default},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s){(0,i.default)(this,e),this.$log=t,this.$q=n,this.RequesterService=a,this.serviceConstants=s}return(0,a.default)(e,[{key:"putMonthlyFees",value:function(e){var t={data:{monthly_fee:e}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_MONTHLY_FEES,t)}}]),e}();o.$inject=["$log","$q","RequesterService","serviceConstants"],t.default=o,e.exports=t.default},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={URLS:{RATES:"/{{langCode}}/rates/index.html"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={URL_PATH:"/settings",CIF_TYPES:{NORMAL:{KEY:"NORMAL",CAPABILITY:"PERSON_UPDATE_FULL"},CHILD:{KEY:"Child",CAPABILITY:"PERSON_UPDATE_BASIC"},PARENT:{KEY:"PARENT",CAPABILITY:"PERSON_UPDATE_FULL"},MORTGAGE_ONLY:{KEY:"MORTGAGE_ONLY",CAPABILITY:"PERSON_UPDATE_PARTIAL"},CC_AU:{KEY:"CC_AU",CAPABILITY:"PERSON_UPDATE_MINIMUM"},BUSINESS:{KEY:"BUSINESS",CAPABILITY:"BUSINESS_UPDATE_FULL"},BUSINESS_ENROLL:{KEY:"BUSINESS",CAPABILITY:"BUSINESS_ENROLL"},KYC_PENDING:{KEY:"KYC_PENDING",CAPABILITY:"KYC_PENDING"},KYC_ENROLL:{KEY:"KYC_ENROLL",CAPABILITY:"KYC_ENROLL"},AML_HIGH_RISK:{KEY:"AML_HIGH_RISK",CAPABILITY:"AML_HIGH_RISK"}},ACTION_CODES:{RESET_PASSMARK:"RESET_PASSMARK",UPDATE_PIN:"UPDATE_PIN"},COMPONENT:{GENERAL:{VALUE:"GENERAL",LABEL:"userSettings.nav.general",URL:"/general",SUB_COMPONENTS:{CREDIT_CARD:"creditCards",REFER_A_FRIEND:"referAFriend",FATCA:"fatca",CLIENT_CARD:"clientCard",LEFT_TO_SPEND:"lts"}},ORANGE_ALERTS:{VALUE:"ORANGE_ALERTS",LABEL:"userSettings.nav.orange_alerts",URL:"/orange-alerts",MAXAMOUNT:"99999.99",MINAMOUNT:"0"},EXTERNAL_ACCOUNTS:{VALUE:"EXTERNAL_ACCOUNTS",LABEL:"userSettings.nav.external_accounts",URL:"/external-accounts"},ASP:{VALUE:"ASP",LABEL:"userSettings.nav.automatic_savings_program",URL:"/automatic-savings-program"},MONEY_TRANSFER:{VALUE:"MONEY_TRANSFER",LABEL:"userSettings.nav.money_transfer",URL:"/money-transfer"},CONTEST_BONUSES:{VALUE:"CONTEST_BONUSES",LABEL:"userSettings.nav.contest_bonuses",URL:"/contests-bonuses"}},PIN_TYPES:{CURRENT_PIN:"CURRENT_PIN",NEW_PIN:"NEW_PIN",NEW_PIN_CONFIRM:"NEW_PIN_CONFIRM"},DATE_DATA_KEYS:{START_DATE:"start_date",END_DATE:"end_date",DEPOSITE_DATE:"deposit_date",RATE_OFFER_DETAILS:"rate_offer_details",EXPIRY_DATE:"expiry_date"},CONTEST_BONUS_TYPES:{CONTEST:"C",BONUS:"B"},EMPLOYED_STATUS_CODES:["EMPLOYED","SELF_EMPLOYED"],RESPONSE_ERROR:{KEYS:{ERROR_MESSAGE:"error_message",DETAILS:"details",STATUS_CODE:"status_code"},STATUS_CODES:{SYSTEM_ERROR:"SYSTEM_ERROR"}},EVENTS:{CIF_SWITCHER_READY:"CIF_SWITCHER_READY",CARD_REPLACEMENT_DATA_INVALIDATED:"CARD_REPLACEMENT_DATA_INVALIDATED"},DATA_TYPES:{CUSTOMER_INFO:"customerInfo",CUSTOMER_INFO_AI:"customerInfoAi",PREFERENCES:"preferences",ACCOUNTS:"accounts",CUSTOMER_CARDS:"customerCards",CAPABILITIES:"capabilities",PASSMARK_DATA:"passmarkData",FATCA_DATA:"fatcaData"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={MOVE_MONEY:"moveMoney",MOVE_MONEY_SELECTED_ACCOUNT:"moveMoneySelectedAccount",MOVE_MONEY_CC:"moveMoneyCreditCard",MOVE_MONEY_EDIT:"moveMoneyEdit",SEND_ETRANSFER_MODAL:"send_etransfer",EMT:"emt",EMT_RECLAIM:"emtReclaim",OTHER_COMMUNICATIONS:"otherCommunications",RDC:"rdc",PAY_BILL:"pay_bill",PAY_BILL_V2:"pay_bill_v2",ADD_BILLER_V2:"add_biller_v2",ADD_BILL:"add_bill",UNCATEGORIZED_TRANSACTIONS:"uncategorizedTransactions",UNCONFIRMED_TRANSACTIONS:"unconfirmedTransactions",CREDIT_CARD_BALANCE_TRANSFER:"creditCardBalanceTransfer",CREDIT_LIMIT_CHANGE:"creditLimitChange",ACTIVATE_CREDIT_CARD:"activateCreditCard",ACTIVATE_DEBIT_CARD:"activateDebitCard",MOBILE_STEP_UP:"mobileStepUp",DOCUMENT_PROOF_INSTRUCTION:"documentProofInstruction",DOCUMENT_PROOF_UPLOAD:"documentProofUpload",ASP:"asp",DIRECT_DEPOSIT_FORM:"directDepositForm",E_NOTIFICATION:"eNotification",PENDING_APPLICATIONS:"pendingApplications",CSA_CONVERSION:"csaConversion",REFER_FRIEND:"referFriend",DONATIONS:"donations",HOLDS:"holds",ORDER_CHEQUES:"orderCheques",REWARDS:"rewards",OVERDRAFT_CHANGE_LIMIT:"overDraftChangeLimit",OVERDRAFT_PROTECTION_APPLY:"overDraftProtectionApply",OVERDRAFT_CONSENT_MODAL:"overDraftConsentModal",RIF_SUMMARY_MODAL:"rifSummaryModal",GOALS:"goals",SHOW_DOUBLE_SAFE_MODAL:"showDoubleSafeModal",ACTIVATE_OFFER_MODAL:"activateOfferModal",BENEFICIARIES_MODAL:"beneficiariesModal",MAGIC_SWITCH_MODAL:"magicSwitchModal",UPDATE_EMAIL_MODAL:"updateEmailModal",MORTGAGE_RENEWAL_MODAL:"mortgageRenewalModal",MAKE_INITIAL_DEPOSIT_MODAL:"makeInitialDepositModal",PEOPLE_LIKE_YOU:"peopleLikeYou",REACH_GOAL_SOONER:"reachGoalSooner",GIC_MATURITY_OPTIONS:"gicMaturityOptions",ACCOUNT_CONTRIBUTION_DETAILS_MODAL:"accountContributionDetailsModal",DEBIT_CARD_REPLACEMENT:"debitCardReplacement",AML_CONFIRM_INFO:"amlConfirmInfo",KYC_ROADBLOCK_MODAL:"kycRoadblockModal",CREDIT_CARD_CONVERSION:"creditCardConversion",JOINT_INVITE_MANAGER:"jointInviteManager",ACCOUNT_AGGREGATION:"accountAggregation",MANUAL_REVIEW_TLOC_APPLICATION_MODAL:"manualReviewTlocApplication",TLOC_APP_VERIFY_METHOD_MODAL:"tlocAppVerifyMethodModal"},a=[i.MOVE_MONEY,i.MOVE_MONEY_SELECTED_ACCOUNT,i.MOVE_MONEY_CC,i.MOVE_MONEY_EDIT,i.RDC,i.ACTIVATE_CREDIT_CARD,i.ACTIVATE_DEBIT_CARD,i.REFER_FRIEND,i.REWARDS,i.CREDIT_CARD_CONVERSION];t.default={EVENTS:{CLOSE_MODALS:"closeModals",SHOW_MODAL:"showModal",SHOW_MODAL_FROM_STATE:"showModalFromState"},AVAILABLE_MODALS:i,LEVEL2_REQUIRED_MODALS:a,GLOBAL_EVENTS:{GLOBAL_MODAL_CLOSE:"GLOBAL_MODAL_CLOSE"},FLOW_STEPS_HELPER:{INTRO:"INTRO"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(447)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c,u,d){(0,a.default)(this,e),this.$scope=t,this.$element=n,this.$timeout=i,this.document=r&&r[0],this.InsightsConstants=s,this.EnvironmentService=o,this.EventBusService=l,this.ModalDialogConstants=c,this.ModalDialogService=u,this.CurrentStateService=d,this.DIALOG_OPEN_CSS_CLASS="dialog-open",this.PLATFORM_DIALOG_OPEN_CSS_CLASS=this.EnvironmentService.isIOS()?"ios-dialog-open":"non-ios-dialog-open"}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.$scope.$on("$includeContentError",(function(){e.cardLoadError=!0,e.onEvent({action:e.InsightsConstants.EVENT_MAP.INSIGHT_LOADED,properties:{isLightCard:!1}})}))}},{key:"onInsightLoaded",value:function(){var e=this.$element.html().indexOf("banner--insights-white")>-1;this.onEvent({action:this.InsightsConstants.EVENT_MAP.INSIGHT_LOADED,properties:{isLightCard:e}})}},{key:"onModalLoaded",value:function(){var e=this;this.$timeout((function(){var t=e.$element.html();(t.indexOf("banner--insightsModal")>-1||t.indexOf("takeTour--slide")>-1)&&e.$element.addClass("insightsModal--hide-header-mobile"),t.indexOf("minimalistic-modal")>-1&&(e.isMinimalisticModal=!0,e._processModalDialogOn())}),150)}},{key:"handleEvent",value:function(e,t){this.isMinimalisticModal&&"closeModal"===e&&this._processModalDialogOff(),this.onEvent({action:e,properties:t})}},{key:"getDeviceWidth",value:function(){return window.innerWidth}},{key:"setPrototypeOf",value:function(e,t){return(0,i.default)(e,t)}},{key:"_processModalDialogOn",value:function(){this._publishModalOpen(),this.CurrentStateService.modalOpen(),this._addDialogBodyClass(),this.EnvironmentService.isIOS()&&this._addMobileBackgroundStyling(),this.ModalDialogService.registerOpenModal(this)}},{key:"_processModalDialogOff",value:function(){this._publishModalClose(),this.CurrentStateService.modalClose(),this._removeDialogBodyClass(),this.ModalDialogService.unregisterOpenModal(this),this.ModalDialogService.hasOpenModal()||this.EnvironmentService.isIOS()&&this._removeMobileBackgroundStyling()}},{key:"_addDialogBodyClass",value:function(){this.lastScrollTop=this.document.body.scrollTop,this.document.body.classList.add(this.DIALOG_OPEN_CSS_CLASS,this.PLATFORM_DIALOG_OPEN_CSS_CLASS),this.document.documentElement.classList.add(this.DIALOG_OPEN_CSS_CLASS,this.PLATFORM_DIALOG_OPEN_CSS_CLASS),this.ModalDialogService.registerModalWithBodyCssChange(this)}},{key:"_removeDialogBodyClass",value:function(){this.ModalDialogService.unregisterModalWithBodyCssChange(this),this.ModalDialogService.hasModalWithBodyCssChange()||(this.document.body.classList.remove(this.DIALOG_OPEN_CSS_CLASS,this.PLATFORM_DIALOG_OPEN_CSS_CLASS),this.document.documentElement.classList.remove(this.DIALOG_OPEN_CSS_CLASS,this.PLATFORM_DIALOG_OPEN_CSS_CLASS)),this.document.body.scrollTop=this.lastScrollTop}},{key:"_publishModalOpen",value:function(){this.EventBusService.publish(this.ModalDialogConstants.EVENTS.MODAL_OPENED,{})}},{key:"_publishModalClose",value:function(){this.EventBusService.publish(this.ModalDialogConstants.EVENTS.MODAL_CLOSED,{})}},{key:"_addMobileBackgroundStyling",value:function(){angular.element(".minimalistic-modal").addClass("ios-background")}},{key:"_removeMobileBackgroundStyling",value:function(){angular.element(".minimalistic-modal").removeClass("ios-background")}},{key:"enableReflowOnResize",value:function(){var e=this;this.resizeEventListener||(this.resizeEventListener=function(){e.disableModal=!0,e.$timeout((function(){e.disableModal=!1}),300)},this.EnvironmentService.isNative()?window.addEventListener("orientationchange",this.resizeEventListener):window.addEventListener("resize",this.resizeEventListener))}},{key:"$onDestroy",value:function(){this.resizeEventListener&&(this.EnvironmentService.isNative()?window.removeEventListener("orientationchange",this.resizeEventListener):window.removeEventListener("resize",this.resizeEventListener))}}]),e}();r.$inject=["$scope","$element","$timeout","InsightsConstants","EnvironmentService","$document","EventBusService","modalDialogConstants","ModalDialogService","CurrentStateService"],t.default=r,e.exports=t.default},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionService=void 0;var i=o(n(15)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=t.SessionService=function(){function e(t,n,i,s,o,r,l,c,u,d,_,E,h){(0,a.default)(this,e),this.$q=t,this.$log=n,this.StorageService=c,this.$injector=i,this.NativeService=s,this.EnvironmentService=o,this.CacheFactory=r,this.serviceConstants=l,this.storageConstants=u,this.$cookies=d,this.$document=_,this.$window=E,this.EventBusService=h,this._hasInit=!1,this._initDeferred=null,this._isNewClientEnrollmentSession=!1,this.resetSession(),this.savedUserIds=[],this.savedBusinessIds=[],this.device=null,this.locale=null,this.isDeviceBound=!1,this.isFaceIDDevice=!1,this.hasTriedBiometricAutoLogin=!1,this.cameFromTaxBanner=!1}return(0,s.default)(e,[{key:"cleanChallenge",value:function(){this.authenticated=!1,this.transaction_token=null,this.hasAIF=null,this.passmark={},this.userInfo=null,this.userhash=null,this.authStatus=null,this.isBusiness=null,this.rememberMe=!1,this.shouldOptIn=!1,this.secretPhrase=null,this.showDisableAuth=!1,this.securityQuestion=null,this.clientIdentifier=null,this.nameToRemember=null,this.authCompleteBody=null,this.deferredPinShowing=!1,this.nextStep=null,this.commandStep=null,this.showCaptcha=null,this.authStatus=null,this.isPinLocked=!1,this.amlEventConfirmed=!1,this.loginToken=null,this.showForgotPinLink=!1,this.isDeviceBound=!1,this.isPassmarkLocked=!1,this.accountSummaryViewed=!1,this.hideCanadaPostStrike=!1,this.showAMLConfirmInfo=!1,this.mgtTrackerDocUploaded=!1}},{key:"resetSession",value:function(){this.cleanChallenge(),this.errorMessage=null,this.isTimeout=!1,this.isLocked=!1,this.enrolledWithOrangeKey=!1}},{key:"resetDeviceSession",value:function(){this.resetSession(),this.savedUserIds=null,this.savedBusinessIds=null,this.savedAuthorizedIds=null}},{key:"destroyCache",value:function(){this.CacheFactory.destroyAll(),this.clearMenuCache()}},{key:"getSession",value:function(){return{authenticated:this.authenticated,hasAIF:this.hasAIF,passmark:this.passmark,userInfo:this.userInfo,userhash:this.userhash,authStatus:this.authStatus,isBusiness:this.isBusiness,loginToken:this.loginToken,rememberMe:this.rememberMe,shouldOptIn:this.shouldOptIn,secretPhrase:this.secretPhrase,showDisableAuth:this.showDisableAuth,securityQuestion:this.securityQuestion,clientIdentifierDisplay:this.clientIdentifierDisplay,clientIdentifier:this.clientIdentifier,lastLoggedUserHash:this.lastLoggedUserHash,nameToRemember:this.nameToRemember,authCompleteBody:this.authCompleteBody,deferredPinShowing:this.deferredPinShowing,device:this.device,locale:this.locale,showCaptcha:this.showCaptcha,nextStep:this.nextStep,nextCommand:this.nextCommand,savedUserIds:this.savedUserIds,savedBusinessIds:this.savedBusinessIds,savedAuthorizedIds:this.savedAuthorizedIds,errorMessage:this.errorMessage,isTimeout:this.isTimeout,isPinLocked:this.isPinLocked,isPinLockedInPinPage:this.isPinLockedInPinPage,firstTime:this.firstTime,enrolledWithOrangeKey:this.enrolledWithOrangeKey,hasConfirmedBasicInfo:this.hasConfirmedBasicInfo,showForgotPinLink:this.showForgotPinLink,amlEventConfirmed:this.amlEventConfirmed,isDeviceBound:this.isDeviceBound,isPassmarkLocked:this.isPassmarkLocked,accountSummaryViewed:this.accountSummaryViewed,hideCanadaPostStrike:this.hideCanadaPostStrike,showAMLConfirmInfo:this.showAMLConfirmInfo,fido2InitAuth:this.fido2InitAuth}}},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"setLastLoggedUserHash",value:function(){this.clientIdentifier&&(this.lastLoggedUserHash=this.clientIdentifier)}},{key:"hasInit",value:function(){return this._hasInit}},{key:"getUserByRememberMeHash",value:function(e){return this.savedUserIds.find((function(t){return t.rememberMeHash===e}))}},{key:"getUserByUserHash",value:function(e){return this.savedUserIds.find((function(t){return t.userHash===e}))}},{key:"initSession",value:function(){var e=this;return this.NativeService.isFaceIDAvailable().then((function(t){e.isFaceIDDevice=!!t})),this.EnvironmentService.isNative()?this._loadSessionFromCache():this._initDeferred?this._initDeferred.promise:(this._initDeferred=this.$q.defer(),this._loadSessionFromCache().finally((function(){e._initDeferred.resolve()})),this._initDeferred.promise)}},{key:"_loadSessionFromCache",value:function(){var e=this,t=this.$q.defer();return this.locale=this.$cookies.get(this.storageConstants.COOKIES.LANG_PREF),this._getSessionFromStorage().then((function(t){return t?(e._hasInit=!0,e.EnvironmentService.isNative()||(e.authenticated=t.authenticated,e.transaction_token=t.transaction_token,e.clientIdentifier=t.clientIdentifier,e.device=t.device),t.savedUserIds&&(e.savedUserIds=t.savedUserIds),t.savedBusinessIds&&(e.savedBusinessIds=t.savedBusinessIds),t.savedAuthorizedIds&&(e.savedAuthorizedIds=t.savedAuthorizedIds),e.amlEventConfirmed=t.amlEventConfirmed,e.enrolledWithOrangeKey=t.enrolledWithOrangeKey,e.accountSummaryViewed=t.accountSummaryViewed,e.hasConfirmedBasicInfo=t.hasConfirmedBasicInfo,e.hideCanadaPostStrike=t.hideCanadaPostStrike,e.showAMLConfirmInfo=t.showAMLConfirmInfo,e.$q.when()):(e.cleanChallenge(),e.saveSession())})).catch((function(t){e._hasInit=!1,e.$log.debug("Error getting session",t)})).finally((function(){t.resolve()})),t.promise}},{key:"_getSessionFromStorage",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.SESSION)}},{key:"deviceHasExistingTouchId",value:function(){var e=this;return this.NativeService.getTouchId().then((function(t){return t||e.$q.reject()}))}},{key:"deviceHasExistingQuickView",value:function(){var e=this;return this.$q.all({defer:this.NativeService.getDeferredPin()}).then((function(t){return t&&!(!t.defer||!t.defer.userhash)||e.$q.reject()}))}},{key:"deviceHasExistingFingerprintId",value:function(){var e=this;return this.NativeService.getFingerprintId().then((function(t){return t||e.$q.reject()}))}},{key:"userHasExistingBiometricAuthMethod",value:function(){var e=this;return this.userhash&&(this.EnvironmentService.isIOS()||this.EnvironmentService.isAndroid())?(this.EnvironmentService.isIOS()?this.deviceHasExistingTouchId():this.deviceHasExistingFingerprintId()).then((function(t){return t.userhash===e.userhash?t:e.$q.reject()})):this.$q.reject()}},{key:"userHasExistingQuickView",value:function(){var e=this;return this.$q.all({defer:this.NativeService.getDeferredPin()}).then((function(t){return t?{defer:t.defer&&t.defer.userhash===e.userhash&&t.defer.device_alias}:e.$q.reject()}))}},{key:"getAuthMethodAvailability",value:function(){return this.NativeService.getAuthMethodAvailability()}},{key:"isFaceIDAvailable",value:function(){return this.isFaceIDDevice}},{key:"setTriedBiometricAutoLogin",value:function(e){this.hasTriedBiometricAutoLogin=e}},{key:"getSavedUsers",value:function(){return this.$q.all({remember:this.NativeService.getRememberedList(),biz:this.NativeService.getRememberedBusinessList(),defer:this.NativeService.getDeferredPin(),touch:this.NativeService.getTouchId(),fingerprintId:this.NativeService.getFingerprintId(),aif:this.NativeService.getRememberedAIFList()})}},{key:"removeSavedId",value:function(e){var t=this.savedUserIds.filter((function(t){return t.rememberMeHash!==e}));if(this.savedUserIds.length!==t.length)return this.savedUserIds=t,void(this.EnvironmentService.isNative()&&(this.savedAuthorizedIds=t))}},{key:"hasAgreedTOS",value:function(){return this.$log.debug("has tos?",this.userhash,this.clientIdentifier),this.NativeService.hasTOSed(this.userhash).then((function(){return!0}),(function(){return!1}))}},{key:"addToTOS",value:function(){return this.$log.debug("set tos?",this.userhash,this.clientIdentifier),this.NativeService.addTOSList(this.userhash)}},{key:"addToOptIn",value:function(){return this.NativeService.addOptInList(this.userhash)}},{key:"setMenuCache",value:function(e){var t=this;if(!this.EnvironmentService.isNative()){if(null==e)return;var n=this.storageConstants.KEYS.CAPABILITIES;(0,i.default)(n).forEach((function(i){var a=e.indexOf(i)>-1;t.StorageService.setItem(n[i],a)}))}}},{key:"clearMenuCache",value:function(){var e=this;if(!this.EnvironmentService.isNative()){var t=this.storageConstants.KEYS.CAPABILITIES;(0,i.default)(t).forEach((function(n){e.StorageService.deleteItem(t[n])}))}}},{key:"getAndSetNewClientEnrollmentSession",value:function(e){var t=this._isNewClientEnrollmentSession;return this._isNewClientEnrollmentSession=e,t}},{key:"addFingerPrintPrompt",value:function(e){var t=this;return this.NativeService.getAllFingerPrintPromptList().then((function(n){return(n||[]).find((function(e){return e.key===t.userhash}))?t.$q.when(!0):t.NativeService.addFingerPrintPromptList({key:t.userhash,value:e})}))}},{key:"getFingerPrintPrompt",value:function(){var e=this;return this.NativeService.getAllFingerPrintPromptList().then((function(t){return(t||[]).filter((function(t){return t.key===e.userhash})).map((function(e){return e.value}))}))}},{key:"removeFingerPrintPrompt",value:function(e){return this.NativeService.removeFingerPrintPromptList({key:this.userhash,value:e})}},{key:"getDeviceLoginOfferSettings",value:function(){var e=this,t={shouldSkipOffer:!0,isTouchIdSetupable:!1,isFingerprintIdSetupable:!1,fingerprintPrompt:[]};return this.isBusiness||this.EnvironmentService.isIOS()&&!this.shouldOptIn?this.$q.when(t):this.$q.all({hasOptedIn:this.NativeService.hasOptedIn(this.userhash),device:this.NativeService.getAuthMethodAvailability(),touchId:this.NativeService.getTouchId(),fingerprint:this.NativeService.getFingerprintId(),defer:this.NativeService.getDeferredPin(),fingerprintPrompt:this.getFingerPrintPrompt()}).then((function(n){if(!n)return t;var i=n.device&&n.device.isTouchIDAvailable&&n.device.isTouchIDDeviceSupported,a=n.touchId,s=i&&!a,o=n.device&&n.device.isAndroidFingerprintAvailable&&n.device.isAndroidFingerprintDeviceSupported,r=n.fingerprint,l=o&&!r,c=!(n.defer&&n.defer.userhash),u=!0;if(e.shouldOptIn)if(e.EnvironmentService.isIOS()){var d=!s&&!c;u=n.hasOptedIn||d}else if(e.EnvironmentService.isAndroid()){var _=!l&&!c;u=n.hasOptedIn||_}return{shouldSkipOffer:u,isTouchIdSetupable:s,isQuickViewSetupable:c,isFingerprintIdSetupable:l,fingerprintPrompt:n.fingerprintPrompt}}))}},{key:"saveSession",value:function(){var e=this.getSession(),t={authenticated:e.authenticated,device:e.device,transaction_token:e.transaction_token,clientIdentifier:e.clientIdentifier,savedUserIds:this._filterRememberMe(e.savedUserIds),savedBusinessIds:this._filterRememberMe(e.savedBusinessIds),savedAuthorizedIds:this._filterRememberMe(e.savedAuthorizedIds),amlEventConfirmed:e.amlEventConfirmed,enrolledWithOrangeKey:e.enrolledWithOrangeKey,hasConfirmedBasicInfo:e.hasConfirmedBasicInfo,hideCanadaPostStrike:e.hideCanadaPostStrike,showAMLConfirmInfo:e.showAMLConfirmInfo};return this.StorageService.setItem(this.storageConstants.KEYS.SESSION,t)}},{key:"saveLocale",value:function(e){this.locale=e;var t=new Date,n={path:"/",secure:!0,expires:new Date(t.getFullYear()+1,t.getMonth(),t.getDate())};"production"!==this.EnvironmentService.getCurrentEnvironment()&&delete n.secure;try{var i=void 0,a=this.$document[0].createElement("a");a.href=this.$window.location.href;var s=a.hostname.split("."),o=!s.some((function(e){return+e!=+e}));(i=1===s.length||o?null:"."+s.slice(s.length-2).join("."))&&(n.domain=i)}catch(e){this.$log.error("Could not extract domain")}this.$cookies.put(this.storageConstants.COOKIES.LANG_PREF,e,n)}},{key:"_filterRememberMe",value:function(e){return e?e.filter((function(e){return-1!==e.rememberMeHash})):[]}},{key:"setTransactionToken",value:function(e){this.transaction_token=e,this.EventBusService.publish("updateTransactionToken",{transaction_token:e})}},{key:"setCameFromTaxBanner",value:function(e){this.cameFromTaxBanner=e}},{key:"getCameFromTaxBanner",value:function(){return this.cameFromTaxBanner}}]),e}();r.$inject=["$q","$log","$injector","NativeService","EnvironmentService","CacheFactory","serviceConstants","StorageService","storageConstants","$cookies","$document","$window","EventBusService"],t.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(544),s=(i=a)&&i.__esModule?i:{default:i};t.default=function(e){var t={};try{e.response_status&&Array.isArray(e.response_status.details)&&e.response_status.details.forEach((function(e){var n=e.description||e.technical_description;(0,s.default)(t,e.field_name,n)}))}catch(e){t.unableToParse=!0,t.error=e}return t},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CODES:{EMPLOYED:"EMPLOYED",SELF_EMPLOYED:"SELF_EMPLOYED",RETIRED:"RETIRED",STUDENT:"STUDENT",HOMEMAKER:"HOME_MAKER",UNEMPLOYED:"UNEMPLOYED"},WS_CODES:{EMPLOYED:"EM",SELF_EMPLOYED:"SE",RETIRED:"RT",STUDENT:"SD",HOME_MAKER:"HM",UNEMPLOYED:"UP"}},e.exports=t.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(2)),s=r(n(143)),o=r(n(366));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,a){(0,i.default)(this,e),this.$log=t,this.EnvironmentService=n,this.CustomerInfoService=a,this.checkAmlKycRefreshFeatureFlag=o.default.isFeatureEnabled(this.EnvironmentService),this.allIuItemValid=[],this.allTpiItemValid=[],this.allNonMissingIUItemValid=[]}return(0,a.default)(e,[{key:"providedMissingTpiData",value:function(e){this.$log.debug("AD || IntendedUseTPIReviewHelper :: providedMissingTpiData - TPI - data :: ",e),(0,s.default)(this.missingThirdPartyList,(function(t){t.account_number===e.accountNumber&&(t.third_party=!0,t.legal_instructions.third_party_info=e.legal_instructions.third_party_info)}))}},{key:"providedMissingIuData",value:function(e){(0,s.default)(this.missingIntendedUseList,(function(t){t.account_number===e.accountNumber&&e.legal_instructions&&(void 0===t.legal_instructions&&(t.legal_instructions={}),e.legal_instructions.intended_account_use&&(t.legal_instructions.intended_account_use=e.legal_instructions.intended_account_use),e.legal_instructions.other_intended_use&&(t.legal_instructions.other_intended_use=e.legal_instructions.other_intended_use))}))}},{key:"providedNonMissingIuData",value:function(e){(0,s.default)(this.nonMissingIntendedUseList,(function(t){t.account_number===e.accountNumber&&e.legal_instructions&&(void 0===t.legal_instructions&&(t.legal_instructions={}),e.legal_instructions.intended_account_use&&(t.legal_instructions.intended_account_use=e.legal_instructions.intended_account_use),e.legal_instructions.other_intended_use&&(t.legal_instructions.other_intended_use=e.legal_instructions.other_intended_use))}))}},{key:"isIUandTPINotMissing",value:function(){return!(this.isIntendedUseMissing&&this.isThirdPartyMissing)}},{key:"resetAllItemsList",value:function(){this.getAllIuItemValidObj.length=0,this.getAllTpiItemValidObj.length=0,this.getAllNonMissingIUItemValidObj.length=0}},{key:"isExistingIUchangedFlag",get:function(){return this.existingIUchangedFlag},set:function(e){this.existingIUchangedFlag=e}},{key:"allIntendedUseListData",get:function(){return this.intendedUseList},set:function(e){this.intendedUseList=e}},{key:"getAllIuItemValidObj",get:function(){return this.allIuItemValid},set:function(e){this.allIuItemValid=e}},{key:"getAllTpiItemValidObj",get:function(){return this.allTpiItemValid},set:function(e){this.allTpiItemValid=e}},{key:"getAllNonMissingIUItemValidObj",get:function(){return this.allNonMissingIUItemValid},set:function(e){this.allNonMissingIUItemValid=e}},{key:"checkAmlKycRefreshFeatureFlag",get:function(){return this.featureFlag},set:function(e){this.featureFlag=e}},{key:"missingIntendedUseList",get:function(){return this.missingIUList},set:function(e){this.missingIUList=e}},{key:"missingThirdPartyList",get:function(){return this.missingTPIList},set:function(e){this.missingTPIList=e}},{key:"nonMissingIntendedUseList",get:function(){return this.nonMissingIUList},set:function(e){this.nonMissingIUList=e}},{key:"isIntendedUseMissing",get:function(){return this.missingIU=!!(void 0!==this.missingIntendedUseList&&this.missingIntendedUseList.length>0),this.missingIU}},{key:"isThirdPartyMissing",get:function(){return this.missingTPI=!!(void 0!==this.missingThirdPartyList&&this.missingThirdPartyList.length>0),this.missingTPI}}]),e}();t.default=l,e.exports=t.default},,,,function(e,t,n){"use strict";var i,a;Object.defineProperty(t,"__esModule",{value:!0});var s,o=function(){};t.EtransferAutoDepositDetail=o,function(e){e[e.ETRANSFER_CHOOSE_TYPE=0]="ETRANSFER_CHOOSE_TYPE",e[e.ETRANSFER_AGREEMENT=1]="ETRANSFER_AGREEMENT",e[e.ETRANSFER_SETUP=2]="ETRANSFER_SETUP",e[e.ETRANSFER_UPDATE_CONTACT=3]="ETRANSFER_UPDATE_CONTACT",e[e.ETRANSFER_CREATE_CONTACT=4]="ETRANSFER_CREATE_CONTACT",e[e.ETRANSFER_DELETE_CONTACT=5]="ETRANSFER_DELETE_CONTACT",e[e.ETRANSFER_SECURITY_QUESTION_AND_ANSWER=6]="ETRANSFER_SECURITY_QUESTION_AND_ANSWER",e[e.ETRANSFER_REVIEW=7]="ETRANSFER_REVIEW",e[e.ETRANSFER_DONE=8]="ETRANSFER_DONE"}(s=t.EtransferPage||(t.EtransferPage={})),t.AnalyticsPathMap=((i={})[s.ETRANSFER_CHOOSE_TYPE]="/emt/send/type_of_transfer",i[s.ETRANSFER_AGREEMENT]="/emt/send/accept_terms_and_conditions",i[s.ETRANSFER_SETUP]="/emt/send/setup_payment",i[s.ETRANSFER_UPDATE_CONTACT]="/emt/send/update_contact",i[s.ETRANSFER_CREATE_CONTACT]="/emt/send/create_contact",i[s.ETRANSFER_DELETE_CONTACT]="/emt/send/delete_contact",i[s.ETRANSFER_SECURITY_QUESTION_AND_ANSWER]="/emt/send/question_answer",i[s.ETRANSFER_REVIEW]="/emt/send/review",i[s.ETRANSFER_DONE]="/emt/send/done",i),t.DialogTitleMap=((a={})[s.ETRANSFER_CHOOSE_TYPE]="emt.states.typeOfTransfer",a[s.ETRANSFER_AGREEMENT]="emt.states.termsAndConditions",a[s.ETRANSFER_SETUP]="emt.setupPayment.eTransferTitle",a[s.ETRANSFER_UPDATE_CONTACT]="emt.states.updateContact",a[s.ETRANSFER_CREATE_CONTACT]="emt.states.createContact",a[s.ETRANSFER_DELETE_CONTACT]="emt.states.deleteContact",a[s.ETRANSFER_SECURITY_QUESTION_AND_ANSWER]="emt.states.questionAndAnswer",a[s.ETRANSFER_REVIEW]="emt.states.review",a[s.ETRANSFER_DONE]="emt.states.done",a)},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(777)),a=o(n(811)),s=o(n(812));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("SelectAutocompleteModule",["ui.select","ngSanitize"]).component("tngSelectAutocomplete",i.default).constant("tngSelectAutocompleteConstants",a.default).directive("selectAutocompleteValidator",s.default);t.default=r,e.exports=t.default},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(68)),a=c(n(269)),s=c(n(15)),o=c(n(0)),r=c(n(2)),l=c(n(1465));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,i,a,s,r){(0,o.default)(this,e),this.$log=t,this.referenceDataService=a,this.referenceDataConstants=s,this.RequesterService=n,this.serviceConstants=i,this.$translate=r}return(0,r.default)(e,[{key:"getAbmLocations",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.ABM_LOCATIONS,e)}},{key:"getCafeLocations",value:function(){return this.referenceDataService.getDataByType(this.referenceDataConstants.TYPES.CAFE_LOCATIONS)}},{key:"getCanadaPostLocations",value:function(e){return e=e.replace(/\s/g,""),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CANADA_POST_LOCATIONS,{urlVars:{postalCode:e}})}},{key:"getIdentificationLocations",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_IDENTIFICATION_LOCATIONS,e)}},{key:"getAvailableBanksFromCountry",value:function(e,t){var n=this;return(0,s.default)(e).filter((function(n){return-1!==e[n].indexOf(t)})).reduce((function(e,t,i){var a=n.$translate.instant("abm.access.international."+t+".header");return 0===i?a:e+", "+a}),"")}},{key:"getGlocalAllianceCountries",value:function(e){if(!this.globalAllianceCountriesList){var t=(0,s.default)(e),n=t.reduce((function(t,n){return new a.default([].concat((0,i.default)(t),(0,i.default)(e[n])))}),new a.default(e[t[0]]));this.globalAllianceCountriesList=[].concat((0,i.default)(n))}return this.globalAllianceCountriesList}},{key:"mapPoiFormatToAbmFormat",value:function(e){var t=function(e){return"string"==typeof e?e.replace(/Ã‰/g,"É").replace(/Ã©/g,"é").replace(/Ã¨/g,"è").replace(/Ã/g,"à").replace(/&ucirc;/g,"û"):e},n=e.address2.split(" "),i=n[0].replace(",",""),a=n[1].replace(",",""),s=n[2]+" "+n[3];e.hours=(0,l.default)(e.hours);var o=e.hours.map((function(n){var i=void 0,a={day:"",time:""};return(i="CDAPOST"===e.poiType?n.match(/([a-z, A-Z, \-\s]+):{0,1}\s(.*$)/i):n.match(/([^:]+):(.+$)/i))&&(a={day:t(i[1].trim()),time:t(i[2].trim())}),a})),r=o.filter((function(e){return!!e.day.match("&nbsp;")}));return o=o.filter((function(e){return!e.day.match("&nbsp;")})),{abm_type:e.poiType,address:{addressLine1:t(e.address1),addressLine2:t(e.address2),city:t(i),country:"Canada",postal_code:s,state:a},distance:parseFloat(e.distance),features:{},hours:o,specialHours:r,institution_name:t(e.poiName),map_coordinates:{latitude:e.latitude,longitude:e.longitude},phoneNum:e.phoneNum,original_object:e}}}]),e}();u.$inject=["$log","RequesterService","serviceConstants","ReferenceDataService","referenceDataConstants","$translate"],t.default=u,e.exports=t.default},,,,,function(e,t,n){"use strict";function i(e,t,i){var a=function(e){return e.loadCommonBundle()};a.$inject=["BundleService"];var s=function(e,t,n){return n.preloadAccounts(t.ignoreCache),n.preloadCapabilities(),n.preloadAggregatedAccounts(),n.preloadGICAccounts(),e.when()};s.$inject=["$q","$stateParams","AccountSummaryPrefetchService"],e.state(t.ACCOUNT_SUMMARY,{url:"/accounts",reloadOnSearch:!1,parent:t.ABSTRACT_AUTH,params:{ignoreCache:null,showKYCPendingModal:!1,feedbackId:null},title:"global.metaTitles.account.overview",views:{"page-content@":t.ACCOUNT_SUMMARY},isTopLevel:!0,showFooterNotifications:!0,resolve:{accountSummaryPrefetch:s,transactionsBundle:n(295),recipesBundle:n(296)}}).state(t.ACCOUNT_DETAILS_CHEQUING,{url:"/chequing/:accountHash",params:{selectedTabId:null},parent:t.ACCOUNT_SUMMARY,title:"global.metaTitles.account.details.chequing",views:{"page-content@":t.ACCOUNT_DETAILS_CHEQUING},resolve:{bundle:n(46),chartingBundle:n(60),abmLocatorBundle:n(294)},data:{parentNavigation:t.ACCOUNT_SUMMARY}}).state(t.ACCOUNT_DETAILS_CREDIT_CARD,{url:"/credit_card/:accountHash",parent:t.ACCOUNT_SUMMARY,title:"global.metaTitles.account.details.credit_card",views:{"page-content@":t.ACCOUNT_DETAILS_CREDIT_CARD},resolve:{accountDetailsBundle:n(46),chartingBunde:n(60)},data:{parentNavigation:t.ACCOUNT_SUMMARY}}).state(t.ACCOUNT_DETAILS_SAVINGS,{url:"/savings/:accountHash",parent:t.ACCOUNT_SUMMARY,data:{requiresAuth:!0,parentNavigation:t.ACCOUNT_SUMMARY},title:"global.metaTitles.account.details.savings",views:{"page-content@":t.ACCOUNT_DETAILS_SAVINGS},resolve:{accountDetailsBundle:n(46),chartingBundle:n(60),goalsBundle:n(151)}}).state(t.ACCOUNT_DETAILS_GOALS,{url:"/goals/:accountHash/:lifeGoalId/:accountGroup",parent:t.ACCOUNT_SUMMARY,data:{requiresAuth:!0,parentNavigation:t.ACCOUNT_SUMMARY},title:"global.metaTitles.account.details.goals",views:{"page-content@":t.ACCOUNT_DETAILS_SAVINGS},resolve:{accountDetailsBundle:n(46),chartingBundle:n(60),goalsBundle:n(151)}}).state(t.GOAL_DETAILS,{url:"/goal-details/:lifeGoalId",parent:t.ACCOUNT_SUMMARY,data:{requiresAuth:!0,parentNavigation:t.ACCOUNT_SUMMARY},title:"global.metaTitles.account.details.goals",views:{"page-content@":t.GOAL_DETAILS},resolve:{accountDetailsBundle:n(46),chartingBundle:n(60),goalsBundle:n(151)}}).state(t.ACCOUNT_DETAILS_MORTGAGE,{url:"/mortgage/:accountHash",parent:t.ACCOUNT_SUMMARY,views:{"page-content@":t.ACCOUNT_DETAILS_MORTGAGE},title:"global.metaTitles.account.details.mortgage",resolve:{accountDetailsBundle:n(46),mortgageBundle:n(661),chartingBunde:n(60)},data:{parentNavigation:t.ACCOUNT_SUMMARY}}).state(t.ACCOUNT_DETAILS_LOAN,{url:"/loan/:accountHash",parent:t.ACCOUNT_SUMMARY,views:{"page-content@":t.ACCOUNT_DETAILS_LOAN},title:"global.metaTitles.account.details.loan",resolve:{accountDetailsBundle:n(46),chartingBunde:n(60)},data:{parentNavigation:t.ACCOUNT_SUMMARY}}).state(t.ACCOUNT_DETAILS_INVESTMENT,{url:"/investment/:accountHash",parent:t.ACCOUNT_SUMMARY,views:{"page-content@":t.ACCOUNT_DETAILS_INVESTMENT},title:"global.metaTitles.account.details.investment_fund",resolve:{accountDetailsBundle:n(46),investmentBundle:n(662),chartingBundle:n(60)},data:{parentNavigation:t.ACCOUNT_SUMMARY}}).state(t.BILL_PAY,{url:"/pay-bill",parent:t.ABSTRACT_AUTH,views:{"page-content@":t.BILL_PAY},isTopLevel:!0,title:"global.metaTitles.bills",resolve:{billsBundle:n(413),transactionsBundle:n(295),accountDetailsBundle:n(46),chartingBundle:n(60)}}).state(t.BILL_PAY_HISTORY,{url:"/:payeeId",params:{payee:{}},parent:t.BILL_PAY,views:{"page-content@":t.BILL_PAY_HISTORY},title:"global.metaTitles.billHistory",data:{parentNavigation:t.BILL_PAY}}).state(t.TRANSACTIONS,{url:"/transactions?filter",parent:t.ABSTRACT_AUTH,views:{"page-content@":t.TRANSACTIONS},isTopLevel:!0,title:"global.metaTitles.transactions",resolve:{transactionsBundle:n(295),accountDetailsBundle:n(46),chartingBundle:n(60)}}).state(t.EMT_RECEIVE_MONEY_CLIENT,{url:"/emt/receive-money/client/:emtId",parent:t.ABSTRACT_AUTH,views:{"page-content@":t.EMT_RECEIVE_MONEY_CLIENT},params:{type:"client"},data:{hideMobileFooter:!0},title:"global.metaTitles.emt_receive_money"}).state(t.EMT_RECEIVE_MONEY_INTERAC,{url:"/emt/receive-money/interac/:emtId",parent:t.ABSTRACT_AUTH,views:{"page-content@":t.EMT_RECEIVE_MONEY_INTERAC},params:{type:"interac"},data:{hideMobileFooter:!0},title:"global.metaTitles.emt_receive_money"}).state(t.EMT_RECEIVE_MONEY_STANDARD,{url:"/emt/receive-money/standard/:emtId?lastName",parent:t.ABSTRACT_GUEST,views:{"page-content@":t.EMT_RECEIVE_MONEY_STANDARD},params:{type:"standard"},resolve:{bundleCommon:a},data:{hideMobileFooter:!0},title:"global.metaTitles.emt_receive_money"}).state(t.EXISTING_CLIENT_ONBOARDING,{url:"/open-account?products",parent:t.ABSTRACT_AUTH,params:{addAccount:null,orangeKey:null,returnToStateData:null,mutualFund:null,rspLoan:null,mortgage:null,csaPostConversion:null,jointEnrollment:null,tlocApp:null,termLoan:null},title:"global.metaTitles.open_account",views:{"page-content@":t.EXISTING_CLIENT_ONBOARDING},data:{skipAnalyticsOnSuccess:!0,requiresLevel2Auth:!0,hideMobileFooter:!0},resolve:{onboardingBundle:n(150),userSettingsBundle:n(97),chartingBundle:n(60),rdc:n(297)}}).state(t.JOINT_ENROLLMENT_VALIDATION,{url:"/joint-enrollment/:invitation",parent:t.ABSTRACT_GUEST,views:{"page-content@":t.JOINT_ENROLLMENT_VALIDATION},title:"global.metaTitles.join_enrollment_validation",resolve:{bundleCommon:a,onboardingBundle:n(150)},data:{hideMobileFooter:!0}}).state(t.JOINT_ENROLLMENT_ACCEPT_OR_DECLINE,{url:"/joint-enrollment-accept",parent:t.ABSTRACT_AUTH,params:{invitation:null},views:{"page-content@":t.JOINT_ENROLLMENT_ACCEPT_OR_DECLINE},title:"global.metaTitles.join_enrollment_validation",resolve:{bundleCommon:a,onboardingBundle:n(150)},data:{hideMobileFooter:!0}}).state(t.CSA_POST_CONVERSION,{url:"/csa-post-conversion/:conversionHash",parent:t.ABSTRACT_AUTH,title:"global.metaTitles.csa_post_conversation",views:{"page-content@":t.EXISTING_CLIENT_ONBOARDING},data:{hideMobileFooter:!0}}).state(t.KYC,{url:"/kyc",parent:t.ABSTRACT_AUTH,params:{roadBlockTriggered:!1,nextState:null,nextParams:null},views:{"page-content@":t.KYC},resolve:{abmLocatorBundle:n(294)},data:{hideMobileFooter:!0},title:"global.metaTitles.kyc"}).state(t.ACCOUNT_DOCUMENTS,{url:"/documents",parent:t.ABSTRACT_AUTH,title:"global.metaTitles.account_documents.statements",views:{"page-content@":t.ACCOUNT_DOCUMENTS},defaultSubstate:t.ACCOUNT_DOCUMENTS_STATEMENTS,resolve:{documentsBundle:n(663),userSettingsBundle:n(97)},data:{hideMobileFooter:!0}}).state(t.USER_SETTINGS,{url:"/settings",data:{parentNavigation:t.MOBILE_NAVIGATION,requiresLevel2Auth:!0,hideMobileFooter:!0},parent:t.ABSTRACT_AUTH,title:"global.metaTitles.settings.general",views:{"page-content@":t.USER_SETTINGS},defaultSubstate:t.USER_SETTINGS_GENERAL,params:{ignoreCache:null,optionalComponentLoad:null},resolve:{userSettingsBundle:n(97)}}).state(t.DEVICES,{url:"/devices",parent:t.ABSTRACT_AUTH,data:{parentNavigation:t.MOBILE_NAVIGATION,requiresAuth:!0,hideMobileFooter:!0},views:{"page-content@":"tngDevicesLoginOptions"},defaultSubstate:t.DEVICES_DEVICE_LIST,resolve:{userSettingsBundle:n(97)}}).state(t.DEVICES_LOGIN_OPTIONS,{url:"/device-login-options",data:{requiresAuth:!0},component:"tngLoginOptionsPage"}).state(t.DEVICES_DEVICE_LIST,{url:"/device-list",data:{requiresAuth:!0},component:"tngDevicesPage"}).state(t.FORMS,{url:"/forms",parent:t.ABSTRACT_AUTH,title:"global.metaTitles.forms",data:{parentNavigation:t.MOBILE_NAVIGATION,hideMobileFooter:!0},views:{"page-content@":t.FORMS},defaultSubstate:t.FORMS_BANKING}).state(t.SIMPLE_SIGN_ON_TOUCH_ID,{url:"/simple-sign-on/touch-id",title:"Simple Sign On Touch Id",parent:t.ABSTRACT_AUTH,data:{parentNavigation:null,hideMobileFooter:!0},views:{"page-content@":t.SIMPLE_SIGN_ON_TOUCH_ID}}).state(t.SIMPLE_SIGN_ON_FINGERPRINT_ID,{url:"/simple-sign-on/fingerprint-id",title:"Simple Sign On Fingerprint Id",parent:t.ABSTRACT_AUTH,data:{parentNavigation:null,hideMobileFooter:!0},views:{"page-content@":t.SIMPLE_SIGN_ON_FINGERPRINT_ID},resolve:{simpleSignOnBundle:n(298)}}).state(t.FINGERPRINT_WIZARD,{url:"/fingerprint-wizard/fingerprint-id",title:"Fingerprint Wizard",parent:t.ABSTRACT_AUTH,params:{isFingerPrintWizardFlow:!0},data:{parentNavigation:null,hideMobileFooter:!0},views:{"page-content@":"simpleSignOnFingerprintId"},resolve:{simpleSignOnBundle:n(298)}}).state(t.FINGERPRINT_WIZARD_FINGERPRINT_ID,{url:"/fingerprint-id-wizard",params:{returnTo:null,isFingerPrintWizardFlow:!0},data:{hideMobileFooter:!0,parentNavigation:t.FINGERPRINT_WIZARD},title:"Security: Fingerprint",views:{"page-content@":"tngFingerprintId"},resolve:{userSettingsBundle:n(97)}}).state(t.SIMPLE_SIGN_ON_QUICK_VIEW_FROM_FINGERPRINT,{url:"/simple-sign-on/fingerprint-quick-view",title:"Simple Sign On Quick View",parent:t.ABSTRACT_AUTH,params:{returnTo:null,isSignOnOfferWithFingerprint:!0},views:{"page-content@":t.SIMPLE_SIGN_ON_QUICK_VIEW},data:{parentNavigation:t.SIMPLE_SIGN_ON_FINGERPRINT_ID,hideMobileFooter:!0},resolve:{userSettingsBundle:n(97)}}).state(t.SIMPLE_SIGN_ON_QUICK_VIEW,{url:"/simple-sign-on/quick-view",title:"Simple Sign On Quick View",parent:t.ABSTRACT_AUTH,params:{returnTo:null,isSignOnOfferWithTouchId:!0},views:{"page-content@":t.SIMPLE_SIGN_ON_QUICK_VIEW},data:{parentNavigation:t.SIMPLE_SIGN_ON_TOUCH_ID,hideMobileFooter:!0}}).state(t.SIMPLE_SIGN_ON_QUICK_VIEW_NO_BACK,{url:"/simple-sign-on/quick-view-noback",title:"Simple Sign On Quick View",parent:t.ABSTRACT_AUTH,params:{isSignOnOfferNoBack:!0},views:{"page-content@":t.SIMPLE_SIGN_ON_QUICK_VIEW},data:{parentNavigation:null,hideMobileFooter:!0}}).state(t.MOBILE_TERMS_AND_CONDITIONS,{parent:t.ABSTRACT_AUTH,url:"/mobile-terms-and-conditions",data:{parentNavigation:t.SIGNOUT,hideMobileFooter:!0},title:"Mobile Terms and Conditions",views:{"page-content@":t.MOBILE_TERMS_AND_CONDITIONS}}).state(t.SIGNOUT,{url:"/sign-out",title:"Sign Out",views:{"page-content@":t.SIGNOUT}}).state(t.INSIGHTS,{url:"/insights",views:{"page-content@":t.INSIGHTS},parent:t.ABSTRACT_AUTH,title:"global.metaTitles.insights",isTopLevel:!0}).state(t.PERSONAL_INSIGHT_STORY,{url:"/personal-insight-story",views:{"page-content@":t.PERSONAL_INSIGHT_STORY},parent:t.ABSTRACT_AUTH,title:"Personal Insight Story",isTopLevel:!0}).state(t.PERSONAL_INSIGHTS_MBOX,{url:"/personal-insights-mbox",views:{"page-content@":t.PERSONAL_INSIGHTS_MBOX},data:{parentNavigation:t.ACCOUNT_SUMMARY},parent:t.ABSTRACT_AUTH,title:"Personal Insight Mailbox",isTopLevel:!0,showFooterNotifications:!0}).state(t.BUDGET_TOOL,{url:"/budgettool",title:"global.metaTitles.lts",params:{currentState:null},views:{"page-content@":t.BUDGET_TOOL},resolve:{budgetBundle:n(414)},isTopLevel:!0,parent:t.ABSTRACT_AUTH}).state(t.BUDGET_LTS_OVERVIEW,{url:"/left-to-spend",title:"global.metaTitles.lts",params:{currentState:null},views:{"page-content@":t.BUDGET_LTS_OVERVIEW},resolve:{accountDetailsBundle:n(46),chartingBunde:n(60),budgetBundle:n(414)},parent:t.ABSTRACT_AUTH,data:{parentNavigation:t.ACCOUNT_SUMMARY},isTopLevel:!0,showFooterNotifications:!0}).state(t.RECIPES,{url:"/recipes",title:"global.metaTitles.recipes",params:{currentState:null},views:{"page-content@":t.RECIPES},resolve:{recipesBundle:n(296)},parent:t.ABSTRACT_AUTH,isTopLevel:!0,showFooterNotifications:!0}).state(t.NOT_FOUND,{url:"/not-found",parent:t.ABSTRACT_GUEST,views:{"page-content@":t.NOT_FOUND},title:"global.metaTitles.not_found"}).state(t.MAINTENANCE,{url:"/maintenance",parent:t.ABSTRACT_GUEST,views:{"page-content@":t.MAINTENANCE},title:"global.metaTitles.maintenance"}).state(t.ACCESS_DENIED,{url:"/coming-soon-site",data:{parentNavigation:i.ACTION_METHODS.EXIT_NAVIGATION_MENU},parent:t.ABSTRACT_GUEST,views:{"page-content@":t.COMING_SOON_SITE},title:"global.metaTitles."}).state(t.MOBILE_NAVIGATION,{url:"/navigation",parent:t.ABSTRACT_AUTH,data:{menu:i.MENU_TYPES.MOBILE_NAVIGATION,parentNavigation:i.ACTION_METHODS.EXIT_NAVIGATION_MENU,title:"navigation.profile",requiresLevel2Auth:!0,hideMobileFooter:!0},resolve:{userSettingsBundle:n(97)},views:{"page-content@":"tngNavigation"}}).state(t.COMING_SOON,{url:"/coming-soon",data:{parentNavigation:i.ACTION_METHODS.EXIT_NAVIGATION_MENU},parent:t.ABSTRACT_GUEST,views:{"page-content@":t.COMING_SOON}}).state(t.ABSTRACT_ACCOUNTS_MODAL,{abstract:!0,data:{isModal:!0,baseState:t.ACCOUNT_SUMMARY,skipAnalyticsOnSuccess:!0},parent:t.ABSTRACT_AUTH,views:{"page-content@":t.ACCOUNT_SUMMARY}}).state(t.ABSTRACT_TRANSACTIONS_MODAL,{abstract:!0,parent:t.ABSTRACT_AUTH,data:{isModal:!0,baseState:t.TRANSACTIONS,skipAnalyticsOnSuccess:!0},resolve:{accountDetailBundle:n(46)},views:{"page-content@":t.TRANSACTIONS}}).state(t.MOVE_MONEY_MODAL,{url:"/move-money",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.move_money"}).state(t.ACTIVATE_OFFER_MODAL,{url:"/activate-offer/:offerId/:type?version",params:{offerId:null,type:null,version:null},parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.activate_offer"}).state(t.PAY_BILLS_MODAL,{url:"/pay-bills",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.pay_bills"}).state(t.PAY_BILLS_MODAL_V2,{url:"/bill-pay-v2",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.pay_bills"}).state(t.ADD_BILLER_MODAL_V2,{url:"/add-biller-v2",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.add_bill"}).state(t.ADD_BILL_MODAL,{url:"/add-bill",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.add_bill"}).state(t.SEND_ETRANSFER_MODAL,{url:"/e-transfer",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.etransfer"}).state(t.EMT_MODAL,{url:"/emt",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.emt"}).state(t.EMT_RECLAIM_MODAL,{url:"/emt/reclaim-money/interac/:interacId",params:{type:"reclaim_interac"},data:{skipAnalyticsOnSuccess:!0,requiresLevel2Auth:!0,hideMobileFooter:!0},parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.emt_reclaim"}).state(t.BENEFICIARIES_MODAL,{url:"/beneficiaries/:accountNumber",params:{type:"beneficiaries_global"},data:{skipAnalyticsOnSuccess:!0,requiresLevel2Auth:!0,hideMobileFooter:!0},parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.beneficiaries"}).state(t.UNCONFIRMED_TRANSACTIONS_MODAL,{url:"/transactions/unconfirmed",parent:t.ABSTRACT_TRANSACTIONS_MODAL,title:"global.metaTitles.unconfirmed_transactions"}).state(t.UNCATEGORIZED_TRANSACTIONS_MODAL,{url:"/transactions/uncategorized",parent:t.ABSTRACT_TRANSACTIONS_MODAL,title:"global.metaTitles.uncategorized_transactions"}).state(t.CREDIT_CARD_BALANCE_TRANSFER_MODAL,{url:"/balance-transfer/:accountHash",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.credit_card_balance_transfer"}).state(t.CREDIT_LIMIT_CHANGE_MODAL,{url:"/credit-limit-change/:accountHash?combined&campaign",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.credit_limit_change"}).state(t.CREDIT_CARD_ACTIVATION_MODAL,{url:"/credit-activation/:card",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.credit_activation"}).state(t.CREDIT_CARD_CONVERSION_MODAL,{url:"/credit-card-conversion",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.credit_card_conversion"}).state(t.DEBIT_CARD_ACTIVATION_MODAL,{url:"/debit-activation/:card",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.debit_activation"}).state(t.REFER_FRIEND_MODAL,{url:"/refer-a-friend",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.refer_a_friend"}).state(t.DONATIONS_MODAL,{url:"/donations?:donationType",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.donations",params:{donationType:null}}).state(t.HOLDS_MODAL,{url:"/holds",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.holds",views:{"page-content@":t.HOLDS_MODAL}}).state(t.ORDER_CHEQUES_MODAL,{url:"/order-cheques/:accountHash",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.order_cheques"}).state(t.PENDING_APPLICATIONS,{url:"/pending-applications",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.pending_applications"}).state(t.ASP_MODAL,{url:"/start-asp",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.start_asp"}).state(t.GOAL_MODAL,{url:"/create-goal",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.goal",resolve:{goalsBundle:n(151),financialPlanBundle:n(215)}}).state(t.INSIGHTS_TLOC_LEARN_MORE,{url:"/tloc-preap-learn-more",parent:t.ACCOUNT_SUMMARY,views:{"page-content@":t.INSIGHTS_TLOC_LEARN_MORE},title:"global.metaTitles.account.details.tloc"}).state(t.CSA_CONVERSION_MODAL,{url:"/csa-conversion/:dealId",parent:t.ABSTRACT_ACCOUNTS_MODAL,resolve:{onboardingBundle:n(150)},title:"global.metaTitles.order_cheques"}).state(t.ACCOUNT_CONTRIBUTION_DETAILS_MODAL,{url:"/contribution-details/:accountType",parent:t.ABSTRACT_ACCOUNTS_MODAL}).state(t.MAGIC_SWITCH_MODAL,{url:"/magic-switch/:accountHash",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.magicSwitch"}).state(t.FINANCIAL_PLAN,{url:"/financialplan",parent:t.ABSTRACT_AUTH,params:{flow:null,financialPlanRequest:null},views:{"page-content@":t.FINANCIAL_PLAN},resolve:{financialPlanBundle:n(215)},title:"global.metaTitles.financial_plan"}).state(t.FINANCIAL_PLAN_ARCHETYPES,{url:"/financialplan-goals",parent:t.ABSTRACT_AUTH,views:{"page-content@":t.FINANCIAL_PLAN_ARCHETYPES},resolve:{financialPlanBundle:n(215)},title:"global.metaTitles.financial_plan"}).state(t.UPDATE_EMAIL_MODAL,{url:"/update-email",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.updateEmail"}).state(t.MAKE_INITIAL_DEPOSIT_MODAL,{url:"/make-initial-deposit/:accountHash",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.makeInitialDeposit"}).state(t.MORTGAGE_RENEWAL_MODAL,{url:"/mortgage-renewal",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.mortgageRenewal"}).state(t.OTHER_COMMUNICATIONS,{url:"/other-communications",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.otherCommunications",resolve:{userSettingsBundle:n(97)}}).state(t.PEOPLE_LIKE_YOU,{parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.account.overview",resolve:{peopleLikeYouBundle:n(664)},params:{insight:null}}).state(t.REACH_GOAL_SOONER,{parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.account.overview",resolve:{insightsBundle:n(665),goalsBundle:n(151)},params:{insight:null}}).state(t.REWARDS,{url:"/rewards/:accountHash",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.changeCategories",resolve:{accountDetailsBundle:n(46)}}).state(t.RDC,{url:"/remote-deposit-capture",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.remoteDepositCapture",resolve:{rdc:n(297)}}).state(t.EMT_FULFIlL_REQUEST_INTERAC,{url:"/emt/fulfill-request/interac/:emtId",parent:t.ABSTRACT_AUTH,views:{"page-content@":t.EMT_FULFIlL_REQUEST_INTERAC},params:{type:"interac"},data:{hideMobileFooter:!0},title:"global.metaTitles.emt_fulfill_request"}).state(t.MORTGAGE_TRACKER,{url:"/mortgage-tracker/:dealId",parent:t.ABSTRACT_AUTH,title:"global.metaTitles.mortgageTracker.title",views:{"page-content@":t.MORTGAGE_TRACKER},resolve:{accountSummaryPrefetch:s}}).state(t.OVERDRAFT_PRE_APPROVAL,{url:"/overdraft/pre-approved",parent:t.ABSTRACT_ACCOUNTS_MODAL,title:"global.metaTitles.account.overdraft",views:{"page-content@":t.OVERDRAFT_PRE_APPROVAL},params:{accountHash:null}})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","stateConstants","menuConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(666)),a=c(n(667)),s=c(n(668)),o=c(n(669)),r=c(n(670)),l=c(n(671));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){e.config(o.default).config(i.default).config(a.default).config(s.default).config(r.default).config(l.default)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={SELECTOR_CLASSES:{DIALOG_CONTENT:"dialog__content",DIALOG:"c-modal__dialog",DIALOG_DURING_THE_CLOSE:"c-modal__dialog--during-the-close"},EVENTS:{MODAL_OPENED:"modalOpened",MODAL_CLOSED:"modalClosed"},METADATA_IGNORED_LOCATIONS:{CONTACT_US_CHAT:"contactus/chat",CONTACT_US_CHAT_WITH_US:"contactus/chatwithus"}};t.default=i,e.exports=t.default},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(104)),a=c(n(270)),s=c(n(8)),o=c(n(49)),r=c(n(0)),l=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,i,a,s,o,l,c){(0,r.default)(this,e),this.$log=t,this.$state=n,this.$translate=i,this.$cookies=s,this.config=a.CONFIG,this.availableEvents=a.AVAILABLE_EVENTS,this.basketCheckoutSteps=a.BASKET_CHECKOUT_STEPS,this.ANALYTICS_COOKIES=a.ANALYTICS_COOKIES,this.DYNATRACE_HEADERS=a.DYNATRACE_HEADERS,this.EVENT_CATEGORY=a.EVENT_CATEGORY,this.analyticsConstants=a,this._isMobileNative="undefined"!=typeof WL,this._dynaTrace=null,this._currentPageView=null,this.$filter=o,this.isMock=l.MOCK_ENV,this.AbTestingService=c;var u=s.get(this.ANALYTICS_COOKIES.GTMOK);u&&(this._tagDynaTrace(u),this._tagGTM(u,s.get(this.ANALYTICS_COOKIES.GTMCSD)))}return(0,l.default)(e,[{key:"tagSession",value:function(e){if(e){this._customer=e;var t=moment().add(1,"months").toDate();this.$cookies.put(this.ANALYTICS_COOKIES.GTMOK,this._customer.orange_key,{expires:t,path:"/"}),this._customer.client_since_date?this.$cookies.put(this.ANALYTICS_COOKIES.GTMCSD,this._customer.client_since_date,{expires:t,path:"/"}):this.$cookies.remove(this.ANALYTICS_COOKIES.GTMCSD),this._tagDynaTrace(this._customer.orange_key),this._tagGTM(this._customer.orange_key,this._customer.client_since_date)}}},{key:"_tagDynaTrace",value:function(e){var t=this.getDynaTrace();!this._isMobileNative&&t&&(t.tagVisit(e),this.$log.debug("Tagging Dynatrace session:",e))}},{key:"_tagGTM",value:function(e,t){var n=this._getGTM();n&&n.push({orange_key:e,client_since_date:t,language:this.$translate.use(),mobile_app:this._isMobileNative,mobile_app_version:window.AppVersion})}},{key:"sendAction",value:function(e,t,n){if(!this.isMock){var i=this.config[e],a=void 0===i.debug||!0===i.debug;i.dynatrace&&this._sendToDynaTrace(e,t),i.gtm&&this._sendToGTM(e,t,n),a&&this._logDebugAction(e,t,n)}}},{key:"_sendToDynaTrace",value:function(e,t){var n=this.getDynaTrace();n&&(n.leaveAction(n.enterAction(e+"."+t)),this.$log.debug("Sending Dynatrace action:",e,t))}},{key:"_sendToGTM",value:function(e,t,n){var i=this,a=this._getGTM();if(a){var s={orange_key:this.$cookies.get(this.ANALYTICS_COOKIES.GTMOK),client_since_date:this.$cookies.get(this.ANALYTICS_COOKIES.GTMCSD),language:this.$translate.use(),mobile_app:this._isMobileNative,mobile_app_version:window.AppVersion};if(s.page_url=this._constructStateUrl(t,void 0),"/"!==s.page_url||e!==this.availableEvents.STATE_CHANGE_SUCCESS){if(n&&n.products&&n.products.forEach((function(e){e.name=i._normalizeOB2ProductName(e),e.quantity=e.quantity||1,e.price=e.price||1})),e===this.availableEvents.STATE_CHANGE_SUCCESS)s.event="pageview";else if(e===this.availableEvents.FLOW_STATE_CHANGE||e===this.availableEvents.VIRTUAL_PAGEVIEW)s.event="pageview",s.page_url=t;else if(e===this.availableEvents.MODAL_SHOW)s.event="pageview",s.page_url=this.$state.$current?this._constructStateUrl(this.$state.$current.name,t):t;else if(e===this.availableEvents.NEW_CLIENT_ENROLLMENT)s.event="newClientEnrollment";else if(e===this.availableEvents.CUSTOM_EVENT)s.event="customEvent",s.eventAction=t,s.eventLabel=n&&n.label,s.eventCategory=n&&n.category,s.eventValue=n&&n.value;else if(e===this.availableEvents.ACCOUNT_AGGREGATION_EVENT)s.event="plaidLinkExit",s.plaidStep=t;else if(e===this.availableEvents.BASKET_ADD_TO_CART)s.event="addToCart",s.ecommerce={add:{products:n.products}};else if(e===this.availableEvents.BASKET_REMOVE_FROM_CART)s.event="removeFromCart",s.ecommerce={remove:{products:n.products}};else if(e===this.availableEvents.BASKET_CHECKOUT_STEP)s.event="checkoutStep",s.ecommerce={checkout:{actionField:{step:n.step},products:n.products}};else if(e===this.availableEvents.BASKET_CONFIRMATION)s.event="basketConfirmation",s.productCodes=Array.isArray(n.products)?n.products.map((function(e){return e.id})).join(","):"",s.ecommerce={purchase:{actionField:{id:n.transaction_id},products:n.products}};else if(e===this.availableEvents.MOBILE_METRICS)s.event="pageview",s.page_url=""+n;else if(e===this.availableEvents.PROMOTION_VIEW)s.event="promotionView",s.ecommerce={event:{promoView:{promotions:[{id:n.id,name:n.name,creative:n.interactionPoint,position:n.pos}]}}};else if(e===this.availableEvents.PROMOTION_CLICK)s.event="promotionClick",s.ecommerce={event:{promoClick:{promotions:[{id:n.id,name:n.name,creative:n.interactionPoint,position:n.pos}]}}};else if(e===this.availableEvents.ZONB_ROADBLOCK_DOCUMENT_UPLOAD)s.event="zonbUpload",s.zonbUploadStatus=t;else if(e===this.availableEvents.ZONB_ROADBLOCK_DOCUMENT_CLICK)s.event="zonbUploadClick";else if(e===this.availableEvents.ERROR_EVENT)s.event="errorEvent",s.errorResponseCode=n.errorCode,s.errorData=n.errorData;else if(-1!==[this.availableEvents.MORTGAGE_APP_HELP_ARTICLES_AND_TOOLS,this.availableEvents.MORTGAGE_APP_HELP_SHOW_FEEDBACK,this.availableEvents.MORTGAGE_APP_LOCKED_MID_FLOW,this.availableEvents.MORTGAGE_APP_PENDING_RESUME_SUCCESS,this.availableEvents.MORTGAGE_APP_PENDING_RESUME_CALL_IN,this.availableEvents.MORTGAGE_APP_TRACKER_OPENED,this.availableEvents.MORTGAGE_DOC_UPLOAD_TOO_MANY_FILES,this.availableEvents.MORTGAGE_DOC_UPLOAD_PDF_FILE_COUNT_VIOLATION,this.availableEvents.MORTGAGE_DOC_UPLOAD_UNSUPPORTED_TYPE,this.availableEvents.MORTGAGE_DOC_UPLOAD_UNSUPPORTED_FILENAME,this.availableEvents.MORTGAGE_DOC_UPLOAD_FILE_TOO_LARGE,this.availableEvents.MORTGAGE_DOC_UPLOAD_SERVICE_SUCCESS,this.availableEvents.MORTGAGE_DOC_UPLOAD_SERVICE_FAILURE,this.availableEvents.MORTGAGE_APP_SERVICE_ERROR,this.availableEvents.OVERDRAFT_PREAPPROVAL_FLOW_STARTED,this.availableEvents.OVERDRAFT_PREAPPROVAL_FLOW_SUBMITTED,this.availableEvents.OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_SUCCESS,this.availableEvents.OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_REJECTED,this.availableEvents.OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_ERROR,this.availableEvents.OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_PENDING].indexOf(e))s.event=e;else if(e===this.availableEvents.OVERDRAFT_PREAPPROVAL_FLOW_LIMIT_LOWERED)s.event=e,s.amount=n.amount;else if(-1!==[this.availableEvents.JOINT_ENROLLMENT_VALIDATION,this.availableEvents.JOINT_ENROLLMENT_ACCEPTANCE].indexOf(e))s.event=e,t&&(s.jointEnrollmentStatus=t);else{if(e!==this.availableEvents.UPGRADE_CREDIT_CARD_CLICK)return;s.event=e}"pageview"===s.event&&s.page_url?this.AbTestingService.testPathAndGenerateAnalyticsUrl(s.page_url).then((function(e){s.page_url=e})).catch((function(){})).finally((function(){a.push(s),i._currentPageView=s.page_url,i.$log.debug("Sending GTM event:",e,t,s)})):(a.push(s),this._currentPageView=s.page_url,this.$log.debug("Sending GTM event:",e,t,s))}}}},{key:"sendMobilePageViewMetrics",value:function(e,t){var n="/mobilemetrics/"+e+"/"+t;this.sendAction(this.availableEvents.MOBILE_METRICS,null,n)}},{key:"_constructStateUrl",value:function(e,t){if(t=t||"",!e)return t;var n=this.$state.get(e);if(!n||!n.url)return t;var i=n.url.replace(/\/:[a-z0-9_-]+/gi,""),a=i.indexOf("?");a>-1&&(i=i.substr(0,a)),t=i+t;var s=n.parent;if(!s){var o=e.split(".");o.length>1&&(o.pop(),s=o.join("."))}return s?this._constructStateUrl(s,t):t}},{key:"_logDebugAction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.$log.debug("Tracking action:",e,t,n,{title:"params stringified for ease of reporting",params:(0,o.default)(n)})}},{key:"getDynaTrace",value:function(){if(!this.isMock)return this._dynaTrace||(this._dynaTrace=void 0!==window.dynaTrace?window.dynaTrace:void 0),this._dynaTrace}},{key:"_getGTM",value:function(){return this._dataLayer||(this._dataLayer=window.dataLayer),this._dataLayer}},{key:"sendActionOB2CheckoutStep",value:function(e,t){try{if(!t)return;var n=Array.isArray(t)?t:[t];n.length>0&&this.sendAction(this.availableEvents.BASKET_CHECKOUT_STEP,"",{step:e,products:n.map((function(e){return(0,s.default)({},{id:e.profile_product_type,name:e.product_description})}))})}catch(e){}}},{key:"_normalizeOB2ProductName",value:function(e){try{if(window.TNG_PRODUCT_CODE_MAP_EN){var t=window.TNG_PRODUCT_CODE_MAP_EN[e.id];return this.$log.debug("Normalizing product name: "+e.id+" => "+t),t||e.name||e.id}}catch(e){}return e.name||e.id}},{key:"getCurrentPageView",value:function(){return this._currentPageView}},{key:"getMsgForErrCode",value:function(e){var t="global.errorCodes."+e,n=this.$translate.instant(t);if(n===t){var i=this.$filter("date")(new Date,"dd-MMM-yyyy hh:mm");t="global.errorCodes.generic",n=(n=this.$translate.instant(t))+" (Error Code: "+e+") ("+i+")"}return n}},{key:"sendGoogleAnalyticsOnMenuAction",value:function(e,t,n){if(e&&t){var i=e,a=n?"authenticated click":"un-authenticated click",s=this.analyticsConstants.MENU_ACTION_LABLES.find((function(e){return e.value===t})),o=s?s.label:t;this.sendAction(this.availableEvents.CUSTOM_EVENT,a,{category:i,label:o})}}},{key:"sendGoogleAnalyticsOnLoginPageAction",value:function(e,t){if(e){var n=this.EVENT_CATEGORY.LOGIN_PAGE,s=t&&t.rememberMeList&&t.rememberMeList.length>0?"rememberMe on "+t.rememberMeList.length:"rememberMe off",o="";t&&t.error&&(0,a.default)(t.error).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],a=t[1];-1!==n.toLowerCase().indexOf("message")&&(o=o+" "+n+":"+a+" ")})),this.sendAction(this.availableEvents.CUSTOM_EVENT,e,{category:n,label:s,value:o})}}}]),e}();u.$inject=["$log","$state","$translate","analyticsConstants","$cookies","$filter","buildConstants","AbTestingService"],t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapPhoneAndAddresses=void 0;var i=o(n(15)),a=o(n(8)),s=o(n(556));function o(e){return e&&e.__esModule?e:{default:e}}t.mapPhoneAndAddresses=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s.default.PHONE_TYPES,o=(0,a.default)({},e,{addresses:e.address_list.reduce((function(e,t){var n=e;return n[t.address_type]=t,n}),{}),phoneNumbers:(0,i.default)(n).reduce((function(t,i){var a=t,s=n[i],o=e.phone_list.find((function(e){return e.type===s}));return a[s]={type:s,number:o?o.number:"",preferred:!!o&&o.preferred},o&&void 0!==o.extension&&(a[s].extension=o.extension),a}),{})});return t&&(o=(0,a.default)({},o,{extraData:e.extraData})),o.phone_list.length?o.phone_list.forEach((function(e){e.preferred&&!o.primaryPhoneType&&(o.primaryPhoneType=e.type)})):o.primaryPhoneType=n.HOME,o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={EXPRESS_SIGN_UP:{titleKey:"",analyticsKey:"express_sign_up"},REQUIREMENTS:{titleKey:"",analyticsKey:"requirements"},EMAIL_PIN:{titleKey:"newClientEnrollment.progressBarTitles.profileSetup",analyticsKey:"email_pin",parentStateKey:"EMAIL_PIN"},PERSONAL_INFO:{titleKey:"newClientEnrollment.progressBarTitles.personalInfo",analyticsKey:"personal_info",parentStateKey:"PERSONAL_INFO"},ADDRESS:{titleKey:"newClientEnrollment.progressBarTitles.addressInfo",analyticsKey:"address",parentStateKey:"ADDRESS"},REVIEW:{titleKey:"newClientEnrollment.progressBarTitles.review",parentStateKey:"REVIEW"},KYC_SELECTION_AML:{titleKey:"newClientEnrollment.progressBarTitles.kba",analyticsKey:"kycSelection",parentStateKey:"KYC_SELECTION_AML"},KYC_SELECTION_KBA:{titleKey:"newClientEnrollment.progressBarTitles.kba",analyticsKey:"kycSelectionKba",parentStateKey:"KYC_SELECTION_KBA"},KBA:{titleKey:"newClientEnrollment.progressBarTitles.kba",analyticsKey:"kba",parentStateKey:"KBA"},KVA_ESIG:{titleKey:"newClientEnrollment.progressBarTitles.esig",parentStateKey:"KVA_ESIG"},WELCOME:{titleKey:"newClientEnrollment.progressBarTitles.login",parentStateKey:"WELCOME"},PASSMARK:{titleKey:"newClientEnrollment.progressBarTitles.passmark",parentStateKey:"PASSMARK"}},a=[i.EMAIL_PIN,i.PERSONAL_INFO,i.ADDRESS,i.REVIEW],s=[i.WELCOME,i.PASSMARK],o=[i.KBA,i.WELCOME,i.PASSMARK],r=[i.KBA,i.KVA_ESIG,i.WELCOME,i.PASSMARK];t.default={ADDRESS_TYPES:{HOME:"HOME",MAILING:"MAILING",PREVIOUS:"PREVIOUS"},PHONE_TYPES:{HOME:"HOME",MOBILE:"CELL",BUSINESS:"BUSINESS"},CLIENT_ADDRESS_OPTIONAL_FIELDS:["street_name","suite","province"],KYC_METHODS:{CB3Y:"CB3Y",CB6R:"CB6R",CB6SDMDSA:"CB6SDMDSA",CB6SAMDSD:"CB6SAMDSD",CB6SDPLACC:"CB6SDPLACC"},DEFAULT_COUNTRY_CANADA:"CA",RETURN_CODES:{DUPSIN:"DUPSIN"},IDENTITY_STATUSES:{CREDIT_CHECK_SUCCESS:"creditCheckSuccess",CREDIT_CHECK_FAIL:"creditCheckFail",KBA_FAIL:"kbaFail",KBA_PASS:"kbaPass"},STATES:i,GET_STARTED_STATES:a,FAIL_CREDIT_CHECK_STATES:s,FAIL_KBA_STATES:o,KBA_STATES:r},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E){(0,i.default)(this,e),this.$q=t,this.$log=n,this.RequesterService=a,this.SessionService=s,this.AppStateService=o,this.AVAILABLE_SERVICES=r.AVAILABLE_SERVICES,this.userConstants=l,this.EventBusService=c,this.serviceConstants=r,this.EnvironmentService=u,this.capRequestPromise=null,this.userCapabilities=null,this.financialPlanCapabilities=null,this.appStateConstants=d,this.$rootScope=_,this.menuConstants=E,this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;this.financialPlanCapabilities=null,this.personalInsightsCapabilities=null,this.EventBusService.subscribe(this.$rootScope,this.appStateConstants.APPLICATION_LOGOUT,(function(){e.financialPlanCapabilities=null,e.personalInsightsCapabilities=null}))}},{key:"getCapabilities",value:function(){var e=this;return this.capRequestPromise?this.capRequestPromise:this.AppStateService.isInit()&&this.SessionService.isAuthenticated()?(this.capRequestPromise=this.$q.all({responseCapabilities:this._getCapabilities({urlVars:{queryString:"include-servicing-systems=true"}}),responseBudgetCapabilities:this._getBudgetsCapabilities(),responseRecipesCapabilities:this._getRecipesCapabilities()}).then((function(t){return t&&t.responseCapabilities?(e.userCapabilities=t.responseCapabilities.capabilities,t.responseBudgetCapabilities&&t.responseBudgetCapabilities.budgetCapabilities&&Array.prototype.push.apply(e.userCapabilities,t.responseBudgetCapabilities.budgetCapabilities),t.responseRecipesCapabilities&&t.responseRecipesCapabilities.recipesCapabilities&&Array.prototype.push.apply(e.userCapabilities,t.responseRecipesCapabilities.recipesCapabilities),e.SessionService.setMenuCache(e.userCapabilities),e.publishUserCapabilitiesChangedEvent(),t.responseCapabilities):e.$q.reject(e.userConstants.USER.ERRORS.CANNOT_FETCH_CAPABILITIES)})).finally((function(){e.capRequestPromise=null,e.SessionService.setMenuCache(e.userCapabilities),e.publishUserCapabilitiesChangedEvent()})),this.capRequestPromise):(this.userCapabilities=[],this.SessionService.clearMenuCache(),this.publishUserCapabilitiesChangedEvent(),this.$q.resolve(this.userCapabilities))}},{key:"_getCapabilities",value:function(e){return this.RequesterService.request(this.AVAILABLE_SERVICES.USER_CAPABILITIES,e)}},{key:"_getBudgetsCapabilities",value:function(){return this._callRequesterServiceForChain(this.AVAILABLE_SERVICES.GET_BUDGET_CAPABILITIES)}},{key:"_getRecipesCapabilities",value:function(){return this._callRequesterServiceForChain(this.AVAILABLE_SERVICES.GET_RECIPES_CAPABILITIES)}},{key:"_callRequesterServiceForChain",value:function(e){var t=this.$q.defer();return this.RequesterService.request(e).then((function(e){t.resolve(e)})).catch((function(){t.resolve(null)})),t.promise}},{key:"getUserInfo",value:function(){return this.RequesterService.request(this.AVAILABLE_SERVICES.GET_CUSTOMER_INFO)}},{key:"publishUserCapabilitiesChangedEvent",value:function(){this.EventBusService.publish(this.userConstants.EVENTS.USER_CAPABILITIES_UPDATED,{data:this.userCapabilities})}},{key:"getFinancialPlanCapabilities",value:function(){var e=this,t=this.EnvironmentService.get("enableFinancialPlan");return this.$log.debug("isEnvironmentServiceFlagEnabled",t),t&&null==this.financialPlanCapabilities?this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_FINANCIAL_PLAN_CAPABILITIES).then((function(t){if(t.response_status.status_code!==e.serviceConstants.STATUS_CODES.SUCCESS&&t.response_status.status_code!==e.serviceConstants.STATUS_CODES.NO_DATA||void 0===t.financial_plan_capabilities)throw e.$log.error("Financial plan get capabilities response error:",t),e.financialPlanCapabilities=null,t;return e.financialPlanCapabilities=angular.copy(t.financial_plan_capabilities),t})).catch((function(t){e.$log.error("Cannot fetch financial plan capabilities",t),e.financialPlanCapabilities=null})):this.$q.when(this.financialPlanCapabilities)}},{key:"getPersonalInsightsCapability",value:function(){var e=this;return null===this.personalInsightsCapabilities?this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_PERSONAL_INSIGHTS_CAPABILITY).then((function(t){if(t.response_status.status_code!==e.serviceConstants.STATUS_CODES.SUCCESS&&t.response_status.status_code!==e.serviceConstants.STATUS_CODES.NO_DATA||void 0===t.customer_insights_capabilities)throw e.$log.error("Personal Insights get capabilities response error:",t),e.personalInsightsCapabilities=null,t;return e.personalInsightsCapabilities=angular.copy(t.customer_insights_capabilities),t})).catch((function(t){e.$log.error("Cannot fetch personalInsightsCapabilities",t),e.personalInsightsCapabilities=null})):this.$q.when(this.personalInsightsCapabilities)}},{key:"getMoveMoneyCapability",value:function(){var e=this;return this.getCapabilities().then((function(){return-1!==e.userCapabilities.indexOf(e.menuConstants.CAPABILITIES.DEPOSIT_TRANSACT)}))}}]),e}();o.$inject=["$q","$log","RequesterService","SessionService","AppStateService","serviceConstants","userConstants","EventBusService","EnvironmentService","appStateConstants","$rootScope","menuConstants"],t.default=o,e.exports=t.default},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(45),s=(i=a)&&i.__esModule?i:{default:i};var o=(0,s.default)().startOf("day"),r=o.clone().add(1,"days"),l={DATE_SELECTION_MODE:{single:"single",range:"range",indefinite:"indefinite"},DATE_PICKER_FREQUENCY:{daily:{name:"global.datePicker.frequencies.daily",value:"DAILY"},weekly:{name:"global.datePicker.frequencies.weekly",value:"WEEKLY"},biWeekly:{name:"global.datePicker.frequencies.biWeekly",value:"BIWEEKLY"},monthly:{name:"global.datePicker.frequencies.monthly",value:"MONTHLY"},yearly:{name:"global.datePicker.frequencies.yearly",value:"YEARLY"},quarterly:{name:"global.datePicker.frequencies.quarterly",value:"QUARTERLY"}},DATE_PICKER_RANGE_TYPE:{lower:"lower",upper:"upper"},DEFAULT_RANGE_MONTHS:1,TODAY:o,DEFAULT_MIN_DATE:r,DEFAULT_MAX_DATE:(0,s.default)().add(1,"year").add(1,"days"),DEFAULT_MAX_END_DATE:(0,s.default)().add(50,"year"),HORIZONTAL_WIDTH:640,CALENDAR_MONTH_WIDTH:315,CALENDAR_MONTH_HEIGHT:295,DEFAULT_MIN_DATE_OF_BIRTH:(0,s.default)().subtract(120,"year"),DISPLAY_FORMATS:{longForm:"MMMM Do, YYYY"}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r){(0,a.default)(this,e),this.$log=t,this.ReferenceDataService=i,this.RequesterService=n,this.serviceConstants=s,this.customerConstants=r,this.TEMPLATES=o.TEMPLATES,this.FATCA_RESONABILITY=o.FATCA_RESONABILITY,this._roadblockToken=null,this._hideNextRoadblock=!1,this.eNotificationConstants=o}return(0,s.default)(e,[{key:"hideNextRoadblock",value:function(){this._hideNextRoadblock=!0}},{key:"showRoadblocks",value:function(){this._hideNextRoadblock=!1}},{key:"_storeToken",value:function(e){e.token?this._roadblockToken=e.token:this._shouldHoldToken(e.response_status.status_code)&&(this._roadblockToken=this.tempToken)}},{key:"_shouldHoldToken",value:function(e){return-1!==[this.serviceConstants.STATUS_CODES.VALIDATION_ERROR,this.customerConstants.API.RESPONSE_CODES.PININVALID].indexOf(e)}},{key:"getENotifications",value:function(){var e=this;return this.$log.log("eNotificationService:getENotifications"),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_ROADBLOCKS).then((function(t){return e._storeToken(t),t}))}},{key:"getFatcaRoadblocks",value:function(){return this.$log.log("getFactaRoadblocks"),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_FATCA_ROADBLOCKS)}},{key:"getFatcaTaxInfoDependentDetails",value:function(e){return this.$log.log("getFatcaTaxInfoDependentDetails"),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CHILD_TAX_RESIDENCY_CERTIFICATION,{urlVars:{dependentId:e}})}},{key:"getFatcaTaxInfoDetails",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_TAX_RESIDENCY_CERTIFICATION)}},{key:"putFatcaRoadblocks",value:function(e,t){var n=this.serviceConstants.AVAILABLE_SERVICES.PUT_FATCA_ROADBLOCKS,i={data:e};return t&&(n=this.serviceConstants.AVAILABLE_SERVICES.PUT_FATCA_DEPENDENT_ROADBLOCKS,i.urlVars={dependentId:t}),this.RequesterService.request(n,i)}},{key:"prepareFatcaAPIData",value:function(e){var t={foreign_tax_certification_details:{user_consent:!0,self_certification_response:e.selfCertificationResponse}};return e.childCif&&(t.child_cid=e.childCif),e.reasonNonCrsPerson&&(t.foreign_tax_certification_details.reason_non_crs_person=e.reasonNonCrsPerson,e.reasonNonCrsPerson===this.FATCA_RESONABILITY.OTHERS&&(t.foreign_tax_certification_details.other_crs_reason=e.other_crs_reason)),e.reasonNonUsPerson&&(t.foreign_tax_certification_details.reason_non_us_person=e.reasonNonUsPerson,e.reasonNonUsPerson===this.FATCA_RESONABILITY.OTHERS&&(t.foreign_tax_certification_details.other_us_reason=e.other_us_reason)),e.foreignTaxResidency&&e.foreignTaxResidency.length&&(t.foreign_tax_certification_details.foreign_tax_residency=[],e.foreignTaxResidency.forEach((function(e){delete e.country_name,delete e.cannotProvideReason,t.foreign_tax_certification_details.foreign_tax_residency.push(e)}))),t}},{key:"putNotification",value:function(e,t,n,a){var s=this,o=[],r=t===this.TEMPLATES.AML_MISSING_INFO;if(n&&n.roadblock_data)o=n.roadblock_data;else{var l={template_id:t};n&&n.templateId&&(l.template_id=angular.copy(n.templateId),delete n.templateId),a||n&&(t===this.TEMPLATES.KYC_INCOMPLETE_NOT_EXPIRED?l=(0,i.default)(l,n):r&&"LATER"===n.user_choice?l=(0,i.default)(l,n):l.template_data=n),t===this.TEMPLATES.MAILING_ADDRESS_INCORRECT&&n&&n.user_choice&&(l.user_choice=n.user_choice,delete n.user_choice),o.push(l)}var c={roadblock_type:e,roadblock_data:o};r&&(c.roadblock_subtype=this.TEMPLATES.AML_MISSING_INFO);var u={roadblocks:[c]};return this._roadblockToken&&(u.token=this._roadblockToken,this.tempToken=this._roadblockToken,this._roadblockToken=null),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_ROADBLOCKS,{data:u}).then((function(e){return s._storeToken(e),e}))}},{key:"getReferenceData",value:function(e){return this.ReferenceDataService.getDataByType(e)}},{key:"submitEsignature",value:function(e){var t={e_signature:e};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.ADD_KYC_SIGNATURE,{data:t})}},{key:"getAMLRemediationMissingInfoENotification",value:function(){var e=this;return this.$log.log("eNotificationService: getAMLRemediationMissingInfoENotification"),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_AML_ROADBLOCKS,{},{resetCache:!0}).then((function(t){return e._storeToken(t),t}))}},{key:"isInvisibleRoadblock",get:function(){return this._hideNextRoadblock}}]),e}();r.$inject=["$log","RequesterService","ReferenceDataService","serviceConstants","eNotificationConstants","customerConstants"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.$log=t,this.$q=n,this.UserService=a,this.SessionService=s,this.menuConstants=o}return(0,a.default)(e,[{key:"isKycPending",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.skipCCAUexception,i=void 0!==n&&n,a=!!(Array.isArray(this.UserService.userCapabilities)&&this.UserService.userCapabilities.length>0);this.$log.debug("KYC Pending: has cached capabilities?",a);var s=a?this.$q.when({capabilities:this.UserService.userCapabilities}):this.UserService.getCapabilities();return s.then((function(t){return e.checkCapabilities(t&&t.capabilities,i)})).catch((function(t){throw e.$log.debug("KYC Pending: error determining KYC Pending status",t),t}))}},{key:"checkCapabilities",value:function(e,t){var n=this;if(!Array.isArray(e))return!1;var i=!1,a=!1;return e.forEach((function(e){a=a||e===n.menuConstants.CAPABILITIES.PERSON_UPDATE_MINIMUM,i=i||e===n.menuConstants.CAPABILITIES.KYC_PENDING})),t?i:!a&&i}}]),e}();o.$inject=["$log","$q","UserService","SessionService","menuConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,s){(0,a.default)(this,e),(0,i.default)(this,{$log:t,$q:n,EnvironmentService:s}),this._hijackWindowUnload=!1,this._warnOnExit=null}return(0,s.default)(e,[{key:"enableHijackWindowUnload",value:function(e){this._hijackWindowUnload=!0,this._warnOnExit=e}},{key:"disableHijackWindowUnload",value:function(){this._hijackWindowUnload=!1,this._warnOnExit=null}},{key:"triggerWarning",value:function(){return this._warnOnExit?this._warnOnExit(!0):this.$q.resolve()}},{key:"warnOnLinkTransitions",value:function(){return this.hijackWindowUnload&&!this.EnvironmentService.isNative()?this.triggerWarning():this.$q.resolve()}},{key:"hijackWindowUnload",get:function(){return this._hijackWindowUnload}}]),e}();r.$inject=["$log","$q","EnvironmentService"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={BUTTON_TYPES:{ADD:{label:"global.components.buttons.add"},ADD_ANOTHER:{label:"global.components.buttons.addAnother"},ADD_ANOTHER_BILL:{label:"global.components.buttons.addAnotherBill"},BACK:{label:"global.components.buttons.back"},CANCEL:{label:"global.components.buttons.cancel"},CHANGE:{label:"global.components.buttons.change"},CONFIRM:{label:"global.components.buttons.confirm"},DELETE:{label:"global.components.buttons.delete"},PAY:{label:"global.pageFlow.buttons.pay"},DONE:{label:"global.components.buttons.done"},EXIT:{label:"global.components.buttons.exit"},NEXT:{label:"global.components.buttons.next"},SKIP:{label:"global.components.buttons.skip"},SUBMIT:{label:"global.components.buttons.submit"},APPLY:{label:"global.pageFlow.buttons.apply"},SAVE:{label:"global.components.buttons.save"},SEND:{label:"global.components.buttons.send"},RESEND:{label:"global.components.buttons.resend"},DECLINE:{label:"global.components.buttons.decline"},CONFIRM_DECLINE:{label:"global.components.buttons.decline"},YES_DECLINE:{label:"global.components.buttons.yesDecline"},ACCEPT:{label:"global.components.buttons.accept"},VERIFY:{label:"global.components.buttons.verify"},OPTIMIZE:{label:"global.components.buttons.optimize"},REVIEW:{label:"global.components.buttons.review"},CONTINUE:{label:"global.components.buttons.continue"},EMAIL:{label:"global.components.buttons.email"},BUY:{label:"global.components.buttons.buy"},SELL:{label:"global.components.buttons.sell"},RESTART:{label:"global.components.buttons.restart"},RECLAIM:{label:"global.components.buttons.reclaim"},DOWNLOAD:{label:"global.components.buttons.download"},CLOSE:{label:"global.components.buttons.close"},MODIFY:{label:"global.components.buttons.modify"},YES:{label:"global.yes"},NO:{label:"global.no"},PRINT:{label:"global.print"},SET_UP_NOW:{label:"global.components.buttons.setUpNow"},YES_DELETE:{label:"global.pageFlow.buttons.yesDelete"},GO_BACK:{label:"global.pageFlow.buttons.noGoBack"}},EVENTS:{SET_BUTTONS:"SET_BUTTONS",SET_TITLE:"SET_TITLE",CLOSE:"CLOSE"},MODAL_TYPES:{DEFAULT:"default",CC:"creditCard"},MODAL_VISIBILITY_TIMEOUT:t.MODAL_VISIBILITY_TIMEOUT=1500,ANALYTICS_TIMEOUT:500,ANALYTICS_DIVIDER:"/"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={USER:{ERRORS:{CANNOT_FETCH_CAPABILITIES:"CANNOT_FETCH_CAPABILITIES"},CAPABILITIES:{MUTUALFUND_TRANSACT_BUY:"MUTUALFUND_TRANSACT_BUY",MUTUALFUND_TRANSACT_SELL:"MUTUALFUND_TRANSACT_SELL",PRE_TFS_ENROLL:"PRE_TFS_ENROLL",MUTUAL_FUNDS_TRADE:"MUTUAL_FUNDS_TRADE"}},USER_CAPABILITIES_SERVICE_SYSTEM_ERRORS:["CREDIT_CARD","MUTUAL_FUND","MORTGAGE"],EVENTS:{USER_CAPABILITIES_UPDATED:"USER_CAPABILITIES_UPDATED"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UPDATE_ACCOUNT_SUMMARY:"UPDATE_ACCOUNT_SUMMARY",UPDATE_LTS_SUMMARY:"UPDATE_LTS_SUMMARY",UPDATE_FINPLAN_SUMMARY:"UPDATE_FINPLAN_SUMMARY",CONNECTION_LOST:"CONNECTION_LOST",FINPLAN_SUBMIT_SURVEY_CLOSED:"FINPLAN_SUBMIT_SURVEY_CLOSED",FINPLAN_DELETE_SURVEY_CLOSED:"FINPLAN_DELETE_SURVEY_CLOSED",FINPLAN_ABANDON_SURVEY_CLOSED:"FINPLAN_ABANDON_SURVEY_CLOSED",AA_ABONDONED_SURVEY_CLOSED:"AA_ABONDONED_SURVEY_CLOSED",TAX_RESIDENCY_CONFIRM_INFO_EVENT:"TAX_RESIDENCY_CONFIRM_INFO_EVENT",ADD_AUTHORIZED_USER_CONFIRM_INFO_EVENT:"ADD_AUTHORIZED_USER_CONFIRM_INFO_EVENT",APP_REVIEW:"APP_REVIEW",FUTURE_ADDRESS_CONFIRM_INFO_EVENT:"FUTURE_ADDRESS_CONFIRM_INFO_EVENT",OPEN_ACCOUNT_CONFIRM_INFO_EVENT:"OPEN_ACCOUNT_CONFIRM_INFO_EVENT",JOINT_ACCOUNT_APPLICATION_SUBMITTED:"JOINT_ACCOUNT_APPLICATION_SUBMITTED",CREDIT_CARD_CONVERSION_TERMS_EVENT:"CREDIT_CARD_CONVERSION_TERMS_EVENT",CREDIT_CARD_REWARDS_OPEN_ACCOUNT_CONFIRM_INFO_EVENT:"CREDIT_CARD_REWARDS_OPEN_ACCOUNT_CONFIRM_INFO_EVENT",CREDIT_CARD_REWARDS_OPEN_ACCOUNT_CONFIRM_INFO_CANCEL_EVENT:"CREDIT_CARD_REWARDS_OPEN_ACCOUNT_CONFIRM_INFO_CANCEL_EVENT",RENEW_MORTGAGE_CONFIRM_INFO_EVENT:"RENEW_MORTGAGE_CONFIRM_INFO_EVENT",EARLY_RENEWAL_MORTGAGE_CONFIRM_INFO_EVENT:"EARLY_RENEWAL_MORTGAGE_CONFIRM_INFO_EVENT",PROGRESS_TAB_DATA_CHANGE:"PROGRESS_TAB_DATA_CHANGE",EMT_CONTACTS_REFRESH:"EMT_CONTACTS_REFRESH"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(199),s=(i=a)&&i.__esModule?i:{default:i};var o={PAGE_ID:"eNotification",ROADBLOCK_TYPE:{RESTRICTION:"RESTRICTION",AML_REMEDIATION_MISSING_INFO:"AML_REMEDIATION_MISSING_INFO",ENOTIFICATION:"ENOTIFICATION",KYC:"KYC",ONBOARDING:"ONBOARDING",CSA_REACHED_AGE_OF_MAJORITY:"CSA_REACHED_AGE_OF_MAJORITY"},TEMPLATES:{MULTI:"MULTI",AML_MISSING_INFO:"AML_MISSING_INFO",ADDRESS:"ADDRESS",DOB:"DOB",CONTACT:"CONTACT",PHONE:"PHONE",ADDRESS_MISSING_SUITE_NUMBER:"ADDRESS_MISSING_SUITE_NUMBER",ADDRESS_INCORRECT:"ADDRESS_INCORRECT",MAILING_ADDRESS_INCORRECT:"MAILING_ADDRESS_INCORRECT",DOB_MISMATCH:"DOB_MISMATCH",SIN_NUMBER_REQUIRED:"SIN_NUMBER_REQUIRED",OCCUPATION:"OCCUPATION",INTENDED_USE:"INTENDED_USE",HOME_PHONE_REQUIRED:"HOME_PHONE_REQUIRED",AML_REMEDIATION_MISSING_INFO:"AML_REMEDIATION_MISSING_INFO",FORWARD_PRICING_OFFER:"FORWARD_PRICING_OFFER",ACCOUNT_ENROLLMENT_NOTIFICATION:"ACCOUNT_ENROLLMENT_NOTIFICATION",DENIED_ACCESS:"DENIED_ACCESS",ADDRESS_HOME_IS_PO_BOX:"ADDRESS_HOME_IS_PO_BOX",ACCOUNT_ON_HOLD_ADDRESS_PROOF:"ACCOUNT_ON_HOLD_ADDRESS_PROOF",ACCOUNT_ON_HOLD_SIN_PROOF:"ACCOUNT_ON_HOLD_SIN_PROOF",CALL_TO_RESOLVE:"CALL_TO_RESOLVE",KYC_PERSONAL_INFO_CHANGED:"KYC_PERSONAL_INFO_CHANGED",CSA_CONVERSION_CHILD_NOTIFICATION:"CSA_CONVERSION_CHILD_NOTIFICATION",ONBOARDING_DOCUMENT_PROOF:"ONBOARDING_DOCUMENT_PROOF",FATCA:"FATCA",KYC_NOT_CHOSEN:"KYC_NOT_CHOSEN",KYC_INCOMPLETE_NOT_EXPIRED:"KYC_INCOMPLETE_NOT_EXPIRED",KYC_DIGITAL_SIGNATURE:"KYC_DIGITAL_SIGNATURE",KYC_DIGITAL_SIGNATURE_PI:"KYC_DIGITAL_SIGNATURE_PI",RSTRCTN_TC:"RSTRCTN_TC",FACTA_VERIFICATION_US_SIMPLE_INDICIA:"FACTA_VERIFICATION_US_SIMPLE_INDICIA",FACTA_VERIFICATION_US_SIMPLE_FOREIGN_INDICIA:"FACTA_VERIFICATION_US_SIMPLE_FOREIGN_INDICIA",FACTA_VERIFICATION_FOREIGN_INDICIA:"FACTA_VERIFICATION_FOREIGN_INDICIA",GLOBAL_FACTA_TAX_RESIDENCY:"GLOBAL_FACTA_TAX_RESIDENCY",CHILD_GLOBAL_FACTA_TAX_RESIDENCY:"CHILD_GLOBAL_FACTA_TAX_RESIDENCY",MUTUAL_FUND_E_CONSENT:"MF_ECONSENT_ROADBLOCK",BUSINESS_DETAILS:"BUSINESS_DETAILS",BUSINESS_ADDRESS:"BUSINESS_ADDRESS",BUSINESS_PHONE:"BUSINESS_PHONE",NATURE_OF_BUSINESS:"NATURE_OF_BUSINESS",TRADE_NAME_REGISTRATION_COUNTRY:"TRADE_NAME_REGISTRATION_COUNTRY",BUSINESS_INCORPORATION_COUNTRY:"BUSINESS_INCORPORATION_COUNTRY",BUSINESS_REGISTRATION_COUNTRY:"BUSINESS_REGISTRATION_COUNTRY",NOT_FOR_PROFIT_ENTITY:"NOT_FOR_PROFIT_ENTITY",COUNTRIES_BUSINESS:"COUNTRIES_BUSINESS",COUNTRIES_OPERATION:"COUNTRIES_OPERATION",COUNTRIES_SUPPLIERS:"COUNTRIES_SUPPLIERS",COUNTRIES_CUSTOMERS:"COUNTRIES_CUSTOMERS",COUNTRIES_AFFILIATE:"COUNTRIES_AFFILIATE",COUNTRIES_CHARITY_SERVICE:"COUNTRIES_CHARITY_SERVICE",DIRECTOR:"DIRECTOR",DIRECTOR_BENEFICIAL_OWNER:"DIRECTOR_BENEFICIAL_OWNER"},OFFER_BOOLEAN:{ACCEPT:"ACCEPT",DENY:"DECLINE",LATER:"LATER"},NEXT_ACTION:{OPEN_ACCOUNT:"OPEN_ACCOUNT",MOVE_MONEY:"MOVE_MONEY",KBA_DROP_OFF:"KBA_DROP_OFF",VISITOR_ENROLLMENT:"VISITOR ENROLLMENT",DIGITAL_OR_MANUAL_KYC:"DIGITAL_OR_MANUAL_KYC",FATCA:"FATCA",KYC_SELECTION:"KYC_SELECTION",KYC_CHANGE:"KYC_CHANGE",KYC_ESIGNATURE:"KYC_ESIGNATURE",KYC_ESIGNATURE_PI:"KYC_ESIGNATURE_PI",KYC_KBA:"KYC_KBA",CSA_POST_CONVERSION:"CSA_POST_CONVERSION"},ACCOUNT_TYPE:{INDIVIDUAL:"INDIVIDUAL",BUSINESS:"BUSINESS",CORPORATION:"CORPORATION",HOME:"HOME"},CANT_PROVIDE_TIN_REASON:[{key:"eNotification.FACTA.countryList.tinModal.tinInProgress"},{key:"eNotification.FACTA.countryList.tinModal.tinNotAvailable"}],ADDRESS_TYPE:s.default.API.ADDRESS_TYPE,PHONE_TYPE:s.default.API.PHONE_TYPE,EMPLOYMENT_STATUS:s.default.API.EMPLOYMENT_STATUS,KYC_INCOMPLETE_USER_CHOICE:{CONTINUE:"CONTINUE",DISMISS:"DISMISS"},CATCH_ALL:"CATCH_ALL",BOOLEAN_ACTIONS:{YES:"YES",NO:"NO"},FATCA_RESONABILITY:{OTHERS:"OTH",CLN:"CLN",FI407:"FI407"},ROADBLOCK_CATEGORIES:{ADDRESS1:"ADDRESS1",ADDRESS2:"ADDRESS2",SIN1:"SIN1",SIN2:"SIN2",PHONE:"PHONE"},BUSINESS_INDUSTRY_CHARITY:"CNFPO",REGISTERED_CHARITY:"REGCH",BUSINESS_COUNTRY_TYPES:{COUNTRIES_OPERATION:"OPERATION",COUNTRIES_SUPPLIERS:"SUPPLIERS",COUNTRIES_CUSTOMERS:"CUSTOMERS",COUNTRIES_AFFILIATE:"AFFILIATE_PARENT",COUNTRIES_CHARITY_SERVICE:"CHARITY_SERVICE"},CONFIRM_EVENT_TYPE:{PROFILE_SETTINGS:"PROFILE_SETTINGS",EXISTING_ACCOUNT_OPENING:"EXISTING_ACCOUNT_OPENING",TAX_RESIDENCY:"TAX_RESIDENCY",CREDIT_CARD_LIMIT_INCREASE:"CREDIT_CARD_LIMIT_INCREASE",CC_UPGRADE:"CC_UPGRADE",CREDIT_CARD_REWARDS_ADD_ISA:"CREDIT_CARD_REWARDS_ADD_ISA",CREDIT_CARD_ADD_AUTHORIZED_USER:"CREDIT_CARD_REWARDS_ADD_AUTHORIZED_USER",HIGH_RISK_ACCOUNT_SUMMARY:"HIGH_RISK_ACCOUNT_SUMMARY",SHOW_AUTHORIZED_USERS_MODAL:"SHOW_AUTHORIZED_USERS_MODAL",SHOW_CREDIT_CARD_LIMIT_INCREASE_MODAL:"SHOW_CREDIT_CARD_LIMIT_INCREASE_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CLOSE_CREDIT_CARD_REWARDS_ADD_ISA:"CLOSE_CREDIT_CARD_REWARDS_ADD_ISA"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";n(568),n(569),n(469),angular.element(document).ready((function(){angular.bootstrap(document,["tangerine"],{strictDi:!0})}))},function(e,t,n){e.exports=n.p+"favicon.ico"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=V(n(8)),a=V(n(49));n(105),n(579),n(600),n(601),n(603),n(604),n(606),n(608),n(610),n(612),n(614),n(616),n(618),n(619),n(620),n(621),n(622),n(623),n(624);var s=V(n(625));n(626),n(628),n(630),n(631),n(632);var o=V(n(549));n(656),n(657);var r=V(n(658)),l=V(n(659)),c=V(n(550)),u=V(n(551)),d=V(n(672)),_=V(n(683)),E=V(n(684)),h=V(n(687)),S=V(n(698)),T=V(n(699)),p=V(n(700)),f=V(n(701)),g=V(n(702)),A=V(n(703)),v=V(n(1190)),C=V(n(1192)),m=V(n(1271)),I=V(n(1288)),O=V(n(1337)),N=V(n(1338)),R=V(n(1343)),y=V(n(1350)),L=V(n(1370)),M=V(n(1376)),D=V(n(1382)),P=V(n(1416)),b=V(n(1421)),U=V(n(1428)),$=V(n(1434)),F=V(n(1437)),k=V(n(1450)),B=V(n(1459)),G=V(n(1468)),w=n(469),H=V(n(1473));function V(e){return e&&e.__esModule?e:{default:e}}var Y=[];Y=Y.concat(["ui.router","ui.router.state.events","ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngResource","oc.lazyLoad","pascalprecht.translate","tmh.dynamicLocale","LocalStorageModule","puElasticInput","tmh.dynamicLocale","ngIdle","angular-cache","ngAria","ngLocale.en_CA","ngLocale.fr_CA",o.default,s.default,I.default.name,O.default.name,v.default.name,C.default.name,A.default.name,m.default.name,N.default.name,R.default.name,y.default.name,M.default.name,L.default.name,P.default.name,b.default.name,U.default.name,D.default.name,B.default.name,$.default.name,F.default.name,k.default.name,G.default.name]);var x=angular.module("tangerine",Y);x.config(E.default).config(r.default).config(h.default).config(l.default).config(S.default).run(p.default).run(f.default).run(d.default).run(_.default).run(T.default).run(g.default).factory("TangerineInterpolator",H.default).service("SessionService",w.SessionService),window.WL||(x.config(c.default),(0,u.default)(x)),x.config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,n){try{e(t,n);var i={url:window.location.href,exception:t.stack,cause:n};"undefined"!=typeof dynaTrace&&window.dynaTrace.reportError((0,a.default)(i))}catch(e){}}}]),e.decorator("$log",["$delegate","buildConstants",function(e,t){var n=e.debug,s=e.info,o=e.warn,r=e.error,l=t.DEBUG_ENV,c="undefined"!=typeof dynaTrace,u="undefined"!=typeof WL&&WL.Analytics,d=function(){};!l&&window.console&&(0,i.default)(window.console,{log:d,info:d,warn:d,error:d,trace:d});var _=function(e){return Array.isArray(e)?e.map((function(e){try{return(0,a.default)(e)}catch(t){return e}})).join("|"):e},E=function(e,n){t.MOCK_ENV||(WL.Analytics.log(e+": "+n),WL.Analytics.send())};return e.debug=function(){l&&n.apply(void 0,arguments)},e.info=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l&&s.apply(void 0,t);var i=_(t);c&&window.dynaTrace.reportString("INFO",i),u&&E("INFO",i)},e.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l&&o.apply(void 0,t);var i=_(t);c&&window.dynaTrace.reportString("WARN",i),u&&E("WARN",i)},e.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l&&r.apply(void 0,t);var i=_(t);c&&window.dynaTrace.reportString("ERROR",i),u&&E("ERROR",i)},e}]),e.decorator("$translate",["$delegate",function(e){var t=e.instant,n=function(e){return angular.isString(e)&&-1!==e.indexOf("global.errorCodes.MESSAGE_")};return e.instant=function(e,i){return e?t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n(e)?e.replace("global.errorCodes.MESSAGE_","global.errorCodes."):e}(e),i).toString():e},e}]),e.decorator("$anchorScroll",["$delegate","$location",function(e,t){return function(n){(n="string"==typeof n?n:t.hash())&&0!==n.length&&"top"!==n&&".page-content"!==n?e.call(void 0,n):(angular.element(".page-content").scrollTop(0,0),angular.element(".dialog__main-content").scrollTop(0,0),angular.element(".dialog__content").scrollTop(0,0))}}])}]),t.default=x,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,a=n(15),s=(i=a)&&i.__esModule?i:{default:i};!function(t,n){var i=document.documentElement,a=i.matches?"matches":i.matchesSelector?"matchesSelector":i.webkitMatches?"webkitMatches":i.webkitMatchesSelector?"webkitMatchesSelector":i.msMatches?"msMatches":i.msMatchesSelector?"msMatchesSelector":i.mozMatches?"mozMatches":i.mozMatchesSelector?"mozMatchesSelector":null,o=n.element.prototype.closest||function(e){for(var t=this[0].parentNode;t!==document.documentElement&&null!=t&&!t[a](e);)t=t.parentNode;return t&&t[a](e)?n.element(t):n.element()};function r(){if("pageYOffset"in t)return{scrollTop:pageYOffset,scrollLeft:pageXOffset};var e,n=document,i=n.documentElement,a=n.body;return e=i.scrollLeft||a.scrollLeft||0,{scrollTop:i.scrollTop||a.scrollTop||0,scrollLeft:e}}function l(e,n){return e===t?"clientWidth"===n?t.innerWidth:t.innerHeight:e[n]}var c=n.module("vs-repeat",[]).directive("vsRepeat",["$compile","$parse",function(e,i){return{restrict:"A",scope:!0,compile:function(a,c){var u,d,_,E,h,S,T=n.isDefined(c.vsRepeatContainer)?n.element(a[0].querySelector(c.vsRepeatContainer)):a,p=T.children().eq(0),f=p[0].outerHTML,g="$vs_collection",A=!1,v={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsScrolledToEndOffset:"scrolledToEndOffset",vsExcess:"excess"};if(p.attr("ng-repeat"))S="ng-repeat",u=p.attr("ng-repeat");else if(p.attr("data-ng-repeat"))S="data-ng-repeat",u=p.attr("data-ng-repeat");else if(p.attr("ng-repeat-start"))A=!0,S="ng-repeat-start",u=p.attr("ng-repeat-start");else{if(!p.attr("data-ng-repeat-start"))throw new Error("angular-vs-repeat: no ng-repeat directive on a child element");A=!0,S="data-ng-repeat-start",u=p.attr("data-ng-repeat-start")}if(d=/^\s*(\S+)\s+in\s+([\S\s]+?)(track\s+by\s+\S+)?$/.exec(u),_=d[1],E=d[2],h=d[3],A)for(var C=0,m=T.children().eq(0);null==m.attr("ng-repeat-end")&&null==m.attr("data-ng-repeat-end");)C++,m=T.children().eq(C),f+=m[0].outerHTML;return T.empty(),{pre:function(a,c,u){var d,T,p,C,m,I,O=n.isDefined(u.vsRepeatContainer)?n.element(c[0].querySelector(u.vsRepeatContainer)):c,N=n.element(f),R=N[0].tagName.toLowerCase(),y=[],L=void 0!==u.vsHorizontal,M=n.element("<"+R+' class="vs-repeat-before-content"></'+R+">"),D=n.element("<"+R+' class="vs-repeat-after-content"></'+R+">"),P=!u.vsRepeat,b=!!u.vsSize||!!u.vsSizeProperty,U=u.vsScrollParent?"window"===u.vsScrollParent?n.element(t):o.call(O,u.vsScrollParent):O,$="vsOptions"in u?a.$eval(u.vsOptions):{},F=L?"clientWidth":"clientHeight",k=L?"offsetWidth":"offsetHeight",B=L?"scrollLeft":"scrollTop";if(a.totalSize=0,!("vsSize"in u)&&"vsSizeProperty"in u&&console.warn("vs-size-property attribute is deprecated. Please use vs-size attribute which also accepts angular expressions."),0===U.length)throw"Specified scroll parent selector did not match any element";function G(){if(!y||y.length<1)a[g]=[],d=0,a.sizesCumulative=[0];else if(d=y.length,b){a.sizes=y.map((function(e){var t=a.$new(!1);n.extend(t,e),t[_]=e;var i=u.vsSize||u.vsSizeProperty?t.$eval(u.vsSize||u.vsSizeProperty):a.elementSize;return t.$destroy(),i}));var e=0;a.sizesCumulative=a.sizes.map((function(t){var n=e;return e+=t,n})),a.sizesCumulative.push(e)}else w();x()}function w(){P&&a.$$postDigest((function(){if(O[0].offsetHeight||O[0].offsetWidth){for(var e=O.children(),t=0,n=!1,i=!1;t<e.length;){if(null!=e[t].attributes[S]||i){if(n||(a.elementSize=0),n=!0,e[t][k]&&(a.elementSize+=e[t][k]),!A)break;if(null!=e[t].attributes["ng-repeat-end"]||null!=e[t].attributes["data-ng-repeat-end"])break;i=!0}t++}n&&(x(),P=!1,a.$root&&!a.$root.$$phase&&a.$apply())}else var s=a.$watch((function(){(O[0].offsetHeight||O[0].offsetWidth)&&(s(),w())}))}))}function H(){var e="tr"===R?"":"min-";return L?e+"width":e+"height"}function V(){K()&&a.$digest()}function Y(){void 0!==u.vsAutoresize&&(P=!0,w(),a.$root&&!a.$root.$$phase&&a.$apply()),K()&&a.$apply()}function x(){var e;T=void 0,p=void 0,C=d,m=0,e=b?a.sizesCumulative[d]:a.elementSize*d,a.totalSize=a.offsetBefore+e+a.offsetAfter,K(),a.$emit("vsRepeatReinitialized",a.startIndex,a.endIndex)}function W(){var e=l(U[0],F);e!==I&&(x(),a.$root&&!a.$root.$$phase&&a.$apply()),I=e}function K(){var e,n,s,o,c,_=(e=U[0],n=B,e===t?r()[n]:e[n]),E=l(U[0],F),h=O[0]===U[0]?0:(s=O[0],o=U[0],c=L,s.getBoundingClientRect()[c?"left":"top"]-(o===t?0:o.getBoundingClientRect()[c?"left":"top"])+(o===t?r():o)[c?"scrollLeft":"scrollTop"]),S=a.startIndex,f=a.endIndex;if(b){for(S=0;a.sizesCumulative[S]<_-a.offsetBefore-h;)S++;for(S>0&&S--,f=S=Math.max(Math.floor(S-a.excess/2),0);a.sizesCumulative[f]<_-a.offsetBefore-h+E;)f++;f=Math.min(Math.ceil(f+a.excess/2),d)}else a.elementSize>0?(S=Math.max(Math.floor((_-a.offsetBefore-h)/a.elementSize)-a.excess/2,0),f=Math.min(S+Math.ceil(E/a.elementSize)+a.excess,d)):(S=0,f=d);C=Math.min(S,C),m=Math.max(f,m),a.startIndex=$.latch?C:S,a.endIndex=$.latch?m:f;var A=!1;if(null==T?A=!0:null==p&&(A=!0),A||($.hunked?Math.abs(a.startIndex-T)>=a.excess/2||0===a.startIndex&&0!==T?A=!0:(Math.abs(a.endIndex-p)>=a.excess/2||a.endIndex===d&&p!==d)&&(A=!0):A=a.startIndex!==T||a.endIndex!==p),A){if(a[g]=y.slice(a.startIndex,a.endIndex),a.$emit("vsRepeatInnerCollectionUpdated",a.startIndex,a.endIndex,T,p),u.vsScrolledToEnd){var v=y.length-(a.scrolledToEndOffset||0);(a.endIndex>=v&&p<v||y.length&&a.endIndex===y.length)&&a.$eval(u.vsScrolledToEnd)}T=a.startIndex,p=a.endIndex;var I=i(b?"(sizesCumulative[$index + startIndex] + offsetBefore)":"(($index + startIndex) * elementSize + offsetBefore)"),N=I(a,{$index:0}),R=I(a,{$index:a[g].length}),P=a.totalSize;M.css(H(),N+"px"),D.css(H(),P-R+"px")}return A}a.$scrollParent=U,b&&(a.sizesCumulative=[]),a.elementSize=+u.vsRepeat||l(U[0],F)||50,a.offsetBefore=0,a.offsetAfter=0,a.excess=2,L?(M.css("height","100%"),D.css("height","100%")):(M.css("width","100%"),D.css("width","100%")),(0,s.default)(v).forEach((function(e){u[e]&&u.$observe(e,(function(t){a[v[e]]=+t,x()}))})),a.$watchCollection(E,(function(e){y=e||[],G()})),N.eq(0).attr(S,_+" in "+g+(h?" "+h:"")),N.addClass("vs-repeat-repeated-element"),O.append(M),O.append(N),e(N)(a),O.append(D),a.startIndex=0,a.endIndex=0,U.on("scroll",V),n.element(t).on("resize",Y),a.$on("$destroy",(function(){n.element(t).off("resize",Y),U.off("scroll",V)})),a.$on("vsRepeatTrigger",G),a.$on("vsRepeatResize",(function(){P=!0,w()})),a.$on("vsRenderAll",(function(){$.latch&&setTimeout((function(){var e=d;m=Math.max(e,m),a.endIndex=$.latch?m:e,a[g]=y.slice(a.startIndex,a.endIndex),p=a.endIndex,a.$$postDigest((function(){M.css(H(),0),D.css(H(),0)})),a.$apply((function(){a.$emit("vsRenderAllDone")}))}))})),a.$watch((function(){"function"==typeof t.requestAnimationFrame?t.requestAnimationFrame(W):W()}))}}}}}]);e.exports&&(e.exports=c.name)}(window,window.angular)},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";angular.module("ngLocale.en_CA",["tmh.dynamicLocale"]).run(["tmhDynamicLocaleCache",function(e){var t="one",n="other";e.put("en_CA",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",momentlongDate:"MMMM D, YYYY",momentlongDateOrdinal:"MMMM Do, YYYY",monthYear:"MMM y",momentmonthYear:"MMMM YYYY",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"y-MM-dd h:mm a",shortDate:"M-d-y",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-ca",localeID:"en_CA",pluralCat:function(e,i){var a=0|e,s=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var i=Math.pow(10,n);return{v:n,f:(e*i|0)%i}}(e,i);return 1==a&&0==s.v?t:n}})}])},function(e,t,n){"use strict";angular.module("ngLocale.fr_CA",["tmh.dynamicLocale"]).run(["tmhDynamicLocaleCache",function(e){var t="one",n="other";e.put("fr_CA",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],ERANAMES:["avant Jésus-Christ","après Jésus-Christ"],ERAS:["av. J.-C.","ap. J.-C."],FIRSTDAYOFWEEK:6,MONTH:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],SHORTDAY:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],SHORTMONTH:["janv.","févr.","mars","avr.","mai","juin","juill.","août","sept.","oct.","nov.","déc."],STANDALONEMONTH:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],WEEKENDRANGE:[5,6],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",momentlongDate:"D MMMM YYYY",momentlongDateOrdinal:"Do MMMM YYYY",monthYear:"MMM y",momentmonthYear:"MMMM YYYY",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"yy-MM-dd HH:mm",shortDate:"d-M-y",shortTime:"H' h 'mm"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"fr-ca",localeID:"fr_CA",pluralCat:function(e,i){var a=0|e;return 0==a||1==a?t:n}})}])},function(e,t,n){"use strict";function i(e,t,n){t.otherwise("/");var i=function(e){return e.onReady((function(){return!0}))};i.$inject=["$translate"];var a=function(e,t){var n=e.search().locale;n&&(t.locale=n,e.search("locale",null))};a.$inject=["$location","LocaleService"];var s=function(e){return e.loadCommonBundle()};s.$inject=["BundleService"];var o=function(e,t,n,i){return t.isNative()?e.when():n.loadBundle(i.AVAILABLE_BUNDLES.ACCOUNT_DETAILS)};o.$inject=["$q","EnvironmentService","BundleService","bundleConstants"];var r=function(e,t,n){return t.isNative()?n.when():e.initSession()};r.$inject=["SessionService","EnvironmentService","$q"],e.state(n.ABSTRACT,{abstract:!0,data:{requiresBrowserCheck:!0},resolve:{setGuestLocale:a}}).state(n.ABSTRACT_AUTH,{abstract:!0,parent:n.ABSTRACT,data:{requiresAuth:!0},resolve:{bundleCommon:s,bundleAccountDetails:o,translateReady:i,sessionInitialized:r}}).state(n.ABSTRACT_GUEST,{abstract:!0,parent:n.ABSTRACT,resolve:{translateReady:i},params:{locale:{value:"",dynamic:!0}}}).state(n.ABSTRACT_ANON,{abstract:!0,parent:n.ABSTRACT_GUEST,data:{requiresAnon:!0}})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","$urlRouterProvider","stateConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,i,a){t.when("","/"),t.otherwise("/not-found");var s=function(e){if(e.redirectedFrom&&null!=e.redirectedFrom())return e.redirectedFrom().targetState();var t=e.router.stateService;return e.to().name===i.LOGIN||""===e.from().name||e.options().custom.noReturnTo?e.options().custom&&e.options().custom.returnTo?e.options().custom.returnTo:t.target(i.ACCOUNT_SUMMARY):t.target(e.from(),e.params("from"))};s.$inject=["$transition$"];var o=function(e){return e.loadCommonBundle()};o.$inject=["BundleService"];var r=function(e,t,n,a,s,o,r){r.targetEnvironment=t.targetEnvironment,o.debug("Switch environment to "+r.targetEnvironment),n.switchEnvironment(r.targetEnvironment).then((function(){return a.logout(!1).finally((function(){e.go(i.LOGIN,{},{reload:!0})}))})).then((function(){n.isNative()&&s.reloadWebview()})).catch((function(e){return o.error("Unable to switch environments",e)}))};r.$inject=["$state","$stateParams","EnvironmentService","MenuService","NativeService","$log","$scope"],e.state(i.LOGIN,{parent:i.ABSTRACT_ANON,url:"/?locale&errorCode",title:"Login",params:{locale:{dynamic:!0},sessionTimeOut:null,predefinedCif:null},views:{"page-content@":i.LOGIN},resolve:{returnTo:s}}).state(i.FORGOT_LOGIN,{url:"/forgot-login",parent:i.ABSTRACT_GUEST,title:"Forgot Login",views:{"page-content@":i.FORGOT_LOGIN}}).state(i.RESET_PIN,{url:"/reset-pin",parent:i.ABSTRACT_GUEST,title:"Reset PIN",views:{"page-content@":i.RESET_PIN}}).state(i.NEW_CLIENT_ENROLLMENT,{url:"/enroll",parent:i.ABSTRACT_ANON,title:"global.metaTitles.visitor_enrollment",data:{hideMobileFooter:!0,skipAnalyticsOnSuccess:!0},views:{"page-content@":i.NEW_CLIENT_ENROLLMENT},resolve:{bundleCommon:o,onboardingBundle:n(150)}}).state(i.ABM_LOCATIONS,{url:"/locations",parent:i.ABSTRACT_GUEST,data:{parentNavigation:a.ACTION_METHODS.EXIT_NAVIGATION_MENU},views:{"page-content@":i.ABM_LOCATIONS},title:"global.metaTitles.abm_locations",resolve:{abmLocatorBundle:n(294)}}).state(i.ABM_ACCESS,{url:"/abm-access",parent:i.ABSTRACT_GUEST,data:{parentNavigation:i.ABM_LOCATIONS},views:{"page-content@":i.ABM_ACCESS},title:"global.metaTitles.abm_access"}).state(i.MOBILE_PAY,{parent:i.ABSTRACT_AUTH,url:"/mobile-pay",data:{parentNavigation:i.LOGIN,hideMobileFooter:!0},title:"Mobile Pay",views:{"page-content@":i.MOBILE_PAY}}).state(i.INBOX,{url:"/inbox",data:{parentNavigation:i.MOBILE_NAVIGATION,requiresLevel2Auth:!0},parent:i.ABSTRACT_AUTH,views:{"page-content@":i.INBOX},title:"global.metaTitles.inbox",resolve:{userSettingsBundle:n(97),inboxBundle:n(660)}})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","$urlRouterProvider","stateConstants","menuConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(t,i){return t((function(t){n.e("inbox").then(function(){(function(e){e=n(1827);i.load({name:e.name}),t([e])}).call(this,n(50)(e))}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(t,i){return t((function(t){Promise.all([n.e("vendor"),n.e("mortgage")]).then(function(){(function(e){e=n(1847);i.load({name:e.name}),t([e])}).call(this,n(50)(e))}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(t,i){return t((function(t){n.e("investment").then(function(){(function(e){e=n(1848);i.load({name:e.name}),t([e])}).call(this,n(50)(e))}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(t,i){return t((function(t){Promise.all([n.e("vendor"),n.e("documents")]).then(function(){(function(e){e=n(1851);i.load({name:e.name}),t([e])}).call(this,n(50)(e))}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("peopleLikeYou")]).then(function(){var i=n(1805);t.load([{name:i.name}]),e([i])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){n.e("insights").then(function(){var i=n(1806);t.load([{name:i.name}]),e([i])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){e.state(t.ACCOUNT_DOCUMENTS_STATEMENTS,{url:"/statements",data:{requiresAuth:!0,parentNavigation:t.MOBILE_NAVIGATION,requiresLevel2Auth:!0},title:"global.metaTitles.account_documents.statements",component:"accountStatements"}).state(t.ACCOUNT_DOCUMENTS_TAX_RECEIPTS,{url:"/receipts",data:{requiresAuth:!0,parentNavigation:t.MOBILE_NAVIGATION},title:"global.metaTitles.account_documents.tax",component:"taxReceipts"}).state(t.ACCOUNT_DOCUMENTS_INVESTMENTS,{url:"/reports",data:{requiresAuth:!0,parentNavigation:t.MOBILE_NAVIGATION},title:"global.metaTitles.account_documents.investments",component:"investmentReports"}).state(t.ACCOUNT_DOCUMENTS_OTHER,{url:"/other",data:{requiresAuth:!0,parentNavigation:t.MOBILE_NAVIGATION},title:"global.metaTitles.account_documents.other",component:"otherDocuments"})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","stateConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){e.state(t.USER_SETTINGS_GENERAL,{url:n.COMPONENT.GENERAL.URL,title:"global.metaTitles.settings.general",header:"userSettings.nav.general",component:"tngSettingsGeneral"}).state(t.USER_SETTINGS_ORANGE_ALERTS,{url:n.COMPONENT.ORANGE_ALERTS.URL,title:"global.metaTitles.settings.alerts",header:"userSettings.nav.orange_alerts",component:"tngSettingsOrangeAlerts"}).state(t.USER_SETTINGS_EXTERNAL_ACCOUNTS,{url:n.COMPONENT.EXTERNAL_ACCOUNTS.URL,title:"global.metaTitles.settings.external",header:"userSettings.nav.external_accounts",component:"tngSettingsExternalAccounts"}).state(t.USER_SETTINGS_ASP,{url:n.COMPONENT.ASP.URL,title:"global.metaTitles.settings.asp",header:"userSettings.nav.automatic_savings_program",component:"tngAutomaticSavingsProgram"}).state(t.USER_SETTINGS_MONEY_TRANSFER,{url:n.COMPONENT.MONEY_TRANSFER.URL,title:"global.metaTitles.settings.moneytransfer",header:"userSettings.nav.money_transfer",component:"tngMoneyTransfer"}).state(t.USER_SETTINGS_CONTEST_BONUSES,{url:n.COMPONENT.CONTEST_BONUSES.URL,title:"global.metaTitles.settings.bonuses",header:"userSettings.nav.contest_bonuses",component:"tngSettingsContestBonuses"})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","stateConstants","UserSettingsConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){e.state(t.USER_SETTINGS_SECURITY,{data:{requiresAuth:!0,requiresLevel2Auth:!0},url:"/security",title:"Security Settings",component:"tngSettingsSecurity"}).state(t.USER_SETTINGS_SECURITY_LOGIN_OPTIONS,{url:"/login-options",data:{requiresAuth:!0,parentNavigation:t.DEVICES_LOGIN_OPTIONS},views:{"page-content@":"tngLoginOptions"}}).state(t.USER_SETTINGS_SECURITY_LOGIN_TOUCH_ID,{url:"/touch-id",data:{requiresAuth:!0,parentNavigation:t.USER_SETTINGS_SECURITY_LOGIN_OPTIONS},title:"Security: Touch ID",views:{"page-content@":"tngTouchId"},params:{returnTo:void 0}}).state(t.USER_SETTINGS_SECURITY_LOGIN_TOUCH_ID_REENROLL,{url:"/touch-id-reenroll",data:{requiresAuth:!0,parentNavigation:void 0},title:"Security: Touch ID",views:{"page-content@":"tngTouchId"},params:{returnTo:t.ACCOUNT_SUMMARY,isReenrollFlow:!0}}).state(t.USER_SETTINGS_SECURITY_LOGIN_FINGERPRINT_ID,{url:"/fingerprint-id",data:{requiresAuth:!0,parentNavigation:t.USER_SETTINGS_SECURITY_LOGIN_OPTIONS},title:"Security: fingerprintId",views:{"page-content@":"tngFingerprintId"},params:{returnTo:void 0}}).state(t.USER_SETTINGS_SECURITY_LOGIN_TOUCH_ID_FROM_SIMPLE_SIGN_ON,{url:"/touch-id-sso",data:{requiresAuth:!0,parentNavigation:t.SIMPLE_SIGN_ON_TOUCH_ID},title:"Security: Touch ID",views:{"page-content@":"tngTouchId"},params:{returnTo:void 0}}).state(t.USER_SETTINGS_SECURITY_LOGIN_FINGERPRINT_ID_FROM_SIMPLE_SIGN_ON,{url:"/fingerprint-id-sso",data:{requiresAuth:!0,parentNavigation:t.SIMPLE_SIGN_ON_FINGERPRINT_ID},title:"Security: Fingerprint",views:{"page-content@":"tngFingerprintId"},params:{returnTo:void 0,isSimpleSignOnFlow:!0}}).state(t.USER_SETTINGS_SECURITY_LOGIN_FINGERPRINT_ID_REENROLL,{url:"/fingerprint-id-reenroll",data:{requiresAuth:!0,parentNavigation:void 0},title:"Security: Fingerprint",views:{"page-content@":"tngFingerprintId"},params:{returnTo:t.ACCOUNT_SUMMARY,isReenrollFlow:!0}}).state(t.USER_SETTINGS_SECURITY_LOGIN_QUICK_VIEW,{url:"/quick-view",data:{requiresAuth:!0,parentNavigation:t.USER_SETTINGS_SECURITY_LOGIN_OPTIONS},views:{"page-content@":"tngQuickView"}})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","stateConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){e.state(t.FORMS_BANKING,{url:"/banking",data:{requiresAuth:!0},title:"Forms: Banking",component:"tngBanking"}).state(t.FORMS_INVESTMENT,{url:"/investment",data:{requiresAuth:!0},title:"Forms: Investment",component:"tngInvestment"})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","stateConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){e.state(t.DEVICES_SECURITY,{url:"/security",data:{requiresAuth:!0},title:"Devices",component:"tngDevices"}).state(t.DEVICES_ORANGE_SNAPSHOTS,{url:"/devices-orange-snapshots",data:{requiresAuth:!0},title:"Devices: Orange Snapshots",component:"tngDevicesOrangeSnapshots"})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","stateConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){e.state(t.USER_SETTINGS_SECURITY_LOGIN_DEFER_PIN,{url:"/instant-access",data:{requiresAuth:!0,parentNavigation:t.USER_SETTINGS_SECURITY_LOGIN_OPTIONS},params:{returnTo:void 0},title:"Security: Instant Access",views:{"page-content@":"tngInstantAccess"}}).state(t.USER_SETTINGS_SECURITY_LOGIN_DEFER_PIN_FROM_SIMPLE_SIGN_ON,{url:"/instant-access-sso",data:{requiresAuth:!0,parentNavigation:t.SIMPLE_SIGN_ON_QUICK_VIEW},params:{returnTo:void 0},title:"Security: Instant Access",views:{"page-content@":"tngInstantAccess"}}).state(t.USER_SETTINGS_SECURITY_LOGIN_DEFER_PIN_FROM_FINGERPRINT,{url:"/instant-access-wizard",data:{requiresAuth:!0,parentNavigation:t.SIMPLE_SIGN_ON_QUICK_VIEW_FROM_FINGERPRINT,hideMobileFooter:!0},params:{returnTo:void 0},title:"Security: Instant Access",views:{"page-content@":"tngInstantAccess"}}).state(t.USER_SETTINGS_SECURITY_LOGIN_DEFER_PIN_FROM_SIMPLE_SIGN_ON_NO_TOUCH,{url:"/instant-access-no-back",data:{requiresAuth:!0,parentNavigation:t.SIMPLE_SIGN_ON_QUICK_VIEW_NO_BACK},params:{returnTo:void 0},title:"Security: Instant Access",views:{"page-content@":"tngInstantAccess"}})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","stateConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(8)),a=l(n(673)),s=l(n(674)),o=l(n(675)),r=n(178);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,l,c,u,d,_,E,h,S,T,p,f,g,A,v,C,m,I,O,N,R,y,L,M,D,P){var b={};t.deviceReadyDeferred=e.defer(),t.mfpOnSuccessDeferred=e.defer(),t.$$state=c;var U=function(e,t){var n="";n=t.title?e:t.name,document.title=n+" | Tangerine"};t.$on("$stateChangeSuccess",(function(e,i,a,s,o){t.previousStateName=s.name,n.scrollTo(0,0),i.url!==T.IGNORE_PAGES.CONTACT&&(c.kvp_previous=c.kvp_current?c.kvp_current:s.url,c.kvp_current=i.url),A.dispatch(r.RouteActions.uiRouteStateChangeSuccess(i,a,s,o))})),(0,a.default)(l),(0,s.default)(l),l.onBefore({},(function(){if(h.isInit())return!0;var n=e.defer();return h.subscribe(t,p.APPLICATION_INIT,(function(){n.resolve()})),n.promise})),l.onBefore({to:function(e){return!!e.defaultSubstate}},(function(e){return e.router.stateService.target(e.to().defaultSubstate)})),l.onStart({to:"**"},(function(){b=_.search()})),l.onSuccess({to:"**"},(function(){var e=_.search(),t=(0,i.default)(b,e);_.search(t)})),l.onSuccess({},(function(e){var t=e.to();v(t.title).then((function(e){U(e,t)})).catch((function(e){U(e,t)}))})),l.onSuccess({},(function(e){if(e.targetState){var t=e.targetState().state().data;t&&!t.skipAnalyticsOnSuccess?E.sendAction(T.AVAILABLE_EVENTS.STATE_CHANGE_SUCCESS,c.current.name):d.debug("skipped $transitions.onSuccess analytics"),c.current.data||(c.current.data={}),c.current.data.isApplicationRoot=m.isAuthenticated()&&c.current.name===C.ACCOUNT_SUMMARY}})),"undefined"!=typeof WL?(0,o.default)(d,E,h,S,N,R,T,f,t,y,L,u,m,M,O,c,C):(h.initialize(),t.appInitialized=!0),l.onEnter({},(function(e,t){E.sendAction(T.AVAILABLE_EVENTS.STATE_CHANGE_START,t.$$state().name,t.$$state().params),I.stepUpInProgress()&&(O.cancelLogin(),I.onStepUpCancelled())})),l.onError({},(function(e){S.processError({},f.AVAILABLE_EVENTS.STATE_CHANGE_ERROR,e.error())})),l.onFinish({from:C.ACCOUNT_SUMMARY,to:C.LOGIN},(function(e){var t=e.targetState().params();return!m.isAuthenticated()||(!!t.skipAnonCheck||c.go(C.ACCOUNT_SUMMARY,{reload:!1,location:"replace"}))})),l.onStart({to:C.EMT_RECEIVE_MONEY_INTERAC},(function(e){t.currentTargetState=e.targetState()})),l.onStart({to:C.EMT_RECEIVE_MONEY_CLIENT},(function(e){t.currentTargetState=e.targetState()})),l.onStart({to:C.EMT_FULFIlL_REQUEST_INTERAC},(function(e){t.currentTargetState=e.targetState()})),l.onStart({to:C.EMT_RECEIVE_MONEY_STANDARD},(function(){m.isAuthenticated()&&m.logout(!1)})),l.onStart({to:C.JOINT_ENROLLMENT_VALIDATION},(function(){m.isAuthenticated()&&m.logout(!1)})),g.init(),y.isNative()&&(D.CONFIG.magicSwitchFundsUpgraded=!1),window.appEnvironment=y.getCurrentEnvironment()}c.$inject=["$q","$rootScope","$window","$transitions","$state","$cookies","$log","$location","AnalyticsService","AppStateService","ErrorService","analyticsConstants","appStateConstants","errorConstants","ExternalLinkService","$ngRedux","$translate","stateConstants","AuthService","StepUpService","LoginService","NativeService","ConfigDataService","EnvironmentService","StorageService","$timeout","buildConstants","CurrentStateService"],t.default=c,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=function(e,t,n,i){if(n&&n.isMock())return null;if(!t.isAuthenticated())return e.router.stateService.target(i.LOGIN,void 0,{location:!1,reload:!0});if(n&&n.isNative()){var a=e.to();if(a.data&&a.data.requiresLevel2Auth)return e.injector().get("StepUpService").requestLevel2()}return null};e.onBefore({to:function(e){return e.data&&(e.data.requiresAuth||e.data.requiresLevel2Auth)}},(function(e){var n=e.injector().get("SessionService"),i=e.injector().get("EnvironmentService"),a=e.injector().get("stateConstants");return n.hasInit()||i.isNative()||i.isMock()?t(e,n,i,a):n.initSession().then((function(){return t(e,n,i,a)}))}),{priority:10})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$transitions"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=function(e,t,n,i){var a=e.targetState().params().skipAnonCheck;return n&&n.isMock()?null:t.isAuthenticated()&&!a?e.router.stateService.target(i.ACCOUNT_SUMMARY):null};e.onBefore({to:function(e){return e.data&&e.data.requiresAnon}},(function(e){var n=e.injector().get("SessionService"),i=e.injector().get("EnvironmentService"),a=e.injector().get("stateConstants");return n.hasInit()||i.isNative()||i.isMock()?t(e,n,i,a):n.initSession().then((function(){return t(e,n,i,a)}))}),{priority:10})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$transitions"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reloadActiveChat=function(){return{type:i.RELOAD_ACTIVE_CHAT,payload:{}}},t.startChat=function(e,t){return{type:i.START_CHAT,payload:{isRequiredAuth:e,chatProductSelection:t}}},t.toggleChatWithUsModal=function(){return{type:i.TOGGLE_CHAT_WITH_US_MODAL}},t.toggleConfirmationStopChatModal=function(){return{type:i.TOGGLE_CONFIRMATION_STOP_CHAT_MODAL}},t.changeChatState=function(e){return{type:i.CHANGE_CHAT_STATE,payload:{chatConnectionState:e}}},t.exitChat=function(){return{type:i.EXIT_CHAT,payload:{}}},t.minifyChatWindow=function(){return{type:i.TOGGLE_CHAT_WINDOW_MINI}},t.dockChatWindow=function(){return{type:i.TOGGLE_CHAT_WINDOW_DOCK}},t.goToSignin=function(){return{type:i.GO_TO_SIGNIN}},t.toggleScreenSharing=function(){return{type:i.TOGGLE_SCREEN_SHARING}},t.setChatAvailability=function(e){return{type:i.SET_CHAT_AVAILABILITY,payload:{isChatWithUsAvailable:e}}},t.restoreState=function(e){return{type:i.RESTORE_STATE,payload:{stateToRestore:e}}};var i=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleCallYouModal=function(){return{type:i.TOGGLE_CALL_YOU_MODAL}},t.setCallYouAvailability=function(e){return{type:i.SET_CALL_YOU_AVAILABILITY,payload:{isCallYouAvailable:e}}},t.stopCallYou=function(){return{type:i.STOP_CALL_YOU}},t.toggleCallYouConformationModal=function(){return{type:i.TOGGLE_CALL_YOU_CONFORMATION_MODAL}},t.toggleCallYouErrorModal=function(){return{type:i.TOGGLE_CALL_YOU_ERROR_MODAL}};var i=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleCallUsModal=function(){return{type:i.TOGGLE_CALL_US_MODAL}},t.setCallUsAvailability=function(e){return{type:i.SET_CALL_US_AVAILABILITY,payload:{isCallUsAvailable:e}}},t.stopCallUs=function(){return{type:i.STOP_CALL_US}},t.toggleCallUsErrorModal=function(){return{type:i.TOGGLE_CALL_US_ERROR_MODAL}};var i=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleContactUsMenu=function(){return{type:i.TOGGLE_CONTACT_US_MENU}};var i=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleMainNavMenu=function(){return{type:i.TOGGLE_MAIN_NAV_MENU}};var i=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uiRouteStateChangeSuccess=function(e,t,n,a){return{type:i.UI_ROUTE_STATE_CHANGE_SUCCESS,payload:{toState:e,toParams:t,fromState:n,fromParams:a}}};var i=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(415);t.setFlowButtons=function(e){return{type:i.SET_ETRANSFER_BUTTONS,payload:{buttons:e}}},t.cancelTransfer=function(){return{type:i.CANCEL_ETRANSFER}},t.exitTransfer=function(){return{type:i.EXIT_ETRANSFER}},t.resetFlow=function(){return{type:i.ETRANSFER_RESET}},t.gotoPreviousState=function(){return{type:i.PREVIOUS_STATE}},t.gotoSetup=function(e){return{type:i.ETRANSFER_TYPE_SELECTED,payload:e}},t.gotoUpdateContact=function(e){return{type:i.SETUP_UPDATE_CONTACT,payload:e}},t.gotoCreateContact=function(e){return{type:i.SETUP_CREATE_CONTACT,payload:e}},t.gotoDeleteContact=function(e){return{type:i.SETUP_DELETE_CONTACT,payload:e}},t.acceptInteracAgreement=function(e){return{type:i.ACCEPT_INTERAC_AGREEMENT,payload:e}},t.goFromReviewToEntry=function(){return{type:i.FROM_REVIEW_TO_ENTRY}},t.goFromReviewToSetup=function(){return{type:i.FROM_REVIEW_TO_SETUP}},t.gotoDone=function(e){return{type:i.ETRANSFER_DONE,payload:e}},t.goToSecurityQuestionAndAnswer=function(){return{type:i.ETRANSFER_SECURITY_QUESTION_AND_ANSWER}},t.goToReview=function(){return{type:i.ETRANSFER_REVIEW}},t.saveTransferDetails=function(e){return{type:i.SAVE_TRANSFER_DETAILS,payload:e}},t.hideExitConfirmation=function(){return{type:i.HIDE_ETRANSFER_EXIT_CONFIRMATION}},t.updateLoadingState=function(e){return{type:i.ETRANSFER_LOADING_UPDATE,payload:{loading:e}}},t.addNewRecipient=function(e){return{type:i.ETRANSFER_ADD_NEW_RECIPIENT,payload:{recipient:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(685),s=(i=a)&&i.__esModule?i:{default:i};function o(e,t,n,i,a,o,r){e.addPart("app5d6c93bdd8bf434a",-1),t.useLoader("$translatePartialLoader",{urlTemplate:"assets/i18n/strings/{part}/{lang}.json"}),t.usePostCompiling(!0),t.useLocalStorage(),t.useInterpolation("TangerineInterpolator"),t.useSanitizeValueStrategy("sce"),i.localeLocationPattern("assets/i18n/locale/angular-locale_{{locale}}.js"),s.default.updateLocale("fr-ca",{monthsShort:"janv._févr._mars_avr._mai_juin_juill._août_sept._oct._nov._déc.".split("_")}),s.default.tz.add("America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5"),o.debugEnabled(r.DEBUG_ENV),window.AppBuildTimestamp=r.BUILD_TIME,n.classNameFilter(/^(?:(?!ng-animate-disabled).)*$/);a.interceptors.push(["AnalyticsService",function(e){var t=[],n=r.CONFIG;return n.apiUrl&&t.push(n.apiUrl),n.insights&&n.insights.apiUrl&&t.push(n.insights.apiUrl),{request:function(n){try{var i=n.headers;if(!i||i[e.DYNATRACE_HEADERS.SERVICE_URL]||i[e.DYNATRACE_HEADERS.PAGE])return n;var a=void 0;if(t.forEach((function(e){!a&&n.url.startsWith(e)&&(a=n.url.substring(e.length))})),a){i[e.DYNATRACE_HEADERS.SERVICE_URL]=a;var s=e.getCurrentPageView();s&&(i[e.DYNATRACE_HEADERS.PAGE]=s)}}catch(e){}return n}}}])}o.$inject=["$translatePartialLoaderProvider","$translateProvider","$animateProvider","tmhDynamicLocaleProvider","$httpProvider","$logProvider","buildConstants"],t.default=o,e.exports=t.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(688)),a=n(689),s=o(n(690));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){e.createStoreWith(s.default,t.DEBUG_ENV?[i.default,(0,a.createLogger)({level:"info",collapsed:!0})]:[i.default])}r.$inject=["$ngReduxProvider","buildConstants"],t.default=r,e.exports=t.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(103),a=d(n(691)),s=d(n(692)),o=d(n(693)),r=d(n(694)),l=d(n(695)),c=d(n(696)),u=d(n(697));function d(e){return e&&e.__esModule?e:{default:e}}var _=(0,i.combineReducers)({chatWithUs:a.default,callYou:s.default,callUs:o.default,contactUs:r.default,mainNavMenu:l.default,routerState:c.default,etransferFlow:u.default});t.default=_,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(92),s=(i=a)&&i.__esModule?i:{default:i},o=n(61);var r={isChatWithUsModalOpen:!1,isScreenSharing:!1,isChatWindowOpen:!1,isChatWindowMinified:!1,isChatWindowDocked:!1,isChatWithUsAvailable:!1,isAreYouClientModalOpen:!1,isConfirmStopChatModalOpen:!1,chatProductSelection:null,chatConnectionState:"CONNECTING"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1],n=t.type,i=t.payload,a=void 0===i?void 0:i,l=a||{},c=l.isChatWithUsAvailable,u=l.isRequiredAuth,d=l.chatProductSelection,_=l.stateToRestore,E=l.chatConnectionState;switch(n){case o.RELOAD_ACTIVE_CHAT:return(0,s.default)({},e,{isChatWindowOpen:!0,isChatWindowDocked:!1});case o.TOGGLE_CHAT_WITH_US_MODAL:return(0,s.default)({},e,{isChatWithUsModalOpen:!e.isChatWithUsModalOpen});case o.START_CHAT:return u?(0,s.default)({},e,{isAreYouClientModalOpen:!0,isChatWindowOpen:!1,isChatWithUsModalOpen:!1,chatProductSelection:d}):(0,s.default)({},e,{isAreYouClientModalOpen:!1,isChatWindowOpen:!0,isChatWithUsModalOpen:!1,isChatWindowMinified:!1,isChatWindowDocked:!1,chatProductSelection:d});case o.TOGGLE_CONFIRMATION_STOP_CHAT_MODAL:return(0,s.default)({},e,{isConfirmStopChatModalOpen:!e.isConfirmStopChatModalOpen});case o.CHANGE_CHAT_STATE:return(0,s.default)({},e,{chatConnectionState:E,isConfirmStopChatModalOpen:!1});case o.EXIT_CHAT:case o.GO_TO_SIGNIN:return(0,s.default)({},e,r);case o.TOGGLE_SCREEN_SHARING:return(0,s.default)({},e,{isScreenSharing:!e.isScreenSharing});case o.TOGGLE_CHAT_WINDOW_MINI:return(0,s.default)({},e,{isChatWindowMinified:!e.isChatWindowMinified,isChatWindowDocked:!1});case o.TOGGLE_CHAT_WINDOW_DOCK:return(0,s.default)({},e,{isChatWindowDocked:!e.isChatWindowDocked,isChatWindowMinified:!1});case o.SET_CHAT_AVAILABILITY:return(0,s.default)({},e,{isChatWithUsAvailable:c});case o.RESTORE_STATE:return(0,s.default)({},e,_);default:return e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(92),s=(i=a)&&i.__esModule?i:{default:i},o=n(61);var r={isCallYouModalOpen:!1,isCallYouConfirmationModalOpen:!1,isCallYouErrorModalOpen:!1,isCallYouAvailable:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1],n=t.type,i=t.payload,a=void 0===i?void 0:i,l=a||{},c=l.isCallYouAvailable;switch(n){case o.TOGGLE_CALL_YOU_MODAL:return(0,s.default)({},e,{isCallYouModalOpen:!e.isCallYouModalOpen});case o.TOGGLE_CALL_YOU_CONFORMATION_MODAL:return(0,s.default)({},e,{isCallYouConfirmationModalOpen:!e.isCallYouConfirmationModalOpen,isCallYouModalOpen:!1});case o.TOGGLE_CALL_YOU_ERROR_MODAL:return(0,s.default)({},e,{isCallYouModalOpen:!1,isCallYouErrorModalOpen:!0});case o.STOP_CALL_YOU:return(0,s.default)({},e,r);case o.SET_CALL_YOU_AVAILABILITY:return(0,s.default)({},e,{isCallYouAvailable:c});default:return e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(92),s=(i=a)&&i.__esModule?i:{default:i},o=n(61);var r={isCallUsModalOpen:!1,isCallUsErrorModalOpen:!1,isCallUsAvailable:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1],n=t.type,i=t.payload,a=void 0===i?void 0:i,l=a||{},c=l.isCallUsAvailable;switch(n){case o.TOGGLE_CALL_US_MODAL:return(0,s.default)({},e,{isCallUsModalOpen:!e.isCallUsModalOpen});case o.TOGGLE_CALL_US_ERROR_MODAL:return(0,s.default)({},e,{isCallUsModalOpen:!1,isCallUsErrorModalOpen:!0});case o.STOP_CALL_US:return(0,s.default)({},e,r);case o.SET_CALL_US_AVAILABILITY:return(0,s.default)({},e,{isCallUsAvailable:c});default:return e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(92),s=(i=a)&&i.__esModule?i:{default:i},o=n(61);var r={isContactUsMenuOpen:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1],n=t.type;switch(n){case o.TOGGLE_CONTACT_US_MENU:return(0,s.default)({},e,{isContactUsMenuOpen:!e.isContactUsMenuOpen});default:return e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(92),s=(i=a)&&i.__esModule?i:{default:i},o=n(61);var r={isMainNavMenuOpen:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1],n=t.type;switch(n){case o.TOGGLE_MAIN_NAV_MENU:return(0,s.default)({},e,{isMainNavMenuOpen:!e.isMainNavMenuOpen});default:return e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(61),a={toState:{},toParams:{},fromState:{},fromParams:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==i.UI_ROUTE_STATE_CHANGE_SUCCESS?e:t.payload},e.exports=t.default},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(415),s=n(538),o={dirty:!1,closeModal:!1,currentFlowIndex:s.EtransferPage.ETRANSFER_CHOOSE_TYPE,dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_CHOOSE_TYPE],analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_CHOOSE_TYPE],transferDetail:{isSecurityQandAUpdated:!1},stateHistory:[0],loading:!1,newContactInfo:{}};t.default=function(e,t){void 0===e&&(e=o);var n=void 0===t?{type:void 0,payload:void 0}:t,r=n.type,l=n.payload,c=e.stateHistory.concat();switch(r){case a.SET_ETRANSFER_BUTTONS:return i({},e,{buttons:l.buttons});case a.CANCEL_ETRANSFER:return e.dirty?i({},e,{showExitConfirmation:!0}):i({},e,{closeModal:!0});case a.EXIT_ETRANSFER:return e.dirty?i({},e,{showExitConfirmation:!0}):i({},o,{closeModal:!0});case a.HIDE_ETRANSFER_EXIT_CONFIRMATION:return i({},e,{showExitConfirmation:!1});case a.ETRANSFER_RESET:return i({},o);case a.PREVIOUS_STATE:c.pop();var u=c[c.length-1];return i({},e,{currentFlowIndex:u,dialogTitle:s.DialogTitleMap[u],analyticsPath:s.AnalyticsPathMap[u],stateHistory:c});case a.ETRANSFER_TYPE_SELECTED:return l&&"INTERAC_EMT"===l.eTransferType&&!l.interacAgreementAccepted?(c.push(s.EtransferPage.ETRANSFER_AGREEMENT),i({},e,{dirty:!0,currentFlowIndex:s.EtransferPage.ETRANSFER_AGREEMENT,dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_AGREEMENT],analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_AGREEMENT],stateHistory:c,transferDetail:i({},e.transferDetail,l)})):(c.push(s.EtransferPage.ETRANSFER_SETUP),i({},e,{dirty:!0,currentFlowIndex:s.EtransferPage.ETRANSFER_SETUP,dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_SETUP],analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_SETUP],stateHistory:c,transferDetail:i({},e.transferDetail,l)}));case a.SETUP_UPDATE_CONTACT:return c.push(s.EtransferPage.ETRANSFER_UPDATE_CONTACT),i({},e,{dirty:!0,currentFlowIndex:s.EtransferPage.ETRANSFER_UPDATE_CONTACT,analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_UPDATE_CONTACT],dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_UPDATE_CONTACT],stateHistory:c,transferDetail:i({},e.transferDetail,l)});case a.SETUP_CREATE_CONTACT:return c.push(s.EtransferPage.ETRANSFER_CREATE_CONTACT),i({},e,{dirty:!0,currentFlowIndex:s.EtransferPage.ETRANSFER_CREATE_CONTACT,analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_CREATE_CONTACT],dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_CREATE_CONTACT],stateHistory:c,transferDetail:i({},e.transferDetail,l.transferDetail),newContactInfo:i({},l.newContactInfo)});case a.SETUP_DELETE_CONTACT:return c.push(s.EtransferPage.ETRANSFER_DELETE_CONTACT),i({},e,{dirty:!0,currentFlowIndex:s.EtransferPage.ETRANSFER_DELETE_CONTACT,analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_DELETE_CONTACT],dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_DELETE_CONTACT],stateHistory:c,transferDetail:i({},e.transferDetail,l)});case a.ETRANSFER_SECURITY_QUESTION_AND_ANSWER:return c.push(s.EtransferPage.ETRANSFER_SECURITY_QUESTION_AND_ANSWER),i({},e,{dirty:!0,currentFlowIndex:s.EtransferPage.ETRANSFER_SECURITY_QUESTION_AND_ANSWER,dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_SECURITY_QUESTION_AND_ANSWER],analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_SECURITY_QUESTION_AND_ANSWER],stateHistory:c});case a.ETRANSFER_REVIEW:return c.push(s.EtransferPage.ETRANSFER_REVIEW),i({},e,{dirty:!0,currentFlowIndex:s.EtransferPage.ETRANSFER_REVIEW,dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_REVIEW],analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_REVIEW],stateHistory:c});case a.FROM_REVIEW_TO_ENTRY:return c.pop(),c.pop(),c.pop(),c.pop(),c.push(s.EtransferPage.ETRANSFER_CHOOSE_TYPE),i({},e,{currentFlowIndex:s.EtransferPage.ETRANSFER_CHOOSE_TYPE,stateHistory:c});case a.FROM_REVIEW_TO_SETUP:return c.pop(),c.pop(),c.pop(),c.push(s.EtransferPage.ETRANSFER_SETUP),i({},e,{currentFlowIndex:s.EtransferPage.ETRANSFER_SETUP,stateHistory:c});case a.ETRANSFER_DONE:return c.push(s.EtransferPage.ETRANSFER_DONE),i({},e,{dirty:!1,currentFlowIndex:s.EtransferPage.ETRANSFER_DONE,dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_DONE],analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_DONE],stateHistory:c,transferDetail:i({},e.transferDetail,l)});case a.SAVE_TRANSFER_DETAILS:return i({},e,{dirty:!0,transferDetail:i({},e.transferDetail,l)});case a.ACCEPT_INTERAC_AGREEMENT:return c.pop(),c.push(s.EtransferPage.ETRANSFER_SETUP),i({},e,{dirty:!0,currentFlowIndex:s.EtransferPage.ETRANSFER_SETUP,dialogTitle:s.DialogTitleMap[s.EtransferPage.ETRANSFER_SETUP],analyticsPath:s.AnalyticsPathMap[s.EtransferPage.ETRANSFER_SETUP],stateHistory:c,transferDetail:i({},e.transferDetail,l)});case a.ETRANSFER_ADD_NEW_RECIPIENT:var d=i({},l.recipient,{selected:!0}),_=e.transferDetail.recipients.map((function(e){return i({},e,{selected:!1})}));return i({},e,{transferDetail:i({},e.transferDetail,{securityQuestion:void 0,securityAnswer:void 0,optionalMessage:void 0,recipients:_.concat([d]),contactView:!1,selectedRecipient:d})});case a.ETRANSFER_LOADING_UPDATE:return i({},e,{loading:l.loading});default:return e}}},function(e,t,n){"use strict";function i(e,t){t.idle(960),t.timeout(60),e.interval(1200)}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["KeepaliveProvider","IdleProvider"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){e.watch(),t.$on("Keepalive",(function(){n.debug("pinging keepalive URL")})),t.$on("KeepaliveResponse",(function(e,t,i){n.debug("keepalive response:",e,t,i)})),t.$on("IdleStart",(function(){n.debug("user has gone idle")})),t.$on("IdleWarn",(function(e,t){n.debug("time until auto-logout:",t)})),t.$on("IdleInterrupt",(function(){})),t.$on("IdleEnd",(function(){n.debug("user is back from idle")})),t.$on("IdleTimeout",(function(){n.debug("logging user out")}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["Idle","$rootScope","$log"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){function i(e){e()||n.error("Failed to load scripts.")}t.isNative()||(i((function(){return e.loadScript("iovation-thirdPartyScript",t.getIovationConfig().thirdPartyScript,!0)})),i((function(){return e.loadScript("iovation-firstPartyScriptDynamic",t.getIovationConfig().firstPartyScriptDynamic,!0)})),i((function(){return e.loadScript("iovation-firstPartyScriptStatic",t.getIovationConfig().firstPartyScriptStatic,!0)})))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["ScriptService","EnvironmentService","$log"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n,i){t.isNative()||i.on("keydown",(function(t){27===t.keyCode&&function(){if(e.hasOpenModal()){var t=e.getModalOnTop();t&&t.shouldCloseOnEsc&&!t.hideClose&&(n.debug("closing modal"),t.handleOnClose())}}()}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["ModalDialogService","EnvironmentService","$log","$document"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){/Android [4-6]/.test(e.navigator.appVersion)&&e.addEventListener("resize",(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||t((function(){document.activeElement.scrollIntoViewIfNeeded()}))}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$window","$timeout"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Ee(n(704)),a=Ee(n(723)),s=Ee(n(767)),o=Ee(n(772)),r=Ee(n(543)),l=Ee(n(813)),c=Ee(n(886)),u=Ee(n(890)),d=Ee(n(894)),_=Ee(n(898)),E=Ee(n(904)),h=Ee(n(908)),S=Ee(n(912)),T=Ee(n(915)),p=Ee(n(918)),f=Ee(n(922)),g=Ee(n(925)),A=Ee(n(929)),v=Ee(n(933)),C=Ee(n(937)),m=Ee(n(962)),I=Ee(n(963)),O=Ee(n(966)),N=Ee(n(967)),R=Ee(n(968)),y=Ee(n(969)),L=Ee(n(970)),M=Ee(n(971)),D=Ee(n(972)),P=Ee(n(973)),b=Ee(n(974)),U=Ee(n(976)),$=Ee(n(977)),F=Ee(n(1049)),k=Ee(n(1055)),B=Ee(n(1059)),G=Ee(n(1062)),w=Ee(n(1066)),H=Ee(n(1070)),V=Ee(n(1074)),Y=Ee(n(1078)),x=Ee(n(1082)),W=Ee(n(1086)),K=Ee(n(1087)),q=Ee(n(1088)),j=Ee(n(1092)),z=Ee(n(1098)),Q=Ee(n(1105)),X=Ee(n(1110)),J=Ee(n(1137)),Z=Ee(n(1142)),ee=Ee(n(1145)),te=Ee(n(1152)),ne=Ee(n(1157)),ie=Ee(n(1161)),ae=Ee(n(1165)),se=Ee(n(1166)),oe=Ee(n(1167)),re=Ee(n(1171)),le=Ee(n(1175)),ce=Ee(n(1179)),ue=Ee(n(1183)),de=Ee(n(1185)),_e=Ee(n(1186));function Ee(e){return e&&e.__esModule?e:{default:e}}var he=angular.module("tangerine.app.core.components",[r.default.name,l.default.name,a.default.name,i.default.name,X.default.name,ee.default.name,s.default.name,o.default.name,$.default.name,k.default.name,z.default.name,Q.default.name,B.default.name,F.default.name,te.default.name,j.default.name]).component("tngErrorMessage",c.default).component("tngWarningMessage",g.default).component("tngMainNav",J.default).component("tngSubNav",Z.default).component("tngTertiaryNav",ce.default).component("tngIdleNotice",H.default).component("tngChatbot",V.default).component("tngAppConfirmExit",G.default).component("tngConnectionLost",w.default).component("tngLoadingSpinner",u.default).component("tngPageFlowControls",S.default).component("tngPageFlowDialogFooter",T.default).component("tngConfirmExit",ne.default).component("tngLoadingInProgress",d.default).component("tngGlobalLoader",_.default).component("tngLoadingDone",E.default).component("tngNumericInputField",h.default).component("tngItemCounter",_e.default).component("tngProgressBar",p.default).component("tngProgressBarButtons",x.default).component("tngSwitch",Y.default).component("tngTileItem",f.default).component("tngStickyButton",ie.default).component("tngLazyLoader",A.default).component("tngTypeaheadSearch",C.default).component("tngExchangeRateMessage",v.default).component("tngCdicLogo",q.default).component("tngApplicationInProgressModal",oe.default).component("tngCanadaPostStrike",re.default).component("tngTaxBanner",le.default).directive("tngNavList",ue.default).directive("applicationTheme",I.default).directive("autofocus",de.default).directive("actionableId",m.default).directive("tngClickOutside",W.default).directive("tngClickOutsideForNavMenu",K.default).directive("tngVisitorSite",D.default).directive("maxlength",L.default).directive("numericInput",M.default).directive("tngFocus",O.default).directive("tngClick",y.default).directive("tngIgnoreMouseWheel",N.default).directive("tngListWithFocusableElements",R.default).directive("pinInput",P.default).directive("nativeInputScroll",b.default).directive("tngAbsoluteHref",U.default).directive("tngBindHtml",ae.default).directive("tngProfanityChecker",se.default);t.default=he,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(705)),a=l(n(713)),s=l(n(717)),o=l(n(217)),r=l(n(721));function l(e){return e&&e.__esModule?e:{default:e}}var c=angular.module("tangerine.app.core.components.dateSelector",[]).constant("tngDateSelectorConstants",o.default).component("tngDateSelector",i.default).component("tngDateSelectorIncrementer",a.default).component("tngDateSelectorInput",s.default).service("tngDateSelectorCalendarFactory",r.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(706)),a=s(n(707));function s(e){return e&&e.__esModule?e:{default:e}}n(712);var o={template:i.default,controller:a.default,require:{form:"?^form"},bindings:{selectedDate:"=?",endDate:"=?",frequency:"=?",selectionMode:"=?",hideDateIncrementer:"<?",hideSelectionModeSelector:"=?",hideCalendar:"=?",hideFrequencySelector:"=?",minDate:"<?",maxDate:"<?",isDateOfBirth:"<?",onDateChange:"&?",selectionModeExcludeSingle:"<",frequencyExclude:"<?",frequencyExcludeDaily:"<",frequencyExcludeNone:"<",frequencyQuarterlyAndYearlyExcluded:"<",startDateHeader:"@?",endDateHeader:"@?",fixedDateFrom:"<?",inlineFrequency:"<",showNextMontIndefinitely:"<?",showInputDisplay:"<?",selectedDateOnCalendarShown:"<?",inputDisplayLabel:"@?",inputDisplayLabelTooltip:"@?",showValidationOnLoad:"<?",ngRequired:"<?",forceUserSelection:"<?",componentName:"@?",singleMonthViewEnabled:"<?",displayDatePicker:"=?",toggleCalendarFromInputDisplay:"@?",hideCalendarOnDateChange:"@?",moveFocusToDateOnCalendarShown:"<?",enableInput:"<?",enableIncrementerDropDowns:"<?",hideCalendarArrows:"<?",setWhiteBackgroundOnCalendar:"<?",reflectDateInput:"<?",displayOnExternalUpdate:"<?",dateInputPlaceholder:"@?",closeCalendarOnClickOutside:"<?",dateDisplayFormat:"@?",ignoreOutsideClickForInputId:"@?",disableWeekends:"<?",actionableIdRoot:"@?",linkText:"@?",onTextLinkClicked:"&?",indicateToday:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-date-selector-input ng-if="$ctrl.enableInput" selected-date="$ctrl.selectedDate" input-display-label-tooltip="$ctrlinputDisplayLabelToolTip" input-display-label="$ctrl.inputDisplayLabel" component-name="$ctrl._componentName" max-date="$ctrl.maxDate" min-date="$ctrl.minDate" toggle-date-picker="$ctrl.toggleDatePicker()" date-picker-visible="$ctrl.datePickerVisible && $ctrl.displayDatePicker" ngrequired="$ctrl.ngRequired"> </tng-date-selector-input> <div ng-if="$ctrl.showInputDisplay && !$ctrl.enableInput" class="field tng-dp-input"> <label class="heading--sub3"> {{ $ctrl.inputDisplayLabel | translate }} <tng-help-bubble ng-if="$ctrl.inputDisplayLabelTooltip"> {{ $ctrl.inputDisplayLabelTooltip | translate}} </tng-help-bubble> </label> <div id="{{ $ctrl.ignoreOutsideClickForInputId }}" class="field tng-dp-input__input-wrapper" ng-click="$ctrl.showDatePicker()"> <div class="field__icon icon-calendar"></div> <input type="text" class="input date-selector-input" ng-class="{ \'warning\': $ctrl.form[$ctrl._componentName+\'_input\'].$invalid\n        && ($ctrl.form[$ctrl._componentName+\'_input\'].$touched || $ctrl.showValidationOnLoad)}" id="{{$ctrl._componentName}}" name="{{$ctrl._componentName}}_input" ng-model="$ctrl.selectedDate" indicate-today="{{$ctrl.indicateToday}}" date-format="{{$ctrl.dateFormat}}" placeholder="{{ ::$ctrl.dateInputPlaceholder || \'newClientEnrollment.identityInfo.dateOfBirthPlaceholder\' | translate }}" ng-required="$ctrl.ngRequired" readonly="readonly"/> <div class="field__error" ng-messages="$ctrl.form[$ctrl._componentName+\'_input\'].$error" ng-show="$ctrl.form[$ctrl._componentName+\'_input\'].$touched || $ctrl.showValidationOnLoad"> <p ng-message="required">{{ ::\'validation.isRequired\' | translate }}</p> </div> </div> </div> <div ng-class="{\'round-corners\': $ctrl.enableIncrementerDropDowns, \'white-background\': $ctrl.setWhiteBackgroundOnCalendar}" ng-show="$ctrl.datePickerVisible && $ctrl.displayDatePicker" tng-click-outside="$ctrl.clickOutside()" tng-click-outside-inactive="{{ !($ctrl.datePickerVisible && $ctrl.displayDatePicker) }}" tng-click-outside-ignore-id="{{ $ctrl.ignoreOutsideClickForInputId }}"> <div class="tng-dp__selection-mode-wrapper" ng-if="$ctrl.frequencySelectorShown() && !$ctrl.inlineFrequency"> <div class="tng-dp__selection-mode-label"> {{ ::(\'global.datePicker.frequency\' | translate) }}: </div> <div ng-show="$ctrl.frequency === $ctrl.FREQUENCY_MODE_CONSTANTS.NONE && $ctrl.isDirty" class="field__error"> {{ ::\'global.datePicker.required\' | translate }} </div> <tng-select-autocomplete ng-model="$ctrl.frequency" input-id="dateSelector_frequency" on-select="$ctrl.isDirty = true;" options="$ctrl.availableFrequencies" option-label-key="name" option-value-key="value" placeholder="global.datePicker.selectFrequency" select-type="$ctrl.selectConstants.SELECT_TYPES.STATIC"> </tng-select-autocomplete> <div ng-show="!$ctrl.frequency || $ctrl.frequency === \'\'"> <tng-error-message> <p>{{::\'accountDetails.savings.editPayment.errors.requiredInfo\' | translate }}</p> </tng-error-message> </div> </div> <div class="tng-dp__selection-mode-wrapper" ng-if="!$ctrl.hideSelectionModeSelector"> <div class="tng-dp__selection-mode-button"> <input id="{{$ctrl._componentName}}_continueIndefinitely" ng-model="$ctrl.selectionMode" type="radio" class="input input--tangerine-radio" value="INDEFINITE"> <label id="label_dateSelector_continueIndefinitely" for="{{$ctrl._componentName}}_continueIndefinitely">{{ ::(\'global.datePicker.continueIndefinitely\' | translate) }}</label> </div> <div class="tng-dp__selection-mode-button" ng-if="!$ctrl.selectionModeExcludeSingle"> <input id="{{$ctrl._componentName}}_single" ng-model="$ctrl.selectionMode" type="radio" value="SINGLE" class="input input--tangerine-radio"> <label for="{{$ctrl._componentName}}_single">{{ ::(\'global.datePicker.single\' | translate) }}</label> </div> <div class="tng-dp__selection-mode-button"> <input id="{{$ctrl._componentName}}_continueUntil" ng-model="$ctrl.selectionMode" type="radio" value="RANGE" class="input input--tangerine-radio"> <label id="label_dateSelector_continueUntils" for="{{$ctrl._componentName}}_continueUntil">{{ ::(\'global.datePicker.continueUntil\' | translate) }}</label> </div> </div> <div class="tng-dp__incrementer-wrapper" ng-if="!$ctrl.hideDateIncrementer" ng-class="{\'drop-down-mode\': $ctrl.enableIncrementerDropDowns}"> <div class="tng-dp__incrementer--start" ng-show="!$ctrl.fixedDateFrom"> <div ng-if="!$ctrl.inlineFrequency && !$ctrl.enableIncrementerDropDowns" class="tng-dp__incrementer-label"> <span ng-show="$ctrl.startDateHeader">{{ ::($ctrl.startDateHeader | translate) }}:</span> <span ng-show="$ctrl.incrementerEndVisible && !$ctrl.startDateHeader">{{ ::(\'global.datePicker.startDate\' | translate) }}:</span> <span ng-hide="$ctrl.incrementerEndVisible || $ctrl.startDateHeader" class="tng-dp__dateHeader">{{ ::(\'global.datePicker.date\' | translate) }}:</span> <a actionable-id="{{ ::$ctrl.actionableIdRoot }}_link_text" ng-if="$ctrl.linkText" class="tng-dp__linkText" ng-click="$ctrl.onTextLinkClicked()">{{ ::$ctrl.linkText | translate }}</a> </div> <div ng-if="$ctrl.inlineFrequency && !$ctrl.enableIncrementerDropDowns" class="tng-dp__selection-mode-label-inline-frequency"> <span ng-show="$ctrl.startDateHeader">{{ ::($ctrl.startDateHeader | translate) }}:</span> <span ng-show="$ctrl.incrementerEndVisible && !$ctrl.startDateHeader">{{ ::(\'global.datePicker.startDate\' | translate) }}:</span> <span ng-hide="$ctrl.incrementerEndVisible || $ctrl.startDateHeader" class="tng-dp__dateHeader">{{ ::(\'global.datePicker.date\' | translate) }}:</span> </div> <tng-date-selector-incrementer selected-date="$ctrl.selectedDate" locale="$ctrl.$locale" min-date="$ctrl.minDate" max-date="$ctrl.maxDate" force-user-selection="$ctrl.forceUserSelection" selection-model="$ctrl.selectionModel" enable-incrementer-drop-downs="$ctrl.enableIncrementerDropDowns" on-increment-change="$ctrl.incrementClicked()" focus-to-date-on-calendar-shown="$ctrl.moveFocusToDateOnCalendarShown" skip-weekends="!!$ctrl.disableWeekends"></tng-date-selector-incrementer> </div> <div class="tng-dp__incrementer--end" ng-show="$ctrl.incrementerEndVisible"> <div ng-if="!$ctrl.endDateHeader" class="tng-dp__incrementer-label">{{ ::(\'global.datePicker.endDate\' | translate) }}:</div> <div ng-if="$ctrl.endDateHeader" class="tng-dp__incrementer-label">{{ ::($ctrl.endDateHeader | translate) }}:</div> <tng-date-selector-incrementer selected-date="$ctrl.endDate" locale="$ctrl.$locale" min-date="$ctrl.minDate" max-date="$ctrl.maxDate" enable-incrementer-drop-downs="$ctrl.enableIncrementerDropDowns" on-increment-change="$ctrl.incrementClicked()" skip-weekends="!!$ctrl.disableWeekends"></tng-date-selector-incrementer> </div> <div class="tng-dp__selection-mode-wrapper-inline-frequency" ng-if="$ctrl.frequencySelectorShown() && $ctrl.inlineFrequency"> <div class="tng-dp__selection-mode-label-inline-frequency"> {{ ::(\'global.datePicker.frequency\' | translate) }}: </div> <div ng-show="$ctrl.frequency === $ctrl.FREQUENCY_MODE_CONSTANTS.NONE && $ctrl.isDirty" class="field__error" class="field__error"> {{ ::\'global.datePicker.required\' | translate }} </div> <tng-select-autocomplete ng-model="$ctrl.frequency" input-id="dateSelector_frequency_inline" on-select="$ctrl.isDirty = true;" options="$ctrl.availableFrequencies" option-label-key="name" option-value-key="value" select-type="$ctrl.selectConstants.SELECT_TYPES.STATIC"> </tng-select-autocomplete> <div ng-show="!$ctrl.frequency || $ctrl.frequency === \'\'"> <tng-error-message> <p>{{::\'accountDetails.savings.editPayment.errors.requiredInfo\' | translate }}</p> </tng-error-message> </div> </div> </div> <div class="tng-dp__date-selector" ng-hide="$ctrl.hideCalendar" ng-class="{\'singleMonthEnabled\': $ctrl.singleMonthViewEnabled, \'noMinWidth\': $ctrl.enableIncrementerDropDowns,}"> <button actionable-id="date-selector-move-calendar-left" ng-if="$ctrl.setWhiteBackgroundOnCalendar || $ctrl.showPrevMonthArrow" ng-disabled="$ctrl.setWhiteBackgroundOnCalendar && !$ctrl.showPrevMonthArrow" class="tng-dp__month-button--left" ng-click="$ctrl.moveCalendar(-1)" type="button"> <span class="icon-leftarrow"></span> </button> <div class="tng-dp__month-container js-calendar-container" ng-class="{\n        \'singleMonthEnabled\': $ctrl.singleMonthViewEnabled,\n        \'hideMonthHeader\': $ctrl.enableIncrementerDropDowns,\n        }"></div> <button actionable-id="date-selector-move-calendar-right" ng-if="$ctrl.setWhiteBackgroundOnCalendar || $ctrl.showNextMonthArrow" ng-disabled="$ctrl.setWhiteBackgroundOnCalendar && !$ctrl.showNextMonthArrow" class="tng-dp__month-button--right" ng-click="$ctrl.moveCalendar(1)" type="button"> <span class="icon-rightarrow"></span> </button> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(8)),a=c(n(0)),s=c(n(2)),o=c(n(532)),r=c(n(216)),l=c(n(711));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,s,o,r,c,u,d,_,E,h){(0,a.default)(this,e),(0,i.default)(this,{$element:t,$scope:o,$attrs:r,$translate:c,$locale:n,tngDateSelectorCalendarFactory:u,tngSelectAutocompleteConstants:d,$log:_,$window:E,tngDateSelectorConstants:h}),this._domElement=t[0],this._domRefs={},s.enabled(!1,t),this._selectionModel=new l.default,this._componentName=this.componentName?this.componentName:"date-selector",this.selectConstants=d,this.isDirty=!1,this.FREQUENCY_MODE_CONSTANTS=h.FREQUENCY_MODE_CONSTANTS,this.DATE_SELECTOR_CSS_CLASSES=h.DATE_SELECTOR_CSS_CLASSES,this.DATE_SELECTOR_MODES=h.DATE_SELECTOR_MODES,this.THRESHOLDS=h.THRESHOLDS,this.LATEST_CHANGES_OPTIONS=h.LATEST_CHANGES_OPTIONS,this.DEFAULT_END_DATE_CONSTANTS=h.DEFAULT_END_DATE_CONSTANTS,this.DEFAULT_MIN_DATE_OF_BIRTH=h.DEFAULT_MIN_DATE_OF_BIRTH,this.DEFAULT_MAX_DATE_OF_BIRTH=h.DEFAULT_MAX_DATE_OF_BIRTH,this.displayDatePicker=void 0===this.displayDatePicker||this.displayDatePicker}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.forceUserSelection&&!this.selectedDate&&(this._selectionModel.preventDaySelection=!0),this.dateFormat=this.dateDisplayFormat||"DD/MM/YYYY",this._selectionModel.reflectDateInput=!!this.reflectDateInput,this.isDateOfBirth&&(this.minDate||(this.minDate=this.DEFAULT_MIN_DATE_OF_BIRTH),this.maxDate||(this.maxDate=this.DEFAULT_MAX_DATE_OF_BIRTH),this.selectionMode=this.DATE_SELECTOR_MODES.SINGLE),this.datePickerVisible=!this.showInputDisplay,this._domRefs.calendarContainer=this._domElement.querySelector("."+this.DATE_SELECTOR_CSS_CLASSES.jsCalendarContainerClass),this.showPrevMonthArrow=!0,this.showNextMonthArrow=!0,this._slotsRendered=0,this._prepareSlots(),this._windowSizeChanged=(0,o.default)(this._windowSizeChanged.bind(this),this.THRESHOLDS.RESIZE_THROTTLE_MS),this._addEventListeners(),this._selectionModel.onUpdate(this._selectionUpdated.bind(this)),this._initSelection(),this.fixedDateFrom&&this._selectionModel.setHandlingToDate(!0),[function(){return e.selectedDate},function(){return e.endDate},function(){return e.frequency},function(){return e.selectionMode},function(){return e.minDate},function(){return e.maxDate}].forEach((function(t){e.$scope.$watch(t,e._selectionUpdatedExternally.bind(e))})),this._prepareFrequencies(),this.originalSelectedDate=r.default.parseMoment(this.selectedDate)||this._getDefaultSelectedDate(),this.originalEndDate=r.default.parseMoment(this.endDate)||this._getDefaultEndDate()}},{key:"incrementClicked",value:function(){this.incrementChanged=!0}},{key:"$onDestroy",value:function(){this._removeEventListeners()}},{key:"moveCalendar",value:function(e){this._focusedMonth+=e,13===this._focusedMonth?(this._focusedYear+=1,this._focusedMonth=1):0===this._focusedMonth&&(this._focusedYear-=1,this._focusedMonth=12),this._renderCalendars()}},{key:"frequencySelectorShown",value:function(){return!this.hideFrequencySelector&&this.selectionMode!==this.DATE_SELECTOR_MODES.SINGLE}},{key:"_prepareFrequencies",value:function(){var e=this,t=function(t){return e.$translate.instant("global.datePicker.frequencies."+t)};this.availableFrequencies=[{value:this.FREQUENCY_MODE_CONSTANTS.WEEKLY,name:t("weekly")},{value:this.FREQUENCY_MODE_CONSTANTS.BIWEEKLY,name:t("biWeekly")},{value:this.FREQUENCY_MODE_CONSTANTS.MONTHLY,name:t("monthly")}],this.frequencyQuarterlyAndYearlyExcluded||(this.availableFrequencies.push({value:this.FREQUENCY_MODE_CONSTANTS.QUARTERLY,name:t("quarterly")}),this.availableFrequencies.push({value:this.FREQUENCY_MODE_CONSTANTS.YEARLY,name:t("yearly")})),this.frequencyExcludeDaily||this.availableFrequencies.unshift({value:this.FREQUENCY_MODE_CONSTANTS.DAILY,name:t("daily")}),this.frequencyExcludeNone||this.availableFrequencies.unshift({value:this.FREQUENCY_MODE_CONSTANTS.NONE,name:this.$translate.instant("global.components.buttons.select")}),Array.isArray(this.frequencyExclude)&&(this.availableFrequencies=this.availableFrequencies.filter((function(t){return-1===e.frequencyExclude.indexOf(t.value)})))}},{key:"_windowSizeChanged",value:function(){this._prepareSlots(),this._renderCalendars()}},{key:"_getDefaultSelectedDate",value:function(){return r.default.parseMoment(moment())}},{key:"_getDefaultEndDate",value:function(){return r.default.parseMoment(moment().add(this.DEFAULT_END_DATE_CONSTANTS[this.frequency]))}},{key:"_initSelection",value:function(){this.selectedDate||this._selectionModel.setDateFrom(this._getDefaultSelectedDate(),!0),void 0===this.$attrs.endDate||this.endDate||this._selectionModel.setDateTo(this._getDefaultEndDate(),!0)}},{key:"_notifyBoundCallback",value:function(){angular.isFunction(this.onDateChange)&&this.onDateChange({selectedDate:this.selectedDate,endDate:this.endDate,frequency:this.frequency,selectionMode:this.selectionMode,selectedDaysCount:this._selectionModel.getSelectedDaysCount(),isHandlingToDate:this._selectionModel.isHandlingToDate()})}},{key:"_selectionUpdated",value:function(e){if(e.fromDate){var t=e.fromDate;!r.default.sameDates(r.default.parseMoment(this.selectedDate),t)&&(null!==this.selectedDate||this.forceUserSelection&&this.datePickerVisible)&&(this.selectedDate=r.default.toMoment(t)),e.latestChange===this.LATEST_CHANGES_OPTIONS.FROM_DATE&&this._moveFocusTo(t)}if(e.toDate){var n=e.toDate;r.default.sameDates(r.default.parseMoment(this.endDate),n)||(this.endDate=r.default.toMoment(n)),e.latestChange===this.LATEST_CHANGES_OPTIONS.TO_DATE&&this._selectionModel.getSelectionMode()===this.DATE_SELECTOR_MODES.RANGE&&this._moveFocusTo(n)}this._hideCalendar(),null!==this.selectedDate&&this._notifyBoundCallback(),this._renderCalendars()}},{key:"_showPickerOnDateChangeWithSelector",value:function(){return!(!this.incrementChanged||!this.displayOnExternalUpdate)}},{key:"_selectionUpdatedExternally",value:function(){var e=this._selectionModel.getDateFrom(),t=r.default.parseMoment(this.selectedDate),n=t&&!r.default.sameDates(e,t);n&&this._selectionModel.setDateFrom(t,!0);var i=this._selectionModel.getDateTo(),a=r.default.parseMoment(this.endDate);a&&!r.default.sameDates(i,a)&&this._selectionModel.setDateTo(a,!0);var s=this._selectionModel.getMinDate(),o=r.default.parseMoment(this.minDate);r.default.sameDates(s,o)||this._selectionModel.setMinDate(o);var l=this._selectionModel.getMaxDate(),c=r.default.parseMoment(this.maxDate);r.default.sameDates(l,c)||this._selectionModel.setMaxDate(c);var u=this.frequency;this._selectionModel.getFrequency()!==u&&this._selectionModel.setFrequency(u);var d=this.selectionMode;this._selectionModel.getSelectionMode()!==d&&(this._selectionModel.setSelectionMode(d),this.incrementerEndVisible=d===this.DATE_SELECTOR_MODES.RANGE,n||d!==this.DATE_SELECTOR_MODES.INDEFINITE||(this.selectedDate=r.default.toMoment(this.originalSelectedDate),this.endDate=r.default.toMoment(this.originalEndDate),this._selectionModel.setDateTo(this.originalEndDate,!0),this._selectionModel.setDateFrom(this.originalSelectedDate,!0))),this._hideCalendar(),this.incrementChanged=!1}},{key:"_hideCalendar",value:function(){angular.isDefined(this.hideCalendar)||this._selectionModel.getSelectionMode()!==this.DATE_SELECTOR_MODES.SINGLE||!this.hideCalendarOnDateChange||this._showPickerOnDateChangeWithSelector()||(this.datePickerVisible=!1)}},{key:"_addEventListeners",value:function(){var e=this;this._transitionListener=null,angular.element(this._domRefs.calendarContainer).on("click touchstart",(function(t){e._processClick(t),e.$scope.$$phase||e.$scope.$apply()})),angular.element(window).on("resize",this._windowSizeChanged)}},{key:"_removeEventListeners",value:function(){angular.element(window).off("resize",this._windowSizeChanged),angular.element(this._domRefs.calendarContainer).on("click touchstart")}},{key:"_parseClickedDay",value:function(e){for(var t=e;t;){if(this.disableWeekends&&t.classList.contains(this.DATE_SELECTOR_CSS_CLASSES.calendarWeekendsClass))return null;if(t.dataset&&void 0!==t.dataset.day)return t.dataset.day;if(t.classList.contains(this.DATE_SELECTOR_CSS_CLASSES.jsCalendarContainerClass))return null;t=t.parentNode}return null}},{key:"_processClick",value:function(e){this.forceUserSelection&&(this._selectionModel.preventDaySelection=!1);var t=this._parseClickedDay(e.target);if(t){var n=r.default.parseDateString(t);if(n){var i=this._selectionModel.getDateFrom();if(this._selectionModel.getSelectionMode()===this.DATE_SELECTOR_MODES.RANGE){var a=this._selectionModel.getDateTo();if(r.default.sameDates(n,i)&&!this.fixedDateFrom)return void this._selectionModel.setHandlingToDate(!1);if(r.default.sameDates(n,a))return void this._selectionModel.setHandlingToDate(!0);if(this._selectionModel.isHandlingToDate())return void this._selectionModel.setDateTo(n)}this._selectionModel.setDateFrom(n)}}}},{key:"_moveFocusTo",value:function(e){if(e){var t=e.month,n=e.year;this._focusedMonth=t,this._focusedYear=n}}},{key:"_prepareSlots",value:function(){if(this.$window.innerWidth>this.THRESHOLDS.TABLET_PX&&!this.singleMonthViewEnabled?(this._fitSlots=this.THRESHOLDS.MONTH_SLOTS_DESKTOP,this._extraSlots=this.THRESHOLDS.MONTH_BACKWARD_SLOTS_DESKTOP):(this._fitSlots=this.THRESHOLDS.MONTH_SLOTS_TABLET,this._extraSlots=this.THRESHOLDS.MONTH_BACKWARD_SLOTS_TABLET),this._slotsRendered!==this._fitSlots){for(;this._domRefs.calendarContainer.firstChild;)this._domRefs.calendarContainer.removeChild(this._domRefs.calendarContainer.firstChild);this._monthObjects=[];for(var e=0;e<this._fitSlots;e++){var t=this.tngDateSelectorCalendarFactory.createEmptyMonth(this.$locale,this._selectionModel,{disableWeekends:!!this.disableWeekends,indicateToday:Boolean(this.indicateToday)});this._monthObjects[e]=t,t.renderIn(this._domRefs.calendarContainer)}this._slotsRendered=this._fitSlots}}},{key:"_renderCalendars",value:function(){for(var e=this._selectionModel.getMaxDate(),t=this._selectionModel.getMinDate(),n=0;n<this._fitSlots;n++){var i=n+this._extraSlots;if(this._monthObjects[n].setMonthYear(this._focusedMonth+i,this._focusedYear),0===n&&(this.showPrevMonthArrow=(!t||r.default.lessThan(t,{day:1,month:this._focusedMonth,year:this._focusedYear}))&&!this.hideCalendarArrows),n===this._fitSlots-1){var a={day:1,month:this._focusedMonth,year:this._focusedYear},s=i+(this._fitSlots===this.THRESHOLDS.MONTH_SLOTS_TABLET?1:-1);a=r.default.addMonths(a,s),this.showNextMonthArrow=(!e||r.default.greaterThan(e,a)||r.default.sameDates(e,a)||this.showNextMontIndefinitely)&&!this.hideCalendarArrows}}}},{key:"toggleDatePicker",value:function(){this.datePickerVisible?this.displayDatePicker=!this.displayDatePicker:this.showDatePicker()}},{key:"clickOutside",value:function(){this.closeCalendarOnClickOutside&&this.datePickerVisible&&(this.datePickerVisible=!this.datePickerVisible)}},{key:"showDatePicker",value:function(){this.datePickerVisible?!angular.isDefined(this.hideCalendar)&&this.toggleCalendarFromInputDisplay&&(this.datePickerVisible=!this.datePickerVisible):(this.datePickerVisible=!0,this.forceUserSelection&&!this.selectedDate?(angular.isDefined(this.moveFocusToDateOnCalendarShown)?this._moveFocusTo(r.default.parseMoment(this.moveFocusToDateOnCalendarShown)):this._moveFocusTo(r.default.parseMoment(this.maxDate)),this._renderCalendars()):this.selectedDate||(this.selectedDateOnCalendarShown?this.selectedDate=this.selectedDateOnCalendarShown:this.selectedDate=this.maxDate,this._notifyBoundCallback()))}},{key:"selectionModel",get:function(){return this._selectionModel}}]),e}();u.$inject=["$element","$locale","$animate","$scope","$attrs","$translate","tngDateSelectorCalendarFactory","tngSelectAutocompleteConstants","$log","$window","tngDateSelectorConstants"],t.default=u,e.exports=t.default},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(8)),a=l(n(0)),s=l(n(2)),o=n(217),r=l(n(216));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,a.default)(this,e),this._frequencyMode=o.FREQUENCY_MODE_CONSTANTS.NONE,this._selectionMode=o.DATE_SELECTOR_MODES.SINGLE,this._fromDate=null,this._toDate=null,this._minDate=null,this._maxDate=null,this._updateListener=null,this._handleToDate=!1,this._latestExternalChange=o.LATEST_CHANGES_OPTIONS.NONE,this._preventDaySelection=!1}return(0,s.default)(e,[{key:"getSelectionMode",value:function(){return this._selectionMode}},{key:"setSelectionMode",value:function(e){this._selectionMode=e,this._selectionMode===o.DATE_SELECTOR_MODES.RANGE&&this._toDate&&this._fromDate&&!r.default.greaterThan(this._toDate,this._fromDate)&&this.setDateTo(r.default.addDays(this.getDateFrom(),1)),this._update()}},{key:"setFrequency",value:function(e){this._frequencyMode=e,this._update()}},{key:"getFrequency",value:function(){return this._frequencyMode}},{key:"setMinDate",value:function(e){this._maxDate&&e&&!r.default.lessThan(e,this._maxDate)||(this._minDate=e,this._minDate&&r.default.lessThan(this._fromDate,this._minDate)&&(this._fromDate=this._minDate,this._latestExternalChange=o.LATEST_CHANGES_OPTIONS.FROM_DATE)),this._update()}},{key:"getSelectedDaysCount",value:function(){return r.default.getHighlightedDaysCount(this._fromDate,this._toDate,this._frequencyMode,this._selectionMode)}},{key:"setMaxDate",value:function(e){this._minDate&&e&&!r.default.greaterThan(e,this._minDate)||(this._maxDate=e,this._maxDate&&r.default.greaterThan(this._fromDate,this._maxDate)&&(this._fromDate=this._maxDate,this._latestExternalChange=o.LATEST_CHANGES_OPTIONS.FROM_DATE)),this._update()}},{key:"setDateFrom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!this._toDate||this._selectionMode!==o.DATE_SELECTOR_MODES.RANGE||r.default.lessThan(e,this._toDate),i=!(this._minDate&&r.default.lessThan(e,this._minDate)),a=!(this._maxDate&&r.default.greaterThan(e,this._maxDate));if(i&&a){if(this._fromDate=e,t&&(this._latestExternalChange=o.LATEST_CHANGES_OPTIONS.FROM_DATE),n)return void this._update();this._toDate=r.default.addDays(e,1),this._update()}}},{key:"setDateTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!this._fromDate||this._selectionMode!==o.DATE_SELECTOR_MODES.RANGE||r.default.greaterThan(e,this._fromDate),i=!(this._minDate&&r.default.lessThan(e,this._minDate)),a=!(this._maxDate&&r.default.greaterThan(e,this._maxDate));n&&i&&a&&(this._toDate=e,t&&(this._latestExternalChange=o.LATEST_CHANGES_OPTIONS.TO_DATE)),this._update()}},{key:"setHandlingToDate",value:function(e){this._handleToDate=e,this._update()}},{key:"isHandlingToDate",value:function(){return this._handleToDate}},{key:"getMinDate",value:function(){return this._minDate?(0,i.default)({},this._minDate):null}},{key:"getMaxDate",value:function(){return this._maxDate?(0,i.default)({},this._maxDate):null}},{key:"getDateFrom",value:function(){return this._fromDate?(0,i.default)({},this._fromDate):null}},{key:"getDateTo",value:function(){return this._toDate?(0,i.default)({},this._toDate):null}},{key:"onUpdate",value:function(e){this._updateListener=e}},{key:"_prepareModelObject",value:function(){var e={};return this._fromDate&&(e.fromDate=this.getDateFrom()),this._toDate&&(e.toDate=this.getDateTo()),e.latestChange=this._latestExternalChange,e}},{key:"_update",value:function(){this._updateListener&&this._updateListener(this._prepareModelObject()),this._latestExternalChange=o.LATEST_CHANGES_OPTIONS.NONE}},{key:"preventDaySelection",get:function(){return this._preventDaySelection},set:function(e){this._preventDaySelection=e}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(714)),a=s(n(715));function s(e){return e&&e.__esModule?e:{default:e}}n(716);var o={template:i.default,controller:a.default,bindings:{selectedDate:"=",locale:"<",minDate:"<?",maxDate:"<?",forceUserSelection:"<?",selectionModel:"<?",enableIncrementerDropDowns:"<?",onIncrementChange:"&?",focusToDateOnCalendarShown:"<?",skipWeekends:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="tng-dp-incrementer" ng-if="!$ctrl.enableIncrementerDropDowns"> <div ng-if="!$ctrl.isFrench()" class="tng-dp-incrementer__block" ng-keydown="$ctrl.onKeyMonth($event)" ng-click="$ctrl.onKeyMonth($event)"> <button actionable-id="date-selector-incrementer-months-up" ng-click="$ctrl.changeMonth(1)" class="tng-dp-incrementer__button--up" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(1, \'months\')" type="button"> <span class="icon-uparrow"></span> </button> <span class="tng-dp-incrementer__label" ng-click="$ctrl.editMonth()" tabindex="-1"> <span class="tng-dp-incrementer__label-text" ng-hide="$ctrl.monthChanging" id="dateSelectorIncrementer-month-name-en"> {{ $ctrl.monthList[$ctrl.month-1].name }} </span> <select actionable-id="tng-ds-incrementer__month" class="tng-dp-incrementer__label-input js-month-input" ng-model="$ctrl.monthTemporary" ng-if="$ctrl.monthChanging" tng-click-outside="$ctrl.saveMonth()" ng-change="$ctrl.saveMonth()" ng-options="month.value as month.name for month in $ctrl.monthList" tabindex="-1"> </select> </span> <button actionable-id="date-selector-incrementer-months-down" ng-click="$ctrl.changeMonth(-1)" class="tng-dp-incrementer__button--down" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(-1, \'months\')" type="button"> <span class="icon-downarrow"></span> </button> </div> <div ng-if="!$ctrl.isFrench()" class="tng-dp-incrementer__block" ng-keydown="$ctrl.onKeyDay($event)" ng-click="$ctrl.onKeyDay($event)"> <button actionable-id="date-selector-incrementer-days-up" ng-click="$ctrl.changeDay(1)" class="tng-dp-incrementer__button--up" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(1, \'days\')" type="button"> <span class="icon-uparrow"></span> </button> <span class="tng-dp-incrementer__label" ng-click="$ctrl.editDay()" tabindex="-1"> <span class="tng-dp-incrementer__label-text" id="dateSelectorIncrementer-day-en" ng-hide="$ctrl.dayChanging"> {{ $ctrl.day }} </span> <input actionable-id="tng-ds-incrementer__day" class="tng-dp-incrementer__label-input js-day-input" ng-model="$ctrl.dayTemporary" type="number" ng-if="$ctrl.dayChanging" ng-keypress="$ctrl.saveDay($event)" tng-click-outside="$ctrl.saveDay($event)" min="1" max="31" tng-focus="$ctrl.dayFocused" tabindex="-1"/> </span> <button actionable-id="date-selector-incrementer-days-down" ng-click="$ctrl.changeDay(-1)" class="tng-dp-incrementer__button--down" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(-1, \'days\')" type="button"> <span class="icon-downarrow"></span> </button> </div> <div ng-if="$ctrl.isFrench()" class="tng-dp-incrementer__block" ng-keydown="$ctrl.onKeyDay($event)" ng-click="$ctrl.onKeyDay($event)"> <button actionable-id="date-selector-incrementer-days-up" ng-click="$ctrl.changeDay(1)" class="tng-dp-incrementer__button--up" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(1, \'days\')" type="button"> <span class="icon-uparrow"></span> </button> <span class="tng-dp-incrementer__label" ng-click="$ctrl.editDay()" tabindex="-1"> <span class="tng-dp-incrementer__label-text" id="dateSelectorIncrementer-day-fr" ng-hide="$ctrl.dayChanging"> {{ $ctrl.day }} </span> <input actionable-id="tng-ds-incrementer__day" class="tng-dp-incrementer__label-input js-day-input" ng-model="$ctrl.dayTemporary" type="number" ng-if="$ctrl.dayChanging" ng-keypress="$ctrl.saveDay($event)" tng-click-outside="$ctrl.saveDay($event)" min="1" max="31" tng-focus="$ctrl.dayFocused" tabindex="-1"/> </span> <button actionable-id="date-selector-incrementer-days-down" ng-click="$ctrl.changeDay(-1)" class="tng-dp-incrementer__button--down" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(-1, \'days\')" type="button"> <span class="icon-downarrow"></span> </button> </div> <div ng-if="$ctrl.isFrench()" class="tng-dp-incrementer__block" ng-keydown="$ctrl.onKeyMonth($event)" ng-click="$ctrl.onKeyMonth($event)"> <button actionable-id="date-selector-incrementer-months-up" ng-click="$ctrl.changeMonth(1)" class="tng-dp-incrementer__button--up" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(1, \'months\')" type="button"> <span class="icon-uparrow"></span> </button> <span class="tng-dp-incrementer__label" ng-click="$ctrl.editMonth()" tabindex="-1"> <span class="tng-dp-incrementer__label-text" id="dateSelectorIncrementer-month-name-fr" ng-hide="$ctrl.monthChanging"> {{ $ctrl.monthList[$ctrl.month-1].name }} </span> <select actionable-id="tng-ds-incrementer__month" class="tng-dp-incrementer__label-input js-month-input" ng-model="$ctrl.monthTemporary" ng-if="$ctrl.monthChanging" tng-click-outside="$ctrl.saveMonth()" ng-change="$ctrl.saveMonth()" ng-options="month.value as month.name for month in $ctrl.monthList" tabindex="-1"> </select> </span> <button actionable-id="date-selector-incrementer-months-down" ng-click="$ctrl.changeMonth(-1)" class="tng-dp-incrementer__button--down" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(-1, \'months\')" type="button"> <span class="icon-downarrow"></span> </button> </div> <div class="tng-dp-incrementer__block" ng-keydown="$ctrl.onKeyYear($event)" ng-click="$ctrl.onKeyYear($event)"> <button actionable-id="date-selector-incrementer-years-up" ng-click="$ctrl.changeYear(1)" class="tng-dp-incrementer__button--up" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(1)" type="button"> <span class="icon-uparrow"></span> </button> <span class="tng-dp-incrementer__label" ng-click="$ctrl.editYear()" tabindex="-1"> <span class="tng-dp-incrementer__label-text" id="dateSelectorIncrementer-year" ng-hide="$ctrl.yearChanging"> {{$ctrl.year}} </span> <input actionable-id="tng-ds-incrementer__year" class="tng-dp-incrementer__label-input js-year-input" ng-model="$ctrl.yearTemporary" type="number" ng-if="$ctrl.yearChanging" ng-keypress="$ctrl.saveYear($event)" tng-click-outside="$ctrl.saveYear($event)" tng-focus="$ctrl.yearFocused" tabindex="-1"/> </span> <button actionable-id="date-selector-incrementer-years-down" ng-click="$ctrl.changeYear(-1)" class="tng-dp-incrementer__button--down" tabindex="-1" ng-disabled="!$ctrl.isDateChangeable(-1)" type="button"> <span class="icon-downarrow"></span> </button> </div> </div> <div class="tng-dp-incrementer" ng-if="$ctrl.enableIncrementerDropDowns" ng-class="{\'drop-down-mode\': $ctrl.enableIncrementerDropDowns}"> <div class="tng-dp-incrementer__block"> <tng-select-autocomplete options="$ctrl.monthList" ng-model="$ctrl.month" select-type="$ctrl.tngSelectAutocompleteConstants.SELECT_TYPES.STATIC" option-label-key="name" option-value-key="value" placeholder="" on-select="$ctrl.handleMonthSelect(option, index)"> </tng-select-autocomplete> </div> <div class="tng-dp-incrementer__block" ng-keydown="$ctrl.onKeyYear($event)" ng-click="$ctrl.onKeyYear($event)"> <tng-select-autocomplete options="$ctrl.yearList" ng-model="$ctrl.year" select-type="$ctrl.tngSelectAutocompleteConstants.SELECT_TYPES.STATIC" option-label-key="name" option-value-key="value" placeholder="" on-select="$ctrl.handleYearSelect(option, index)"> </tng-select-autocomplete> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8)),a=r(n(0)),s=r(n(2)),o=r(n(216));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,s,o){(0,a.default)(this,e),(0,i.default)(this,{$scope:t,$log:n,LocaleService:s,BusinessDaysService:o})}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this,t=this.locale.DATETIME_FORMATS.MONTH;this.$scope.$watch((function(){return e.selectedDate}),this._selectedDateChanged.bind(this)),this.yearChanging=!1,this.dayChanging=!1,this.monthChanging=!1,this.date=this._getDate(),this.monthList=t.map((function(e,t){return{name:e,value:t+1}}));var n=this.maxDate?this.maxDate.get("year"):this.date.get("year"),i=n-(this.minDate?this.minDate.get("year"):n-120);this.yearList=[];for(var a=0;a<=i;a++){var s=n-a;this.yearList.push({value:s,name:s.toString()})}}},{key:"_getDate",value:function(){return this.selectedDate?this.selectedDate:this.maxDate&&this.forceUserSelection?this.focusToDateOnCalendarShown||this.maxDate:moment()}},{key:"_selectedDateChanged",value:function(){this.date=this._getDate();var e=o.default.parseMoment(this.date);e&&(this.day=e.day,this.month=e.month,this.year=e.year)}},{key:"changeMonth",value:function(e){this._updateDate(e,"months"),this._handleIncrementChange()}},{key:"_handleIncrementChange",value:function(){"function"==typeof this.onIncrementChange&&this.onIncrementChange()}},{key:"changeDay",value:function(e){this._updateDate(e,"days"),this._handleIncrementChange()}},{key:"changeYear",value:function(e){this._updateDate(e,"years"),this._handleIncrementChange()}},{key:"_updateDate",value:function(e,t){if(this.isMoment()){var n=this.date.clone().add(e,t);if(!(0!==n.day()&&6!==n.day())&&this.skipWeekends){var i=this.BusinessDaysService.nextBusinessDay(n),a=this.BusinessDaysService.prevBusinessDay(n);e>0?(i>this.maxDate&&this._updateSelectedDate(a),this._updateSelectedDate(i)):(a<this.minDate&&this._updateSelectedDate(i),this._updateSelectedDate(a))}else this._updateSelectedDate(n)}}},{key:"onKeyMonth",value:function(e){this.onKeyEvent(e,this.changeMonth)}},{key:"onKeyDay",value:function(e){this.onKeyEvent(e,this.changeDay)}},{key:"onKeyYear",value:function(e){this.onKeyEvent(e,this.changeYear)}},{key:"onKeyEvent",value:function(e,t){var n=void 0;38===e.keyCode?n=1:40===e.keyCode&&(n=-1),n&&(e.stopPropagation(),e.preventDefault(),t.bind(this)(n))}},{key:"editYear",value:function(){this.yearChanging||(this.yearTemporary=this.year,this.yearChanging=!0,this.yearFocused=!0)}},{key:"editDay",value:function(){this.dayChanging||(this.dayTemporary=this.day,this.dayChanging=!0,this.dayFocused=!0)}},{key:"editMonth",value:function(){this.monthChanging||(this.monthTemporary=this.month,this.monthChanging=!0)}},{key:"saveYear",value:function(e){if(e&&13===e.which)e.preventDefault(),e.stopPropagation();else if(e)return;this.changeYear(this.yearTemporary-this.year),this.yearChanging=!1}},{key:"handleYearSelect",value:function(e){if(e.value){var t=e.value,n=this.date.clone().set("year",t);this._updateSelectedDate(n)}}},{key:"saveDay",value:function(e){if(e&&13===e.which)e.preventDefault(),e.stopPropagation();else if(e)return;this.changeDay(this.dayTemporary-this.day),this.dayChanging=!1}},{key:"saveMonth",value:function(){this.changeMonth(this.monthTemporary-this.month),this.monthChanging=!1}},{key:"handleMonthSelect",value:function(e){if(e.value){var t=e.value-1,n=this.date.clone().set("month",t);this._updateSelectedDate(n)}}},{key:"_updateSelectedDate",value:function(e){this._canDateBeChanged(e)&&(this.forceUserSelection&&this.selectionModel&&(this.selectionModel.preventDaySelection=!1),this.selectedDate=e,this.date=e)}},{key:"_canDateBeChanged",value:function(e){return(!this.minDate||e.clone().startOf("day").diff(this.minDate.clone().startOf("day"),"days")>=0)&&(!this.maxDate||e.clone().startOf("day").diff(this.maxDate.clone().startOf("day"),"days")<=0)}},{key:"isDateChangeable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"years";return this.isMoment()?this._canDateBeChanged(this.date.clone().add(e,t)):(this.$log.debug("isDateChangeable: selectedDate is not instance of moment"),!1)}},{key:"isMoment",value:function(){return this.date instanceof moment}},{key:"isFrench",value:function(){return this.LocaleService.isFrench()}}]),e}();l.$inject=["$scope","$log","LocaleService","BusinessDaysService"],t.default=l,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(718)),a=s(n(719));function s(e){return e&&e.__esModule?e:{default:e}}n(720);var o={template:i.default,controller:a.default,require:{form:"?^form"},bindings:{selectedDate:"=",componentName:"<",minDate:"<?",maxDate:"<?",inputDisplayLabel:"<?",inputDisplayLabelToolTip:"<?",showValidationOnLoad:"<?",toggleDatePicker:"&",ngRequired:"<?",datePickerVisible:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="field tng-dp-input-editable tng-dp-selector-input"> <label class="heading--sub3"> {{ $ctrl.inputDisplayLabel | translate }} <tng-help-bubble ng-if="$ctrl.inputDisplayLabelTooltip"> {{ $ctrl.inputDisplayLabelTooltip | translate}} </tng-help-bubble> </label> <div class="field tng-dp-input__input-wrapper tng-dp-selector-input__wrapper"> <input type="text" class="input date-selector-input tng-dp-selector-input__input" ng-class="{ \'warning\': false}" ng-attr-id="{{$ctrl.componentName}}_input" name="{{$ctrl.componentName}}_input" ng-model="$ctrl.selectedDateInput" ng-keypress="$ctrl.onKeyPress($event)" ng-keyup="$ctrl.onInputKeyUp($event)" ng-change="$ctrl.onInputChange()" maxlength="10" placeholder="{{ ::\'newClientEnrollment.identityInfo.dateOfBirthPlaceholder\' | translate }}" ng-required="$ctrl.ngRequired"/> <div class="field__icon icon-calendar tng-dp-selector-input__icon" ng-class="{\'date-picker-visible\' : $ctrl.datePickerVisible}" ng-click="$ctrl.toggleDatePicker()"></div> <div class="field__error" ng-messages="$ctrl.form[$ctrl._componentName+\'_input\'].$error" ng-show="$ctrl.form[$ctrl._componentName+\'_input\'].$touched || $ctrl.showValidationOnLoad"> <p ng-message="required">{{ ::\'validation.isRequired\' | translate }}</p> </div> </div> </div> '},function(e,t,n){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(8)),s=r(n(0)),o=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){(0,s.default)(this,e),(0,a.default)(this,{$log:t,$window:n}),this.previousModelLength=0}return(0,o.default)(e,[{key:"$onInit",value:function(){alert("Please read notes in dateSelectorInput.component.js")}},{key:"onKeyPress",value:function(e){return e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||8===e.keyCode||e.keyCode>=37&&e.keyCode<=40}},{key:"onInputKeyUp",value:function(e){if(""!==this.selectedDateInput){var t=i("#"+this.componentName+"_input"),n=t.get(0).selectionStart;this.selectedDateInput=this.selectedDateInput.replace(/[^\d-]/g,"");var a=this.selectedDateInput.match(/-/g)&&2===this.selectedDateInput.match(/-/g).length;if(this.selectedDateInput.length-this.previousModelLength<0||a)this.previousModelLength=this.selectedDateInput.length;else{if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)2!==this.selectedDateInput.length&&5!==this.selectedDateInput.length||(n+=2);else if(8===e.keyCode||e.keyCode>=37&&e.keyCode<=40)return void(n-=1);this.selectedDateInput=this.selectedDateInput.replace(/[^\d]/g,"").replace(/^(\d{2})/,"$1-").replace(/(\d{2}-\d{2})/,"$1-").trim(),this.previousModelLength=this.selectedDateInput.length,setTimeout((function(){t[0].setSelectionRange(n,n)}),0)}}}},{key:"onInputBlur",value:function(){}}]),e}();l.$inject=["$log","$window"],t.default=l,e.exports=t.default}).call(this,n(93))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=o(n(722));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(){(0,i.default)(this,e),this._monthDOMTemplate=null,this._monthDOMWeekendsDisabledTemplate=null}return(0,a.default)(e,[{key:"createEmptyMonth",value:function(e,t,n){var i=n.disableWeekends;i?this._monthDOMWeekendsDisabledTemplate||(this._monthDOMWeekendsDisabledTemplate=s.default.createMonthDOM(e,n)):this._monthDOMTemplate||(this._monthDOMTemplate=s.default.createMonthDOM(e,n));var a=i?this._monthDOMWeekendsDisabledTemplate.cloneNode(!0):this._monthDOMTemplate.cloneNode(!0);return new s.default(a,e,t,n)}}]),e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(142)),a=l(n(0)),s=l(n(2)),o=l(n(216)),r=n(217);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,i,s){(0,a.default)(this,e),this._element=t,this._month=null,this._year=null,this._locale=n,this._selectionModel=i,this.disableWeekends=!!s.disableWeekends,this.indicateToday=Boolean(s.indicateToday),this._renderedDaysMonth=null,this._renderedDaysYear=null,this._startWithMonday=0===this._locale.DATETIME_FORMATS.FIRSTDAYOFWEEK}return(0,s.default)(e,[{key:"renderIn",value:function(e){return e?(e.appendChild(this._element),this):this}},{key:"setMonthYear",value:function(e,t){for(var n=e,i=t;n<1;)n+=12,i-=1;for(;n>12;)n-=12,i+=1;return this._month=n,this._paddedMonth=o.default.padMonthDay(n),this._year=i,this._startOfTheMonth=o.default.monthStart(this._month,this._year),this._endOfTheMonth=o.default.monthEnd(this._month,this._year),this._render(),this}},{key:"_canRender",value:function(){var e=this._selectionModel.getDateFrom();if(this._selectionModel.getSelectionMode()===r.DATE_SELECTOR_MODES.RANGED){var t=this._selectionModel.getDateTo();return e&&!!t}return!!e}},{key:"_render",value:function(){var e=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthOddClass,t=r.DATE_SELECTOR_CSS_CLASSES.calendarTodayClass;if(this._renderHeader(),this._canRender()){if(this._renderedDaysYear===this._year&&this._renderedDaysMonth===this._month||this._renderDays(),this.indicateToday)if(moment().month()!==this._month-1){var n=this._element.querySelector("."+t);n&&n.classList.remove(t)}else{var i=o.default.parseMoment(moment()),a=this._element.querySelector("[data-day='"+o.default.stringify(i)+"']");a&&a.classList.add(t)}this._renderSelectionElements(),this._month%2?this._element.classList.add(e):this._element.classList.remove(e)}}},{key:"_renderHeader",value:function(){var e=this._locale.DATETIME_FORMATS.MONTH,t=r.DATE_SELECTOR_CSS_CLASSES.jsMonthHeaderClass;this._month&&this._year&&this._element&&(this._element.querySelector("."+t).textContent=e[this._month-1]+" "+this._year)}},{key:"_renderDays",value:function(){var e=r.DATE_SELECTOR_CSS_CLASSES.calendarWeekPopulatedClass,t=r.DATE_SELECTOR_CSS_CLASSES.calendarDayPreRangeClass,n=r.DATE_SELECTOR_CSS_CLASSES.calendarDayPostRangeClass,i=r.DATE_SELECTOR_CSS_CLASSES.jsWeekClass,a=r.DATE_SELECTOR_CSS_CLASSES.jsWeekdayClass;if(this._clearClassAllElements(e),this._clearClassAllElements(t),this._clearClassAllElements(n),this._month&&this._year&&this._element){var s=moment(this._year+"-"+this._month+"-01","YYYY-MM-DD"),l=void 0;this._startWithMonday?0===(l=s.day())&&(l=7):l=s.day()+1;for(var c=s.daysInMonth(),u=0,d=1;d<7;d++){for(var _=this._element.querySelector("."+i+"-"+d),E=!1,h=1;h<8;h++){var S=_.querySelector("."+a+"-"+h);if(h<l&&1===d)S.classList.add(t),S.textContent="",S.dataset.day="";else if(u>=c)S.classList.add(n),S.textContent="",S.dataset.day="";else{u+=1,S.textContent=u,E=!0;var T=o.default.padMonthDay(u);S.dataset.day=""+this._year+this._paddedMonth+T}}E&&_.classList.add(e)}}this._renderedDaysMonth=this._month,this._renderedDaysYear=this._year}},{key:"_clearClassSingleElement",value:function(e){var t=this._element.querySelector("."+e);t&&t.classList.remove(e)}},{key:"_clearClassAllElements",value:function(e){(0,i.default)(this._element.querySelectorAll("."+e)).forEach((function(t){t.classList.remove(e)}))}},{key:"_clearRangeSelectionElements",value:function(){var e=r.DATE_SELECTOR_CSS_CLASSES.calendarDayEndSelectedClass,t=r.DATE_SELECTOR_CSS_CLASSES.calendarDayRangedClass,n=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthRangedClass,i=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthRangedPreClass,a=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthRangedPostClass,s=r.DATE_SELECTOR_CSS_CLASSES.calendarDayHighlightedClass,o=r.DATE_SELECTOR_CSS_CLASSES.calendarHandleClass;this._clearClassSingleElement(e),this._clearClassAllElements(t),this._element.classList.remove(n),this._element.classList.remove(i),this._element.classList.remove(a),this._clearClassAllElements(s);var l=document.querySelector("."+o);l&&l.parentNode.removeChild(l)}},{key:"_renderSelectionElements",value:function(){var e=r.DATE_SELECTOR_CSS_CLASSES.calendarDaySelectedClass,t=r.DATE_SELECTOR_CSS_CLASSES.calendarDayEndSelectedClass,n=this._selectionModel.getDateFrom(),i=this._selectionModel.getMinDate(),a=this._selectionModel.getMaxDate();if(this._renderEnabledDays(i,a),!this._selectionModel.reflectDateInput&&this._selectionModel.preventDaySelection||this._renderSelectedDay(n,e),this._selectionModel.getSelectionMode()!==r.DATE_SELECTOR_MODES.SINGLE){var s=this._selectionModel.getDateTo();this._selectionModel.getSelectionMode()===r.DATE_SELECTOR_MODES.INDEFINITE&&(s=o.default.getEndOfTime()),this._renderSelectedDay(s,t),this._renderRange(n,s),this._renderHighlights(n,s,this._selectionModel.getFrequency()),this._selectionModel.isHandlingToDate()?this._renderHandles(s):this._renderHandles(n)}else this._clearRangeSelectionElements()}},{key:"_renderHighlights",value:function(e,t,n){var i=this,a=r.DATE_SELECTOR_CSS_CLASSES.calendarDayHighlightedClass;this._clearClassAllElements(a),o.default.getHighlightedDaysList(e,t,this._startOfTheMonth,n).forEach((function(e){var t=i._element.querySelector("[data-day='"+o.default.stringify(e)+"']");t&&t.classList.add(a)}))}},{key:"_addClassToElementSeries",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=o.default.stringify(e),r=o.default.stringify(t),l=this._element.querySelector("[data-day='"+s+"']");if(l)for(var c=l,u=l.parentNode;c;){if(c.dataset&&c.dataset.day===r)return void(a&&c.classList.add(n));if((l!==c||i)&&c.classList.add(n),!(c=c.nextSibling)){if(!(u=u.nextSibling))return;if(!(c=u.firstChild))return}}}},{key:"_renderEnabledDays",value:function(e,t){var n=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthDisabledClass,i=r.DATE_SELECTOR_CSS_CLASSES.calendarDayDisabledClass;this._clearClassAllElements(i),this._element.classList.remove(n),e&&o.default.greaterThan(e,this._endOfTheMonth)?this._element.classList.add(n):t&&o.default.lessThan(t,this._startOfTheMonth)?this._element.classList.add(n):(e&&e.month===this._month&&e.year===this._year&&this._addClassToElementSeries(this._startOfTheMonth,e,i,!0,!1),t&&t.month===this._month&&t.year===this._year&&this._addClassToElementSeries(t,this._endOfTheMonth,i,!1,!0))}},{key:"_renderSelectedDay",value:function(e,t){if(this._clearClassSingleElement(t),this._month===e.month&&this._year===e.year){var n=o.default.stringify(e),i=this._element.querySelector("[data-day='"+n+"']");i&&i.classList.add(t)}}},{key:"_renderRange",value:function(e,t){var n=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthRangedClass,i=r.DATE_SELECTOR_CSS_CLASSES.calendarDayRangedClass,a=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthRangedPreClass,s=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthRangedPostClass;o.default.greaterThan(t,this._endOfTheMonth)&&o.default.lessThan(e,this._startOfTheMonth)?this._element.classList.add(n):(this._clearClassAllElements(i),this._element.classList.remove(n),this._element.classList.remove(a),this._element.classList.remove(s),e.month!==this._month||t.month!==this._month||e.year!==this._year||t.year!==this._year?(e.month===this._month&&e.year===this._year&&(this._element.classList.add(s),this._addClassToElementSeries(e,this._endOfTheMonth,i)),t.month===this._month&&t.year===this._year&&(this._element.classList.add(a),this._addClassToElementSeries(this._startOfTheMonth,t,i))):this._addClassToElementSeries(e,t,i))}},{key:"_renderHandles",value:function(e){var t=r.DATE_SELECTOR_CSS_CLASSES.calendarHandleClass,n=document.querySelector("."+t);n||(n=document.createElement("DIV")).classList.add(t);var i=o.default.stringify(e),a=this._element.querySelector("[data-day='"+i+"']");a&&a.appendChild(n)}}],[{key:"createMonthDOM",value:function(e,t){var n=r.DATE_SELECTOR_CSS_CLASSES.jsMonthClass,i=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthClass,a=r.DATE_SELECTOR_CSS_CLASSES.jsMonthHeaderClass,s=r.DATE_SELECTOR_CSS_CLASSES.calendarMonthHeaderClass,o=r.DATE_SELECTOR_CSS_CLASSES.calendarWeekHeaderClass,l=r.DATE_SELECTOR_CSS_CLASSES.jsWeeksHeaderClass,c=r.DATE_SELECTOR_CSS_CLASSES.jsWeekClass,u=r.DATE_SELECTOR_CSS_CLASSES.calendarWeekClass,d=r.DATE_SELECTOR_CSS_CLASSES.jsWeekdayClass,_=r.DATE_SELECTOR_CSS_CLASSES.calendarDayClass,E=r.DATE_SELECTOR_CSS_CLASSES.calendarWeekendsClass,h=t.disableWeekends,S=document.createElement("DIV");S.classList.add(n),S.classList.add(i);var T=document.createElement("DIV");T.classList.add(a),T.classList.add(s),S.appendChild(T);var p=document.createElement("DIV");p.classList.add(o),p.classList.add(l);for(var f=1;f<8;f++){var g=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+f)%7,A=e.DATETIME_FORMATS.SHORTDAY[g].substr(0,1),v=document.createElement("DIV");v.textContent=A,p.appendChild(v)}S.appendChild(p);for(var C=1;C<7;C++){var m=document.createElement("DIV");m.classList.add(c+"-"+C),m.classList.add(u);for(var I=1;I<8;I++){var O=document.createElement("DIV");O.classList.add(d+"-"+I),O.classList.add(_),h&&(1!==I&&7!==I||O.classList.add(E)),m.appendChild(O)}S.appendChild(m)}return S}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(724)),a=l(n(728)),s=l(n(732)),o=l(n(735)),r=l(n(766));function l(e){return e&&e.__esModule?e:{default:e}}var c=angular.module("tangerine.app.core.components.helpBubble",[]).component("tngHelpBubble",i.default).component("tngImageWithToolTip",a.default).directive("tngToolTip",s.default).service("ToolTipService",o.default).constant("toolTipConstants",r.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(725)),a=s(n(726));function s(e){return e&&e.__esModule?e:{default:e}}n(727);var o={template:a.default,controller:i.default,transclude:!0,bindings:{cssCorrection:"<?",onHideTrigger:"&?",internalClick:"&?",analyticsId:"<?",screenReaderTooltipId:"@?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,s){(0,a.default)(this,e),(0,i.default)(this,{$scope:t,$element:n,ToolTipService:s})}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this.$element[0].querySelector(".js-button"),t=this.$element[0].querySelector(".js-tooltip"),n=angular.element(e).closest(".dialog__content");this.ToolTipService.createToolTip(this.$scope,e,t,this.cssCorrection,n,this.onHideTrigger,this.analyticsId)}}]),e}();r.$inject=["$scope","$element","ToolTipService"],t.default=r,e.exports=t.default},function(e,t){e.exports='<div class="c-help-bubble"> <div role="tooltip" class="visually-hidden" ng-attr-id="{{$ctrl.screenReaderTooltipId || \'\'}}" ng-transclude></div> <span aria-hidden="true" id="helpBubble_showBubble" class="c-help-bubble__icon icon-question large js-button"></span> <div aria-hidden="true" class="c-tool-tip js-tooltip"> <div class="c-tool-tip__arrow js-arrow"></div> <div class="c-tool-tip__wrapper js-wrapper" ng-transclude> </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(729)),a=s(n(730));function s(e){return e&&e.__esModule?e:{default:e}}n(731);var o={template:a.default,controller:i.default,transclude:!0,bindings:{imageSrc:"<",imageAlt:"<",imageIdPrefix:"@?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$scope=t,this.$element=n,this.ToolTipService=a}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this.$element[0].querySelector(".js-button"),t=this.$element[0].querySelector(".js-tooltip");this.ToolTipService.createToolTip(this.$scope,e,t,this.cssCorrection),this.imageId=this._getImageId()}},{key:"_getImageId",value:function(){var e="TileView";return this.imageIdPrefix&&(e=this.imageIdPrefix),e+"_image"}}]),e}();o.$inject=["$scope","$element","ToolTipService"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-image"></div> <img actionable-id="{{ ::$ctrl.imageId }}" class="js-button" ng-src="{{ $ctrl.imageSrc }}" alt="{{ $ctrl.imageAlt }}"> <div class="c-tool-tip__image c-tool-tip js-tooltip"> <div class="c-tool-tip__arrow-image js-arrow"></div> <div class="c-tool-tip__wrapper__image c-tool-tip__wrapper js-wrapper" ng-transclude></div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(733),s=(i=a)&&i.__esModule?i:{default:i};n(734);var o="tngToolTip",r="tngToolTipDynamic",l="tngToolTipTranslate";function c(e,t,n,i,a,c){var u=t.get(s.default);return{restrict:"A",link:function(t,s,d){var _=e(u)(t),E=angular.element(_[0].querySelector("."+a.CSS_CLASSES.WRAPPER));void 0!==d[r]?t.$watch((function(){return d[r]}),(function(){E.html(d[r])})):void 0!==d[l]?t.$watch((function(){return d[l]}),(function(){n(d[l]).then((function(e){E.html(c.getTrustedHtml(e))}))})):_.html(d[o]),i.createToolTip(t,s[0],_[0])}}}c.$inject=["$compile","$templateCache","$translate","ToolTipService","toolTipConstants","$sce"],t.default=c,e.exports=t.default},function(e,t){e.exports='<div class="c-tool-tip"> <div class="c-tool-tip__arrow js-arrow"></div> <div class="c-tool-tip__wrapper js-wrapper"> </div> </div>'},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(8)),a=c(n(0)),s=c(n(2)),o=c(n(116)),r=c(n(370)),l=c(n(368));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,s,o,r){var c=this;(0,a.default)(this,e),(0,i.default)(this,{$document:t,$window:n,toolTipConstants:s,EnvironmentService:o,AnalyticsService:r}),this.outsideClickListeners=[],this.resizeListeners=[],t.on("click touchstart",(function(e){c._hideAllOtherToolTips(e)})),this.debouncedResize=(0,l.default)((function(){c.resizeListeners.forEach((function(e){e()}))}),this.toolTipConstants.TIME_VARS.DEBOUNCE_TICK),angular.element(n).on("resize",this.debouncedResize)}return(0,s.default)(e,[{key:"_hideAllOtherToolTips",value:function(e){this.outsideClickListeners.forEach((function(t){t(e)}))}},{key:"_addOutsideClickListener",value:function(e){var t=this;return this.outsideClickListeners.push(e),function(){(0,r.default)(t.outsideClickListeners,e)}}},{key:"_addResizeListener",value:function(e){var t=this;return this.resizeListeners.push(e),function(){(0,r.default)(t.resizeListeners,e)}}},{key:"_getElementOffset",value:function(e){if(!e)return null;var t=e.getBoundingClientRect();if(t.width||t.height||e.getClientRects().length){var n=e.ownerDocument,i=this.$window,a=n.documentElement;return{top:"IMG"===e.tagName?Math.round(t.top+i.pageYOffset-a.clientTop-6):Math.round(t.top+i.pageYOffset-a.clientTop),left:Math.round(t.left+i.pageXOffset-a.clientLeft),width:Math.round(t.width),height:Math.round(t.height)}}return null}},{key:"_clickedInsideDOMTree",value:function(e,t){for(var n=e.target;n;){if(n===t)return!0;n=n.parentNode}return!1}},{key:"_getCoordinatesForPosition",value:function(e,t,n,i){var a=void 0,s=void 0,r=void 0,l=void 0;return e===this.toolTipConstants.POSITIONS.BOTTOM&&(a=t.left+(t.width/2-n.width/2),s=t.top+t.height),e===this.toolTipConstants.POSITIONS.BOTTOM_FULLSIZE&&(a=0,s=t.top+t.height,r=this.$document[0].documentElement.clientWidth),e===this.toolTipConstants.POSITIONS.TOP&&(a=t.left+(t.width/2-n.width/2),s=t.top-n.height-15),e===this.toolTipConstants.POSITIONS.TOP_FULLSIZE&&(a=0,l=this.$document[0].documentElement.clientHeight+15-t.top,r=this.$document[0].documentElement.clientWidth),s+=(0,o.default)(i,e+"."+this.toolTipConstants.ELEMENTS.WRAPPER+".top",0),a+=(0,o.default)(i,e+"."+this.toolTipConstants.ELEMENTS.WRAPPER+".left",0),{left:a=Math.max(a,0),top:s,bottom:l,width:r,"min-width":(0,o.default)(i,e+"."+this.toolTipConstants.ELEMENTS.WRAPPER+".min-width"),"max-width":(0,o.default)(i,e+"."+this.toolTipConstants.ELEMENTS.WRAPPER+".max-width")}}},{key:"_determineAutoPosition",value:function(e,t){var n=e.left+(e.width/2-t.width/2),i=e.top+e.height/2,a=this.$document[0].documentElement.clientWidth,s=this.$document[0].documentElement.clientHeight;return i+t.height+20>s&&(n<0||n+t.width>a)?this.toolTipConstants.POSITIONS.TOP_FULLSIZE:i+t.height+20>s?this.toolTipConstants.POSITIONS.TOP:n<0||n+t.width>a?this.toolTipConstants.POSITIONS.BOTTOM_FULLSIZE:this.toolTipConstants.POSITIONS.BOTTOM}},{key:"_resetTooltipClasses",value:function(e,t){e.removeClass(this.toolTipConstants.CSS_CLASSES.POSITION_BOTTOM_FULLSIZE),e.removeClass(this.toolTipConstants.CSS_CLASSES.POSITION_TOP),e.removeClass(this.toolTipConstants.CSS_CLASSES.POSITION_TOP_FULLSIZE),e.removeClass(this.toolTipConstants.CSS_CLASSES.POSITION_BOTTOM);var n=(0,o.default)(t,this.toolTipConstants.POSITIONS.BOTTOM+"."+this.toolTipConstants.ELEMENTS.ARROW+".class");n&&e.removeClass(n),e[0].style.cssText=""}},{key:"_showCustomArrow",value:function(e,t){var n=angular.element(e[0].querySelector("."+this.toolTipConstants.CSS_CLASSES.ARROW));this._setElementCoordinates(n,{left:t.left})}},{key:"_setElementCoordinates",value:function(e,t){void 0!==t.top&&e.css(this.toolTipConstants.CSS_ATTRS.TOP,t.top+"px"),void 0!==t.left&&e.css(this.toolTipConstants.CSS_ATTRS.LEFT,t.left+"px"),void 0!==t.width&&e.css(this.toolTipConstants.CSS_ATTRS.WIDTH,t.width+"px"),void 0!==t.bottom&&e.css(this.toolTipConstants.CSS_ATTRS.BOTTOM,t.bottom+"px"),void 0!==t["min-width"]&&e.css(this.toolTipConstants.CSS_ATTRS.MIN_WIDTH,t["min-width"]+"px")}},{key:"placeTooltipInPositionFn",value:function(e,t,n){if(e&&t){var i=angular.element(t);this._resetTooltipClasses(i,n);var a=this._getElementOffset(e),s=this._getElementOffset(t),r=this._determineAutoPosition(a,s),l=this._getCoordinatesForPosition(r,a,s,n);if(r===this.toolTipConstants.POSITIONS.BOTTOM){i.addClass(this.toolTipConstants.CSS_CLASSES.POSITION_BOTTOM);var c=(0,o.default)(n,r+"."+this.toolTipConstants.ELEMENTS.ARROW+".class");c&&i.addClass(c)}else if(r===this.toolTipConstants.POSITIONS.BOTTOM_FULLSIZE)i.addClass(this.toolTipConstants.CSS_CLASSES.POSITION_BOTTOM_FULLSIZE),this._showCustomArrow(i,a);else if(r===this.toolTipConstants.POSITIONS.TOP){i.addClass(this.toolTipConstants.CSS_CLASSES.POSITION_BOTTOM),i.addClass(this.toolTipConstants.CSS_CLASSES.POSITION_TOP);var u=(0,o.default)(n,r+"."+this.toolTipConstants.ELEMENTS.ARROW+".class");u&&i.addClass(u)}else r===this.toolTipConstants.POSITIONS.TOP_FULLSIZE&&(i.addClass(this.toolTipConstants.CSS_CLASSES.POSITION_TOP_FULLSIZE),this._showCustomArrow(i,a));this._setElementCoordinates(i,l)}}},{key:"_sendAnalytics",value:function(e){this.AnalyticsService.sendAction(this.AnalyticsService.availableEvents.CUSTOM_EVENT,e,{label:"",category:"Help Bubble Click",value:""})}},{key:"createToolTip",value:function(e,t,n,i,a,s,o){var r=this,l=void 0;a&&(l=angular.element(a));var c=angular.element(t),u=angular.element(n),d=void 0,_=void 0;t&&(_=angular.element(t).closest(".page-content"));var E=function(a){angular.element(document.body).append(u),r.placeTooltipInPositionFn(t,n,i),d||(d=r._addResizeListener((function(){r.placeTooltipInPositionFn(t,n,i)}))),setTimeout((function(){u.addClass(r.toolTipConstants.CSS_CLASSES.IS_ACTIVE)})),r._hideAllOtherToolTips(a),e&&e.$ctrl&&"function"==typeof e.$ctrl.internalClick&&u.find("[internal-click]").on("click",e.$ctrl.internalClick),o&&r._sendAnalytics(o),a.stopPropagation(),a.preventDefault()},h=function(e){u.removeClass(r.toolTipConstants.CSS_CLASSES.IS_ACTIVE),d&&(d(),d=null),setTimeout((function(){r._resetTooltipClasses(u),s&&s({event:e}),u.remove()}),r.toolTipConstants.TIME_VARS.ANIMATION_TIME)};"IMG"===t.tagName?this.EnvironmentService.isTouchDevice()||(c.on("mouseover",E),c.on("mouseout",h)):"INPUT"===t.tagName?c.on("focus",E):c.on("click",E),a&&l.on("scroll",h),_&&_.on("scroll",h);var S=this._addOutsideClickListener((function(e){r._clickedInsideDOMTree(e,t)||r._clickedInsideDOMTree(e,n)||h(e)}));return e.$on("$destroy",(function(e){h(e),S(),"IMG"===t.tagName?r.EnvironmentService.isTouchDevice()||(c.off("mouseover",E),c.off("mouseout",h)):"INPUT"===t.tagName?c.off("focus",E):c.off("click",E),a&&l.off("scroll",h),_&&_.off("scroll",h),d&&(d(),d=null)})),{showFn:E,hideFn:h}}}]),e}();u.$inject=["$document","$window","toolTipConstants","EnvironmentService","AnalyticsService"],t.default=u,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TIME_VARS:{DEBOUNCE_TICK:250,ANIMATION_TIME:100},POSITIONS:{BOTTOM:"BOTTOM",BOTTOM_FULLSIZE:"BOTTOM_FULLSIZE",TOP:"TOP",TOP_FULLSIZE:"TOP_FULLSIZE"},ELEMENTS:{ARROW:"ARROW",WRAPPER:"WRAPPER"},CSS_CLASSES:{POSITION_RIGHT:"position-right",POSITION_BOTTOM:"position-bottom",POSITION_BOTTOM_FULLSIZE:"position-bottom-fullsize",POSITION_TOP:"position-top",POSITION_TOP_FULLSIZE:"position-top-fullsize",IS_ACTIVE:"is-active",WRAPPER:"js-wrapper",ARROW:"js-arrow"},CSS_ATTRS:{TOP:"top",LEFT:"left",WIDTH:"width",MIN_WIDTH:"min-width",DISPLAY:"display",NONE:"none",BLOCK:"block",BOTTOM:"bottom"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(768)),a=o(n(552)),s=o(n(771));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("tangerine.app.core.components.modalDialog",[]).component("tngModalDialog",i.default).constant("modalDialogConstants",a.default).service("ModalDialogService",s.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(364)),a=s(n(769));function s(e){return e&&e.__esModule?e:{default:e}}n(770);var o={template:a.default,controller:i.default,transclude:{titleSlot:"?header",footerSlot:"?footer"},bindings:{isVisible:"<?",onClose:"&",logoLoaded:"@?",hideClose:"<",scrollTopOn:"<",inlineMode:"<?",flowService:"<?",showConfirmExit:"<?",onAllowExit:"&?",onDenyExit:"&?",size:"@?",isDimming:"<?",disableCurtain:"<?",onMinified:"&?",isMinified:"<?",onDocked:"&?",isDocked:"<?",isNotification:"<?",analyticsId:"@?",scrollId:"@?",hasFormFooter:"<",showHeader:"<",modalMainContentClass:"@?",disableAnimation:"<?",shouldCloseOnEsc:"<?",shouldCloseOnClickOutside:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div ng-if="!$ctrl.inlineMode" class="c-modal fb2-modal" ng-class="{\'c-modal--e-notification\': $ctrl.isNotification}" ng-show="$ctrl.isVisible"> <div class="c-modal__curtain" ng-class="{\'c-modal__curtain--noDimming\': !$ctrl.isDimming,\n                  \'c-modal__curtain--noCurtain\': $ctrl.disableCurtain,\n                  \'c-modal__curtain--show-header\': $ctrl.showHeader,\n                  \'no-animation\': $ctrl.disableAnimation }"> <div class="c-modal__dialog c-modal__dialog{{::$ctrl.sizeModifier}}" ng-class="{\'c-modal__dialog--mini\': $ctrl.isMinified, \'c-modal__dialog--docked\': $ctrl.isDocked, \'no-animation\': $ctrl.disableAnimation }" tng-click-outside="$ctrl.clickOutside()"> <tng-print-header></tng-print-header> <div ng-if="!$ctrl.isMinified" class="dialog__mobile-bar" tng-hide-header elm="#modalMainContent" toggle-class="scrolling"> <div class="dialog__mobile-bar__left" ng-class="{\'ieSpecificStyles\': !$ctrl.environmentService.isNative() && $ctrl.environmentService.isIE()}"> <span class="header-icon icon-x print-hide" ng-show="$ctrl.onClose" ng-click="$ctrl.handleOnClose()" ng-hide="$ctrl.hideClose || $ctrl.confirmExitIsOpen"> </span> &nbsp; </div> <div class="dialog__mobile-bar__center"> <img ng-src="assets/images/tangerine-logo-white.svg" alt="Tangerine" onload="angular.element(this).scope().$ctrl.logoLoaded()"/> </div> <div class="dialog__mobile-bar__right"> <span ng-if="!$ctrl.onMinified" class="mobile-bar__help icon-question large"></span> <span class="header-icon" ng-class="$ctrl.isMinified ? \'icon-uparrow medium\' : \'icon-downarrow large\'" ng-if="$ctrl.onMinified" ng-click="$ctrl.onMinified($event)"> </span> </div> </div> <div id="modalMainContent" class="dialog__main-content {{$ctrl.modalMainContentClass | translate}}" ng-class="{\'dialog__main-content-iOSSafari\': !$ctrl.environmentService.isNative() && $ctrl.environmentService.isSafari() && $ctrl.environmentService.isIOS()}"> <div ng-if="$ctrl.showHeader === undefined || $ctrl.showHeader === true" class="dialog__header print-hide" ng-class="{ \'dialog__header--mini\': $ctrl.isMinified }"> <button actionable-id="modal-dialo-general-close" class="btn c-modal__btn--close float-right" ng-show="$ctrl.onClose" ng-click="$ctrl.handleOnClose()" ng-hide="$ctrl.hideClose || $ctrl.confirmExitIsOpen"> <span class="icon-x" ng-class="$ctrl.isMinified ? \'medium\' : \'large\'"></span> </button> <button actionable-id="modal-dialog-general-dock" class="btn c-modal__btn--close float-right" ng-if="$ctrl.onDocked" ng-click="$ctrl.onDocked($event)"> <div class="export-icon-rotation"> <span class="icon-export large" ng-class="$ctrl.isMinified ? \'medium\' : \'large\'"> </span> </div> </button> <button actionable-id="modal-dialo-general-minify" class="btn c-modal__btn--close float-right" ng-if="$ctrl.onMinified" ng-click="$ctrl.onMinified($event)"> <span ng-class="$ctrl.isMinified ? \'icon-uparrow medium\' : \'icon-downarrow large\'"></span> </button> <div ng-show="!$ctrl.confirmExitIsOpen" class="dialog__title family-fancy" ng-transclude="titleSlot"></div> </div> <div class="dialog__content" tng-infinity-scroll="{{ $ctrl.scrollId }}"> <div ng-show="!$ctrl.confirmExitIsOpen" class="dialog__content-wrapper" ng-transclude></div> <div ng-show="$ctrl.confirmExitIsOpen" class="dialog__content-wrapper"> <tng-confirm-exit template-v2="true" ng-if="!$ctrl.isHybrid"></tng-confirm-exit> <tngx-confirm-exit template-v2="true" ng-if="$ctrl.isHybrid"></tngx-confirm-exit> </div> </div> </div> <div ng-show="!$ctrl.confirmExitIsOpen" class="dialog__footer" ng-transclude="footerSlot"> </div> <div ng-show="$ctrl.confirmExitIsOpen" class="dialog__footer"> <footer> <button actionable-id="confirm-exit-modal-btn-deny" class="btn btn--edit" ng-click="$ctrl.onCancelExit()"> {{ ::\'global.pageFlow.buttons.noBack\' | translate }} </button> <button actionable-id="confirm-exit-modal-btn-allow" class="btn btn--tangerine" ng-click="$ctrl.onConfirmExit()"> {{ ::\'global.pageFlow.buttons.yesCancel\' | translate }} </button> </footer> </div> </div> </div> </div> <div ng-if="$ctrl.inlineMode" class="container inline-mode-container"> <div class="dialog__header"> <div class="dialog__title family-fancy" ng-transclude="titleSlot"></div> </div> <div class="dialog__content--inline-mode"> <div class="dialog__content-wrapper" ng-transclude></div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t,this.openModals=[],this.modalsWithCssChange=[],this.logoLoadedOnce=!1}return(0,a.default)(e,[{key:"registerOpenModal",value:function(e){-1===this.openModals.indexOf(e)&&this.openModals.push(e)}},{key:"unregisterOpenModal",value:function(e){var t=this.openModals.indexOf(e);-1!==t&&this.openModals.splice(t,1)}},{key:"hasOpenModal",value:function(){return this.openModals.length>0}},{key:"getModalOnTop",value:function(){if(this.hasOpenModal())return this.openModals[this.openModals.length-1]}},{key:"registerModalWithBodyCssChange",value:function(e){-1===this.modalsWithCssChange.indexOf(e)&&this.modalsWithCssChange.push(e)}},{key:"unregisterModalWithBodyCssChange",value:function(e){var t=this.modalsWithCssChange.indexOf(e);-1!==t&&this.modalsWithCssChange.splice(t,1)}},{key:"hasModalWithBodyCssChange",value:function(){return this.modalsWithCssChange.length>0}},{key:"getModals",value:function(){return{open:this.openModals,css:this.modalsWithCssChange}}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(773),s=(i=a)&&i.__esModule?i:{default:i};var o=angular.module("tangerine.app.core.components.modalConfirmation",[]).component("tngModalConfirmation",s.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(774)),a=s(n(775));function s(e){return e&&e.__esModule?e:{default:e}}n(776);var o={template:a.default,controller:i.default,bindings:{modalTitle:"@",modalDescription:"@",successButtonArray:"&",modalCancelText:"@",onCancel:"&",onActionExecuted:"&"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t,this.successButtonObjects=angular.copy(this.successButtonArray())}return(0,a.default)(e,[{key:"handleOnClick",value:function(e){e&&!e.disabled&&e.onSuccess()}},{key:"handleOnSuccess",value:function(e){this.$log.info("HandleOnSuccess"),e&&!e.disabled&&this.onActionExecuted()}},{key:"handleOnCancel",value:function(){this.$log.info("HandleOnCancel"),this.onCancel()}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-modal__curtain"> <div class="modal-confirmation"> <div class="modal-confirmation__header"> <div ng-if="$ctrl.modalTitle" class="modal-confirmation__title">{{ ::$ctrl.modalTitle }}</div> <div class="modal-confirmation__description">{{ ::$ctrl.modalDescription }}</div> </div> <div ng-repeat="successButtonObject in $ctrl.successButtonObjects track by $index" class="modal-confirmation__success-button"> <button tng-click="$ctrl.handleOnClick(successButtonObject)" ng-click="$ctrl.handleOnSuccess(successButtonObject)" class="modal-confirmation__action" ng-class="{\'modal-confirmation__disabled\': !!successButtonObject.disabled }" level2-auth="{{!!successButtonObject.level2authRequired}}"> {{ ::successButtonObject.modalSuccessText }} </button> </div> <button class="modal-confirmation__cancel-button" ng-click="$ctrl.handleOnCancel()"> {{ ::$ctrl.modalCancelText }} </button> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(778)),a=s(n(779));function s(e){return e&&e.__esModule?e:{default:e}}n(810);var o={template:i.default,controller:a.default,bindings:{ngModel:"=",ngModelSetRawObject:"<?",ngRequired:"<?",ngReadonly:"<?",onSelect:"&?",onFocus:"&?",onBlur:"&?",options:"<?",optionsFn:"&?",optionLabelKey:"@",optionRightLabelKey:"@?",secondaryLabelBeneathPrimary:"<?",optionValueKey:"@?",placeholder:"@",selectAutocompleteValidationMessage:"@?",suggestionsSearchFilter:"&?",keypressDisabled:"<?",showDefaultWarnings:"<?",hideDefaultWarnings:"<?",attachToBody:"@?",selectType:"<",simpleFiltered:"<",isStatic:"<?",stylized:"<?",alternateLight:"<?",inputId:"@",inputTabindex:"@",pattern:"<?",sortAlphabetically:"<?",ngWarningBorder:"<?",showWarningBorder:"<?",enableForMobile:"<?",hideRightLabelOnSearch:"<?",simpleHeader:"@?",simpleSubHeader:"@?",validationOrder:"@?",autocomplete:"@?",isDisabled:"<?",showSuggestionEmptyState:"<?",suggestionEmptyState:"@",hidePlaceholderWhenClick:"<?",onInputChange:"&?"}};t.default=o,e.exports=t.default},function(e,t){e.exports=' <div class="tng-input-label-container" ng-if="$ctrl.simpleHeader || $ctrl.simpleSubHeader"> <label for="{{$ctrl.inputId}}"> <div class="header" id="{{$ctrl.inputId}}_label" ng-bind-html="$ctrl.simpleHeader | translate" ng-if="$ctrl.simpleHeader"> </div> <div class="sub-header" ng-bind-html="$ctrl.simpleSubHeader | translate" ng-if="$ctrl.simpleSubHeader"> </div> </label> </div> <ng-form name="$ctrl.{{$ctrl.formName}}" autocomplete="off"> <div class="c-select-autocomplete ng-animate-disabled" id="c-select-autocomplete-wrapper" ng-class="$ctrl.classObject"> <div class="c-select-autocomplete__container js-container" ng-class="{\n        \'suggestions-shown\': $ctrl.suggestionsShown,\n        \'c-select-autocomplete__container--readonly\': $ctrl.ngReadonly,\n        \'c-select-autocomplete__container__warning-border\':\n          $ctrl.showWarningBorder || ($ctrl.ngWarningBorderOrg &&\n          !$ctrl[$ctrl.formName][$ctrl.inputId].$valid &&\n          ($ctrl[$ctrl.formName][$ctrl.inputId].$touched || $ctrl.showDefaultWarnings))\n        }" ng-click="$ctrl.isDisabled || $ctrl.inputClick($event)" ng-keydown="$ctrl.keydown($event)" tabindex="-1"> <input type="text" actionable-id="{{ $ctrl.inputId }}" validation-order="{{ $ctrl.validationOrder }}_1" autocomplete="{{ $ctrl.autocomplete }}" class="input c-select-autocomplete__input js-input" label-key="$ctrl.optionLabelKey" ng-disabled="$ctrl.isDisabled || $ctrl.isSelectTypeStaticAndNative()" ng-blur="$ctrl.blurCleanup(); $ctrl.blurEventHandler()" ng-focus="$ctrl.focusEventHandler()" ng-change="$ctrl.searchedText = $ctrl.inputModel" ng-class="{ \'suggestions-shown\': $ctrl.suggestionsShown, \'hide-placeholder\': $ctrl.hidePlaceholderWhenClick }" ng-model="$ctrl.inputModel" ng-pattern="$ctrl.pattern" ng-readonly="$ctrl.ngReadonly ||\n          $ctrl.selectType === $ctrl.COMPONENT_CONSTANTS.SELECT_TYPES.STATIC ||\n          $ctrl.selectType === $ctrl.COMPONENT_CONSTANTS.SELECT_TYPES.MULTI_SELECT" ng-required="$ctrl.ngRequired" placeholder="{{ $ctrl.placeholder | translate }}" select-autocomplete-validator suggestions="$ctrl.options" tabindex="{{::$ctrl.inputTabindex }}"/> <input type="hidden" ng-model="$ctrl.ngModel" ng-required="$ctrl.ngRequired"/> <div class="c-select-autocomplete__secondary-value margin__l--fix1" ng-class="{\'c-select-autocomplete__secondary-value-hide\': $ctrl.hideRightLabelOnSearch && ($ctrl.searchKeywordChanged || $ctrl.{{$ctrl.formName}}.$invalid)}" ng-bind-html="$ctrl.secondaryInputModel"> </div> </div> <div class="c-select-autocomplete__suggestion-container js-suggestions" ng-class="::{\n        \'c-select-autocomplete__suggestion-container--stylized\': $ctrl.stylized,\n        \'c-select-autocomplete__suggestion-container--alternate-light\': $ctrl.alternateLight\n      }" ng-show="$ctrl.suggestionsShown && $ctrl.suggestions.length"> <div class="c-select-autocomplete__suggestion-container__suggestion" ng-if="$ctrl.dataType === $ctrl.COMPONENT_CONSTANTS.DATA_TYPES.STATIC" ng-repeat="suggestion in $ctrl.suggestions track by $index" ng-class="{ \'isSelected\': $ctrl.isSuggestionSelected(suggestion), \'secondaryBeneathPrimary\': $ctrl.secondaryLabelBeneathPrimary }" ng-click="$ctrl.suggestionClicked(suggestion)" data-index="{{$index}}"> <span class="c-select-autocomplete__suggestion-left" ng-bind-html="suggestion[$ctrl.optionLabelKey] | translate"> </span> <span class="c-select-autocomplete__suggestion-right" ng-bind-html="suggestion[$ctrl.optionRightLabelKey] | translate"></span> </div> <div class="c-select-autocomplete__suggestion-container__suggestion" ng-if="$ctrl.dataType !== $ctrl.COMPONENT_CONSTANTS.DATA_TYPES.STATIC" ng-repeat="suggestion in $ctrl.suggestions track by $index" ng-class="{ \'isSelected\': $ctrl.isSuggestionSelected(suggestion) }" ng-click="$ctrl.suggestionClicked(suggestion)"> <span class="c-select-autocomplete__suggestion-left" ng-bind-html="suggestion[$ctrl.optionLabelKey] | translate"> </span> <span class="c-select-autocomplete__suggestion-right" ng-bind-html="suggestion[$ctrl.optionRightLabelKey] | translate"></span> </div> </div> <div class="c-select-autocomplete__suggestion-container js-suggestions" ng-class="::{\n        \'c-select-autocomplete__suggestion-container--stylized\': $ctrl.stylized,\n        \'c-select-autocomplete__suggestion-container--alternate-light\': $ctrl.alternateLight\n      }" ng-show="$ctrl.showSuggestionEmptyState && $ctrl.suggestionEmptyState && $ctrl.suggestionsShown && !$ctrl.suggestions.length"> <span class="c-select-autocomplete__suggestion-container--empty-state">{{ $ctrl.suggestionEmptyState | translate }}</span> </div> </div> <div ng-messages="$ctrl[$ctrl.formName][$ctrl.inputId].$error" ng-show="!$ctrl.hideDefaultWarnings && ($ctrl[$ctrl.formName][$ctrl.inputId].$touched || $ctrl.showDefaultWarnings)"> <div ng-message="required" class="field__error"> {{ ::\'clientOnboarding.tpiForm.errors.required\' | translate }} </div> <div ng-message="pattern" class="field__error"> {{ ::\'clientOnboarding.tpiForm.errors.invalidSymbols\' | translate }} </div> <div ng-message="selectAutocomplete" class="field__error"> {{ ($ctrl.selectAutocompleteValidationMessage || \'global.customErrorCodes.SELECT_AUTOCOMPLETE\') | translate}} </div> </div> </ng-form>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_(n(33)),a=_(n(39)),s=_(n(15)),o=_(n(8)),r=_(n(0)),l=_(n(2)),c=_(n(780)),u=_(n(783)),d=_(n(143));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(){function e(t,n,i,a,s,l,c,u,d){(0,r.default)(this,e),(0,o.default)(this,{$scope:t,$element:n,$timeout:i,$translate:a,$window:s,$document:l,COMPONENT_CONSTANTS:c,modalDialogConstants:u,EnvironmentService:d}),this.searchedText="",this.suggestions=[],this.highlightedSuggestion=null,this.attachToBody=!!this.attachToBody,this.rootClass="c-select-autocomplete",this.EnvironmentService=d,this.dataType=this.COMPONENT_CONSTANTS.DATA_TYPES.STATIC,this.OPTIONS_BEFORE_SCROLL=c.DROPDOWN.OPTIONS_BEFORE_SCROLL,this.KEY_CODES=c.KEY_CODES,this.searchKeywordChanged=!1}return(0,l.default)(e,[{key:"$onInit",value:function(){var e=this;this.formName=""+this.inputId,this.selectType||(this.simpleFiltered?this.selectType=this.COMPONENT_CONSTANTS.SELECT_TYPES.FILTERED:this.isStatic&&(this.selectType=this.COMPONENT_CONSTANTS.SELECT_TYPES.STATIC)),this.classObject={},this.classObject[this.rootClass+"--stylized"]=!!this.stylized,this.classObject[this.rootClass+"--alternate-light"]=!!this.alternateLight,this.classObject[this.rootClass+"--large"]=this.selectType===this.COMPONENT_CONSTANTS.SELECT_TYPES.FILTERED||!!this.alternateLight,this.classObject[this.rootClass+"--disabled"]=this.isDisabled,this._domContainerRef=this.$element[0].querySelector(".js-container"),this._domSuggestionsRef=this.$element[0].querySelector(".js-suggestions"),this._domInputRef=this.$element[0].querySelector(".js-input"),this._deregisterSearchWatcher=this.$scope.$watch((function(){return e.searchedText}),(function(){return e._onSearchChange()})),this.autocomplete=void 0===this.autocomplete?"on":this.autocomplete}},{key:"_handleModelChanges",value:function(e,t){var n=this;this._selectedSuggestions=this.suggestions.filter((function(e){return n._valMatchesModel(e)})),angular.isDefined(e)&&null!==e||!this.inputModel?this._selectedSuggestions.length>0&&this._setInputModel(this._selectedSuggestions[0]):this._setInputModel(),e!==t&&this.onSelect&&this.$timeout((function(){n.onSelect({oldValue:t,value:e,option:n._selectedSuggestions[0],options:n._selectedSuggestions})}))}},{key:"$onChanges",value:function(e){var t=this,n=e.options,i=e.optionsFn;if(n?this._bindStaticOptions():i&&(this.dataType=this.COMPONENT_CONSTANTS.DATA_TYPES.ASYNC),this._isMultiSelect=this.selectType===this.COMPONENT_CONSTANTS.SELECT_TYPES.MULTI_SELECT,this._isMultiSelect&&(Array.isArray(this.ngModel)||(this.ngModel=[]),this._selectedSuggestions||(this._selectedSuggestions=[])),this.ngModel){var a=(0,d.default)(this.suggestions,(function(e){return t._valMatchesModel(e)}));this._setInputModel(a)}else{var o=(0,s.default)(e);if(1===o.length&&-1!==o.indexOf("showWarningBorder"))return;this._setInputModel()}this._deregisterModelWatcher&&this._deregisterModelWatcher(),this._isMultiSelect?this._deregisterModelWatcher=this.$scope.$watchCollection((function(){return t.ngModel}),(function(e,n){t._handleModelChanges(e,n)})):this._deregisterModelWatcher=this.$scope.$watch((function(){return t.ngModel}),(function(e,n){t._handleModelChanges(e,n)}))}},{key:"isSuggestionSelected",value:function(e){return e===this.highlightedSuggestion||this._valMatchesModel(e)}},{key:"_bindStaticOptions",value:function(){this.dataType=this.COMPONENT_CONSTANTS.DATA_TYPES.STATIC,this.transformedOptions=this._prepareOptions(this.options),this.suggestions=angular.copy(this.transformedOptions)}},{key:"_prepareOptions",value:function(e){var t=this,n=[];return angular.isArray(e)?n=e:angular.isObject(e)&&(n=(0,u.default)(e)),this.sortAlphabetically?n.sort((function(e,n){return e[t.optionLabelKey].toLowerCase().localeCompare(n[t.optionLabelKey].toLowerCase())})):n}},{key:"_onSearchChange",value:function(){var e=this;!this.searchedText||this.searchedText.length<2?this.suggestions=angular.copy(this.transformedOptions):(this.onInputChange&&"function"==typeof this.onInputChange&&this.onInputChange({input:this.searchedText}),this.suggestionsSearchFilter&&"function"==typeof this.suggestionsSearchFilter?this.suggestions=this.transformedOptions.filter((function(t){return e.suggestionsSearchFilter({input:e.searchedText,element:t})})):this.suggestions=this.transformedOptions.filter((function(t){return(0,c.default)(t[e.optionLabelKey].toLowerCase(),e.searchedText.toLowerCase())})),this._showSuggestions())}},{key:"blurCleanup",value:function(){var e=this;this._isMultiSelect||(this.ngModel&&"object"===(0,a.default)(this.ngModel)&&!(0,s.default)(this.ngModel).length&&(this.secondaryInputModel=""),this.$timeout((function(){e.suggestionsShown&&e.suggestions.length||(e.ngWarningBorderOrg&&e.$timeout((function(){e.ngWarningBorder=e.ngWarningBorderOrg}),100),e.inputModel?!(0,d.default)(e.suggestions,(function(t){return e._valMatchesModel(t)}))&&e.onSelect&&e.onSelect({value:"",option:void 0}):e.ngModel=null)}),50))}},{key:"focusEventHandler",value:function(){this.searchKeywordChanged=!0,this.onFocus&&"function"==typeof this.onFocus&&this.onFocus()}},{key:"blurEventHandler",value:function(){this.searchKeywordChanged=!1,this.onBlur&&"function"==typeof this.onBlur&&this.onBlur()}},{key:"$onDestroy",value:function(){this._deregisterModelWatcher(),this._deregisterSearchWatcher()}},{key:"keydown",value:function(e){if(this.keypressDisabled)return e.stopPropagation(),void e.preventDefault();if(this.suggestionsShown)switch(e.keyCode){case this.KEY_CODES.ENTER:this.highlightedSuggestion&&this.suggestionClicked(this.highlightedSuggestion);break;case this.KEY_CODES.UP:if(e.stopPropagation(),e.preventDefault(),!this.highlightedSuggestion)return;if(this.highlightPrevious(),!(this.suggestions.indexOf(this.highlightedSuggestion)>this.suggestions.length-1-this.OPTIONS_BEFORE_SCROLL)){var t=this._getCurrentlyHighlightedItem();this._domSuggestionsRef.scrollTop-=t.offsetHeight}break;case this.KEY_CODES.DOWN:e.stopPropagation(),e.preventDefault();var n=this._getCurrentlyHighlightedItem();this.highlightNext(),this.suggestions.indexOf(this.highlightedSuggestion)<this.OPTIONS_BEFORE_SCROLL?this._domSuggestionsRef.scrollTop=0:this._domSuggestionsRef.scrollTop+=n.offsetHeight;break;case this.KEY_CODES.TAB:this._hideSuggestions()}}},{key:"highlightNext",value:function(){var e=-1;this.highlightedSuggestion?e=this.suggestions.indexOf(this.highlightedSuggestion):this.selectedSuggestion&&(e=this.suggestions.indexOf(this.selectedSuggestion)),e+1>=this.suggestions.length||(this.highlightedSuggestion=this.suggestions[e+1])}},{key:"highlightPrevious",value:function(){var e=this.suggestions.length-1;this.highlightedSuggestion?e=this.suggestions.indexOf(this.highlightedSuggestion):this.selectedSuggestion&&(e=this.suggestions.indexOf(this.selectedSuggestion)),e-1<0||(this.highlightedSuggestion=this.suggestions[e-1])}},{key:"_getCurrentlyHighlightedItem",value:function(){var e=this.suggestions.indexOf(this.highlightedSuggestion);return this._domSuggestionsRef.querySelector('[data-index="'+e+'"]')}},{key:"_setInputModel",value:function(e){var t=this,n=function(e){return t.$translate.instant(e[t.optionLabelKey].toString()).replace(/<[^>]+>/gm,"")};this._isMultiSelect?this.inputModel=this._selectedSuggestions.map((function(e){return n(e)})).join(", "):e&&e[this.optionLabelKey]?(this.inputModel=n(e),this.optionRightLabelKey&&e[this.optionRightLabelKey]?this.secondaryInputModel=this.$translate.instant(e[this.optionRightLabelKey].toString()):this.secondaryInputModel=""):(this.inputModel="",this.searchedText=this.inputModel,this.secondaryInputModel="")}},{key:"_conditionallySetDirtyFlag",value:function(e){this.inputId&&this[this.formName]&&this[this.formName][this.inputId]&&e!==this.inputModel&&this[this.formName][this.inputId].$setDirty()}},{key:"_showSuggestions",value:function(){this.ngReadonly||this.suggestionsShown||(this.suggestionsShown=!0,this._attachToBody())}},{key:"_hideSuggestions",value:function(){var e=this;this.suggestionsShown&&(this.suggestionsShown=!1,this.$timeout((function(){e._deattachFromBody()})))}},{key:"inputClick",value:function(e){this.ngWarningBorder&&(this.ngWarningBorderOrg=this.ngWarningBorder,this.ngWarningBorder=!this.ngWarningBorderOrg),"keypress"===e.type&&13!==e.keyCode||this.isReadOnly||("keypress"===e.type&&13===e.keyCode&&(this.searchedText=""),this.suggestionsShown?this._isMultiSelect&&this._hideSuggestions():(this._showSuggestions(),this.EnvironmentService.isMobile()?this.isSelectTypeStaticAndNative()&&(this[this.formName][this.inputId].$touched=!0):this._domInputRef.focus(),this.selectType===this.COMPONENT_CONSTANTS.SELECT_TYPES.FILTERED&&(this.searchedText="")))}},{key:"isSelectTypeStaticAndNative",value:function(){return!(this.enableForMobile||!(this.EnvironmentService.isNative()&&this.selectType===this.COMPONENT_CONSTANTS.SELECT_TYPES.STATIC||this.EnvironmentService.isMobile()))}},{key:"suggestionClicked",value:function(e){var t=this,n=null,i=null;if(this.ngModelSetRawObject)this._isMultiSelect?this.isSuggestionSelected(e)?i=e:n=e:this.ngModel=e;else{var a=e[this._optionValueKey];this._isMultiSelect?this.isSuggestionSelected(e)?i=a:n=a:this.ngModel=a}if(n)this.ngModel.push(n),this._selectedSuggestions.push(e);else if(i){var s=this.ngModel.indexOf(i);this.ngModel.splice(s,1),s=this._selectedSuggestions.indexOf(e),this._selectedSuggestions.splice(s,1)}var o=this.inputModel;this._setInputModel(e),this._conditionallySetDirtyFlag(o),this.searchedText="",this.highlightedSuggestion=null,this._isMultiSelect||this.$timeout((function(){t._hideSuggestions()}),200)}},{key:"_containerOffset",value:function(){if(!this._domContainerRef)return null;var e=this._domContainerRef.getBoundingClientRect();if(e.width||e.height||this._domContainerRef.getClientRects().length){var t=this._domContainerRef.ownerDocument,n=this.$window,i=t.documentElement;return{top:e.top+n.pageYOffset-i.clientTop,left:e.left+n.pageXOffset-i.clientLeft,width:e.width,height:e.height}}return null}},{key:"_ifClickedInsideDOMTree",value:function(e,t){var n=e.target;do{if(n===t)return!0;n=n.parentNode}while(n&&n!==document.documentElement);return!n}},{key:"_closeIfClickedOutside",value:function(e){var t=this._ifClickedInsideDOMTree(e,this._domContainerRef),n=this._ifClickedInsideDOMTree(e,this._domSuggestionsRef);t||n||this._hideSuggestions()}},{key:"_deattachFromBody",value:function(){var e=angular.element(this._domSuggestionsRef);e.css("top","auto"),e.css("left","auto"),this._domContainerRef.parentNode.insertBefore(this._domSuggestionsRef,this._domContainerRef.nextSibling),this.$document.off("click touchstart",this.bound_closeIfClickedOutside),this.unbindDialogListener&&(this.unbindDialogListener(),this.unbindDialogListener=null)}},{key:"_attachToBody",value:function(){var e=this,t=angular.element(this._domSuggestionsRef),n=this._containerOffset();this._applyOffsetAndPosition(t,n),this.attachToBody&&document.body.appendChild(this._domSuggestionsRef),this.bound_closeIfClickedOutside=this._closeIfClickedOutside.bind(this),this.$document.on("click touchstart",this.bound_closeIfClickedOutside);for(var i=this.modalDialogConstants.SELECTOR_CLASSES.DIALOG_CONTENT,a=null,s=this._domSuggestionsRef.parentNode;s&&s.classList;){if(s.classList.contains(i)){a=angular.element(s);break}s=s.parentNode}a&&(this.unbindDialogListener=function(){a.off("scroll",e.bound_closeIfClickedOutside)})}},{key:"_applyOffsetAndPosition",value:function(e,t){var n=void 0,i=void 0;this.attachToBody?(i=t.top+t.height,n=t.left):(i=t.height,n=0),e.css("top",i+"px"),e.css("left",n+"px"),e.css("position","absolute")}},{key:"_valMatchesModelMapper",value:function(e){var t;if(null==e)return e;var n=(t={},(0,i.default)(t,this.optionLabelKey,e[this.optionLabelKey]),(0,i.default)(t,this._optionValueKey,e[this._optionValueKey]),t);return this.optionRightLabelKey&&(n[this.optionRightLabelKey]=e[this.optionRightLabelKey]),n}},{key:"_valMatchesModel",value:function(e){var t=this;if(this.ngModelSetRawObject){var n=this._valMatchesModelMapper(e);return this._isMultiSelect?this.ngModel&&this.ngModel.find((function(e){return angular.equals(n,t._valMatchesModelMapper(e))})):angular.equals(n,this._valMatchesModelMapper(this.ngModel))}return this._isMultiSelect?this.ngModel&&-1!==this.ngModel.indexOf(e[this._optionValueKey]):e[this._optionValueKey]===this.ngModel}},{key:"_optionValueKey",get:function(){return this.optionValueKey||"code"}}]),e}();E.$inject=["$scope","$element","$timeout","$translate","$window","$document","tngSelectAutocompleteConstants","modalDialogConstants","EnvironmentService"],t.default=E,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={SELECT_TYPES:{STATIC:"STATIC",FILTERED:"FILTERED",MULTI_SELECT:"MULTI_SELECT"},DATA_TYPES:{STATIC:"STATIC",ASYNC:"ASYNC"},DROPDOWN:{OPTIONS_BEFORE_SCROLL:2},KEY_CODES:{ENTER:13,UP:38,DOWN:40,TAB:9}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(143),s=(i=a)&&i.__esModule?i:{default:i};function o(e){var t="selectAutocomplete";return{require:"^ngModel",restrict:"A",scope:{suggestions:"<",labelKey:"<"},link:function(n,i,a,o){function r(i){if(o.$isEmpty(i))return o.$setValidity(t,!0),i;var a=(0,s.default)(n.suggestions,(function(t){return e.instant(t[n.labelKey]).replace(/<[^>]+>/gm,"").trim().toLowerCase()===i.trim().toLowerCase()}));return o.$setValidity(t,!!a),i}o.$formatters.push(r),o.$parsers.push(r)}}}t.default=o,o.$inject=["$translate"],e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=I(n(814)),a=I(n(818)),s=I(n(822)),o=I(n(826)),r=I(n(830)),l=I(n(834)),c=I(n(836)),u=I(n(840)),d=I(n(844)),_=I(n(848)),E=I(n(852)),h=I(n(856)),S=I(n(860)),T=I(n(864)),p=I(n(868)),f=I(n(872)),g=I(n(876)),A=I(n(880)),v=I(n(884)),C=I(n(371)),m=I(n(885));function I(e){return e&&e.__esModule?e:{default:e}}var O=angular.module("tangerine.app.core.components.tileList",[]).component("tngTileList",i.default).component("tngAccountTile",a.default).component("tngAccountTileRif",s.default).component("tngAccountTileBeneficiary",o.default).component("tngEffectiveDateTile",E.default).component("tngTermOptionTile",h.default).component("tngTextTile",r.default).component("tngDateTile",c.default).component("tngAmountTile",u.default).component("tngReviewTile",d.default).component("tngConfirmPaymentPayBillTile",_.default).component("tngAddressTile",S.default).component("tngExternalAccountTile",T.default).component("tngParseHtmlTile",l.default).component("tngStartEndDateTile",p.default).component("tngGoalTile",f.default).component("tngInvestmentFundReviewTile",A.default).component("tngDeliveryOptionsTile",g.default).constant("tngTileListConstants",v.default).service("DateService",C.default).factory("MultiLineDateTile",m.default);t.default=O,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(815)),a=s(n(816));function s(e){return e&&e.__esModule?e:{default:e}}n(817);var o={template:i.default,controller:a.default,bindings:{tileData:"<",tileType:"<",allActionable:"<",allDisabled:"<",isActionable:"&?",isDisabled:"&?",expandable:"<?",isHidden:"&?",onTileClick:"&?",singleSelect:"<",multiSelect:"<",selectedTiles:"=?",shortTile:"<?",virtualHeight:"<?",numbered:"<",iconed:"<",icon:"<",customScope:"<",addressTileId:"@?",hideArrow:"<?",tileListId:"@?",showPlanNumber:"<?",showRecommendedAccount:"<?",displayCurrencySign:"<?",renderHtml:"<?",multipleTypesPerTile:"<",inlineAddress:"<?",tileIdPrefix:"<?",payBillV2:"<?",hideBalance:"<?",goToManageBills:"&?"}};t.default=o,e.exports=t.default},function(e,t){e.exports=' <div class="c-tile-list" ng-attr-id="{{ $ctrl.tileListId }}"> <div vs-repeat ng-if="!$ctrl.multipleTypesPerTile" ng-style="$ctrl.virtualScrollStyles" class="c-tile-list__virtual-repeat"> <div class="c-tile" ng-repeat="data in $ctrl.tileData track by $index" ng-click="$ctrl.tileClicked($index, data)" ng-hide="$ctrl.tileHidden($index, data)" actionable-id="{{::$ctrl.tileElementId(\'tile_\', $index)}}" ng-class="{\n        \'c-tile--disabled\': $ctrl.tileDisabled($index, data),\n        \'c-tile--selected\': $ctrl.isTileSelected($index, data),\n        \'c-tile--cursor-pointer\': $ctrl.tileActionable($index, data),\n        \'c-tile--no-hover\': $ctrl.isMobile\n      }"> <div ng-if="$ctrl.payBillV2 && data.tileHeader" class="tile-header">{{data.tileHeader}}</div> <div ng-attr-id="tile-id-{{ $index }}" ng-class="{\n          \'panel c-tile__content--short-date\': (data.shortTile || $ctrl.shortTile) && $ctrl.tileType === $ctrl.tileListConstants.TILE_TYPE.date,\n          \'panel c-tile__content--short\': (data.shortTile || $ctrl.shortTile) && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.date,\n          \'panel c-tile__content\': !(!!$ctrl.payBillV2 && (data.tileType == $ctrl.tileListConstants.TILE_TYPE.confirmPaymentPayBill || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.confirmPaymentPayBill)) && !(data.shortTile || $ctrl.shortTile),\n          \'panel c-tile__content--pay-bill\': !!$ctrl.payBillV2 && (data.tileType == $ctrl.tileListConstants.TILE_TYPE.confirmPaymentPayBill || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.confirmPaymentPayBill),\n          \'c-tile--recommend\': $ctrl.showRecommendedAccount\n        }"> <span ng-if="$ctrl.numbered" class="c-tile__number"> <div class="numberHover">{{ ::$index + 1 }}</div> </span> <div ng-if="$ctrl.iconed" class="c-tile__icon"> <tng-category-icon icon="{{$ctrl.icon}}" discount="" discount-size="" color="\'#f58426\'" size="50"> </tng-category-icon> </div> <tng-text-tile class="table-cell" ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.text || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.text" tile-data="data" render-html="$ctrl.renderHtml"> </tng-text-tile> <tng-effective-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.effectiveDate || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.effectiveDate" tile-data="data"> </tng-effective-date-tile> <tng-term-option-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.termOption || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.termOption" tile-data="data"> </tng-term-option-tile> <tng-parse-html-tile custom-scope="$ctrl.customScope" ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.parseHtml || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.parseHtml" tile-data="data"> </tng-parse-html-tile> <tng-address-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.address || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.address" ng-attr-id="{{ $ctrl.addressTileId }}" tile-data="data" inline-address="$ctrl.inlineAddress"> </tng-address-tile> <tng-account-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.account || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.account" tile-data="data" class="short-tile" short-tile="(data.shortTile || $ctrl.shortTile)" show-plan-number="$ctrl.showPlanNumber" hide-balance="$ctrl.hideBalance" display-currency-sign="$ctrl.displayCurrencySign"> TILE_TYPE.account </tng-account-tile> <tng-account-tile-rif ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.accountRIF || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.accountRIF" tile-data="data"> </tng-account-tile-rif> <tng-account-tile-beneficiary ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.accountBeneficiary || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.accountBeneficiary" tile-data="data"> </tng-account-tile-beneficiary> <tng-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.date || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.date" tile-data="data" short-tile="$ctrl.shortTile"> </tng-date-tile> <tng-amount-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.amount || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.amount" tile-index="$index" tile-data="data" display-currency-sign="$ctrl.displayCurrencySign"> TILE_TYPE.amount </tng-amount-tile> <tng-review-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.review || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.review" tile-index="$index" tile-data="data" display-currency-sign="$ctrl.displayCurrencySign"> </tng-review-tile> <tng-confirm-payment-pay-bill-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.confirmPaymentPayBill || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.confirmPaymentPayBill" tile-index="$index" tile-data="data" display-currency-sign="$ctrl.displayCurrencySign" go-to-manage-bills="$ctrl.goToManageBills()"> </tng-confirm-payment-pay-bill-tile> <tng-external-account-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.externalAccount || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.externalAccount" tile-data="data" class="short-tile" short-tile="$ctrl.shortTile"> </tng-external-account-tile> <tng-start-end-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.startEndDate || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.startEndDate" tile-data="data"> </tng-start-end-date-tile> <tng-goal-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.goal || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.goal" tile-data="data"> </tng-goal-tile> <tng-delivery-options-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.deliveryOption || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.deliveryOption" tile-data="data"> </tng-delivery-options-tile> <tng-investment-fund-review-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.investmentFundReview || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.investmentFundReview" tile-data="data"> </tng-investment-fund-review-tile> <span ng-show="$ctrl.expandable && $ctrl.hideArrow " ng-class="data.isTileExpanded ? \'icon-uparrow\' : \'icon-downarrow\'" class="c-tile__arrow large icon-downarrow"></span> <span ng-show="!$ctrl.hideArrow && $ctrl.tileActionable($index, data) && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.effectiveDate && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.goal" class="c-tile__arrow icon-rightarrow large"> </span> </div> <div ng-if="$ctrl.showRecommendedAccount" class="c-tile__recommend"> {{ ::\'goals.goalRecommendAccount.recommended\' | translate }} </div> </div> <div class="c-tile" ng-if="$ctrl.multipleTypesPerTile" ng-click="$ctrl.tileClicked($index, $ctrl.tileData)" actionable-id="{{::$ctrl.tileElementId(\'tile_\', $index)}}"> <div ng-repeat="data in $ctrl.tileData track by $index" ng-hide="$ctrl.tileHidden($index, data)" ng-attr-id="tile-id-{{ $index }}" ng-class="{\n          \'panel c-tile__content--short-date\': (data.shortTile || $ctrl.shortTile) && $ctrl.tileType === $ctrl.tileListConstants.TILE_TYPE.date,\n          \'panel c-tile__content--short\': (data.shortTile || $ctrl.shortTile) && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.date,\n          \'panel c-tile__content\': !(data.shortTile || $ctrl.shortTile),\n          \'c-tile--recommend\': $ctrl.showRecommendedAccount\n        }"> <span ng-if="$ctrl.numbered" class="c-tile__number"> <div class="numberHover">{{ ::$index + 1 }}</div> </span> <div ng-if="$ctrl.iconed" class="c-tile__icon"> <tng-category-icon icon="{{$ctrl.icon}}" discount="" discount-size="" color="\'#f58426\'" size="50"> </tng-category-icon> </div> <tng-text-tile class="table-cell" ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.text || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.text" tile-data="data" render-html="$ctrl.renderHtml"> </tng-text-tile> <tng-effective-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.effectiveDate || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.effectiveDate" tile-data="data"> </tng-effective-date-tile> <tng-term-option-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.termOption || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.termOption" tile-data="data"> </tng-term-option-tile> <tng-parse-html-tile custom-scope="$ctrl.customScope" ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.parseHtml || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.parseHtml" tile-data="data"> </tng-parse-html-tile> <tng-address-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.address || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.address" ng-attr-id="{{ $ctrl.addressTileId }}" tile-data="data" inline-address="$ctrl.inlineAddress"> </tng-address-tile> <tng-account-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.account || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.account" tile-data="data" class="short-tile" short-tile="(data.shortTile || $ctrl.shortTile)" show-plan-number="$ctrl.showPlanNumber" display-currency-sign="$ctrl.displayCurrencySign"> TILE_TYPE.account </tng-account-tile> <tng-account-tile-rif ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.accountRIF || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.accountRIF" tile-data="data"> </tng-account-tile-rif> <tng-account-tile-beneficiary ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.accountBeneficiary || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.accountBeneficiary" tile-data="data"> </tng-account-tile-beneficiary> <tng-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.date || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.date" tile-data="data" short-tile="$ctrl.shortTile"> </tng-date-tile> <tng-amount-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.amount || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.amount" tile-index="$index" tile-data="data" display-currency-sign="$ctrl.displayCurrencySign"> TILE_TYPE.amount </tng-amount-tile> <tng-amount-tile-pay-bills ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.amountPayBills || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.amountPayBills" tile-index="$index" tile-data="data" display-currency-sign="$ctrl.displayCurrencySign"> </tng-amount-tile-pay-bills> <tng-external-account-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.externalAccount || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.externalAccount" tile-data="data" class="short-tile" short-tile="$ctrl.shortTile"> </tng-external-account-tile> <tng-start-end-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.startEndDate || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.startEndDate" tile-data="data"> </tng-start-end-date-tile> <tng-goal-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.goal || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.goal" tile-data="data"> </tng-goal-tile> <tng-delivery-options-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.deliveryOption || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.deliveryOption" tile-data="data"> </tng-delivery-options-tile> <span ng-show="!$ctrl.hideArrow && $ctrl.tileActionable($index, data) && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.effectiveDate && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.goal" class="c-tile__arrow icon-rightarrow large"> </span> </div> <div ng-if="$ctrl.showRecommendedAccount" class="c-tile__recommend"> {{ ::\'goals.goalRecommendAccount.recommended\' | translate }} </div> </div> </div> <div ng-if="$ctrl.multipleTypesPerTile" ng-style="$ctrl.virtualScrollStyles" class="c-tile-list__virtual-repeat"> <div class="c-tile c-tile__multi-types-tile" ng-click="$ctrl.tileClicked($index, $ctrl.tileData)" actionable-id="{{::$ctrl.tileElementId(\'tile_\', $index)}}" ng-class="{\n        \'c-tile--disabled\': $ctrl.tileDisabled($index, $ctrl.tileData),\n        \'c-tile--selected\': $ctrl.isTileSelected($index, $ctrl.tileData),\n        \'c-tile--cursor-pointer\': $ctrl.tileActionable($index, $ctrl.tileData),\n        \'c-tile--no-hover\': $ctrl.isMobile\n      }"> <div ng-repeat="data in $ctrl.tileData track by $index" ng-hide="$ctrl.tileHidden($index, data)" ng-attr-id="tile-id-{{ $index }}" ng-class="{\n          \'panel c-tile__content--short-date\': (data.shortTile || $ctrl.shortTile) && $ctrl.tileType === $ctrl.tileListConstants.TILE_TYPE.date,\n          \'panel c-tile__content--short\': (data.shortTile || $ctrl.shortTile) && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.date,\n          \'panel c-tile__content\': !(data.shortTile || $ctrl.shortTile),\n          \'c-tile--recommend\': $ctrl.showRecommendedAccount\n        }"> <span ng-if="$ctrl.numbered" class="c-tile__number"> <div class="numberHover">{{ ::$index + 1 }}</div> </span> <div ng-if="$ctrl.iconed" class="c-tile__icon"> <tng-category-icon icon="{{$ctrl.icon}}" discount="" discount-size="" color="\'#f58426\'" size="50"> </tng-category-icon> </div> <tng-text-tile class="table-cell" ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.text || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.text" tile-data="data" render-html="$ctrl.renderHtml"> </tng-text-tile> <tng-effective-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.effectiveDate || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.effectiveDate" tile-data="data"> </tng-effective-date-tile> <tng-term-option-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.termOption || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.termOption" tile-data="data"> </tng-term-option-tile> <tng-parse-html-tile custom-scope="$ctrl.customScope" ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.parseHtml || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.parseHtml" tile-data="data"> </tng-parse-html-tile> <tng-address-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.address || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.address" ng-attr-id="{{ $ctrl.addressTileId }}" tile-data="data" inline-address="$ctrl.inlineAddress"> </tng-address-tile> <tng-account-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.account || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.account" tile-data="data" class="short-tile" short-tile="(data.shortTile || $ctrl.shortTile)" show-plan-number="$ctrl.showPlanNumber" display-currency-sign="$ctrl.displayCurrencySign"> TILE_TYPE.account </tng-account-tile> <tng-account-tile-rif ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.accountRIF || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.accountRIF" tile-data="data"> </tng-account-tile-rif> <tng-account-tile-beneficiary ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.accountBeneficiary || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.accountBeneficiary" tile-data="data"> </tng-account-tile-beneficiary> <tng-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.date || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.date" tile-data="data" short-tile="$ctrl.shortTile"> </tng-date-tile> <tng-amount-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.amount || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.amount" tile-index="$index" tile-data="data" display-currency-sign="$ctrl.displayCurrencySign"> TILE_TYPE.amount </tng-amount-tile> <tng-amount-tile-pay-bills ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.amountPayBills || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.amountPayBills" tile-index="$index" tile-data="data" display-currency-sign="$ctrl.displayCurrencySign"> </tng-amount-tile-pay-bills> <tng-external-account-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.externalAccount || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.externalAccount" tile-data="data" class="short-tile" short-tile="$ctrl.shortTile"> </tng-external-account-tile> <tng-start-end-date-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.startEndDate || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.startEndDate" tile-data="data"> </tng-start-end-date-tile> <tng-goal-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.goal || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.goal" tile-data="data"> </tng-goal-tile> <tng-delivery-options-tile ng-if="data.tileType == $ctrl.tileListConstants.TILE_TYPE.deliveryOption || !data.tileType && $ctrl.tileType == $ctrl.tileListConstants.TILE_TYPE.deliveryOption" tile-data="data"> </tng-delivery-options-tile> </div> <span ng-show="!$ctrl.hideArrow && $ctrl.tileActionable($index, data) && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.effectiveDate && $ctrl.tileType !== $ctrl.tileListConstants.TILE_TYPE.goal" class="c-tile__arrow icon-rightarrow large"></span> </div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.tileListConstants=t,this.isMobile=n.isTouchDevice()}return(0,a.default)(e,[{key:"$onInit",value:function(){this.tileData||(this.tileData=[]),Array.isArray(this.tileData)||(this.tileData=[this.tileData]),this.tileType||(this.tileType=this.tileListConstants.TILE_TYPE.text),this.allActionable||(this.allActionable=!1),this.allDisabled||(this.allDisabled=!1),this.displayCurrencySign||(this.displayCurrencySign=!1),Array.isArray(this.selectedTiles)||(this.selectedTiles=[]),this.shortTile||(this.shortTile=!1),this.virtualScrollStyles={},this.virtualHeight&&(this.virtualScrollStyles.height=this.virtualHeight+"px")}},{key:"tileClicked",value:function(e,t){if(!this.allDisabled&&!this.tileDisabled(e,t)){if(!this.multipleTypesPerTile&&(this.singleSelect||this.multiSelect)){var n=this.selectedTiles.indexOf(t);n>=0?this.singleSelect&&this.onTileClick||this.selectedTiles.splice(n,1):(this.singleSelect&&(this.selectedTiles=[t]),this.multiSelect&&this.selectedTiles.push(t))}this.onTileClick&&this.onTileClick({index:e,tileData:t,selectedTiles:this.selectedTiles})}}},{key:"tileDisabled",value:function(e,t){return!!this.allDisabled||!!this.isDisabled&&this.isDisabled({index:e,tileData:t})}},{key:"tileHidden",value:function(e,t){return!!this.isHidden&&this.isHidden({index:e,tileData:t})}},{key:"tileActionable",value:function(e,t){return!!this.allActionable||!!this.isActionable&&this.isActionable({index:e,tileData:t})}},{key:"isTileSelected",value:function(e,t){return this.tileActionable(e,t)&&-1!==this.selectedTiles.indexOf(t)}},{key:"tileElementId",value:function(e,t){return e||(e="tile_"),t||(t=0),this.tileIdPrefix?this.tileIdPrefix+"_"+e+t:""+e+t}}]),e}();o.$inject=["tngTileListConstants","EnvironmentService"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(819)),a=s(n(820));function s(e){return e&&e.__esModule?e:{default:e}}n(821);var o={template:i.default,controller:a.default,bindings:{tileData:"<",shortTile:"<?",showPlanNumber:"<?",displayCurrencySign:"<?",hideBalance:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-account-tile"> <div class="c-account-tile__description body--4"> {{ $ctrl.tileData.tileDescription | translate }} </div> <h3 ng-class="{ \'c-account-tile__middle-title\' : $ctrl.shortTile }"> <span class="body"> {{$ctrl.accountData.accountName || $ctrl.displayName|| $ctrl.tileData.date || $ctrl.accountData.description}} </span> <span class="margin__l--fix1: !$ctrl.payBillV2"> {{ $ctrl.tileData.accountNumber || $ctrl.accountData.display_name || $ctrl.accountData.number | maskNumber }} </span> </h3> <div ng-if="$ctrl.accountData.account_number ||\n      $ctrl.showAmount() ||\n      (!$ctrl.showAmount() && $ctrl.accountData.currency_type) ||\n      $ctrl.accountData.bottomText" class="body--4 top-margin-small" ng-class="{ \'margin__t--fix1\' : !$ctrl.shortTile }"> <span ng-if="$ctrl.accountData.account_number">#{{ $ctrl.accountData.account_number }}</span> <span ng-if="$ctrl.showAmount()"> {{ $ctrl.displayAmount | tngCurrency:$ctrl.accountData.currency_type:$ctrl.displayCurrencySign }} </span> <span ng-if="!$ctrl.showAmount() && $ctrl.accountData.currency_type"> {{ $ctrl.accountData.currency_type | tngCurrencySign:$ctrl.displayCurrencySign }} </span> <div ng-if="$ctrl.accountData.bottomText" class="c-account-tile__description top-margin-small max-text-width"> {{ $ctrl.accountData.bottomText }} </div> </div> <div class="margin__t--fix1" ng-if="$ctrl.accountData.plan_type"> <div class="c-account-tile__plan-title" ng-if="$ctrl.tileData.planTitle"> {{ $ctrl.accountData.planTitle }} </div> <div class="body--2"> <div class="max-text-width"> <span ng-if="$ctrl.accountData.plan_type"><strong>{{ $ctrl.accountData.plan_type }}</strong></span> <span ng-if="$ctrl.showPlanNumber && $ctrl.accountData.plan_number"><strong>{{ $ctrl.accountData.plan_number }}</strong></span> </div> </div> </div> <div class="margin__t--fix1" ng-if="$ctrl.tileData.extraTitle || $ctrl.tileData.extraDescription || $ctrl.tileData.extraSubDescription"> <div class="c-account-tile__description body--4" ng-if="$ctrl.tileData.extraTitle"> {{ $ctrl.tileData.extraTitle }} </div> <div class="body--2" ng-if="$ctrl.tileData.extraDescription"> <div class="body max-text-width"> {{ $ctrl.tileData.extraDescription }} </div> </div> <div class="c-account-tile__description max-text-width body--4" ng-if="$ctrl.tileData.extraSubDescription"> {{ $ctrl.tileData.extraSubDescription }} </div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$log=t,this.accountHelpersService=n,this.CURRENCY_TYPES=a.CURRENCY_TYPES,this.ACCOUNT_TYPES=a.ACCOUNT_TYPES,this.tileData&&this.tileData.data?this.accountData=this.tileData.data:this.accountData=this.tileData,this.accountData.TLOC&&(this.accountData.amount=this.accountData.account_balance),this.displayName="",this.displayAmount=this.firstActualNumber([this.accountData.amount,this.accountData.account_balance,this.accountData.available_balance,this.tileData.account_balance,this.tileData.available_balance])}return(0,a.default)(e,[{key:"$onChanges",value:function(){var e=this;this.accountHelpersService.getDisplayName(this.accountData).then((function(t){e.displayName=t})).catch((function(t){e.$log.error("error getting display name:",t)}))}},{key:"showAmount",value:function(){return!this.hideBalance&&(this.tileData&&angular.isNumber(this.tileData.amount)||this.accountData&&(angular.isNumber(this.accountData.available_balance)||angular.isNumber(this.accountData.account_balance))&&this.shouldDisplayCreditCardAmount())}},{key:"firstActualNumber",value:function(e){return e.find((function(e){return!!e||0===e}))}},{key:"shouldDisplayCreditCardAmount",value:function(){return this.accountData.type!==this.ACCOUNT_TYPES.CREDIT_CARD||this.displayAmount>0}},{key:"currencyType",get:function(){return this.accountData.currency_type!==this.CURRENCY_TYPES.CAD?this.accountData.currency_type:""}}]),e}();o.$inject=["$log","AccountHelpersService","accountConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(823)),a=s(n(824));function s(e){return e&&e.__esModule?e:{default:e}}n(825);var o={template:i.default,controller:a.default,bindings:{tileData:"<",shortTile:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-account-tile-rif"> <div class="c-account-tile-rif__description body--4"> {{ $ctrl.tileData.tileDescription | translate }} </div> <div class="body--2" ng-class="{ \'c-account-tile-rif__middle-title\' : $ctrl.shortTile }"> <span class="body"> {{$ctrl.tileData.accountName || $ctrl.displayName }} </span> <span class="margin__l--fix1"> {{ $ctrl.tileData.accountNumber || $ctrl.accountData.display_name || $ctrl.accountData.number | maskNumber }} </span> </div> <div class="body--4"> <span> {{ $ctrl.firstActualNumber([$ctrl.accountData.amount, $ctrl.accountData.available_balance, $ctrl.accountData.account_balance, $ctrl.tileData.account_balance, $ctrl.tileData.available_balance]) | currency }} </span> </div> <div class="body--4 c-account-tile__description"> <div ng-class="{ \'margin__t--fix1\' : !$ctrl.shortTile }"> <span>{{ ::\'clientOnboarding.gic.accountTileRIF.plan\' | translate }}</span> </div> </div> <div class="body--1" ng-class=""> <strong>{{ ::\'clientOnboarding.gic.accountTileRIF.rspGroup\' | translate }} {{ $ctrl.accountData.plan_type }}</strong> <span>{{ $ctrl.accountData.plan_number}}</span> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$log=t,this.accountHelpersService=n,this.CURRENCY_TYPES=a.CURRENCY_TYPES,this.tileData&&this.tileData.data?this.accountData=this.tileData.data:this.accountData=this.tileData,this.displayName=""}return(0,a.default)(e,[{key:"$onChanges",value:function(){var e=this;this.accountHelpersService.getDisplayName(this.accountData).then((function(t){e.displayName=t})).catch((function(t){e.$log.error("error getting display name for account Tile: ",t)}))}},{key:"firstActualNumber",value:function(e){return e.find((function(e){return!!e||0===e}))}},{key:"currencyType",get:function(){return this.accountData.currency_type!==this.CURRENCY_TYPES.CAD?this.accountData.currency_type:""}}]),e}();o.$inject=["$log","AccountHelpersService","accountConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(827)),a=s(n(828));function s(e){return e&&e.__esModule?e:{default:e}}n(829);var o={template:i.default,controller:a.default,bindings:{tileData:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-account-tile-beneficiary"> <div class="c-account-tile-beneficiary__info body--2"> <span><strong>{{ $ctrl.tileData.planDescription }} {{ $ctrl.tileData.planMaskedMFAccountNumber || $ctrl.tileData.planId }}</strong></span> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(t){(0,s.default)(this,e),this.$log=t,this.tileData&&this.tileData.data?this.accountData=this.tileData.data:this.accountData=this.tileData,this.displayName=""};o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(831)),a=s(n(832));function s(e){return e&&e.__esModule?e:{default:e}}n(833);var o={template:i.default,controller:a.default,bindings:{tileData:"<",renderHtml:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-text-tile"> <div class="c-text-tile__description body--4" ng-if="$ctrl.tileData.tileDescription"> {{ $ctrl.tileData.tileDescription | translate }} </div> <h3 class="c-text-tile__header" ng-if="$ctrl.tileData.header"> <span ng-bind-html="$ctrl.tileData.header | translate"></span> <tng-help-bubble ng-if="$ctrl.tileData.helpBubble">{{ $ctrl.tileData.helpBubble | translate }}</tng-help-bubble> </h3> <div class="body--2 margin__t--fix1 c-text-tile__subHeader" ng-if="$ctrl.tileData.subHeader"> <div ng-if="!$ctrl.renderHtml">{{ $ctrl.tileData.subHeader | translate }}</div> <div ng-if="$ctrl.renderHtml" ng-bind-html="$ctrl.tileData.subHeader | translate"></div> </div> <div class="body--2 margin__t--fix1 c-text-tile__date" ng-if="$ctrl.tileData.date"> <div>{{ $ctrl.tileData.date | date }}</div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(){(0,s.default)(this,e)};o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(835);var s={controller:((i=a)&&i.__esModule?i:{default:i}).default,bindings:{customScope:"<",tileData:"<"}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$compile=t,this.$element=n,this.$scope=a}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.$scope.$watch((function(){return e.tileData}),(function(t){e.$element.html(t&&t.toString());var n=e.customScope||e.$scope;e.$compile(e.$element.contents())(n)}))}}]),e}();o.$inject=["$compile","$element","$scope"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(837)),a=s(n(838));function s(e){return e&&e.__esModule?e:{default:e}}n(839);var o={template:i.default,controller:a.default,bindings:{tileData:"<",shortTile:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-date-tile"> <h3 ng-if="!$ctrl.showAccountTile" class="margin__t--fix1 c-date-tile__date" id="date-tile-title"> <span class="c-date-tile__pay-on" ng-hide="$ctrl.isNow"> {{::\'global.commonWords.payOn\' | translate}} </span> {{ $ctrl.formatDate }} </h3> <tng-account-tile ng-if="$ctrl.showAccountTile" short-tile="$ctrl.shortTile" tile-data="$ctrl.tileData"></tng-account-tile> <span class="icon-calendar large c-date-tile__icon"></span> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(39)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s){(0,a.default)(this,e),this.$filter=t,this.$translate=n,this.dateService=i,this.LocaleService=s,this.LocaleService.setMomentLocale(),this.isNow=!1}return(0,s.default)(e,[{key:"$onChanges",value:function(){this.isNow=!1,this.tileData?"string"==typeof this.tileData?(this.isNow=!0,this.formatDate=this.$filter("normalizeType")(this.$translate.instant("global.commonWords.now"))):"calendar"in this.tileData&&"function"==typeof this.tileData.calendar?this.formatDate=this.dateService.convertToFormattedMonthDayYear(this.tileData):this.formatDate="Unknown":this.formatDate=""}},{key:"showAccountTile",get:function(){return"object"===(0,i.default)(this.tileData)&&"tileDescription"in this.tileData&&"nickname"in this.tileData&&"bottomText"in this.tileData}}]),e}();r.$inject=["$filter","$translate","DateService","LocaleService"],t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(841)),a=s(n(842));function s(e){return e&&e.__esModule?e:{default:e}}n(843);var o={template:a.default,controller:i.default,bindings:{tileData:"<",tileIndex:"<?",displayCurrencySign:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.dateConstants=t,this.DateService=n,this.crossCurrency=!1,void 0===this.displayCurrencySign&&(this.displayCurrencySign=!1)}return(0,a.default)(e,[{key:"$onInit",value:function(){this.tileData.selectedDate&&(this.tileData.selectedStartDate=this.DateService.convertToFormattedMonthDayYear(moment(this.tileData.selectedDate))),this.tileData.currency1&&this.tileData.currency2&&this.tileData.currency1!==this.tileData.currency2&&(this.crossCurrency=!0)}}]),e}();o.$inject=["tngDatePickerConstants","DateService"],t.default=o,e.exports=t.default},function(e,t){e.exports=' <div ng-if="$ctrl.tileData.amount1" class="c-amount-tile"> <div class="c-amount-tile__header">{{ \'billPay.amount\' | translate }}</div> <div class="body--2 margin__t--fix1"> <p class="c-amount-tile__amount1"> {{ $ctrl.tileData.amount1 | tngCurrency:$ctrl.tileData.currency1:$ctrl.crossCurrency }} </p> <p class="c-amount-tile__amount2" ng-if="$ctrl.tileData.amount2"> {{ $ctrl.tileData.amount2 | tngCurrency:$ctrl.tileData.currency2:$ctrl.crossCurrency }} </p> </div> </div> <div ng-if="$ctrl.tileData.header && $ctrl.tileData.subHeader"> <strong>{{ $ctrl.tileData.header | translate }}</strong> <p class="body--2" ng-class="{\'c-amount-tile__ongoing-CC\': $ctrl.tileData.isCCOngoing}">{{ $ctrl.tileData.subHeader | translate }}</p> </div> <div ng-if="$ctrl.tileData.header && $ctrl.tileData.amount !== undefined" class="c-amount-tile"> <div class="tileDescriptionHeader"> {{ $ctrl.tileData.header | translate }} </div> <div class="body--callout c-amount-tile__amount"> <h4>{{ $ctrl.tileData.amount | tngCurrency:$ctrl.tileData.currency:$ctrl.displayCurrencySign }}</h4> </div> <div ng-if="$ctrl.tileData.date" class="body--3"> <span ng-if="!$ctrl.tileData.date || $ctrl.tileData.date.calendar() === $ctrl.dateConstants.TODAY.calendar()"> {{ \'global.commonWords.now\' | translate }} </span> <span ng-if="$ctrl.tileData.date.calendar() !== $ctrl.dateConstants.TODAY.calendar()" id="tileData.date.title-{{$ctrl.tileIndex}}"> {{$ctrl.tileData.date | date}} </span> </div> <div ng-if="$ctrl.tileData.frequency" class="body--3"> <span ng-if="!$ctrl.tileData.isInfinite"> {{ (\'global.datePicker.frequencies.\' + $ctrl.tileData.frequency.toLowerCase()) | translate }} {{ \'global.commonWords.from\' | translate }} {{$ctrl.tileData.selectedDate | date}} <div ng-if="$ctrl.tileData.selectionMode!=\'INDEFINITE\'"> {{ \'global.commonWords.until\' | translate }} {{$ctrl.tileData.endDate | date}} </div> </span> <span ng-if="$ctrl.tileData.isInfinite"> {{ (\'global.datePicker.frequencies.\' + $ctrl.tileData.frequency.toLowerCase()) | translate }} {{ \'global.commonWords.starting\' | translate}} {{ $ctrl.tileData.selectedStartDate }} {{\'global.billPay.dateTile.ongoing.continueIndefinitelyLabel\' | translate }} </span> </div> </div> <div ng-if="$ctrl.tileData.header && $ctrl.tileData.percent !== undefined" class="c-amount-tile"> <div class="tileDescriptionHeader"> {{ $ctrl.tileData.header | translate }} </div> <div class="body--callout c-amount-tile__amount"> <h4 ng-bind-html="$ctrl.tileData.percent"></h4> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(845)),a=s(n(846));function s(e){return e&&e.__esModule?e:{default:e}}n(847);var o={template:a.default,controller:i.default,bindings:{tileData:"<",tileIndex:"<?",displayCurrencySign:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.dateConstants=t,this.DateService=n,this.crossCurrency=!1,this.FREQUENCY=a.FREQUENCY_MODE_CONSTANTS}return(0,a.default)(e,[{key:"$onInit",value:function(){switch(this.tileData.selectedDate&&(this.tileData.selectedStartDate=this.DateService.convertToFormattedMonthDayYear(moment(this.tileData.selectedDate))),this.tileData.currency1&&this.tileData.currency2&&this.tileData.currency1!==this.tileData.currency2&&(this.crossCurrency=!0),this.tileData.frequency){case this.FREQUENCY.NONE:this.paymentDateHeader="global.billPay2.amountTile.oneTimePayment",this.isOneTimePay=!0;break;case this.FREQUENCY.WEEKLY:this.paymentDateHeader="billPay.setUpPaymentFrequency.WEEKLY",this.isOneTimePay=!1;break;case this.FREQUENCY.BIWEEKLY:this.paymentDateHeader="billPay.setUpPaymentFrequency.BIWEEKLY",this.isOneTimePay=!1;break;case this.FREQUENCY.MONTHLY:this.paymentDateHeader="billPay.setUpPaymentFrequency.MONTHLY",this.isOneTimePay=!1;break;default:this.paymentDateHeader="global.billPay2.amountTile.oneTimePayment",this.isOneTimePay=!0}}}]),e}();o.$inject=["tngDatePickerConstants","DateService","tngDateSelectorConstants"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-amount-tile-pay-bills"> <div class="c-amount-tile-pay-bills__description body--4"> {{ ::\'global.billPay2.amountTile.amount\' | translate }} </div> <div class="body--callout c-amount-tile-pay-bills__amount"> <h4>{{ $ctrl.tileData.amount | tngCurrency:$ctrl.tileData.currency:$ctrl.displayCurrencySign }}</h4> </div> <div class="c-amount-tile-pay-bills__description body--4 top-margin-small" ng-if="$ctrl.tileData.selectedDate.calendar() !== $ctrl.dateConstants.TODAY.calendar()"> <span ng-if="!$ctrl.isOneTimePay">{{ ::\'billPay.billPayV2.reviewPaymentPage.pay\' | translate }}</span> {{ ::$ctrl.paymentDateHeader | translate }} </div> <div ng-if="$ctrl.isOneTimePay" class="c-amount-tile-pay-bills__date" id="tileData-amount-selectedDate-title-{{$ctrl.tileIndex}}"> {{ ::($ctrl.tileData.selectedDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </div> <div ng-if="!$ctrl.isOneTimePay" class="c-amount-tile-pay-bills__date" id="tileData-amount-selectedDate-title-{{$ctrl.tileIndex}}"> <div> <span>{{ ::\'billPay.billPayV2.reviewPaymentPage.startDate\' | translate }} </span>{{ ::($ctrl.tileData.selectedDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </div> <div ng-if="!$ctrl.tileData.isIndefinitely && $ctrl.tileData.selectedEndDate"> <span>{{ ::\'billPay.billPayV2.reviewPaymentPage.endDate\' | translate }} </span>{{ ::($ctrl.tileData.selectedEndDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </div> </div> <div class="c-amount-tile-pay-bills__description body--4 top-margin-small" ng-if="$ctrl.tileData.selectedDate.calendar() !== $ctrl.dateConstants.TODAY.calendar()"> {{ ::\'global.billPay2.amountTile.sendToBiller\' | translate }} </div> <div class="c-amount-tile-pay-bills__billerName" id="tileData-amount-name-title-{{$ctrl.tileIndex}}"> {{ $ctrl.tileData.nickname || $ctrl.tileData.name}} </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(849)),a=s(n(850));function s(e){return e&&e.__esModule?e:{default:e}}n(851);var o={template:a.default,controller:i.default,bindings:{tileData:"<",tileIndex:"<?",displayCurrencySign:"<?",goToManageBills:"&?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=o(n(45));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,s){(0,i.default)(this,e),this.dateConstants=t,this.DateService=n,this.EnvironmentService=a,this.crossCurrency=!1,void 0===this.displayCurrencySign&&(this.displayCurrencySign=!1),this.FREQUENCY=s.FREQUENCY_MODE_CONSTANTS,this.dateSelectorFrequencies=[{value:this.FREQUENCY.NONE,name:"billPay.setUpPaymentFrequency.ONCE"},{value:this.FREQUENCY.WEEKLY,name:"billPay.setUpPaymentFrequency.WEEKLY"},{value:this.FREQUENCY.BIWEEKLY,name:"billPay.setUpPaymentFrequency.BIWEEKLY"},{value:this.FREQUENCY.MONTHLY,name:"billPay.setUpPaymentFrequency.MONTHLY"}],this.dateSelectorFrequenciesWithoutOneTime=[{value:this.FREQUENCY.WEEKLY,name:"billPay.setUpPaymentFrequency.WEEKLY"},{value:this.FREQUENCY.BIWEEKLY,name:"billPay.setUpPaymentFrequency.BIWEEKLY"},{value:this.FREQUENCY.MONTHLY,name:"billPay.setUpPaymentFrequency.MONTHLY"}]}return(0,a.default)(e,[{key:"$onInit",value:function(){switch(this.hasConfirmationCode=Boolean(this.tileData.confirmation_code),this.tileData.currency1&&this.tileData.currency2&&this.tileData.currency1!==this.tileData.currency2&&(this.crossCurrency=!0),this.tileData.frequency){case this.FREQUENCY.WEEKLY:this.paymentDateHeader="billPay.billPayV2.allDonePageFrequency.WEEKLY",this.isOneTimePay=!1;break;case this.FREQUENCY.BIWEEKLY:this.paymentDateHeader="billPay.billPayV2.allDonePageFrequency.BIWEEKLY",this.isOneTimePay=!1;break;case this.FREQUENCY.MONTHLY:this.paymentDateHeader="billPay.billPayV2.allDonePageFrequency.MONTHLY",this.isOneTimePay=!1;break;default:this.paymentDateHeader="billPay.billPayV2.allDonePageFrequency.ONCE",this.isOneTimePay=!0}}},{key:"momentToJsDate",value:function(e){return(0,s.default)(e).toDate()}},{key:"applyIEFix",get:function(){return this.EnvironmentService.isIE()}}]),e}();r.$inject=["tngDatePickerConstants","DateService","EnvironmentService","tngDateSelectorConstants"],t.default=r,e.exports=t.default},function(e,t){e.exports='<div class="payment-details"> <div class="details"> <div class="row column-reverse"> <div class="payment-field right-col" ng-if="$ctrl.hasConfirmationCode"> <div> <span id="confirmation-number-{{$ctrl.tileIndex}}" class="confirmation-number"> {{ ::\'billPay.multipleBP.confirmationNumber\' | translate }} </span> <b class="confirm-info">{{ ::$ctrl.tileData.confirmation_code }}</b> </div> </div> <div class="payment-field" ng-class="$ctrl.hasConfirmationCode ? \'mid-col\' : \'two-cols\'"> <div> <span id="account-number-{{$ctrl.tileIndex}}" class="account-number"> {{ ::\'billPay.billPayV2.account\' | translate }} </span> <b class="confirm-info">{{ ::$ctrl.tileData.account_number }}</b> </div> </div> <div class="payment-field" ng-class="$ctrl.hasConfirmationCode ? \'left-col\' : \'two-cols\'"> <div> <span id="start-date-{{$ctrl.tileIndex}}" class="start-date"> {{ ::$ctrl.paymentDateHeader | translate }} </span> <b class="confirm-info"> <span ng-if="$ctrl.isOneTimePay" id="tileData-amount-selectedDate-title-{{$ctrl.tileIndex}}"> {{ ::($ctrl.tileData.selectedDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> <span ng-if="!$ctrl.isOneTimePay" id="tileData-amount-selectedDate-title-{{$ctrl.tileIndex}}"> <span> {{ ::($ctrl.tileData.selectedDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> <span ng-if="!$ctrl.tileData.isIndefinitely && $ctrl.tileData.selectedEndDate"> - {{ ::($ctrl.tileData.selectedEndDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> </span> </b> </div> </div> </div> <div class="row"> <div class="payment-field two-cols"> <span>{{ ::\'billPay.billPayV2.amount\' | translate }}</span> <b class="orange">{{ ::$ctrl.tileData.amount | tngCurrency:$ctrl.tileData.currency }}</b> </div> <div class="payment-field two-cols"> <span>{{ ::\'billPay.billPayV2.payDetails.payee\' | translate }}</span> <b class="orange">{{ ::$ctrl.tileData.name }}</b> </div> </div> <div class="row" ng-if="$ctrl.tileData.showRemoveOldCreditCardReminder"> <div class="payment-field warning-message"> <span class="icon-warning cc-warning"></span> <span><b>{{ ::\'billPay.billPayV2.removeOldCreditCardReminder.header\' | translate }}</b></span> <p class="warning-message" translate="billPay.billPayV2.removeOldCreditCardReminder.message"></p> </div> </div> </div> </div> <div ng-if="!$ctrl.applyIEFix" class="all-done-details-print"> <table> <tr ng-if="!$ctrl.hasConfirmationCode"> <td colspan="3">{{ ::\'billPay.billPayV2.account\' | translate }}<br> <b class="confirm-info">{{ ::$ctrl.tileData.account_number }}</b> </td> <td colspan="3">{{ ::$ctrl.paymentDateHeader | translate }}<br> <b class="confirm-info"> <span ng-if="$ctrl.isOneTimePay"> {{ ::($ctrl.tileData.selectedDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> <span ng-if="!$ctrl.isOneTimePay"> <span> {{ ::($ctrl.tileData.selectedDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> <span ng-if="!$ctrl.tileData.isIndefinitely && $ctrl.tileData.selectedEndDate"> - {{ ::($ctrl.tileData.selectedEndDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> </span> </b> </td> </tr> <tr ng-if="$ctrl.hasConfirmationCode"> <td colspan="2">{{ ::$ctrl.paymentDateHeader | translate }}<br> <b class="confirm-info"> <span ng-if="$ctrl.isOneTimePay"> {{ ::($ctrl.tileData.selectedDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> <span ng-if="!$ctrl.isOneTimePay"> <span> {{ ::($ctrl.tileData.selectedDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> <span ng-if="!$ctrl.tileData.isIndefinitely && $ctrl.tileData.selectedEndDate"> - {{ ::($ctrl.tileData.selectedEndDate.endOf(\'day\').toDate() | date:\'dd MMM yyyy\') }} </span> </span> </b> </td> <td colspan="2">{{ ::\'billPay.billPayV2.account\' | translate }}<br> <b class="confirm-info">{{ ::$ctrl.tileData.account_number }}</b> </td> <td colspan="2"> {{ ::\'billPay.multipleBP.confirmationNumber\' | translate }}<br> <b class="confirm-info">{{ ::$ctrl.tileData.confirmation_code }}</b> </td> </tr> <tr> <td colspan="3"> {{ ::\'billPay.billPayV2.amount\' | translate }}<br> <h1>{{ ::$ctrl.tileData.amount | tngCurrency:$ctrl.tileData.currency }}</h1> </td> <td colspan="3">{{ ::\'billPay.billPayV2.payDetails.payee\' | translate }}<br> <h1>{{ ::$ctrl.tileData.name }}</h1> </td> </tr> <tr ng-if="$ctrl.tileData.showRemoveOldCreditCardReminder"> <td colspan="6" class="warning-message"> <span class="icon-warning cc-warning"></span> <span><b>{{ ::\'billPay.billPayV2.removeOldCreditCardReminder.header\' | translate }}</b></span> <p class="warning-message" ng-bind-html="::\'billPay.billPayV2.removeOldCreditCardReminder.printMessage\' | translate"></p> </td> </tr> </table> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(853)),a=s(n(854));function s(e){return e&&e.__esModule?e:{default:e}}n(855);var o={template:i.default,controller:a.default,bindings:{tileData:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-effective-date-tile"> <div class="c-effective-date-tile__date"> <div class="body--4 c-account-tile__description"> {{ $ctrl.tileData.tileDescription | translate }} </div> <div class="body--2 margin__t--fix1"> <p> <span ng-if="$ctrl.tileData.label" ng-bind-html="$ctrl.tileData.label | translate"> </span> <span ng-if="!$ctrl.tileData.toBeIssued"> {{ $ctrl.tileData.date ? $ctrl.tileData.date : "" }} </span> <span ng-if="$ctrl.tileData.toBeIssued"> {{\'clientOnboarding.wrapUp.cc.toBeIssued\' | translate}} </span> </p> </div> </div> <span class="icon-calendar large c-effective-date-tile__icon"></span> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(t){(0,s.default)(this,e),this.effectiveDateDisplayFormat=t.DISPLAY_FORMATS.longForm};o.$inject=["tngDatePickerConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(857)),a=s(n(858));function s(e){return e&&e.__esModule?e:{default:e}}n(859);var o={template:i.default,controller:a.default,bindings:{tileData:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-term-option-tile"> <p class="body--4 c-account-tile__description">{{ $ctrl.tileData.header }}</p> <h4 ng-if="$ctrl.tileData.subHeader">{{ $ctrl.tileData.subHeader }}</h4> <h2 class="tangerine" ng-if="$ctrl.tileData.amount"> {{ $ctrl.tileData.amount | currency}} <span ng-if="$ctrl.tileData.USD">{{ ::\'global.currencies.USD\' | translate }}</span> </h2> <h3 ng-if="$ctrl.tileData.USD"> {{ $ctrl.tileData.cadAmount | currency}} <span>{{ ::\'global.currencies.CAD\' | translate }}</span> </h3> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(t){(0,s.default)(this,e),this.$log=t};o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(861)),a=s(n(862));function s(e){return e&&e.__esModule?e:{default:e}}n(863);var o={template:i.default,controller:a.default,bindings:{tileData:"<",inlineAddress:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-address-tile"> <div class="c-text-tile__description body--4" ng-if="$ctrl.tileData.tileDescription"> {{ $ctrl.tileData.tileDescription | translate }} </div> <h2 ng-if="$ctrl.tileData.header">{{ $ctrl.tileData.header | translate }}</h2> <div class="body--2" ng-if="$ctrl.tileData.address_title"> <p>{{ $ctrl.tileData.address_title }}</p> </div> <div ng-if="!$ctrl.inlineAddress"> <div class="body--2"> <p><span ng-if="$ctrl.tileData.suite">{{ $ctrl.tileData.suite }}-</span>{{ $ctrl.tileData.address_line1}}</p> </div> <div ng-if="$ctrl.tileData.address_line2" class="body--2 margin__t--fix1"> <p>{{ $ctrl.tileData.address_line2 }}</p> </div> <div class="body--2 margin__t--fix1"> <p>{{ $ctrl.tileData.city }}, {{ $ctrl.tileData.province }}</p> </div> <div class="body--2 margin__t--fix1"> <p>{{ $ctrl.tileData.postal_code}}</p> </div> <div ng-if="$ctrl.tileData.country !== \'CA\'" class="body--2 margin__t--fix1"> <p>{{ $ctrl.tileData.country}}</p> </div> </div> <div ng-if="$ctrl.inlineAddress" class="c-address-tile__inline-container body--2"> <span ng-if="$ctrl.tileData.suite">{{ $ctrl.tileData.suite }}-</span> <span>{{ $ctrl.tileData.address_line1}}, </span> <span ng-if="$ctrl.tileData.address_line2">{{ $ctrl.tileData.address_line2 }}, </span> <span>{{ $ctrl.tileData.city }}, </span> <span>{{ $ctrl.tileData.province }} </span> <span>{{ $ctrl.tileData.postal_code}} </span> <span ng-if="$ctrl.tileData.country !== \'CA\' && $ctrl.tileData.country !== \'Canada\'">{{ $ctrl.tileData.country}}</span> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(){(0,s.default)(this,e)};o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(865)),a=s(n(866));function s(e){return e&&e.__esModule?e:{default:e}}n(867);var o={template:i.default,controller:a.default,bindings:{tileData:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-external-tile"> <div class="c-external-tile__description body--4"> {{ $ctrl.tileData.tileDescription | translate }} </div> <div class="body--2 c-external-tile__middle-title"> <span class="body"> {{$ctrl.tileData.externalName }} </span> <span class="margin__l--fix1"> {{ $ctrl.tileData.externalNumber }} </span> </div> <div class="body--4"> <span> {{ $ctrl.tileData.externalAddress }} </span> </div> <div ng-if="$ctrl.tileData.planNumber && $ctrl.tileData.planNumber != \'\'"> <div class="c-external-tile__description--secondary body--4"> {{ $ctrl.tileData.planDescription | translate}} </div> <div class="body--2 c-external-tile__middle-title"> <span class="body"> {{ $ctrl.tileData.planNumber }} </span> </div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(){(0,s.default)(this,e)};o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(869)),a=s(n(870));function s(e){return e&&e.__esModule?e:{default:e}}n(871);var o={template:i.default,controller:a.default,bindings:{tileData:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-start-end-date-tile"> <div class="c-start-end-date-tile__description body--4"> {{ $ctrl.tileData.tileDescription | translate }} </div> <h3> <span class="body"> {{ $ctrl.tileData.startDatelabel | translate }} </span> <span> {{ $ctrl.tileData.startDate | date: \'longDate\' }} </span> </h3> <div ng-if="$ctrl.tileData.endDate" class="body--4 top-margin-small"> <span> {{ $ctrl.tileData.endDatelabel | translate }} </span> <span> {{ $ctrl.tileData.endDate | date: \'longDate\' }}* </span> </div> </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=o(n(45));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n){(0,i.default)(this,e),this.startEndDateDisplayFormat=t.DISPLAY_FORMATS.longForm,this.dateService=n}return(0,a.default)(e,[{key:"$onInit",value:function(){this.tileData.startDate&&this.tileData.startDate instanceof s.default&&(this.tileData.startDate=this.dateService.momentToServerFormat(this.tileData.startDate)),this.tileData.endDate&&this.tileData.endDate instanceof s.default&&(this.tileData.endDate=this.dateService.momentToServerFormat(this.tileData.endDate))}}]),e}();r.$inject=["tngDatePickerConstants","DateService"],t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(873)),a=s(n(874));function s(e){return e&&e.__esModule?e:{default:e}}n(875);var o={template:i.default,controller:a.default,bindings:{tileData:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-goal-tile"> <div ng-if="$ctrl.isGoalTileType($ctrl.GOAL_TILE_TYPE.goal)" ng-class="{\'c-goal-tile--image\' : $ctrl.tileData.goalImageUrl}" ng-style="{\'background-image\':\'url(\' + $ctrl.tileData.goalImageUrl + \')\'}" translate-cloak> <div class="c-goal-tile__overlay" ng-if="$ctrl.tileData.goalImageUrl"></div> <div class="c-goal-tile__content"> <div class="content-section"> <div class="c-goal-tile__description body--4" ng-if="$ctrl.tileData.tileDescription"> {{ $ctrl.tileData.tileDescription | translate }} </div> <h3 ng-if="$ctrl.tileData.bodyData" ng-class="{ \'c-goal-tile__middle-title\':  !$ctrl.tileData.footerData}"> <div class="body" ng-if="$ctrl.tileData.bodyData.goalName"> {{ $ctrl.tileData.bodyData.goalName | translate }} </div> <div class="body" ng-if="$ctrl.tileData.bodyData.line1"> {{ $ctrl.tileData.bodyData.line1 | translate }} </div> <div class="body" ng-if="$ctrl.tileData.bodyData.line2"> {{ $ctrl.tileData.bodyData.line2 | translate }} </div> </h3> <div ng-if="$ctrl.tileData.footerData" class="body--4 top-margin-small"> <div ng-if="$ctrl.tileData.footerData.targetAmount" ng-bind-html="$ctrl.tileData.footerData.targetAmount | currency"> </div> <div ng-if="$ctrl.tileData.footerData.line1" ng-bind-html="$ctrl.tileData.footerData.line1 | translate"> </div> <div ng-if="$ctrl.tileData.footerData.line2" ng-bind-html="$ctrl.tileData.footerData.line2 | translate"> </div> </div> </div> <div ng-if="$ctrl.tileData.goalStatus" class="c-tile__arrow large c-goal-tile__arrow body--4" ng-class="{ \'c-goal-tile__arrow--middle-title\':  !$ctrl.tileData.footerData}"> {{ $ctrl.tileData.goalStatus | translate }}</div> <div class="c-tile__arrow icon-rightarrow large c-goal-tile__arrow" ng-class="{ \'c-goal-tile__arrow--middle-title\':  !$ctrl.tileData.footerData}"></div> </div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.log=t,this.GOAL_TILE_TYPE=n.GOAL_TILE_TYPE}return(0,a.default)(e,[{key:"$onInit",value:function(){this.tileData.goalTileType||(this.tileData.goalTileType=this.GOAL_TILE_TYPE.goal)}},{key:"isGoalTileType",value:function(e){return e===this.tileData.goalTileType}}]),e}();o.$inject=["$log","tngTileListConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(877)),a=s(n(878));function s(e){return e&&e.__esModule?e:{default:e}}n(879);var o={template:i.default,controller:a.default,bindings:{tileData:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div ng-if="$ctrl.tileData.iconClass" class="cell-image"> <span class="icon-circle {{::$ctrl.tileData.iconClass | translate}}"></span> </div> <div class="c-delivery-options--right"> <div class="c-delivery-options__description body--4" ng-if="$ctrl.tileData.tileDescription"> {{ $ctrl.tileData.tileDescription | translate }} </div> <h3 class="c-delivery-options__header" ng-if="$ctrl.tileData.header"> <span ng-bind-html="$ctrl.tileData.header | translate"></span> <tng-help-bubble ng-if="$ctrl.tileData.helpBubble">{{ $ctrl.tileData.helpBubble | translate }}</tng-help-bubble> </h3> <div class="body--2 margin__t--fix1 c-delivery-options__subHeader" ng-if="$ctrl.tileData.subHeader"> <div>{{ $ctrl.tileData.subHeader | translate }}</div> </div> <div class="body--2 margin__t--fix1 c-delivery-options__date" ng-if="$ctrl.tileData.date"> <div>{{ $ctrl.tileData.date | date }}</div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(){(0,s.default)(this,e)};o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(881)),a=s(n(882));function s(e){return e&&e.__esModule?e:{default:e}}n(883);var o={template:a.default,controller:i.default,bindings:{tileData:"<"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.log=t}return(0,a.default)(e,[{key:"$onInit",value:function(){}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-investment-fund-review-tile"> <div ng-repeat="tile in $ctrl.tileData track by $index"> <div class="c-investment-fund-review-tile__description body--4" ng-if="tile.header" ng-class="{\'top-margin-medium\' : $index > 0}"> {{ tile.header | translate }} </div> <h3 ng-if="tile.bodyData"> <div class="body c-investment-fund-review-tile__amount" ng-if="tile.bodyData.line1 && tile.section === \'AMOUNT\'"> {{ tile.bodyData.line1 | translate }} </div> <div class="body" ng-if="tile.bodyData.line1 && tile.section !== \'AMOUNT\'"> {{ tile.bodyData.line1 | translate }} </div> </h3> <div ng-if="tile.footerData" class="body--4"> <div ng-if="tile.footerData.line1"> {{ tile.footerData.line1 }} </div> </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={TILE_TYPE:{account:"account",amount:"amount",review:"review",confirmPaymentPayBill:"confirmPaymentPayBill",date:"date",parseHtml:"parseHtml",text:"text",effectiveDate:"effectiveDate",accountRIF:"accountRIF",accountBeneficiary:"accountBeneficiary",termOption:"termOption",address:"address",externalAccount:"externalAccount",startEndDate:"startEndDate",goal:"goal",deliveryOption:"deliveryOption",investmentFundReview:"investmentFundReview"},GOAL_TILE_TYPE:{goal:"goal"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return function(){function e(t,n,a){(0,i.default)(this,e),this.top=t,this.middle=n,this.bottom=a}return(0,a.default)(e,[{key:"toAccountTileObject",value:function(){return{tileDescription:this.top,nickname:this.middle,bottomText:this.bottom}}}]),e}()}o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(887)),a=s(n(888));function s(e){return e&&e.__esModule?e:{default:e}}n(889);var o={template:a.default,controller:i.default,transclude:!0,bindings:{messageOnly:"<?",messageTitle:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(){(0,s.default)(this,e)};o.$inject=[],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-error-message panel"> <p class="heading--sub2" ng-if="!$ctrl.messageOnly">{{ $ctrl.messageTitle || \'global.errorMessage.title\' | translate }}</p> <p ng-transclude></p> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(891)),a=s(n(892));function s(e){return e&&e.__esModule?e:{default:e}}n(893);var o={template:i.default,controller:a.default,transclude:!0};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-loading-spinner"> <div class="c-loading-spinner__container"> <div class="c-loading-spinner__spinner"> </div> <div class="c-loading-spinner__text" ng-transclude></div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(){(0,s.default)(this,e)};o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(895)),a=s(n(896));function s(e){return e&&e.__esModule?e:{default:e}}n(897);var o={controller:i.default,template:a.default,bindings:{isLoadingKey:"@?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t}return(0,a.default)(e,[{key:"$onInit",value:function(){this.$log.debug("in progress controller $onInit",this.isLoadingKey),this.isLoadingKey=this.isLoadingKey||"global.commonWords.loading"}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-loading-in-progress loading-container__is-loading"> <div class="c-loading-in-progress__loader"></div> <div class="c-loading-in-progress__label"> {{ $ctrl.isLoadingKey | translate }} </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(899)),a=s(n(900));function s(e){return e&&e.__esModule?e:{default:e}}n(903);var o={template:i.default,controller:a.default};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-loading-in-progress global-loader" ng-if="$ctrl.showGlobalLoader"> <div class="c-loading-in-progress__loader"></div> <div class="global-loader__text"> <div class="c-loading-in-progress__label"> {{ \'global.commonWords.loading\' | translate }} </div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(365)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s){(0,a.default)(this,e),this.$scope=t,this.$log=n,this.$timeout=i,this.ROUTE_PROMISE_WITH_LOADER=s.ROUTING_BUNDLE_WITH_INDICATOR,this.TIME_OUT_IN_SECONDS=10,this.showGlobalLoader=!1}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.$scope.$on("$stateChangeStart",(function(t,n){return e.checkTargetStatePromises(n.resolve)})),this.$scope.$on("$stateChangeSuccess",(function(){return e.hide()}))}},{key:"hide",value:function(){this.showGlobalLoader=!1}},{key:"show",value:function(){var e=this;this.showGlobalLoader=!0,this.$timeout((function(){e.showGlobalLoader=!1,e.$log.debug("DB - globalLoader time out registerCount: "+e.registerCount)}),1e3*this.TIME_OUT_IN_SECONDS)}},{key:"checkTargetStatePromises",value:function(e){var t=this;e&&((0,i.default)(e).some((function(e){return t.ROUTE_PROMISE_WITH_LOADER.indexOf(e.name)>-1}))&&this.show())}}]),e}();r.$inject=["$scope","$log","$timeout","bundleConstants"],t.default=r,e.exports=t.default},,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(905)),a=s(n(906));function s(e){return e&&e.__esModule?e:{default:e}}n(907);var o={controller:i.default,template:a.default,bindings:{loadingDoneKey:"@?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t}return(0,a.default)(e,[{key:"$onInit",value:function(){this.$log.debug("in progress controller $onInit",this.loadingDoneKey),this.loadingDoneKey=this.loadingDoneKey||"global.commonWords.success"}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-loading-done loading-container__done-loading"> <div class="icon icon--loading-done"> <span class="icon-complete2"></span> </div> <p class="c-loading-done__label"> {{::$ctrl.loadingDoneKey | translate }} </p> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(909)),a=s(n(910));function s(e){return e&&e.__esModule?e:{default:e}}n(911);var o={template:i.default,controller:a.default,require:{form:"?^"},bindings:{inputId:"@",decimalPlaces:"<?",max:"<?",maxValidationMessage:"@?",maxDecimalValidationMessage:"@?",min:"<?",minValidationMessage:"@?",numberValidationMessage:"@?",placeholder:"@?",simpleHeader:"@?",simpleSubHeader:"@?",tngBlur:"&?",tngChange:"&?",tngDisabled:"<?",tngMaxlength:"<?",tngModel:"=",tngRequired:"<?",validationOrder:"@?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-numeric-input-field"> <div class="tng-input-label-container" ng-if="$ctrl.simpleHeader || $ctrl.simpleSubHeader"> <label for="{{$ctrl.inputId}}"> <div class="header" id="{{$ctrl.inputId}}_label" ng-if="$ctrl.simpleHeader">{{$ctrl.simpleHeader}} </div> <div class="sub-header" ng-if="$ctrl.simpleSubHeader">{{$ctrl.simpleSubHeader}} </div> </label> </div> <input actionable-id="{{::$ctrl.inputId}}" class="input" max="{{$ctrl.max}}" min="{{$ctrl.min}}" ng-blur="$ctrl.tngBlur({ newValue: $ctrl.tngModel })" ng-class="{\n      \'warning\': $ctrl.form\n        && !$ctrl.form[$ctrl.inputId].$valid\n        && $ctrl.form[$ctrl.inputId].$touched,\n    }" ng-change="$ctrl.tngChange({ newValue: $ctrl.tngModel })" ng-disabled="$ctrl.tngDisabled" ng-maxlength="$ctrl.tngMaxlength" ng-model="$ctrl.tngModel" ng-required="$ctrl.tngRequired" ng-pattern="$ctrl.decimalPattern" numeric-input numeric-input-disable="{{!!$ctrl.decimalPlaces}}" placeholder="{{$ctrl.placeholder}}" type="number" validation-order="{{$ctrl.validationOrder}}" autocomplete="tng-numeric-input"/> <div ng-messages="$ctrl.form[$ctrl.inputId].$error" ng-show="$ctrl.form[$ctrl.inputId].$invalid && $ctrl.form[$ctrl.inputId].$touched" class="field__error"> <p ng-message="required"> {{::\'global.validation.required\' | translate}} </p> <p ng-message="min"> <span ng-if="$ctrl.minValidationMessage">{{::$ctrl.minValidationMessage}}</span> <span ng-if="!$ctrl.minValidationMessage">{{::\'global.validation.numberBetweenMinAndMax\' | translate: { min: $ctrl.min, max: $ctrl.max } }}</span> </p> <p ng-message="max"> <span ng-if="$ctrl.maxValidationMessage">{{::$ctrl.maxValidationMessage}}</span> <span ng-if="!$ctrl.maxValidationMessage">{{::\'global.validation.numberBetweenMinAndMax\' | translate: { min: $ctrl.min, max: $ctrl.max } }}</span> </p> <p ng-message="maxlength"> {{::\'global.validation.maxlength\' | translate: { max: $ctrl.tngMaxlength } }} </p> <p ng-message="number"> <span ng-if="$ctrl.numberValidationMessage">{{::$ctrl.numberValidationMessage}}</span> <span ng-if="!$ctrl.numberValidationMessage">{{::\'global.validation.numberInvalid\' | translate}}</span> </p> <p ng-message="pattern"> <span ng-if="$ctrl.maxDecimalValidationMessage">{{::$ctrl.maxDecimalValidationMessage}}</span> <span ng-if="!$ctrl.maxDecimalValidationMessage">{{::\'global.validation.numberWithMaxDecimals\' | translate: { decimals: $ctrl.decimalPlaces } }}</span> </p> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t}return(0,a.default)(e,[{key:"$onChanges",value:function(e){"decimalPlaces"in e&&this._setPattern()}},{key:"_setPattern",value:function(){this.decimalPlaces?this.decimalPattern=new RegExp("^[0-9]*(.[0-9]{1,"+this.decimalPlaces+"})?$"):this.decimalPattern=null}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(913),s=(i=a)&&i.__esModule?i:{default:i};n(914);var o={template:s.default,controller:function(){},bindings:{flowService:"<",asFooterBar:"@?",disableWhenLoading:"<?",accessibilityOn:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div ng-class="{\'c-page-flow-controls__footer-bar\': $ctrl.asFooterBar}"> <div ng-class="{\'c-page-flow-controls__footer-bar__container\': $ctrl.asFooterBar}"> <div class="c-page-flow-controls" ng-if="!$ctrl.flowService.showConfirmExitUI" ng-class="{\'c-page-flow-controls__footer-bar__buttons\': $ctrl.asFooterBar}"> <button actionable-id="{{$ctrl.flowService.currentFlow.getButtonId($ctrl.flowService.BUTTONS.BTN_GRY.type.label)}}" watch-actionable-id="true" class="btn btn--edit" ng-class="{ \'tangerine-accessible\' : $ctrl.accessibilityOn }" ng-show="$ctrl.flowService.currentFlow.BUTTONS.BTN_GRY.show" ng-disabled="$ctrl.flowService.currentFlow.BUTTONS.BTN_GRY.disable || ($ctrl.disableWhenLoading && $ctrl.flowService.inLoadingMode)" ng-click="$ctrl.flowService.currentFlow.onButtonClick($ctrl.flowService.currentFlow.BUTTONS.BTN_GRY)"> {{ $ctrl.flowService.currentFlow.BUTTONS.BTN_GRY.type.label | translate }} </button> <button actionable-id="{{$ctrl.flowService.currentFlow.getButtonId($ctrl.flowService.BUTTONS.BTN_ORG.type.label)}}" watch-actionable-id="true" class="btn btn--orange" ng-class="{\'CB_ReadOnly\': $ctrl.flowService.CB_DISABLED_BUTTONS.includes($ctrl.flowService.BUTTONS.BTN_ORG.type), \'tangerine-accessible\' : $ctrl.accessibilityOn}" ng-show="$ctrl.flowService.currentFlow.BUTTONS.BTN_ORG.show" ng-disabled="$ctrl.flowService.currentFlow.BUTTONS.BTN_ORG.disable || ($ctrl.disableWhenLoading && $ctrl.flowService.inLoadingMode)" ng-click="$ctrl.flowService.currentFlow.onButtonClick($ctrl.flowService.currentFlow.BUTTONS.BTN_ORG)"> {{ $ctrl.flowService.currentFlow.BUTTONS.BTN_ORG.type.label | translate }} </button> <button actionable-id="{{$ctrl.flowService.currentFlow.getButtonId($ctrl.flowService.BUTTONS.BTN_RED.type.label)}}" watch-actionable-id="true" class="btn btn--warn" ng-class="{ \'tangerine-accessible\' : $ctrl.accessibilityOn }" ng-show="$ctrl.flowService.currentFlow.BUTTONS.BTN_RED.show" ng-disabled="$ctrl.flowService.currentFlow.BUTTONS.BTN_RED.disable || ($ctrl.disableWhenLoading && $ctrl.flowService.inLoadingMode)" ng-click="$ctrl.flowService.currentFlow.onButtonClick($ctrl.flowService.currentFlow.BUTTONS.BTN_RED)"> {{ $ctrl.flowService.currentFlow.BUTTONS.BTN_RED.type.label | translate }} </button> </div> <div class="c-page-flow-controls" ng-if="$ctrl.flowService.showConfirmExitUI" ng-class="{\'c-page-flow-controls__footer-bar__buttons\': $ctrl.asFooterBar}"> <button actionable-id="page-flow-controls-deny" class="btn btn--edit" ng-click="$ctrl.flowService.denyExit()" ng-disabled="($ctrl.disableWhenLoading && $ctrl.flowService.inLoadingMode)"> {{ ::\'global.pageFlow.buttons.noBack\' | translate }} </button> <button actionable-id="page-flow-controls-allow" class="btn" ng-click="$ctrl.flowService.allowExit()" ng-disabled="($ctrl.disableWhenLoading && $ctrl.flowService.inLoadingMode)"> {{ ::\'global.pageFlow.buttons.yesCancel\' | translate }} </button> </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(916),s=(i=a)&&i.__esModule?i:{default:i};n(917);var o={template:s.default,controller:function(){},bindings:{flowService:"<",buttons:"<"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div ng-if="$ctrl.flowService.showConfirmExitUI" class="btn__row"> <button actionable-id="page-flow-footer-btn-deny" class="btn btn--edit" ng-click="$ctrl.flowService.denyExit()"> {{ ::\'global.pageFlow.buttons.noBack\' | translate }} </button> <button actionable-id="page-flow-footer-btn-allow" class="btn btn--tangerine" ng-click="$ctrl.flowService.allowExit()"> {{ ::\'global.pageFlow.buttons.yesCancel\' | translate }} </button> </div> <div ng-if="!$ctrl.flowService.showConfirmExitUI" class="btn__row c-page-flow-dialog-footer__buttons"> <button actionable-id="{{$ctrl.flowService.currentFlow.getButtonId(button.label)}}" watch-actionable-id="true" ng-repeat="button in $ctrl.buttons" class="btn" ng-class="{\n      \'btn--edit\': (button.isDisabled && button.isDisabled()),\n      \'btn--prev\': (button.isBack || button.isCancel),\n      \'btn--warn\': button.isDelete}" ng-click="button.click()" ng-disabled="(button.isDisabled && button.isDisabled()) || $ctrl.flowService.inLoadingMode"> {{ button.label | translate }} </button> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(919)),a=s(n(920));function s(e){return e&&e.__esModule?e:{default:e}}n(921);var o={template:i.default,controller:a.default,bindings:{height:"@",color:"@",width:"<",secondWidth:"<",secondColor:"@",thirdWidth:"<?",thirdColor:"@",achieved:"<?",noImage:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports="<div class=\"c-progress-bar__wrapper\" ng-style=\"{'height': $ctrl.height + 'px'}\"> <div class=\"c-progress-bar__bar c-progress-bar__bar--lighter\" ng-show=\"$ctrl.secondWidth\" ng-style=\"{\n      'width': $ctrl.secondWidth + '%',\n      'background-color': $ctrl.getSecondColor(),\n      'height': $ctrl.height + 'px'\n    }\"> </div> <div class=\"c-progress-bar__bar c-progress-bar__bar--darker\" ng-show=\"$ctrl.thirdWidth\" ng-style=\"{\n      'width': $ctrl.thirdWidth + '%',\n      'background-color': $ctrl.getThirdColor(),\n      'height': $ctrl.height + 'px'\n    }\"> </div> <div class=\"c-progress-bar__bar c-progress-bar__bar--darker\" ng-class=\"{\n      'first-portion': $ctrl.thirdWidth && !$ctrl.achieved,\n      'first-portion-achieved': $ctrl.thirdWidth && $ctrl.achieved && !$ctrl.noImage,\n      'first-portion-achieved-no-image': $ctrl.thirdWidth && $ctrl.achieved && $ctrl.noImage,\n    }\" ng-style=\"{\n      'width':  $ctrl.width + '%',\n      'background-color': $ctrl.color,\n      'height': $ctrl.height + 'px'\n    }\"> </div> </div> "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t}return(0,a.default)(e,[{key:"getSecondColor",value:function(){return this.secondColor?this.secondColor:this.color}},{key:"getThirdColor",value:function(){return this.thirdColor?this.thirdColor:this.color}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(923);var i,a=n(924);var s={template:((i=a)&&i.__esModule?i:{default:i}).default,controller:function(){},transclude:{footer:"?footer"},require:{ngModel:"?ngModel"},bindings:{ngDisabled:"<"}};t.default=s,e.exports=t.default},function(e,t,n){},function(e,t){e.exports='<div class="c-tile__item" ng-init="$ctrl.c_tile_hover = false" ng-class="{\'c-tile__item--hover\' : $ctrl.c_tile_hover}" ng-disabled="$ctrl.ngDisabled" ng-mouseenter="$ctrl.c_tile_hover = true" ng-mouseleave="$ctrl.c_tile_hover = false" ng-transclude></div> <div class="c-tile--footer" ng-transclude="footer"> </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(926)),a=s(n(927));function s(e){return e&&e.__esModule?e:{default:e}}n(928);var o={template:a.default,controller:i.default,transclude:!0,bindings:{warningTitle:"<?",messageOnly:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"$onInit",value:function(){this._setTitle()}},{key:"_setTitle",value:function(){this.title="global.warningMessage.title",this.warningTitle&&(this.title=this.warningTitle)}}]),e}();o.$inject=[],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-warning-message panel"> <p class="heading--sub2" ng-if="!$ctrl.messageOnly">{{ $ctrl.title | translate }}</p> <p ng-transclude></p> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(930)),a=s(n(931));function s(e){return e&&e.__esModule?e:{default:e}}n(932);var o={template:i.default,controller:a.default,transclude:!0,bindings:{shouldThrottleCallback:"<",onBottomReached:"&",getScrollEventTarget:"&?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-lazy-loader"> <ng-transclude></ng-transclude> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s){(0,i.default)(this,e),this.$window=t,this.$element=n,this.$document=a,this.$timeout=s}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.el=angular.element(this.$element)[0].querySelectorAll(".c-lazy-loader")[0],angular.isFunction(this.getScrollEventTarget)?this.scrollEventTarget=this.getScrollEventTarget(this.$element):this.scrollEventTarget=this.$document.find("div[ui-view='page-content']")[0],this.scrollListener=this._handleScroll.bind(this),this.$timeout((function(){return e._bindScrollEventOnPageContent()}))}},{key:"$onDestroy",value:function(){this.scrollEventTarget.removeEventListener("scroll",this.scrollListener)}},{key:"_bindScrollEventOnPageContent",value:function(){this.scrollEventTarget.addEventListener("scroll",this.scrollListener,{passive:!0})}},{key:"_handleScroll",value:function(){if(!this.shouldThrottleCallback){var e=this.el.getBoundingClientRect(),t=angular.element(this.$document)[0].body.scrollTop;e.top+this.el.offsetHeight+(t-this.$window.innerHeight)<=t&&this.onBottomReached()}}}]),e}();o.$inject=["$window","$element","$document","$timeout"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(934)),a=s(n(935));function s(e){return e&&e.__esModule?e:{default:e}}n(936);var o={template:i.default,controller:a.default,bindings:{fromCurrency:"<",toCurrency:"<",ratesUrl:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports=' <p ng-if="$ctrl.isInitialized && $ctrl.isCrossCurrency()"> <span ng-bind-html="$ctrl.exchangeCopy | translate:{\n            rate: $ctrl.exchangeRate\n          }"> </span> <span> <a class="learn-more" actionable-id="exchange-rate-links" href="{{ ::\'global.rates.links.seeAllRates\' | translate |  absoluteHref:\'url\' }}" target="_blank"> {{ ::\'global.learnMore\' | translate }} </a> </span> </p> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,s,o){(0,a.default)(this,e),(0,i.default)(this,{$log:t,CurrencyExchangeService:n,accountConstants:s,CurrencyService:o,CURRENCY_TYPES:s.CURRENCY_TYPES}),"string"!=typeof this.fromCurrency&&(this.$log.warn("Invalid type of fromCurrency="+this.fromCurrency+" default to CAD"),this.fromCurrency=this.CURRENCY_TYPES.CAD),"string"!=typeof this.toCurrency&&(this.$log.warn("Invalid type of toCurrency="+this.toCurrency+" default to CAD"),this.toCurrency=this.CURRENCY_TYPES.CAD),this.ratesUrl&&"string"==typeof this.ratesUrl||(this.ratesUrl=this.CurrencyService.ratesURL,this.$log.info("ratesUrl not provided , default to standard page "+this.ratesUrl)),this.isInitialized=!1}return(0,s.default)(e,[{key:"isCrossCurrency",value:function(){return this.fromCurrency!==this.toCurrency}},{key:"$onInit",value:function(){var e=this;this.CurrencyExchangeService.getExchangeRates().then((function(){e.isInitialized=!0}))}},{key:"exchangeCopy",get:function(){return"global.amountInputFXRate"+this.fromCurrency+"to"+this.toCurrency}},{key:"exchangeRate",get:function(){return this.CurrencyExchangeService.getDisplayRate(this.fromCurrency,this.toCurrency)}}]),e}();r.$inject=["$log","CurrencyExchangeService","accountConstants","CurrencyService"],t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(938)),a=s(n(960));function s(e){return e&&e.__esModule?e:{default:e}}n(961);var o={template:a.default,controller:i.default,bindings:{options:"<",optionLabelKey:"<",optionValueKey:"<",onSelect:"&",showWarningBorder:"<?",showWarningBorderOnLoad:"<?",placeholderText:"@?",preselectedValue:"<?",ngModel:"=?",ngRequired:"<?",inputId:"@?",noSelectionMsg:"@"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(33)),a=l(n(8)),s=l(n(0)),o=l(n(2)),r=l(n(939));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,i){(0,s.default)(this,e),(0,a.default)(this,{$timeout:t,$scope:n,EnvironmentService:i})}return(0,o.default)(e,[{key:"$onInit",value:function(){var e=this;this.isIE=this.EnvironmentService.isIE(),this.formName=this.inputId?""+this.inputId:"typeaheadSearchForm",this.KEY_CODES={ENTER:13,UP:38,DOWN:40,TAB:9},this.minChars=2,this.sanitizedLabelKey="sanitized-"+this.optionLabelKey,this.bloodhoundReady=!1,this.$scope.$watch("$ctrl.options",(function(){if(e.bloodhoundSetup(e.options),e.preselectedValue&&e.options instanceof Array){var t=e.options.find((function(t){return t[e.optionValueKey]===e.preselectedValue}));t&&t[e.optionValueKey]&&(e.ngModel=t[e.optionLabelKey])}}))}},{key:"bloodhoundSetup",value:function(e){var t=this,n=function(e){return"string"==typeof e?e.replace(/[àáâã]/gi,"a").replace(/[ç]/gi,"c").replace(/[èéêë]/gi,"e").replace(/[ïí]/gi,"i").replace(/[ôó]/gi,"o").replace(/[œ]/gi,"oe").replace(/[üú]/gi,"u"):e};this.bloodhoundInstance=new r.default({local:e,queryTokenizer:function(e){var t=n(e);return r.default.tokenizers.whitespace(t)},datumTokenizer:function(e){return r.default.tokenizers.nonword(n(e[t.optionLabelKey]))}}),this.bloodhoundInstance.initialize().then((function(){t.bloodhoundReady=!0}))}},{key:"onSelectResult",value:function(e){this.hasSelected=!0,this[this.formName].$valid=this.hasSelected,this.isFocused=!1,this.ngModel=e[this.sanitizedLabelKey],this.onSelect({option:e})}},{key:"onInputChange",value:function(){this.isFocused=!0,this.clearSelection(),this.bloodhoundReady&&this.ngModel&&this.ngModel.length>=this.minChars&&this.bloodhoundSearch()}},{key:"onInputBlur",value:function(e){this[this.formName].$touched=!0,this.isIE||e.relatedTarget&&e.relatedTarget.className&&-1!==e.relatedTarget.className.indexOf("c-typeahead-search__autocomplete-entry")||(this.isFocused=!1,this[this.formName].$valid=this.hasSelected)}},{key:"clearSelection",value:function(){this.hasSelected=!1,this[this.formName].$valid=!1,this.autocompleteResults=null,this.selectedResultIndex=void 0}},{key:"onInputFocus",value:function(){this.ngModel="",this.clearSelection(),this.isFocused=!0}},{key:"bloodhoundSearch",value:function(){var e=this,t=this.ngModel.replace(/[^a-zA-Z àâäèéêëîïôœùûüÿçÀÂÄÈÉÊËÎÏÔŒÙÛÜŸÇ]/g,"");this.bloodhoundInstance.search(t,(function(t){e.autocompleteResults=e.bloodhoundBoldMatchedText(t,e.ngModel),e.autocompleteResults&&e.autocompleteResults.length>0&&(e.selectedResultIndex=0)}))}},{key:"bloodhoundBoldMatchedText",value:function(e,t){var n=this;return e.map((function(e){var s,o=e[n.optionLabelKey],r=o.toLowerCase().search(t.toLowerCase());if(r<0)return(0,a.default)({},e,(0,i.default)({},n.sanitizedLabelKey,e[n.optionLabelKey]));var l=o.slice(0,r)+"<strong>"+o.slice(r,r+t.length)+"</strong>"+o.slice(r+t.length),c=l.replace(/(<([^>]+)>)/gi,"");return(0,a.default)({},e,(s={},(0,i.default)(s,n.optionLabelKey,l),(0,i.default)(s,n.sanitizedLabelKey,c),s))}))}},{key:"keydown",value:function(e){var t=this,n=!this.autocompleteResults||0===this.autocompleteResults.length,i=this.KEY_CODES;switch(e.keyCode){case i.ENTER:(this.selectedResultIndex||0===this.selectedResultIndex)&&this.onSelectResult(this.autocompleteResults[this.selectedResultIndex]);break;case i.UP:if(n||0===this.selectedResultIndex)return;this.selectedResultIndex-=1;break;case i.DOWN:if(n||this.selectedResultIndex===this.autocompleteResults.length-1)return;this.selectedResultIndex+=1}this.$timeout((function(){t.scrollToSelectedElement()}),50)}},{key:"scrollToSelectedElement",value:function(){var e=angular.element(".c-typeahead-search__typeahead-menu"),t=angular.element(".c-typeahead-search__typeahead-menu .selected");if(0!==e.length&&0!==t.length){var n=e.scrollTop(),i=t.position().top;if(i<20||i>220){var a=n+i;e.animate({scrollTop:a},{duration:0})}}}},{key:"onSelectionMouseover",value:function(e){this.selectedResultIndex=e}},{key:"shouldShowSelection",get:function(){return this.isFocused&&this.autocompleteResults&&this.autocompleteResults.length}},{key:"shouldShowWarningBorder",get:function(){return this.showWarningBorder||this.showWarningBorderOnLoad&&!this[this.formName].$valid||!this.hasSelected&&this[this.formName].$touched}},{key:"shouldShowNoMatchMsg",get:function(){return this.ngModel&&this.autocompleteResults&&0===this.autocompleteResults.length}}]),e}();c.$inject=["$timeout","$scope","EnvironmentService"],t.default=c,e.exports=t.default},,,function(e,t){},,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<ng-form name="$ctrl.{{$ctrl.formName}}" autocomplete="off"> <div class="c-typeahead-search" ng-keydown="$ctrl.keydown($event)"> <span class="c-typeahead-search__typeahead"> <input class="input" ng-class="{\n          \'warning\': $ctrl.shouldShowWarningBorder,\n          \'c-typeahead-search__has-match\': $ctrl.shouldShowSelection || $ctrl.shouldShowNoMatchMsg }" ng-attr-id="$ctrl.inputId || \'typeahead-search-\'" ng-change="$ctrl.onInputChange()" ng-blur="$ctrl.onInputBlur($event)" ng-focus="$ctrl.onInputFocus()" ng-required="$ctrl.ngRequired" type="search" placeholder="{{ $ctrl.placeholderText }}" ng-model="$ctrl.ngModel" ng-model-options="{ debounce: 100}"/> <div ng-show="$ctrl.shouldShowSelection || $ctrl.shouldShowNoMatchMsg" class="c-typeahead-search__typeahead-menu"> <div ng-if="$ctrl.shouldShowSelection" ng-class="{ selected: $index === $ctrl.selectedResultIndex }" ng-mouseover="$ctrl.onSelectionMouseover($index)" class="c-typeahead-search__autocomplete-container" ng-repeat="result in $ctrl.autocompleteResults"> <div class="c-typeahead-search__autocomplete-entry" ng-click="$ctrl.onSelectResult(result)" ng-bind-html="result[$ctrl.optionLabelKey]"></div> </div> <div ng-if="$ctrl.shouldShowNoMatchMsg" class="c-typeahead-search__autocomplete-container"> <div class="c-typeahead-search__autocomplete-entry"> {{ $ctrl.noSelectionMsg }} </div> </div> </div> </span> </div> <div ng-if="$ctrl.shouldShowWarningBorder" class="field__error"> {{ ::\'clientOnboarding.tpiForm.errors.required\' | translate }} </div> </ng-form> '},function(e,t,n){},function(e,t,n){"use strict";function i(){return{restrict:"A",link:function(e,t,n){var i=n.$observe("actionableId",(function(e){if(n.actionableId){n.watchActionableId||i();var a=e;n.$set("id",a),"FORM"!==t[0].tagName&&n.$set("name",a)}}))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=[],e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(964),s=(i=a)&&i.__esModule?i:{default:i};function o(){return{scope:!0,restrict:"A",controller:s.default,controllerAs:"$ctrl"}}n(965),o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E){var h=this;(0,i.default)(this,e),this.$state=n,this.AppStateService=s,this.EnvironmentService=o,this.flowService=r,this.SessionService=l,this.EventBusService=c,this.AnalyticsService=u,this.stateConstants=d,this.appStateConstants=_,this.loginEvents=E.LOGIN_EVENTS,this._hasLogin=!1,this.isNative=o.isNative(),this.isAndroidNative=o.isNative()&&o.isAndroid(),this.isIosNative=o.isNative()&&o.isIOS(),this.isMobileChrome=o.isMobile()&&o.isChromium(),this.EventBusService.subscribe(t,this.loginEvents.SUCCESSFUL_LOGIN,(function(){h._hasLogin=!0})),this.EventBusService.subscribe(t,this.loginEvents.LOGIN_FOR_ANALYTICS,(function(e,t){if(null!==t)if(h.isNative)h.AnalyticsService.sendMobilePageViewMetrics(t.stepUp?"login-stepup":"login",t.authType);else{var n=h.EnvironmentService.isPhone()||h.EnvironmentService.isTablet()?t.authType+"-mobileweb":t.authType+"-web";h.AnalyticsService.sendMobilePageViewMetrics("login",n)}})),this.EventBusService.subscribe(t,this.appStateConstants.APPLICATION_LOGOUT,(function(){h._hasLogin=!1}))}return(0,a.default)(e,[{key:"getStyleClass",value:function(){var e=angular.element(document).find("body");this.removeClass(e),this.isNative?(this.isUsingNativeGlobalBackground()&&e.addClass("application-theme-native"),this.isUsingBusinessNativeLoginTheme()?(e.addClass("application-theme-native--mobile-login"),e.addClass("application-theme-native--business-login")):this.isUsingPersonalNativeLoginTheme()&&(e.addClass("application-theme-native--mobile-login"),e.addClass("application-theme-native--personal-login"))):e.addClass("application-theme-web")}},{key:"removeClass",value:function(e){e.removeClass("application-theme-web"),e.removeClass("application-theme-native"),e.removeClass("application-theme-native--mobile-login"),e.removeClass("application-theme-native--business-login"),e.removeClass("application-theme-native--personal-login")}},{key:"isUsingBusinessNativeLoginTheme",value:function(){var e=this._isBusinessLoginTheme();return this.isNative&&e}},{key:"isUsingPersonalNativeLoginTheme",value:function(){var e=!this.flowService.inLoadingMode&&!this._hasLogin&&this._isPersonalLoginTheme();return this.isNative&&(e||!this.$state.current.name||!this.AppStateService.hasAppLaunched())}},{key:"_isPersonalLoginTheme",value:function(){return this.$state.current.name===this.stateConstants.LOGIN&&this.flowService.currentState===this.flowService.STATES.USER_ID}},{key:"_isBusinessLoginTheme",value:function(){return this.$state.current.name===this.stateConstants.LOGIN&&(this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN||this.flowService.currentState===this.flowService.STATES.AUTHORIZED_USER)}},{key:"isMobileLoginPage",value:function(){return this.isNative&&this._isLoginPage()}},{key:"_isLoginPage",value:function(){return this._isPersonalLoginTheme()||this._isBusinessLoginTheme()}},{key:"isUsingWebTheme",value:function(){return!this.isNative&&this.$state.current.name}},{key:"isUsingNativeTheme",value:function(){var e=!this._isLoginPage()||this._isLoginPage()&&this.flowService.inLoadingMode||this._hasLogin;return this.isNative&&e&&this.$state.current.name}}]),e}();o.$inject=["$scope","$state","$timeout","AppStateService","EnvironmentService","LoginFlowService","SessionService","EventBusService","AnalyticsService","stateConstants","appStateConstants","loginConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";function i(){return{scope:{trigger:"=tngFocus"},link:function(e,t){e.$watch("trigger",(function(n){!0===n&&(t[0].focus(),e.trigger=!1)}))}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=[],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){return{restrict:"A",link:function(t,n,i){n.bind("mousewheel",(function(t){var n=-1*t.originalEvent.wheelDelta+e.scrollTop();t.preventDefault(),"false"!==i.tngIgnoreMouseWheel&&e.scrollTop(n)}))}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$document"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="c-list-with-focusable-element--has-focused-element";function a(){return{restrict:"A",link:function(e,t){angular.element(t)[0].addEventListener("focus",(function(){angular.element(t)[0].classList.add(i)})),angular.element(t)[0].addEventListener("blur",(function(){angular.element(t)[0].classList.remove(i)}))}}}a.$inject=[],t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n,i,a){return{restrict:"A",compile:function(s,o){var r=t(o.tngClick),l=o[a.LEVEL2_AUTH_ATTRIBUTE],c=angular.isDefined(l)&&"false"!==l;return o.$observe(a.LEVEL2_AUTH_ATTRIBUTE,(function(e){c="false"!==e})),function(t,a){a.on("click",(function(a){var s=function(){return e.$$phase?r(t,{$event:a}):t.$apply((function(){r(t,{$event:a})}))};n.isNative()&&c?i.requestLevel2().then(s):s()}))}}}};i.$inject=["$rootScope","$parse","EnvironmentService","StepUpService","stepUpConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(){return{require:"^ngModel",restrict:"A",link:function(e,t,n,i){var a=Number(n.maxlength);i.$formatters.unshift((function(e){return angular.isString(e)?e.substring(0,a):e})),i.$parsers.unshift((function(e){if(i.$isEmpty(e))return e;var t=e.substring(0,a);return e!==t&&(i.$setViewValue(t),i.$render()),t}))}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=[],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(){return{require:"^ngModel",restrict:"A",link:function(e,t,n,i){i.$formatters.unshift((function(e){return i.$isEmpty(e)||"true"===n.numericInputDisable?e:i.$isEmpty(e)?e:e.replace(/[^\d]/g,"")})),i.$parsers.unshift((function(e){if(i.$isEmpty(e)||"true"===n.numericInputDisable)return e;var t=e.replace(/[^\d]/g,"");return t!==e&&(i.$setViewValue(t),i.$render()),t}))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=[],e.exports=t.default},function(e,t,n){"use strict";function i(e){return{restrict:"A",link:function(t,n,i){var a=t.$watch(i.target,(function(){a(),e.isNative()&&i.$set("target","_system")}))}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["EnvironmentService"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return{restrict:"A",link:function(e,n,i){var a=t.isWebKit()?"tel":"password";n.addClass("masked-pin"),i.$set("type",a)}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$compile","EnvironmentService"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(975),s=(i=a)&&i.__esModule?i:{default:i};function o(e,t){return{restrict:"A",link:function(n,i,a){if(t.isMobile()||t.isNative()){var o={TARGET_TOP:150,PADDING_BOTTOM:window.innerHeight,TOLERANCE:5},r=void 0;try{r=JSON.parse(a.nativeInputScroll)}catch(e){r={}}if(!1!==r.enabled){var l=r.targetTop?r.targetTop:o.TARGET_TOP,c=r.paddingBottom?r.paddingBottom:o.PADDING_BOTTOM,u=void 0,d=void 0;r.anchorElement?u=i.closest(r.anchorElement)[0]:i.closest("tng-modal-dialog").length>0&&(u=i.closest(".dialog__content")[0]),d=r.paddingElement?i.closest(r.paddingElement)[0]:u,n.anchorElementScrollTop=u.scrollTop;var _=function(){e((function(){var t=i[0].getBoundingClientRect();Math.abs(t.top-l)<o.TOLERANCE||t.top<l||(angular.element(d).css({"padding-bottom":c+"px"}),e((function(){(0,s.default)(n.scrollIntervalId,u,u.scrollTop+(t.top-l))})))}))},E=function(){e((function(){angular.element(d).css({"padding-bottom":""}),u.scrollTop=n.anchorElementScrollTop}))};i.bind("focus",_),i.bind("blur",E),n.$on("$destroy",(function(){angular.element(i).unbind("focus",_),angular.element(i).unbind("blur",E),n.scrollIntervalId&&clearInterval(n.scrollIntervalId)}))}}}}}o.$inject=["$timeout","EnvironmentService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=Math.ceil(Math.max((n-t.scrollTop)/(i/16),3)),s=void 0;e=setInterval((function(){if(s===t.scrollTop&&clearInterval(e),Math.abs(n-t.scrollTop)<=a)clearInterval(e);else{s=t.scrollTop;var i=t.scrollTop;t.scrollTop=i+a}}),16)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return{restrict:"A",link:function(i,a,s){var o=e.isNative(),r=e.getBaseUrl(),l=s.tngAbsoluteHref;a.on("click",(function(){o&&l&&"string"==typeof l&&(0===l.indexOf("/")?t.location.href=r+l:0===l.indexOf("http")?t.location.href=l:n.url(l))}))}}};i.$inject=["EnvironmentService","$window","$location"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=S(n(978)),a=S(n(982)),s=S(n(987)),o=S(n(990)),r=S(n(994)),l=S(n(998)),c=S(n(1039)),u=S(n(1042)),d=S(n(1043)),_=S(n(1044)),E=S(n(1045)),h=S(n(1046));function S(e){return e&&e.__esModule?e:{default:e}}var T=angular.module("tangerine.loginComponent.module",[l.default.name,c.default.name]).component("tngLogin",i.default).component("userIdSection",a.default).component("businessId",s.default).component("userFieldMask",h.default).component("secretQuestionSection",o.default).component("pinSection",r.default).service("LoginService",u.default).service("LoginFlowService",d.default).directive("inputPasswordNoSave",_.default).constant("loginConstants",E.default);t.default=T,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(979)),a=s(n(980));function s(e){return e&&e.__esModule?e:{default:e}}n(981);var o={controller:a.default,template:i.default,bindings:{returnTo:"<",mode:"<?",mustTypeCif:"@?",locale:"<",onDoublesafeClose:"&?",enableFullPassmarkForm:"<?",onPassmarkSetupStarted:"&?",enableSingleCifPinForm:"<?",exposeCifPinSubmit:"&?",submitCifPinClick:"&?"}};t.default=o,e.exports=t.default},function(e,t){e.exports=' <tng-first-login ng-if="$ctrl.showFirstLogin && !$ctrl.flowService.isRedirecting" on-close="$ctrl.onModalClose(result)" initial-state="$ctrl.passmarkState" enable-full-passmark-form="$ctrl.enableFullPassmarkForm"> </tng-first-login> <div class="c-login c-login__time-out-info--container" ng-if="($ctrl.shouldShowVisitorTimeoutMessage && !$ctrl.flowService.isRedirecting) || ($ctrl.$stateParams.sessionTimeOut && $ctrl.stateIsPristine)"> <div class="c-login c-login__time-out-info--text">{{\'loggedOut.sessionTimeoutMsg\' | translate}}</div> </div> <user-id-section ng-if="($ctrl.flowService.currentState == $ctrl.flowService.STATES.USER_ID || $ctrl.enableSingleCifPinForm) && !$ctrl.isNextStateLoading && !$ctrl.flowService.isRedirecting" ng-hide="$ctrl.flowService.isLoading || ($ctrl.showFirstLogin && $ctrl.enableFullPassmarkForm)" on-data-update="$ctrl.handleStateChange(data)" locale="$ctrl.locale" device="$ctrl.device" error-message="$ctrl.SessionService.errorMessage" is-timeout="$ctrl.SessionService.isTimeout" deactive-flow="$ctrl.flowService.deactivate();" go-to-state="$ctrl.flowService.moveTo($ctrl.flowService.STATES.BUSINESS_LOGIN); $ctrl.scrollToInput()" saved-user-ids="$ctrl.SessionService.savedUserIds" is-first-time-login="$ctrl.enableSingleCifPinForm" expose-submit="$ctrl.setUserIdSubmit(cifSubmit, validateInput)" biometric-sign-up="$ctrl.setEnrollBiometric()"></user-id-section> <business-id ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.BUSINESS_LOGIN ||\n    $ctrl.flowService.currentState == $ctrl.flowService.STATES.AUTHORIZED_USER && !$ctrl.flowService.isRedirecting" ng-hide="$ctrl.flowService.isLoading" on-data-update="$ctrl.handleStateChange(data)" locale="$ctrl.locale" device="$ctrl.device" error-message="$ctrl.SessionService.errorMessage" is-timeout="$ctrl.SessionService.isTimeout" go-to-state="$ctrl.reInitPersonalCIF()" init-business-login="$ctrl.initBusinessLogin()" saved-business-ids="$ctrl.SessionService.savedBusinessIds" saved-authorized-ids="$ctrl.SessionService.savedAuthorizedIds"></business-id> <secret-question-section ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.SECRET_QUESTION && !$ctrl.flowService.isRedirecting" ng-hide="$ctrl.flowService.isLoading" on-data-update="$ctrl.handleStateChange(data)" question="$ctrl.secretQuestion" error-message="$ctrl.SessionService.errorMessage" is-timeout="$ctrl.SessionService.isTimeout" parent-ctrl="$ctrl"></secret-question-section> <pin-section ng-if="($ctrl.flowService.currentState == $ctrl.flowService.STATES.PIN || $ctrl.enableSingleCifPinForm) && !$ctrl.isNextStateLoading && !$ctrl.flowService.isRedirecting" ng-hide="$ctrl.flowService.isLoading || ($ctrl.showFirstLogin && $ctrl.enableFullPassmarkForm)" on-data-update="$ctrl.handleStateChange(data)" error-message="$ctrl.SessionService.errorMessage" is-timeout="$ctrl.SessionService.isTimeout" is-first-time-login="$ctrl.enableSingleCifPinForm" parent-ctrl="$ctrl" expose-submit="$ctrl.setPINSubmit(pinSubmit, validatePinFormOnly)" submit-cif-pin-click="$ctrl.submitCifPinClick()"></pin-section> <div ng-if="$ctrl.flowService.isLoading || $ctrl.isNextStateLoading || $ctrl.flowService.isRedirecting" ng-hide="$ctrl.showMobileTermsAndConditions" class="loginLoadingIndicator"> <tng-loading-in-progress></tng-loading-in-progress> </div> <mobile-terms-and-conditions ng-if="$ctrl.showMobileTermsAndConditions" action-data="$ctrl.actionData"> <tng-loading-in-progress></tng-loading-in-progress> </mobile-terms-and-conditions> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(8)),a=l(n(15)),s=l(n(33)),o=l(n(0)),r=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,r,l,c,u,d,_,E,h,S,T,p,f,g,A,v,C,m,I,O,N,R,y,L,M,D,P,b,U,$,F,k,B,G,w,H,V,Y,x,W,K,q,j,z,Q,X,J,Z){var ee,te,ne=this;(0,o.default)(this,e),this.EventBusService=t,this.AppStateService=n,this.AuthService=l,this.flowService=r,this.SessionService=c,this.LocaleService=u,this.EnvironmentService=E,this.InsightsService=d,this.InsightsSessionService=_,this.InsightsConstants=U,this.AnalyticsService=y,this.CustomersService=L,this.eNotificationService=D,this.eNotificationConstants=P,this.eNOTIFICATION_TEMPLATES=P.TEMPLATES,this.GlobalModalsService=b,this.appStateConstants=h,this.authConstants=T,this.$location=p,this.$timeout=v,this.$state=f,this.$stateParams=g,this.$scope=A,this.$window=R,this.$log=m,this.Idle=O,this.stateConstants=N,this.localeConstants=M,this.menuConstants=$,this.$q=F,this.serviceConstants=k,this.InboxService=B,this.nativeService=G,this.BackButtonService=w,this.backButtonConstants=H,this.firstLoginConstants=V,this.TimerService=x,this.LoginTimeoutService=q,this.AccountSummaryPrefetchService=K,this.analyticsConstants=j,this.$compile=z,this.$element=Q,this.BundleService=X,this.bundleConstants=J,this.DeviceCapabilityService=Z,this.$translate=C,this.locale=g.locale||C.proposedLanguage(),this.errorCode=g.errorCode,this.$window=R,this.validatedUserId=null,this.showPassmark=!1,this.loginConstants=S,this.loginEvents=S.LOGIN_EVENTS,this.loginCommands=S.LOGIN_COMMANDS,this.loginStates=S.LOGIN_STATES,this.loginErrors=S.LOGIN_ERRORS,this.secretQuestion=null,this.showFirstLogin=!1,this.showForgotPinLink=!1,this.invalidUserId=null,this.SPECIAL_MODES=S.SPECIAL_MODES,this.$rootScope=W,this.eventConstants=Y,this.SHOW_UI_KEY={PROMO:"showPromo",HEADER:"showHeader",REMEMBER_ME:"showRememberMe",FOOTER:"showFooter",FORGOT_LINK:"showForgotLink",BUSINESS_LOGIN_LINK:"showBusinessLoginLink",DOUBLE_SAFE:"showDoubleSafe",CIF_FIELD_LABEL:"CIFFieldLabel"},this.uiDisplaySettings=(0,s.default)({},this.SPECIAL_MODES.VISITOR_ENROLLMENT,(ee={},(0,s.default)(ee,this.SHOW_UI_KEY.HEADER,!1),(0,s.default)(ee,this.SHOW_UI_KEY.PROMO,!1),(0,s.default)(ee,this.SHOW_UI_KEY.REMEMBER_ME,!0),(0,s.default)(ee,this.SHOW_UI_KEY.FOOTER,!1),(0,s.default)(ee,this.SHOW_UI_KEY.FORGOT_LINK,!1),(0,s.default)(ee,this.SHOW_UI_KEY.BUSINESS_LOGIN_LINK,!1),(0,s.default)(ee,this.SHOW_UI_KEY.DOUBLE_SAFE,!1),(0,s.default)(ee,this.SHOW_UI_KEY.CIF_FIELD_LABEL,!1),ee)),this.standardUISettings={},(0,a.default)(this.SHOW_UI_KEY).forEach((function(e){ne.standardUISettings[ne.SHOW_UI_KEY[e]]=!0})),(0,i.default)(this.standardUISettings,(te={},(0,s.default)(te,this.SHOW_UI_KEY.PROMO,!this.EnvironmentService.isNative()),(0,s.default)(te,this.SHOW_UI_KEY.CIF_FIELD_LABEL,!1),te)),this.flowService.currentState=null,this.LoginTimeoutService.revokeTimer()}return(0,r.default)(e,[{key:"$onInit",value:function(){var e=this;this.flowService.activateOnEmptyState(),this.flowService.isRedirecting=!1,this._setDevicePrint(),this.showFirstLogin=!1,this.SessionService.errorMessage=!1,this.stateIsPristine=!0,this.uiSettings=this._getUISettings(),this.InsightsService.openCarouselOnLaunch=!0,this.isStandardLogin?(this.$log.info("login: unwatching for idle: ",this.flowService.stateSet),this.Idle.unwatch(),this.EventBusService.subscribe(this.$rootScope,this.menuConstants.EVENTS.REDIRECT_AFTER_RESET_PIN,(function(){return e.goToNextPage()})),this.flowService.stateSet&&!this.AuthService.reinitLogin||(this.$stateParams.viewState===this.stateConstants.LOGIN_PIN?this.flowService.currentState=this.flowService.STATES.PIN:this.AppStateService.isInit()?this._initLogin():this.AppStateService.subscribe(this.$scope,this.appStateConstants.APPLICATION_INIT,(function(){e.SessionService.initSession().finally((function(){return e._initLogin()}))}))),this.EventBusService.subscribe(this.$scope,this.menuConstants.EVENTS.RESET_LOGIN,(function(){e.flowService.isLoading=!1,e._initLogin()}))):(this.mode,this.SPECIAL_MODES.VISITOR_ENROLLMENT),[this.loginEvents.SUCCESSFUL_LOGIN,this.loginEvents.MOBILE_TERMS_CONDITIONS_COMPLETED].forEach((function(t){e.EventBusService.subscribe(e.$scope,t,(function(t,n){e._postLoginEventHandler(n)}))})),this.BackButtonService.addBackButtonListener(this.$scope,this.backButtonConstants.PRIORITY.LOW,(function(){return!e.SessionService.isAuthenticated()&&(e._isOnLoginPage()?e.nativeService.closeApp():e.AuthService.logout(),!0)})),this.LoginTimeoutService.subscribe((function(){e._onUiTimeout()})),this.exposeCifPinSubmit&&this.exposeCifPinSubmit({submitCifPin:this.submitCifPin.bind(this)})}},{key:"$onDestroy",value:function(){this.LoginTimeoutService.unsubscribe()}},{key:"$onChanges",value:function(e){e.locale&&e.locale.previousValue.constructor.name!==this.loginCommands.UNINITIALIZED_VALUE&&!this.flowService.stateSet&&this._initLogin()}},{key:"_initLogin",value:function(){var e=this;this.$log.info("Login controller _initLogin"),this.TimerService.reset(),this.showFirstLogin=!1,this.SessionService.errorMessage=!1;var t=this.mode===this.SPECIAL_MODES.VISITOR_ENROLLMENT;(this.EnvironmentService.isNative()?this.$q.when():this.AuthService.logout(!1,!1,!t)).finally((function(){e.flowService.isBusiness?(e.flowService.currentState!==e.flowService.STATES.BUSINESS_LOGIN&&e.flowService.moveTo(e.flowService.STATES.BUSINESS_LOGIN),e.initBusinessLogin()):(e.flowService.currentState!==e.flowService.STATES.USER_ID&&e.flowService.moveTo(e.flowService.STATES.USER_ID),e.AuthService.initLogin(e.LocaleService.locale,e.loginConstants.LOGIN_TYPES.PERSONAL).then((function(t){return e._handleInitSuccess(t)})))})),this.EnvironmentService.isNative()||this.InsightsService.getInsights({count:1,interactionPoint:this.InsightsConstants.INTERACTION_POINTS.LOGIN},!0).then((function(t){t.insights&&t.insights.length>0&&(e.insight=t.insights[0])}));var n=this.$location.search(),i=this.loginConstants.BUSINESS_LOGIN.CIF_LOGIN_TYPE;void 0!==n&&n.login===i&&this.flowService.moveTo(this.flowService.STATES.BUSINESS_LOGIN)}},{key:"initBusinessLogin",value:function(){var e=this;return this.AuthService.logout(!1).finally((function(){e.AuthService.initLogin(e.LocaleService.locale,e.loginConstants.LOGIN_TYPES.BUSINESS).then((function(t){return e._handleInitSuccess(t)}))}))}},{key:"_handleInitSuccess",value:function(e){this.device=e.device,this.nextCommand=e.nextCommand,this.AuthService.reinitLogin=!1}},{key:"_handleInitError",value:function(e){if(!e)throw new Error("No initializing data is present");throw new Error(e)}},{key:"handleStateChange",value:function(e){var t=this;if(this.Idle.watch(),void 0!==e.nextStep)switch(e.nextStep){case this.loginCommands.INIT:this._initLogin(),this.Idle.unwatch();break;case this.loginCommands.AIF:this.flowService.moveTo(this.flowService.STATES.AUTHORIZED_USER);break;case this.loginStates.CIF:e.isBusiness?this.flowService.moveTo(this.flowService.STATES.BUSINESS_LOGIN):this.flowService.moveTo(this.flowService.STATES.USER_ID);break;case this.loginCommands.VALID_PIN_COMMAND:this.$timeout((function(){t.showPassmark=!0}),100);break;case this.loginStates.SECRET_QUESTION:this.secretQuestion=e.securityQuestion,this.flowService.moveTo(this.flowService.STATES.SECRET_QUESTION);break;case this.loginStates.PIN:this.showForgotPinLink=e.showForgotPinLink,e.errorMessage?this.invalidUserId=e.clientIdentifierDisplay:this.invalidUserId=null,this.flowService.moveTo(this.flowService.STATES.PIN)}}},{key:"returnToOriginalState",value:function(){var e=this,t=this.$state.$current.data,n=function(){t&&t.restoreState&&t.restoreState()};return this.flowService.$q((function(t){e._initUserSession();var n=e.whereToNext();n&&n.state===e.stateConstants.ACCOUNT_SUMMARY&&e._preloadAccountSummary(),e.flowService.deactivate(),e.$log.debug("redirect state is: ",n),t(n)})).then((function(t){return e.$state.go(t.state,t.params).then(n)}))}},{key:"whereToNext",value:function(){var e=this.returnTo.state(),t=this.returnTo.params();return e&&e.name!==this.stateConstants.LOGIN&&e.name!==this.stateConstants.FORGOT_LOGIN&&e.name!==this.stateConstants.ACCOUNT_SUMMARY?{state:e,params:t}:this.EnvironmentService.isNative()?(this.EnvironmentService.isNative()&&this.EnvironmentService.isIOS()&&this.updateBadgeCount(),this.skipMobileSimpleSignOnOffer?this.isFingerprintWizardable?{state:this.stateConstants.FINGERPRINT_WIZARD}:this.setIosTouchOrFaceIdDirectSignup?{state:this.stateConstants.USER_SETTINGS_SECURITY_LOGIN_TOUCH_ID_REENROLL}:this.setAndroidFingerprintIDDirectSignup?{state:this.stateConstants.USER_SETTINGS_SECURITY_LOGIN_FINGERPRINT_ID_REENROLL}:{state:this.stateConstants.ACCOUNT_SUMMARY}:this.isTouchIdSetupable?{state:this.stateConstants.SIMPLE_SIGN_ON_TOUCH_ID}:this.isFingerprintIdSetupable?{state:this.stateConstants.SIMPLE_SIGN_ON_FINGERPRINT_ID}:{state:this.stateConstants.SIMPLE_SIGN_ON_QUICK_VIEW_NO_BACK}):{state:this.stateConstants.ACCOUNT_SUMMARY}}},{key:"setEnrollBiometric",value:function(){this.EnvironmentService.isNativeIOS()?this.setIosTouchOrFaceIdDirectSignup=!0:this.setAndroidFingerprintIDDirectSignup=!0}},{key:"updateBadgeCount",value:function(){var e=this;this.InboxService.getNewMessageCount().then((function(t){t.response_status.status_code===e.serviceConstants.STATUS_CODES.SUCCESS&&e.nativeService.sendUpdateBadge(parseInt(t.total_number_of_new_emessages,10))}))}},{key:"reInitPersonalCIF",value:function(){this._initLogin(),this.flowService.isBusiness=!1,this.flowService.moveTo(this.flowService.STATES.USER_ID)}},{key:"onModalClose",value:function(e){var t=this;this.onDoublesafeClose&&this.onDoublesafeClose(),e&&(this.showFirstLogin=!1,this.flowService.isLoading=!0,e.then((function(e){return e&&e.event===t.firstLoginConstants.EVENTS.FIRST_TIME_SETUP_COMPLETE?(t.flowService.isRedirecting=!0,t.goToNextPage()):t.AuthService.logout(!1).then((function(){t.$state.go(t.stateConstants.LOGIN,void 0,{location:!1,reload:!0})}))})).catch((function(e){t.$log.error("Error occured:",e)})).finally((function(){t.flowService.isLoading=!1})))}},{key:"goToNextPage",value:function(){var e=this,t=this.$translate.instant("global.errorCodes.generic");return this.eNotificationService.getENotifications().then((function(n){if(!n.response_status||-1===e.serviceConstants.SUCCESS_STATUS_CODES.indexOf(n.response_status.status_code))throw t;var i=void 0,a=e.whereToNext();if(n.next_action===e.eNOTIFICATION_TEMPLATES.FATCA){var s={template_id:e.eNOTIFICATION_TEMPLATES.FATCA};i=e.GlobalModalsService.showENotification(s,n.mandatory,!0,a)}else if(n.roadblocks.length){var o=n.roadblocks[0];i=e.GlobalModalsService.showENotification(o,n.mandatory,!1,a)}return i}),(function(){throw t})).then((function(t){return t?(e.TimerService.cancelTimerForAction(e.TimerService.EVENTS.SUBMIT_PIN),t):e._handleNextPage()}),(function(t){e.errorOutToLoginPage(t)}))}},{key:"errorOutToLoginPage",value:function(e){this.isNextStateLoading=!1,this.flowService.isLoading=!1,this._initLogin(),this.SessionService.errorMessage=e,this.flowService.deactivate()}},{key:"scrollToInput",value:function(){this.$window.scrollTo(0,200)}},{key:"setPINSubmit",value:function(e,t){this.submitPIN=e,this.validatePinFormOnly=t}},{key:"setUserIdSubmit",value:function(e,t){this.submitCIF=e,this.validateCifInput=t}},{key:"submitCifPin",value:function(){var e=this,t=this.$q.defer();return this.submitCIF().then((function(){e.submitPIN().then((function(e){t.resolve(e)})).catch((function(e){t.reject(e)}))})).catch((function(n){n===e.loginErrors.SHOULD_STOP_VISITOR_ENROLLMENT_SUBMIT?(e.validatePinFormOnly(),t.reject(n)):e.submitPIN().then((function(e){t.resolve(e)})).catch((function(e){t.reject(e)}))})).finally((function(){e.validateCifInput(),e.flowService.isLoading=!1})),t.promise}},{key:"_handleNextPage",value:function(){this._startInsightsSession();return this.returnTo?this.returnToOriginalState():this.$state.go(this.stateConstants.ACCOUNT_SUMMARY)}},{key:"_initUserSession",value:function(){var e=this;this.CustomersService.getCustomerInfo({include_servicing_systems:!0}).then((function(t){e.AnalyticsService.tagSession(t.customer),e.SessionService.getAndSetNewClientEnrollmentSession(!1)&&e.AnalyticsService.sendAction(e.AnalyticsService.availableEvents.NEW_CLIENT_ENROLLMENT)}))}},{key:"_startInsightsSession",value:function(){try{this.InsightsSessionService.startSession(!0)}catch(e){this.$log.error("Insights: could not init session",e)}}},{key:"_preloadAccountSummary",value:function(){this.$log.debug("Preloading account summary resources"),this.AccountSummaryPrefetchService.preloadAccounts(),this.AccountSummaryPrefetchService.preloadCapabilities()}},{key:"_getUISettings",value:function(){return!this.isStandardLogin&&this.mode in this.uiDisplaySettings?this.uiDisplaySettings[this.mode]:this.standardUISettings}},{key:"_isOnLoginPage",value:function(){return this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN||this.flowService.currentState===this.flowService.STATES.USER_ID}},{key:"_onUiTimeout",value:function(){this.flowService.isLoading=!1,this.EnvironmentService.isNative()&&(this.EventBusService.publish(this.eventConstants.LOGIN_CONNECTION_LOST),this.AnalyticsService.sendAction(this.analyticsConstants.AVAILABLE_EVENTS.FORCED_LOGIN_TIMEOUT,"triggered"))}},{key:"_readTosAndSimpleSignOnFlags",value:function(){var e=this;return this.skipMobileSimpleSignOnOffer=!0,this.isTouchIdSetupable=!1,this.isFingerprintIdSetupable=!1,this.isFingerprintWizardable=!1,this.SessionService.hasAgreedTOS().then((function(t){return e.hasAgreedToMobileTOS=t}),(function(t){e.$log.error("Requesting TOS agreement error:",t),e.hasAgreedToMobileTOS=!1})).then((function(){return e.DeviceCapabilityService.getDeviceLoginOfferSettings()})).then((function(t){t&&(e.skipMobileSimpleSignOnOffer=t.shouldSkipOffer,e.isTouchIdSetupable=t.isTouchIdSetupable,e.isFingerprintIdSetupable=t.isFingerprintIdSetupable,e.isFingerprintWizardable=t.isFingerprintWizardable)})).catch((function(t){e.$log.error("Requesting getSimpleSignOnOfferSettings error:",t)})).finally((function(){e.TimerService.cancelTimerForAction(e.TimerService.EVENTS.SUBMIT_PIN)}))}},{key:"_postLoginEventHandler",value:function(e){var t=this;(this.EnvironmentService.isNative()?this._readTosAndSimpleSignOnFlags():this.$q.when()).then((function(){var n=e&&e.action;t.actionData=e,t.showMobileTermsAndConditions=t.EnvironmentService.isNative()&&!t.hasAgreedToMobileTOS,t.showMobileTermsAndConditions?t.BundleService.loadBundle(t.bundleConstants.AVAILABLE_BUNDLES.MOBILE_TERMS_CONDITIONS_OFFERS).then((function(e){e&&t.$compile(t.$element.find("mobile-terms-and-conditions"))(t.$scope)})):(t.SessionService.addToOptIn(),n===t.loginConstants.LOGIN_ACTIONS.GO_TO_NEXT_PAGE?(t.isNextStateLoading=!0,t.goToNextPage().then((function(){t.$timeout((function(){t.flowService.isLoading=!1}),t.flowService.VISIBILITY_TIMEOUT)}))):n===t.loginConstants.LOGIN_ACTIONS.SHOW_FIRST_TIME_USER&&(t.onPassmarkSetupStarted&&t.onPassmarkSetupStarted(),t.isNextStateLoading=!0,t.enableFullPassmarkForm&&(t.isNextStateLoading=!1,t.flowService.exitLoadingMode()),t.showFirstLogin=!0,t.passmarkState=e.data,t.TimerService.cancelTimerForAction(t.TimerService.EVENTS.SUBMIT_PIN)))}))}},{key:"_setDevicePrint",value:function(){var e=this;this.EnvironmentService.isNative()||this.EnvironmentService.getDevicePrint().then((function(e){angular.element(document).find("[name='pm_fp']").val(e)})).catch((function(){e.$log.error("EnvironmentService getDevicePrint errors out - pm_fp will not be set")}))}},{key:"isStandardLogin",get:function(){return!this.mode}},{key:"isVisitorEnrollment",get:function(){return!this.isStandardLogin&&this.mode===this.SPECIAL_MODES.VISITOR_ENROLLMENT}},{key:"shouldShowVisitorTimeoutMessage",get:function(){return this.errorCode===this.loginConstants.LOGIN_ERRORS.VS_TIMEOUT&&this.stateIsPristine}}]),e}();c.$inject=["EventBusService","AppStateService","LoginFlowService","AuthService","SessionService","LocaleService","InsightsService","InsightsSessionService","EnvironmentService","appStateConstants","loginConstants","authConstants","$location","$state","$stateParams","$scope","$timeout","$translate","$log","tmhDynamicLocale","Idle","stateConstants","$window","AnalyticsService","CustomersService","localeConstants","eNotificationService","eNotificationConstants","GlobalModalsService","InsightsConstants","menuConstants","$q","serviceConstants","InboxService","NativeService","BackButtonService","backButtonConstants","firstLoginConstants","eventConstants","TimerService","$rootScope","AccountSummaryPrefetchService","LoginTimeoutService","analyticsConstants","$compile","$element","BundleService","bundleConstants","DeviceCapabilityService"],t.default=c,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(983));function a(e){return e&&e.__esModule?e:{default:e}}var s={template:a(n(986)).default,controller:i.default,require:{parentCtrl:"^tngLogin"},bindings:{onDataUpdate:"&",locale:"<",device:"<",nextCommand:"<",savedUserIds:"<",errorMessage:"<",isTimeout:"<",goToState:"&",deactiveFlow:"&",isFirstTimeLogin:"<?",exposeSubmit:"&?",biometricSignUp:"&"}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(33)),a=d(n(49)),s=d(n(68)),o=d(n(8)),r=d(n(0)),l=d(n(2)),c=d(n(143)),u=n(67);function d(e){return e&&e.__esModule?e:{default:e}}var _=40,E=1,h=function(){function e(t,n,i,a,s,o,l,c,d,h,S,T,p,f,g,A,v,C,m,I,O,N,R,y,L,M,D,P,b){var U=this;(0,r.default)(this,e),this.AuthService=t,this.flowService=n,this.authConstants=o,this.stateConstants=l,this.selectConstants=T,this.autoFocusConstants=c,this.NativeService=A,this.LoginOptionService=v,this.EnvironmentService=M,this.SessionService=C,this.MenuService=i,this.menuConstants=a,this.loginEvents=s.LOGIN_EVENTS,this.loginStates=s.LOGIN_STATES,this.loginPlaceholderIndicator=s.LOGIN_PLACEHOLDER_INDICATOR,this.loginActions=s.LOGIN_ACTIONS,this.loginErrors=s.LOGIN_ERRORS,this.$translate=p,this.$scope=h,this.$state=d,this.$timeout=S,this.$log=f,this.$sce=g,this.FeedbackSurveyService=D,this.userIdValidation=u.userIdValidation,this.userIdMinLength=E,this.userIdMaxLength=_,this.userIdSanitize=u.userIdSanitize,this.SessionService=C,this.$document=I,this.EventBusService=O,this.localStorageLength=localStorage.length,this.$window=N,this.BundleService=R,this.TimerService=y,this.LoginTimeoutService=L,this.$q=P,this.AnalyticsService=b,this._resetUserIdField(),this.selectedId=void 0,this.showPromotionalOffer=!0,this.showUserIdField=!0,this.isUserIDSubmitEnabled=!1,this.submitNoLogout=!1,this.loginOptions=m.LOGIN_OPTION_TYPE,this.loginOptionType=m.LOGIN_OPTION_TYPE,this.loginOptionResult=m.LOGIN_OPTION_RESULT,this.showLoginOptionModal=!1,this.showConfirmationModal=!1,this.availableUserIds=[],this.staticOption={rememberMeHash:this.loginPlaceholderIndicator.USE_ANOTHER,nameToRemember:"login.userID.newClientNumber"},this.pleaseSelectOption={rememberMeHash:this.loginPlaceholderIndicator.PLEASE_SELECT,nameToRemember:"login.userID.pleaseSelect"},this.isNative=this.AuthService.isNative,this.LoginTimeoutService.subscribe((function(){U._onLoginTimeout()})),this.isUsingSavedId=!1,this.hideBusinessOption=!1}return(0,l.default)(e,[{key:"_resetUserIdField",value:function(){this.userIDSectionCredentials={id:"",rememberMe:!1,removeID:!1}}},{key:"_onLoginTimeout",value:function(){this.isUserIDSubmitEnabled=!0}},{key:"$onDestroy",value:function(){this.LoginTimeoutService.unsubscribe(),this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction("login.userid.destroy")}},{key:"$onInit",value:function(){var e=this;this._setDocumentTitle(),this._checkLocalStorage(),this.cifIsEmpty=!0,this.$scope.$on("NewClientEnrollmentLoginCifEntry",(function(){e.visitorEnrollmentSubmitClicked=!0,e.checkUserID()})),this.isMobileNewClient=this.isNative?this.showUserIdField:void 0,this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction("login.userid.init"),this.exposeSubmit&&this.exposeSubmit({cifSubmit:this.checkUserID.bind(this),validateInput:this.validateInput.bind(this)}),this._handleMobileVisitorEnrollmentFlow(),this.statusResult="",this.base64js=n(373),this.isNative&&(document.addEventListener("MedalliaGenericScriptLoaded",(function(){e.MedalliaScriptLoaded=!0,e.$scope.$apply()})),window.MedalliaGenericScriptLoaded&&(this.MedalliaScriptLoaded=!0))}},{key:"_setDocumentTitle",value:function(){this.$document[0].title=this.$translate.instant("login.userID.pageTitle")}},{key:"_checkLocalStorage",value:function(){var e=this.$window.navigator.userAgent.indexOf("AppleWebKit")>=0;!this.localStorageLength&&e?this.showSafariLocalStorageError=!0:this.showSafariLocalStorageError=!1}},{key:"$onChanges",value:function(){this._setDocumentTitle(),this.parentCtrl.isStandardLogin&&this.SessionService&&this.SessionService.savedUserIds&&this.SessionService.savedUserIds.length>0?(this._resetUserIdField(),this._setStatic(this.savedUserIds),this._turnOnSavedUsers()):this._turnOffSavedUsers()}},{key:"validateInput",value:function(){var e=this;this.sanitizeInput((function(){var t=e.userIdValidation(e.userIDSectionCredentials.id);e.cifIsEmpty=""===e.userIDSectionCredentials.id,e.parentCtrl.isVisitorEnrollment&&e.parentCtrl.mustTypeCif?(e.cifSameAsMustType=e.userIDSectionCredentials.id===e.parentCtrl.mustTypeCif,e.isUserIDSubmitEnabled=t&&e.cifSameAsMustType):e.isUserIDSubmitEnabled=t}))}},{key:"sanitizeInput",value:function(e){var t=this;this.$timeout((function(){t.userIDSectionCredentials.id&&(t.userIDSectionCredentials.id=t.userIdSanitize(t.userIDSectionCredentials.id)),angular.isFunction(e)&&e()}),200)}},{key:"checkUserID",value:function(e){var t=this;this.isFido2=e;var n=this.$q.defer(),i=this._getUserDataObject(this.selectedId),a={rememberMeList:this.savedUserIds};if(this.isFirstTimeLogin&&(this.visitorEnrollmentSubmitClicked=!0,this.UserID.login_clientId.$touched=!0),this.shouldStopVisitorEnrollmentSubmit)return n.reject(this.loginErrors.SHOULD_STOP_VISITOR_ENROLLMENT_SUBMIT),n.promise;this.isUserIDSubmitEnabled=!1,this.flowService.isLoading=!0;var s=this.LoginOptionService.getAlternativeLoginOption(i);return this._logPerformanceMetrics(s),this._loadCommonBundle(),!this.submitNoLogout&&s?this.LoginOptionService.submitLoginOption(s).then((function(e){e&&e.authenticated||!e.errorMessage&&!e.errorCode&&e.loginOptionResult!==t.loginOptionResult.SHOW_ERROR?t._mobileProcessSuccess(e):t._mobileProcessError(e),t.AnalyticsService.sendGoogleAnalyticsOnLoginPageAction("login "+s,a)})).catch((function(e){t._mobileProcessError(e),a.error=e,t.AnalyticsService.sendGoogleAnalyticsOnLoginPageAction("login "+s+" error",a)})).finally((function(){t.isUserIDSubmitEnabled=!0})):this.AuthService.submitCIF(i).then((function(e){if(!e.authenticated&&e.errorMessage)t._handleCheckUserIdError(e),n.reject(e);else{e.fido2InitAuth&&t._authenticate(e.fido2InitAuth,i);var s=i.displayId||i.userId||i.acn;t._handleCheckUserIdSuccess(e,s),t.isFirstTimeLogin&&(t.visitorEnrollmentSubmitClicked=!1),n.resolve(e)}t.AnalyticsService.sendGoogleAnalyticsOnLoginPageAction("login CIF",a)})).catch((function(e){t._handleCheckUserIdError(e),a.error=e,t.AnalyticsService.sendGoogleAnalyticsOnLoginPageAction("login CIF error",a),n.reject(e)})).finally((function(){t.isUserIDSubmitEnabled=!0})),n.promise}},{key:"_logPerformanceMetrics",value:function(e){var t=this.TimerService.EVENTS.SUBMIT_CIF;switch(e){case this.loginOptionType.TOUCH_ID:t=this.TimerService.EVENTS.SUBMIT_TOUCH_ID;break;case this.loginOptionType.DEFER_PIN:t=this.TimerService.EVENTS.SUBMIT_QUICK_VIEW;break;default:t=this.TimerService.EVENTS.SUBMIT_CIF}this.TimerService.startTimerForAction(t)}},{key:"removeUserID",value:function(){var e=this,t=this._getUserDataObject(this.selectedId);this.AuthService.removeCIF(t),this.rememberMe=!1,this.isNative?this.LoginOptionService.disableSavedIdLoginOption(t).finally((function(){return e.dismissConfirmationModal()})):this.dismissConfirmationModal()}},{key:"getConfirmationModalSuccessButtonHandlerArray",value:function(){var e=this;return[{modalSuccessText:this.$translate.instant("login.mobile.continue"),onSuccess:function(){e.removeUserID()}}]}},{key:"_getUserDataObject",value:function(e){var t=null,n=null,i=null;if(this.isUsingSavedId=angular.isDefined(e)&&e!==this.staticOption.rememberMeHash,this.isUsingSavedId){t=e;var a=(0,c.default)(this.savedUserIds,(function(e){return e.rememberMeHash===t}));n=a.nameToRemember,i=a.userHash}else t=this.userIDSectionCredentials.id;this.isNative&&this.showUserIdField&&(this.userIDSectionCredentials.rememberMe=this.rememberMe);var s={acn:t,displayId:n,userHash:i,locale:this.locale,nextCommand:this.nextCommand,device:this.device,rememberMe:this.userIDSectionCredentials.rememberMe,removeID:this.userIDSectionCredentials.removeID,isBusiness:!1,isFido2:this.isFido2};return s=this.isUsingSavedId&&!this.userIDSectionCredentials.removeID?(0,o.default)(s,{ddCIF:!0}):s}},{key:"hideVisitorSiteTimeoutErrorMessage",value:function(){this.parentCtrl.stateIsPristine=!1}},{key:"onRememberMeClick",value:function(){this.showUserIdField||this.rememberMe||(this.rememberMe=!0,this.showConfirmationModal=!0)}},{key:"dismissConfirmationModal",value:function(){this.showConfirmationModal=!1}},{key:"_handleCheckUserIdSuccess",value:function(e,t){var n=this;this._loadCommonBundle().then((function(){n.flowService.isLoading=!1,n.nextCommand=e.nextStep,n._cleanUp(e.nextStep),n.parentCtrl.validatedUserId=t,n.onDataUpdate({data:e}),e.nextStep===n.loginStates.SECRET_QUESTION||(e.nextStep,n.loginStates.PIN)}))}},{key:"_turnOnSavedUsers",value:function(){this.showUserIdField=!1,this.isUserIDSubmitEnabled=!1,this.savedUserIds&&(this.selectedId=this.savedUserIds[0].rememberMeHash,this.selectedId!==this.loginPlaceholderIndicator.PLEASE_SELECT&&(this.isUserIDSubmitEnabled=!0))}},{key:"_turnOffSavedUsers",value:function(){this.showUserIdField=!0,this.selectedId=void 0,this.userIDSectionCredentials.id||(this.isUserIDSubmitEnabled=!1)}},{key:"_findUserIdWithAlternativeLogin",value:function(e,t){e=e||[],t=t||function(){return!0};for(var n=void 0,i=0;i<e.length;i++){n=e[i].rememberMeHash;var a=this._getUserDataObject(n),s=this.LoginOptionService.getAlternativeLoginOption(a);if(null!=s&&t(s))return n}return null}},{key:"_tryBiometricLogin",value:function(e){var t=this;if(!this.SessionService.hasTriedBiometricAutoLogin){var n=this._findUserIdWithAlternativeLogin(e,(function(e){return e!==t.loginOptionType.DEFER_PIN}));null!=n&&(this.selectedId=n,this.SessionService.setTriedBiometricAutoLogin(!0),this.submitNoLogout=!1,this.checkUserID())}}},{key:"_cleanUp",value:function(e){e!==this.authConstants.steps.CIF&&(this.userIDSectionCredentials.id=null,this.selectedId=void 0)}},{key:"_checkMobileDownScenario",value:function(e){e.clientIdentifierDisplay&&"cif"===e.nextStep&&!this._isMobilePassmarkLockedScenario(e)&&(e.errorMessage=this.$translate.instant("global.errorCodes.generic"),this.SessionService.errorMessage=e.errorMessage)}},{key:"_isMobilePassmarkLockedScenario",value:function(e){return this.isMobilePassmarkLocked=e.authStatus===this.authConstants.status.PASSMARK_LOCKED,this.isMobilePassmarkLocked}},{key:"_checkMobileInvalidUserHashError",value:function(e){this.isUsingSavedId&&"pin"===e.nextStep&&e.errorMessage&&(e.nextStep=this.loginStates.CIF,this.SessionService.errorMessage=this.$translate.instant("login.mobile.errorSavedIdDisabled"),this.removeUserID())}},{key:"_handleCheckUserIdError",value:function(e){var t=this;this.isNative&&e&&(this._checkMobileDownScenario(e),this._checkMobileInvalidUserHashError(e)),this._loadCommonBundle().then((function(){t.LoginTimeoutService.revokeTimer(),t.flowService.isLoading=!1,t.isFirstTimeLogin?(t.SessionService.errorMessage=!1,t.EventBusService.publish("NewClientEnrollmentCheckPin",{}),t.errorMessage=e.errorMessage):(t.errorMessage=e.errorMessage,t._cleanUp(e.nextStep),t.onDataUpdate({data:e}))}))}},{key:"_setStatic",value:function(e){var t=[].concat((0,s.default)(e),[this.staticOption]);e.length>2&&t.unshift(this.pleaseSelectOption),this.availableUserIds=t}},{key:"handleSelect",value:function(e){e?e.rememberMeHash===this.loginPlaceholderIndicator.USE_ANOTHER?this._switchToCifInput():e.rememberMeHash===this.loginPlaceholderIndicator.PLEASE_SELECT?this.isUserIDSubmitEnabled=!1:this.isUserIDSubmitEnabled=!0:this.isUserIDSubmitEnabled=!1}},{key:"_switchToCifInput",value:function(){this.selectedId=void 0,this.showUserIdField=!0,this.isUserIDSubmitEnabled=!1}},{key:"feedbackClicked",value:function(){var e={EN:this.$window.MEDALLIA_FEEDBACK_ID_EN,FR:this.$window.MEDALLIA_FEEDBACK_ID_FR};this.FeedbackSurveyService.launchFeedbackSurvey(e),this.AnalyticsService.sendGoogleAnalyticsOnLoginPageAction("feedback click",{rememberMeList:this.savedUserIds})}},{key:"signMeUp",value:function(){this.$state.go(this.stateConstants.NEW_CLIENT_ENROLLMENT),this.AnalyticsService.sendGoogleAnalyticsOnLoginPageAction("signMeUp click",{rememberMeList:this.savedUserIds})}},{key:"_mobileProcessSuccess",value:function(e){var t=this;this.$log.debug("DB - _mobileProcessSuccess: "+(0,a.default)(e)),this.SessionService.isAuthenticated()&&this.SessionService.saveSession(),e.authStatus===this.authConstants.status.COMPLETE&&e.hasLevel1?this._loadCommonBundle().then((function(){e.firstTime&&e.firstTime.ChallengeQuestions?t.EventBusService.publish(t.loginEvents.SUCCESSFUL_LOGIN,{action:t.loginActions.SHOW_FIRST_TIME_USER,data:e.firstTime}):t.EventBusService.publish(t.loginEvents.SUCCESSFUL_LOGIN,{action:t.loginActions.GO_TO_NEXT_PAGE})})):this._handleCheckUserIdSuccess(e)}},{key:"_mobileProcessError",value:function(e){switch(this.$log.debug("DB - _mobileProcessError: "+(0,a.default)(e)),this.flowService.isLoading=!1,this.isUserIDSumbitEnabled=!0,(e=e||{}).loginOptionResult){case this.loginOptionResult.CANCEL:return void this.$state.go(this.stateConstants.LOGIN,{},{reload:!0});case this.loginOptionResult.FALL_BACK_TO_PIN:return void this._loginWithPin();case this.loginOptionResult.TRY_AGAIN:return void this.checkUserID();case this.loginOptionResult.SHOW_DISABLE_MODAL:return void this._showMobileDisabledLoginOptionModal();case this.loginOptionResult.SHOW_NATIVE_AUTH_FAILURE_MODAL:return void this._showMobileLoginOptionFailureModal(e.optionType,e.errorCode);case this.loginOptionResult.PASSMARK_RESET_PIN_CANCEL:return this.AuthService.logout();case this.loginOptionResult.SHOW_ERROR:return void(this.errorMessage=e.message)}this._handleCheckUserIdError(e)}},{key:"_showMobileDisabledLoginOptionModal",value:function(){this.modalHeader="userSettings.security.loginOption.oops",this.modalText="userSettings.security.loginOption.disableInfo",this.cancelTextResource="userSettings.security.buttons.ok",this.showLoginOptionModal="fullscreen",this.showModalActionButton=!1}},{key:"_showMobileLoginOptionFailureModal",value:function(e,t){switch(e){case this.loginOptionType.TOUCH_ID:this._showIOSLoginOptionFailurePopup(t);break;case this.loginOptionType.FINGERPRINT_ID:this._showAndroidLoginOptionFailurePopup(t);break;default:this.$log.error("_showLoginOptionFailureModal error: invalid optionType "+e)}}},{key:"_showIOSLoginOptionFailurePopup",value:function(e){var t,n,a=this.LoginOptionService.NATIVE_ERROR_CODE,s=a.NATIVE_ERROR_FAILED_BY_USER,o=a.NATIVE_ERROR_BIOMETRIC_CHANGED_BY_USER,r={faceId:(t={},(0,i.default)(t,o,{title:"userSettings.security.loginOption.faceId.loginFailMessages.changed.title",text:"userSettings.security.loginOption.faceId.loginFailMessages.changed.message"}),(0,i.default)(t,s,{title:"userSettings.security.loginOption.faceId.loginFailMessages.severalTimes.title",text:"userSettings.security.loginOption.faceId.loginFailMessages.severalTimes.message"}),t),touchId:(n={},(0,i.default)(n,o,{title:"userSettings.security.loginOption.touchId.loginFailMessages.changed.title",text:"userSettings.security.loginOption.touchId.loginFailMessages.changed.message"}),(0,i.default)(n,s,{title:"userSettings.security.loginOption.touchId.loginFailMessages.severalTimes.title",text:"userSettings.security.loginOption.touchId.loginFailMessages.severalTimes.message"}),n)};this.SessionService.isFaceIDAvailable()?(this.popupTitle=r.faceId[e].title,this.popupText=r.faceId[e].text):(this.popupTitle=r.touchId[e].title,this.popupText=r.touchId[e].text),this._activatePopupLoginOption()}},{key:"_showAndroidLoginOptionFailurePopup",value:function(e){var t=this.LoginOptionService.NATIVE_ERROR_CODE,n=t.NATIVE_ERROR_FAILED_BY_USER;e===t.NATIVE_ERROR_BIOMETRIC_CHANGED_BY_USER?(this.popupTitle="userSettings.security.loginOption.fingerprintId.loginFailMessages.changed.title",this.popupText="userSettings.security.loginOption.fingerprintId.loginFailMessages.changed.message"):e===n&&(this.popupTitle="userSettings.security.loginOption.fingerprintId.loginFailMessages.tooManyTimes.title",this.popupText="userSettings.security.loginOption.fingerprintId.loginFailMessages.tooManyTimes.message"),this._activatePopupLoginOption()}},{key:"_activatePopupLoginOption",value:function(){this.showLoginOptionModal="popup",this.showModalActionButton=!0}},{key:"_loginOptionModalClick",value:function(){this._loginWithPin()}},{key:"_loginWithPin",value:function(){this.submitNoLogout=!0,this.checkUserID()}},{key:"_loadCommonBundle",value:function(){var e=this;if(this._commonBundlePromise)return this._commonBundlePromise;this.$log.debug("Preloading common bundle");var t=(new Date).getTime();return this._commonBundlePromise=this.BundleService.loadCommonBundle().then((function(){var n=(new Date).getTime()-t;e.$log.debug("Deferred bundle loaded after(ms): ",n)})),this._commonBundlePromise}},{key:"_redirectToReenrollAfterLogin",value:function(){this.biometricSignUp(),this._loginWithPin()}},{key:"_handleMobileVisitorEnrollmentFlow",value:function(){var e=this.$state&&this.$state.params&&this.$state.params.predefinedCif;e&&(this._switchToCifInput(),this._resetUserIdField(),this.isUserIDSubmitEnabled=!0,this.userIDSectionCredentials.id=e,this.hideBusinessOption=!0,this.isMobileNewClient=void 0)}},{key:"goToAuthenticate",value:function(){this._authenticate()}},{key:"_authenticate",value:function(e,t){var n=this;this.status="Initiate Authentication part 1 successful";var i=JSON.parse(decodeURIComponent(e));"ERROR"===i.status_code&&(this.status="Error Initiate Authentication part 1"),this.assertionRequest=i.assertionRequest,this.$log.warn("Public Key","GET","https://stcdevxmngfbe53.x.dev.can:48463/v2/security/login/authenticate",this.assertionRequest);var s=this._prepareAssertionPublicKey(JSON.parse(this.assertionRequest));navigator.credentials.get({publicKey:s}).then((function(e){n.status="Begin Complete Authentication part 2",n.$log.warn("Assertion","GET","https://stcdevxmngfbe53.x.dev.can:48463/v2/security/login/complete-authentication",(0,a.default)(n._prepareAssertion(e))),t.credentials=(0,a.default)(n._prepareAssertion(e)),n.AuthService.submitCIF(t).then((function(e){n.$log.warn("AssertionResponse","GET","https://stcdevxmngfbe53.x.dev.can:48463/v2/security/login/complete-authentication",e),n.status=" Complete Authentication successful",n.EventBusService.publish(n.loginEvents.SUCCESSFUL_LOGIN,{action:n.loginActions.GO_TO_NEXT_PAGE})})).catch((function(e){n.$log.warn("Err","GET","https://stcdevxmngfbe53.x.dev.can:48463/v2/security/login/complete-authentication",e),n.status=e.message}))})).catch((function(e){n.$log.warn("Err","GET","https://stcdevxmngfbe53.x.dev.can:48463/v2/security/login/authenticate",e),n.status=e.message}))}},{key:"_ensureUint8Array",value:function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e}},{key:"_base64UrlToMime",value:function(e){return e.replace(/-/g,"+").replace(/_/g,"/")+"====".substring(0,(4-e.length%4)%4)}},{key:"_mimeBase64ToUrl",value:function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},{key:"_fromByteArray",value:function(e){return this._mimeBase64ToUrl(this.base64js.fromByteArray(this._ensureUint8Array(e)))}},{key:"_toByteArray",value:function(e){return this.base64js.toByteArray(this._base64UrlToMime(e))}},{key:"_preparePublicKey",value:function(e){e.challenge=this._toByteArray(e.challenge),e.user.id=this._toByteArray(e.user.id);for(var t=0;t<e.excludeCredentials.length;t++)e.excludeCredentials[t].id=this._toByteArray(e.excludeCredentials[t].id);return e}},{key:"_prepareAttestation",value:function(e){return window.PublicKeyCredential,{id:this._fromByteArray(e.rawId),response:{attestationObject:this._fromByteArray(e.response.attestationObject),clientDataJSON:this._fromByteArray(e.response.clientDataJSON)},clientExtensionResults:{},type:e.type}}},{key:"_prepareAssertionPublicKey",value:function(e){if(this.$log.warn("credential.publicKeyCredentialRequestOptions","GET","",(0,a.default)(e.publicKeyCredentialRequestOptions)),e.publicKeyCredentialRequestOptions.challenge=this._toByteArray(e.publicKeyCredentialRequestOptions.challenge),void 0!==e.publicKeyCredentialRequestOptions.allowCredentials)for(var t=0;t<e.publicKeyCredentialRequestOptions.allowCredentials.length;t++)e.publicKeyCredentialRequestOptions.allowCredentials[t].id=this._toByteArray(e.publicKeyCredentialRequestOptions.allowCredentials[t].id);return e.publicKeyCredentialRequestOptions}},{key:"_prepareAssertion",value:function(e){return window.PublicKeyCredential,{id:this._fromByteArray(e.rawId),response:{authenticatorData:this._fromByteArray(e.response.authenticatorData),clientDataJSON:this._fromByteArray(e.response.clientDataJSON),signature:this._fromByteArray(e.response.signature),userHandle:this._fromByteArray(e.response.userHandle)},clientExtensionResults:{},type:e.type}}},{key:"showUserIdField",set:function(e){this.rememberMe=!e,this.isShown=e},get:function(){return this.isShown}},{key:"getOnCIFDeleteModalDescription",get:function(){return this.$translate.instant("login.mobile.removeAccountFromDevice")}},{key:"shouldStopVisitorEnrollmentSubmit",get:function(){return this.isFirstTimeLogin?this.UserID&&this.UserID.login_clientId&&this.UserID.login_clientId.$touched&&!this.isUserIDSubmitEnabled:this.visitorEnrollmentSubmitClicked&&!this.isUserIDSubmitEnabled}}]),e}();h.$inject=["AuthService","LoginFlowService","MenuService","menuConstants","loginConstants","authConstants","stateConstants","autoFocusConstants","$state","$scope","$timeout","tngSelectAutocompleteConstants","$translate","$log","$sce","NativeService","LoginOptionService","SessionService","mobileSecurityConstants","$document","EventBusService","$window","BundleService","TimerService","LoginTimeoutService","EnvironmentService","FeedbackSurveyService","$q","AnalyticsService"],t.default=h,e.exports=t.default},,,function(e,t){e.exports='<div ng-if="$ctrl.parentCtrl.isVisitorEnrollment"> <h2 class="body--2" ng-bind-html="::\'newClientEnrollment.welcome.subTitleLogin\' | translate"></h2> </div> <form name="$ctrl.UserID" class="c-login c-login--userId" ng-class="{ \'c-login--vis-enroll\': $ctrl.parentCtrl.isVisitorEnrollment }"> <div class="c-login__header" ng-if="::$ctrl.parentCtrl.uiSettings.showHeader"> <tng-error-message ng-if="$ctrl.errorMessage"> {{ $ctrl.errorMessage }} </tng-error-message> <tng-error-message ng-if="$ctrl.showSafariLocalStorageError"> {{ \'login.userID.safariBrowserLocalStorageErrorMessage\' | translate }} </tng-error-message> <h2 class="heading--title2" translate>{{ \'login.userID.heading\' }}</h2> <label for="login_clientId"> <span>{{ \'login.userID.labelUserId\' | translate }}</span> <tng-help-bubble><span>{{ \'login.userID.helpBubbleInputLabel\' | translate }}</span></tng-help-bubble> </label> </div> <div class="grid__container"> <div class="c-login__panel--left" ng-class="{\'c-login__panel--left--vis-enroll\': $ctrl.parentCtrl.isVisitorEnrollment}"> <label for="login_clientId" ng-if="::$ctrl.parentCtrl.uiSettings.CIFFieldLabel" class="heading--sub3"> {{ \'login.userID.CIFFieldLabel\' | translate }} </label> <fieldset ng-if="!$ctrl.showUserIdField" class="field"> <tng-select-autocomplete ng-model="$ctrl.selectedId" input-id="userID-input" options="$ctrl.availableUserIds" option-label-key="nameToRemember" option-value-key="rememberMeHash" select-type="$ctrl.selectConstants.SELECT_TYPES.STATIC" on-select="$ctrl.handleSelect(option)" ng-required="true"> </tng-select-autocomplete> <div class="field"> <input type="checkbox" actionable-id="login_removeID" class="input" ng-model="$ctrl.userIDSectionCredentials.removeID"/> <label for="login_removeID"> <span class="sr-only">{{ \'login.userID.labelDropDown\' | translate }}</span> </label> <div class="checkbox-label"> <div class="login_removeID_desc"> {{ \'login.userID.labelDropDown\' | translate }} <tng-help-bubble><span ng-bind-html="\'login.userID.helpBubbleDropDown\' | translate"></span></tng-help-bubble> </div> </div> </div> </fieldset> <div class="field"> <input ng-if="$ctrl.showUserIdField && !$ctrl.parentCtrl.isVisitorEnrollment" name="userIdInput" actionable-id="login_clientId" class="input CB_DataMask" type="text" minlength="{{ $ctrl.userIdMinLength}}" maxlength="{{ $ctrl.userIdMaxLength }}" placeholder="{{ \'login.userID.inputPlaceHolder\' | translate }}" ng-model="$ctrl.userIDSectionCredentials.id" ng-trim="false" ng-paste="$ctrl.sanitizeInput()" ng-change="$ctrl.validateInput()" ng-required="false" autocomplete="off" autofocus autofocus-device="{{ $ctrl.autoFocusConstants.ALL }}"> <input ng-if="$ctrl.showUserIdField && $ctrl.parentCtrl.isVisitorEnrollment" name="userIdInput" actionable-id="login_clientId" class="input CB_DataMask" type="text" minlength="{{ $ctrl.userIdMinLength}}" maxlength="{{ $ctrl.userIdMaxLength }}" placeholder="{{ \'newClientEnrollment.welcome.cifPlaceholder\' | translate }}" ng-model="$ctrl.userIDSectionCredentials.id" ng-trim="false" ng-paste="$ctrl.sanitizeInput()" ng-change="$ctrl.validateInput()" ng-required="required" autocomplete="off" ng-class="{ \'warning\': $ctrl.shouldStopVisitorEnrollmentSubmit}"> <div ng-if="$ctrl.shouldStopVisitorEnrollmentSubmit\n          && !$ctrl.cifIsEmpty\n          && !$ctrl.cifSameAsMustType" class="field__error">{{ ::\'newClientEnrollment.welcome.cifNotSameAsMustType\' | translate }}</div> <div ng-if="$ctrl.shouldStopVisitorEnrollmentSubmit && $ctrl.cifIsEmpty" class="field__error">{{ ::\'global.validation.required\' | translate }}</div> </div> <div ng-if="$ctrl.parentCtrl.uiSettings.showRememberMe && $ctrl.showUserIdField && !$ctrl.isFirstTimeLogin" ng-show="$ctrl.showUserIdField" class="field remember-me"> <input ng-show="$ctrl.showUserIdField" actionable-id="login_rememberMe" type="checkbox" ng-model="$ctrl.userIDSectionCredentials.rememberMe" class="input"/> <label for="login_rememberMe"></label> <label for="login_rememberMe_text"> <span translate-cloak>{{ \'login.userID.labelRememberMe\' | translate }}</span> <tng-help-bubble><span translate-cloak>{{ \'login.userID.helpBubbleRememberMe\' | translate }}</span></tng-help-bubble> </label> </div> <button ng-hide="$ctrl.parentCtrl.isVisitorEnrollment" actionable-id="login_logMeIn" class="btn--medium CB_ReadOnly" ng-class="{ \'disabled\': !$ctrl.isUserIDSubmitEnabled }" ng-disabled=" !$ctrl.isUserIDSubmitEnabled || $ctrl.showSafariLocalStorageError" ng-click="$ctrl.checkUserID(false); $ctrl.hideVisitorSiteTimeoutErrorMessage()" type="submit" translate> <span ng-if="$ctrl.parentCtrl.isStandardLogin"> {{ \'login.userID.userIdSubmitButton\' | translate }} </span> </button> <div ng-if="$ctrl.parentCtrl.uiSettings.showForgotLink" class="c-help-block--forgot-link"> <a ng-click="$ctrl.deactiveFlow()" actionable-id="login_forgotLoginLink" ui-sref="{{$ctrl.stateConstants.FORGOT_LOGIN}}" class="link">{{ \'login.userID.forgotLogin\' | translate }}</a> </div> <div ng-if="$ctrl.parentCtrl.uiSettings.showForgotLink" class="c-help-block--forgot-link"> </div> <a actionable-id="login_businessLink" href="" ng-if="$ctrl.parentCtrl.uiSettings.showBusinessLoginLink" ng-click="$ctrl.goToState(); $ctrl.hideVisitorSiteTimeoutErrorMessage()" class="link"> {{ \'login.userID.businessLogin\' | translate }} </a> </div> <div ng-if="::$ctrl.parentCtrl.uiSettings.showPromo" class="c-login__panel--right"> <section class="insight-panel" ng-if="::$ctrl.showPromotionalOffer"> <div class="login"> <tng-insight-banner insight="$ctrl.parentCtrl.insight"></tng-insight-banner> </div> </section> </div> </div> <div ng-if="::$ctrl.parentCtrl.uiSettings.showFooter" class="grid__container--footer"> <div class="c-login__panel--left styleguide-grid-unit grid__column--1of2"> <p class="disclaimer" ng-bind-html="\'login.userID.disclaimer\' | translate | absoluteHref"> </p> </div> <div class="c-login__panel--right styleguide-grid-unit grid__column--1of2"> <div class="link-wrapper"> <p ng-bind-html="\'login.userID.securityText\' | translate | absoluteHref"></p> </div> </div> </div> </form> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(988),s=(i=a)&&i.__esModule?i:{default:i};var o={template:n(989),controller:s.default,require:{parentCtrl:"^tngLogin"},bindings:{onDataUpdate:"&",locale:"<",device:"<",nextCommand:"<",errorMessage:"<",isTimeout:"<",goToState:"&",initBusinessLogin:"&",savedBusinessIds:"<",savedAuthorizedIds:"<"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(8)),a=c(n(68)),s=c(n(0)),o=c(n(2)),r=c(n(143)),l=n(67);function c(e){return e&&e.__esModule?e:{default:e}}var u=40,d=1,_=function(){function e(t,n,i,a,o,r,c,_,E,h,S,T,p,f,g,A,v,C,m){(0,s.default)(this,e),this.AuthService=t,this.SessionService=n,this.flowService=i,this.EventBusService=a,this.EnvironmentService=v,this.stateConstants=c,this.menuConstants=_,this.loginEvents=o.LOGIN_EVENTS,this.loginCommands=o.LOGIN_COMMANDS,this.loginPlaceholderIndicator=o.LOGIN_PLACEHOLDER_INDICATOR,this.selectConstants=f,this.autoFocusConstants=g,this.$translate=E,this.$scope=h,this.$timeout=S,this.$window=T,this.$log=p,this.BundleService=A,this.FeedbackSurveyService=m,this.userIdValidation=l.userIdValidation,this.inputMinLength=d,this.inputMaxLength=u,this.userIdSanitize=l.userIdSanitize,this.NativeService=C,this.authConstants=r,this.businessIdCredentials={id:"",rememberMe:!1,removeID:!1},this.authorizedIdCredentials={id:"",rememberMe:!1,removeID:!1},this.selectedId=void 0,this.showBusinessIdField=!0,this.showAuthorizedIdField=!0,this.isSubmitEnabled=!1,this.availableIds=[],this.staticOption={rememberMeHash:this.loginPlaceholderIndicator.USE_ANOTHER,nameToRemember:"login.userID.newClientNumber"},this.pleaseSelectOption={rememberMeHash:this.loginPlaceholderIndicator.PLEASE_SELECT,nameToRemember:"login.businessID.pleaseSelect"},this.showForgotLink=!0}return(0,o.default)(e,[{key:"$onInit",value:function(){this.initBusinessLogin(),this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction("login.businessid.init")}},{key:"$onDestroy",value:function(){this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction("login.businessid.destroy")}},{key:"$onChanges",value:function(){this.businessIdCredentials={id:"",rememberMe:!1,removeID:!1},this.authorizedIdCredentials={id:"",rememberMe:!1,removeID:!1},this._toggleSavedUsers(),this._focusElement()}},{key:"validateInput",value:function(){var e=this;this.sanitizeInput((function(){e.businessIdCredentials.id?e.isSubmitEnabled=e.userIdValidation(e.businessIdCredentials.id):e.isSubmitEnabled=e.userIdValidation(e.authorizedIdCredentials.id)}))}},{key:"sanitizeInput",value:function(e){var t=this;this.$timeout((function(){t.businessIdCredentials.id?t.businessIdCredentials.id=t.userIdSanitize(t.businessIdCredentials.id):t.authorizedIdCredentials.id=t.userIdSanitize(t.authorizedIdCredentials.id),angular.isFunction(e)&&e()}),200)}},{key:"checkUserID",value:function(){var e=this,t=this._getUserDataObject();this.isSubmitEnabled=!1,this.flowService.isLoading=!0,this.AuthService.submitCIF(t).then((function(n){if(e.isSubmitEnabled=!0,!n.authenticated&&n.errorMessage)e._handleCheckUserIdError(n);else{var i=t.displayId||t.userId||t.acn;e._handleCheckUserIdSuccess(n,i)}})).catch((function(t){e.isSubmitEnabled=!0,e._handleCheckUserIdError(t)}))}},{key:"isNative",value:function(){return this.AuthService.isNative}},{key:"redirectToLogin",value:function(){this.showForgotLink=!0,this.EventBusService.publish(this.menuConstants.EVENTS.RESET_LOGIN)}},{key:"feedbackClicked",value:function(){var e={EN:this.$window.MEDALLIA_FEEDBACK_ID_EN,FR:this.$window.MEDALLIA_FEEDBACK_ID_FR};this.FeedbackSurveyService.launchFeedbackSurvey(e)}},{key:"_handleCheckUserIdSuccess",value:function(e,t){var n=this;this.BundleService.loadCommonBundle().then((function(){n.flowService.isLoading=!1,n.nextCommand=e.nextStep,n._cleanUp(e.nextStep),n.parentCtrl.validatedUserId=t,n.onDataUpdate({data:e}),e.nextStep===n.loginCommands.AIF&&(n.parentCtrl.showForgotPinLink=!0),n._toggleSavedUsers()}))}},{key:"_turnOnSavedUsers",value:function(){this.showBusinessIdField=!1,this.showAuthorizedIdField=!1,this.isSubmitEnabled=!1,this.selectedId=this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN?this.savedBusinessIds[0].rememberMeHash:this.savedAuthorizedIds[0].rememberMeHash,this.selectedId!==this.loginPlaceholderIndicator.PLEASE_SELECT&&(this.isSubmitEnabled=!0)}},{key:"_turnOffSavedUsers",value:function(){this.showBusinessIdField=!0,this.showAuthorizedIdField=!0,this.isSubmitEnabled=!1,this.selectedId=void 0}},{key:"_toggleSavedUsers",value:function(){this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN&&this.savedBusinessIds&&this.savedBusinessIds.length?(this._setStatic(this.savedBusinessIds),this._turnOnSavedUsers()):this.flowService.currentState===this.flowService.STATES.AUTHORIZED_USER&&this.savedAuthorizedIds&&this.savedAuthorizedIds.length?(this._setStatic(this.savedAuthorizedIds),this._turnOnSavedUsers()):this._turnOffSavedUsers()}},{key:"_cleanUp",value:function(e){e!==this.authConstants.steps.CIF&&(this.businessIdCredentials.id=null,this.authorizedIdCredentials.id=null,this.selectedId=void 0),e!==this.authConstants.steps.AIF&&(this.showForgotLink=!0)}},{key:"_handleCheckUserIdError",value:function(e){this.flowService.isLoading=!1,this.errorMessage=e.errorMessage,this.showForgotLink=!e.isPassmarkLocked,e.nextStep&&this._cleanUp(e.nextStep),this.onDataUpdate({data:e})}},{key:"_setStatic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[].concat((0,a.default)(e),[this.staticOption]);e.length>2&&t.unshift(this.pleaseSelectOption),this.availableIds=t}},{key:"handleSelect",value:function(e){e?e.rememberMeHash===this.loginPlaceholderIndicator.USE_ANOTHER?(this.showBusinessIdField=!0,this.showAuthorizedIdField=!0,this.isSubmitEnabled=!1):e.rememberMeHash===this.loginPlaceholderIndicator.PLEASE_SELECT?this.isSubmitEnabled=!1:this.isUserIDSubmitEnabled=!0:this.isUserIDSubmitEnabled=!1}},{key:"onRememberMeClick",value:function(){var e=this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN&&!this.showBusinessIdField&&!this.rememberMeBusiness,t=this.flowService.currentState!==this.flowService.STATES.BUSINESS_LOGIN&&!this.showAuthorizedIdField&&!this.rememberMeAuthorized;(e||t)&&(this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN?this.rememberMeBusiness=!0:this.rememberMeAuthorized=!0,this.showConfirmationModal=!0)}},{key:"dismissConfirmationModal",value:function(){this.showConfirmationModal=!1}},{key:"removeUserID",value:function(){var e=this._getUserDataObject();this.AuthService.removeCIF(e),this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN?this.rememberMeBusiness=!1:this.rememberMeAuthorized=!1,this.dismissConfirmationModal()}},{key:"getConfirmationModalSuccessButtonHandlerArray",value:function(){var e=this;return[{modalSuccessText:this.$translate.instant("login.mobile.continue"),onSuccess:function(){e.removeUserID()}}]}},{key:"_getUserDataObject",value:function(){var e=null,t=null,n=angular.isDefined(this.selectedId)&&this.selectedId!==this.staticOption.rememberMeHash,a=this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN?this.businessIdCredentials:this.authorizedIdCredentials;n?(e=this.selectedId,t=(0,r.default)(this.availableIds,(function(t){return t.rememberMeHash===e})).nameToRemember):e=a.id;var s=this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN?this.showBusinessIdField:this.showAuthorizedIdField;this.isNative()&&s&&(a.rememberMe=this.flowService.currentState===this.flowService.STATES.BUSINESS_LOGIN?this.rememberMeBusiness:this.rememberMeAuthorized);var o={acn:e,displayId:t,locale:this.locale,nextCommand:this.nextCommand,device:this.device,rememberMe:a.rememberMe,removeID:a.removeID,isBusiness:!0};return o=n&&!a.removeID?(0,i.default)(o,{ddCIF:!0}):o}},{key:"_focusElement",value:function(){var e=this;this.$timeout((function(){if(!e.isNative())if(e.flowService.currentState===e.flowService.STATES.BUSINESS_LOGIN)angular.element("#login_businessId").focus();else if(e.flowService.currentState===e.flowService.STATES.AUTHORIZED_USER){angular.element("#login_clientId").focus()}}),200)}},{key:"showBusinessIdField",set:function(e){this.rememberMeBusiness=!e,this.isBusinessShown=e},get:function(){return this.isBusinessShown}},{key:"showAuthorizedIdField",set:function(e){this.rememberMeAuthorized=!e,this.isAuthorizedShown=e},get:function(){return this.isAuthorizedShown}},{key:"getOnCIFDeleteModalDescription",get:function(){return this.$translate.instant("login.mobile.removeAccountFromDevice")}}]),e}();_.$inject=["AuthService","SessionService","LoginFlowService","EventBusService","loginConstants","authConstants","stateConstants","menuConstants","$translate","$scope","$timeout","$window","$log","tngSelectAutocompleteConstants","autoFocusConstants","BundleService","EnvironmentService","NativeService","FeedbackSurveyService"],t.default=_,e.exports=t.default},function(e,t){e.exports=' <form name="BusinessID" class="c-login c-login--userId"> <div class="c-login__header"> <tng-error-message ng-if="$ctrl.errorMessage"> {{ $ctrl.errorMessage }} </tng-error-message> <div ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.BUSINESS_LOGIN"> <h2 class="heading--title2" translate>{{ \'login.businessID.heading\' }}</h2> <label for="login_clientId"> {{ \'login.businessID.labelUserId\' | translate }} <tng-help-bubble>{{ \'login.businessID.labelUserTooltip\' | translate }}</tng-help-bubble> </label> </div> <div ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.AUTHORIZED_USER"> <h2 class="heading--title2" translate>{{ \'login.authorizedId.heading\' }}</h2> <label for="login_clientId"> {{ \'login.authorizedId.labelUserId\' | translate }} <tng-help-bubble>{{ \'login.authorizedId.labelUserTooltip\' | translate }}</tng-help-bubble> </label> </div> </div> <div class="grid__container" ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.BUSINESS_LOGIN"> <div class="c-login__panel--left styleguide-grid-unit grid__column--1of2"> <fieldset ng-if="!$ctrl.showBusinessIdField" class="field"> <tng-select-autocomplete ng-model="$ctrl.selectedId" input-id="businessId-input" options="$ctrl.availableIds" option-label-key="nameToRemember" option-value-key="rememberMeHash" select-type="$ctrl.selectConstants.SELECT_TYPES.STATIC" on-select="$ctrl.handleSelect(option)" ng-required="true"> </tng-select-autocomplete> <div class="field"> <input type="checkbox" actionable-id="login_removeID" class="input" ng-model="$ctrl.businessIdCredentials.removeID"/> <label for="login_removeID"> {{ \'login.userID.labelDropDown\' | translate }} <tng-help-bubble><span ng-bind-html="\'login.userID.helpBubbleDropDown\' | translate"></span></tng-help-bubble> </label> </div> </fieldset> <div class="field"> <input ng-if="$ctrl.showBusinessIdField" name="userIdInput" id="login_businessId" actionable-id="login_businessId" class="input CB_DataMask" type="text" minlength="{{ $ctrl.inputMinLength}}" maxlength="{{ $ctrl.inputMaxLength }}" placeholder="{{ \'login.userID.inputPlaceHolder\' | translate}}" ng-model="$ctrl.businessIdCredentials.id" ng-trim="false" ng-paste="$ctrl.sanitizeInput()" ng-change="$ctrl.validateInput()" ng-required="required" autocomplete="off" autofocus autofocus-device="{{ $ctrl.autoFocusConstants.ALL }}"> </div> <div ng-if="$ctrl.showBusinessIdField" class="field remember-me"> <input actionable-id="login_rememberMe" type="checkbox" ng-model="$ctrl.businessIdCredentials.rememberMe" class="input"/> <label for="login_rememberMe"></label> <label for="login_rememberMe_text"> {{ \'login.businessID.labelRememberMe\' | translate }} <tng-help-bubble>{{ \'login.businessID.helpBubbleRememberMe\' | translate }}</tng-help-bubble> </label> </div> <button actionable-id="login_logMeIn" class="btn--medium CB_ReadOnly" ng-class="{ \'disabled\': !$ctrl.isSubmitEnabled }" ng-disabled="!$ctrl.isSubmitEnabled" ng-click="$ctrl.checkUserID()" type="submit" translate> {{ \'login.businessID.submitButton\' }} </button> <a ng-click="$ctrl.goToState()" href="" actionable-id="login_businessId_personalBankingLink" class="link personalBanking_link" translate>{{ \'login.businessID.personalBanking\' }}</a> </div> </div> <div class="grid__container" ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.AUTHORIZED_USER"> <div class="c-login__panel--left styleguide-grid-unit grid__column--1of2"> <fieldset ng-if="!$ctrl.showAuthorizedIdField" class="field"> <tng-select-autocomplete ng-model="$ctrl.selectedId" options="$ctrl.availableIds" option-label-key="nameToRemember" option-value-key="rememberMeHash" select-type="$ctrl.selectConstants.SELECT_TYPES.STATIC" on-select="$ctrl.handleSelect(option)" ng-model="$ctrl.selectedId" ng-required="true"> </tng-select-autocomplete> <div class="field"> <input type="checkbox" id="login_removeID" class="input" ng-model="$ctrl.authorizedIdCredentials.removeID"/> <label for="login_removeID"> {{ \'login.userID.labelDropDown\' | translate }} <tng-help-bubble><span ng-bind-html="\'login.userID.helpBubbleDropDown\' | translate"></span></tng-help-bubble> </label> </div> </fieldset> <div class="field"> <input ng-if="$ctrl.showAuthorizedIdField" name="userIdInput" id="login_clientId" actionable-id="login_clientId" class="input CB_DataMask" type="text" minlength="{{ $ctrl.inputMinLength}}" maxlength="{{ $ctrl.inputMaxLength }}" placeholder="{{ \'login.userID.inputPlaceHolder\' | translate}}" ng-model="$ctrl.authorizedIdCredentials.id" ng-trim="false" ng-paste="$ctrl.sanitizeInput()" ng-change="$ctrl.validateInput()" ng-required="required" autocomplete="off" autofocus autofocus-device="{{ $ctrl.autoFocusConstants.ALL }}"> </div> <div ng-if="$ctrl.showAuthorizedIdField" class="field remember-me"> <input ng-show="$ctrl.showAuthorizedIdField" actionable-id="login_rememberMe" type="checkbox" ng-model="$ctrl.authorizedIdCredentials.rememberMe" class="input"/> <label for="login_rememberMe"></label> <label for="login_rememberMe_text"> {{ \'login.authorizedId.labelRememberMe\' | translate }} <tng-help-bubble>{{ \'login.authorizedId.helpBubbleRememberMe\' | translate }}</tng-help-bubble> </label> </div> <button actionable-id="login_logMeIn" class="btn--medium CB_ReadOnly" ng-class="{ \'disabled\': !$ctrl.isSubmitEnabled }" ng-disabled="!$ctrl.isSubmitEnabled" ng-click="$ctrl.checkUserID()" type="submit" translate> {{ \'login.authorizedId.submitButton\' | translate }} </button> <div class="c-login--submitSubtext"> <span ng-bind-html="\'login.authorizedId.businessNumber1\' | translate"></span> <strong>{{ $ctrl.parentCtrl.validatedUserId }}</strong> <span ng-bind-html="\'login.authorizedId.businessNumber2\' | translate"></span> <a ng-click="$ctrl.redirectToLogin()" class="link" translate><span ng-bind-html="\'login.authorizedId.businessNumber3\' | translate"></span></a>. </div> </div> </div> <div class="grid__container--footer"> <div class="c-login__panel--left styleguide-grid-unit grid__column--1of2"> <p class="disclaimer" translate> {{ \'login.userID.disclaimer\' }} </p> </div> <div class="c-login__panel--left styleguide-grid-unit grid__column--1of2"> <div class="link-wrapper"> <p ng-bind-html="\'login.userID.securityText\' | translate | absoluteHref"></p> </div> </div> </div> </form>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(991)),a=s(n(992));function s(e){return e&&e.__esModule?e:{default:e}}n(993);var o={template:i.default,controller:a.default,require:{},bindings:{onDataUpdate:"&",errorMessage:"<",isTimeout:"<",question:"<",parentCtrl:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<form name="$ctrl.securityQuestionForm" class="c-login c-login--security-question"> <div class="grid__container"> <div class="grid__column--1of2"> <h2 class="heading--title2" id="login_secretQuestion_heading" translate> {{ ::\'login.secretQuestion.heading\' }} </h2> <tng-error-message ng-if="$ctrl.errorMessage"> <span>{{ $ctrl.errorMessage }}</span> </tng-error-message> <label for="login_secretQuestion" id="login_secretQuestion_label" class="CB_DoNotShow">{{ $ctrl.question }}</label> <div class="field"> <user-field-mask ufm-name="securityQuestion" ufm-view="$ctrl.questionInputInView(inViewVal)" ufm-focus="$ctrl.onQuestionFocus()" ufm-blur="$ctrl.onQuestionBlur()" ufm-change="$ctrl.validateInput(secretQuestion)" ufm-model="$ctrl.secretQuestionCredentials.secretQuestion" ufm-placeholder="$ctrl.secretQuestionPlaceholder" ufm-show-border="$ctrl.securityQuestionForm.securityQuestion.$dirty && $ctrl.securityQuestionForm.securityQuestion.$invalid" maximum-length="$ctrl.secQuestMaxLength"> </user-field-mask> <div ng-messages="$ctrl.securityQuestionForm.securityQuestion.$error" ng-show="$ctrl.securityQuestionForm.securityQuestion.$dirty" class="field__error"> <p ng-message="required"> {{ ::\'login.resetPin.requiredField\' | translate }} </p> </div> </div> <div class="field skip-next-time"> <input id="login_skipQuestion" type="checkbox" class="input CB_ReadOnly" ng-model="$ctrl.secretQuestionCredentials.skipSecurityQuestion"/> <label class="skip-next-time__checkbox" for="login_skipQuestion" id="login_skipQuestion_label"></label> <label for="login_skipQuestion" id="login_skipQuestion_label_text"> {{ ::\'login.secretQuestion.labelSkip\' | translate }} <tng-help-bubble><span ng-bind-html="\'login.secretQuestion.helpBubbleSkip\' | translate"></span></tng-help-bubble> </label> <div ng-if="$ctrl.secretQuestionCredentials.skipSecurityQuestion" class="skipContent"> <p> {{ \'login.secretQuestion.registerComputer\' | translate }} </p> <p> <span translate>{{ \'login.secretQuestion.learnMorePart1\' }}</span> <a actionable-id="secret-question-lear_more-part_2" href="{{ \'login.secretQuestion.learnMoreLink\' | translate | absoluteHref:\'url\' }}" class="link" target="_blank">{{ \'login.secretQuestion.learnMorePart2\' | translate }}</a> </p> </div> </div> <div ng-if="$ctrl.showCaptchaImage" class="c-captcha"> <div class="c-captcha--captcha"> <p> <strong>{{ ::\'login.secretQuestion.captchaErrorMessageTitle\' | translate }}</strong> <br> <span>{{ ::\'login.secretQuestion.captchaErrorMessageBody\' | translate }}</span> <tng-help-bubble> <span ng-bind-html="\'login.secretQuestion.helpBubbleCaptcha\' | translate"></span> </tng-help-bubble> </p> </div> <img ng-if="$ctrl.showCaptchaImage" ng-src="{{ $ctrl.captchaImage }}" class="captcha-image" alt="Captcha Image"> <a actionable-id="secret-question-new_image" href="" class="link" ng-click="$ctrl.generateCaptchaImage()">{{ ::\'login.secretQuestion.newImage\' | translate }}</a> <div class="field"> <input id="login_captchImage" class="input" type="text" maxlength="{{ $ctrl.captchaMaxLength }}" ng-change="$ctrl.validateCaptchaInput($ctrl.secretQuestionCredentials.captchaAnswer)" ng-model="$ctrl.secretQuestionCredentials.captchaAnswer" placeholder="{{ \'login.secretQuestion.inputCaptchaPlaceholder\' | translate }}" autocapitalize="none"> </div> </div> <button actionable-id="login_Next" class="btn--medium CB_ReadOnly" ng-if="!$ctrl.isLockedOut" ng-class="{ \'disabled\': !$ctrl.isSecQuestSubmitEnabled }" ng-disabled="!$ctrl.isSecQuestSubmitEnabled" ng-click="$ctrl.checkSecret($ctrl.secretQuestionCredentials)" type="submit" translate> {{ ::\'login.secretQuestion.secretQuestionSubmitButton\' }} </button> <p class="user-info CB_DataMask" translate translate-values="{ userId: $ctrl.parentCtrl.validatedUserId }"> {{ ::\'login.secretQuestion.clientNumber\' }} </p> <p> <span translate>{{ ::\'login.secretQuestion.wrongUserId\' }}</span> <a actionable-id="secret-question-wrong_user_id" ng-href="#" ng-click="$ctrl.handleBackToCif()" class="link inline" translate>{{ ::\'login.secretQuestion.wrongUserIdLink\' }}.</a> </p> <a actionable-id="secret-question-safe_and_secure" ng-href="#" ng-click="$ctrl.flowService.openBrowserToSafeAndSecureLink()" target="_blank" class="link" translate>{{ ::\'login.common.safeAndSecure\' }}</a> </div> </div> </form> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var r=40,l=40,c=function(){function e(t,n,a,o,c,u,d,_,E,h,S,T,p,f,g,A){var v=this;(0,i.default)(this,e),this.EventBusService=t,this.AuthService=n,this.EnvironmentService=a,this.SessionService=o,this.flowService=c,this.TimerService=T,this.LoginTimeoutService=g,this.ChatbotService=A,this.loginEvents=u.LOGIN_EVENTS,this.loginCommands=u.LOGIN_COMMANDS,this.authConstants=d,this.autoFocusConstants=_,this.$window=E,this.$document=h,this.$timeout=p,this.$log=f,this.$translate=S,this.isNative=a.isNative(),this.isAndroid=a.isAndroid(),this.captchaValidation=s.captchaValidation,this.errorMessage=!1,this.secQuestMaxLength=r,this.captchaMaxLength=l,this.captchaImage="",this.generateCaptchaImage(),this.isSecQuestSubmitEnabled=!1,this.isLockedOut=!1,this.nextCommand=this.loginCommands.VERIFY_CHALLENGE_QUESTION,this.failedTries=0,this.passmarkFailedTries=0,this.showChatbotLockoutMessage=!1,this.secretQuestionCredentials={question:"",secretQuestionAnswer:"",captchaAnswer:"",skipSecurityQuestion:!1},this.showCaptchaImage=!1,this.isFormSubmitting=!1,this.LoginTimeoutService.subscribe((function(){v._resetFormSubmissionState()}))}return(0,a.default)(e,[{key:"$onInit",value:function(){this.$document[0].title=this.$translate.instant("login.secretQuestion.pageTitle"),this.securityQuestionForm={},this.TimerService.endTimerForAction(this.TimerService.EVENTS.SUBMIT_CIF)}},{key:"$onDestroy",value:function(){this.LoginTimeoutService.unsubscribe()}},{key:"_resetFormSubmissionState",value:function(){this.isSecQuestSubmitEnabled=!0,this.isFormSubmitting=!1}},{key:"$onChanges",value:function(){if(this.flowService.currentState===this.flowService.STATES.SECRET_QUESTION){this.isTimeout&&this.handleBackToCif();var e=this.$window.document.getElementById("login_secretQuestion");e&&e.focus()}}},{key:"onQuestionFocus",value:function(){this.isNative&&this.isAndroid&&(this.innerHeightOrig=window.innerHeight,window.innerHeight-=200,this.questionInputInView(!1))}},{key:"onQuestionBlur",value:function(){this.innerHeightOrig&&this.isNative&&this.isAndroid&&(window.innerHeight=this.innerHeightOrig)}},{key:"questionInputInView",value:function(e){var t=this;this.$timeout((function(){if(!e)try{t.$document.find('div[ui-view="page-content"]')[0].scrollTop=t.$document[0].getElementById("login_secretQuestion_label").offsetTop-60}catch(e){t.$log.error("questionInputInView error:",e)}}),0)}},{key:"handleBackToCif",value:function(){this.SessionService.errorMessage=!1,this.onDataUpdate({data:{nextStep:"init"}})}},{key:"generateCaptchaImage",value:function(){var e=this.EnvironmentService.getAPIUrl();this.captchaImage=e+"/web/images/captcha.jpg?v=."+Math.random()}},{key:"validateInput",value:function(e){this.isSecQuestSubmitEnabled=e&&null!==e&&""!==e}},{key:"validateCaptchaInput",value:function(e){this.isSecQuestSubmitEnabled=this.captchaValidation(e)}},{key:"checkSecret",value:function(){var e=this;if(!this.isFormSubmitting){this.isFormSubmitting=!0,this.TimerService.startTimerForAction(this.TimerService.EVENTS.SUBMIT_PASSMARK),this.isSecQuestSubmitEnabled=!1;var t=this.showCaptchaImage,n={challengeAnswer:this.secretQuestionCredentials.secretQuestion,skipSecurityQuestion:this.secretQuestionCredentials.skipSecurityQuestion,nextCommand:this.SessionService.nextCommand};t&&(n.Captcha=this.secretQuestionCredentials.captchaAnswer),this.flowService.isLoading=!0,this.AuthService.checkSecret(n).then((function(t){!t.authenticated&&t.errorMessage?e._handleSecretError(t):(e.secretQuestionCredentials.skipSecurityQuestion&&(e.SessionService.isDeviceBound=!0),e._handleCheckSecretSuccess(t),e.ChatbotService.passmarkSuccess())})).catch((function(t){e._handleSecretError(t)})).finally((function(){e._resetFormSubmissionState()}))}}},{key:"_handleCheckSecretSuccess",value:function(e){this.flowService.isLoading=!1,this.nextCommand=e.nextCommand,this._cleanUp(e.nextStep),this.onDataUpdate({data:e}),e.passmark.phrase&&this.EventBusService.publish(this.loginEvents.SET_PIN_PHRASE,e)}},{key:"_cleanUp",value:function(e){e!==this.authConstants.steps.QUESTION&&(this.secretQuestionCredentials.secretQuestion=null,this.secretQuestionCredentials.skipSecurityQuestion=!1)}},{key:"_handleSecretError",value:function(e){this.flowService.isLoading=!1,this.failedTries=this.failedTries+1,(this.failedTries<3||"true"===e.isPinLocked)&&(this.showChatbotLockoutMessage="true"===e.isPinLocked,this.passmarkFailedTries=this.passmarkFailedTries+1,this.ChatbotService.setPassmarkFailedTries(this.passmarkFailedTries,this.showChatbotLockoutMessage)),this.EnvironmentService.isNative()?(this.errorMessage=this.failedTries>2?this.$translate.instant("global.errorCodes.PASSMARK_LOCKED"):this.$translate.instant("login.secretQuestion.mobileInvalidAnswer"),this.SessionService.errorMessage=this.errorMessage):this.errorMessage=this.failedTries<2?e.errorMessage:this.$translate.instant("login.secretQuestion.warnings.twoFails"),this.isSecQuestSubmitEnabled=!1,e.isPinLocked&&(this.isLockedOut=!0),!this.EnvironmentService.isNative()&&("true"===e.showCaptcha||this.failedTries>1)&&(this.secretQuestionCredentials.captchaAnswer="",this.generateCaptchaImage(),this.showCaptchaImage=!0),this.EnvironmentService.isNative()&&this.failedTries>2&&(this.isLockedOut=!0,this.EventBusService.publish(this.loginEvents.PASSMARK_LOCKED)),this._cleanUp(e.nextStep),e.nextStep&&this.onDataUpdate({data:e})}}]),e}();c.$inject=["EventBusService","AuthService","EnvironmentService","SessionService","LoginFlowService","loginConstants","authConstants","autoFocusConstants","$window","$document","$translate","TimerService","$timeout","$log","LoginTimeoutService","ChatbotService"],t.default=c,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(995)),a=s(n(996));function s(e){return e&&e.__esModule?e:{default:e}}n(997);var o={template:i.default,controller:a.default,require:{},bindings:{onDataUpdate:"&",errorMessage:"<",isTimeout:"<",parentCtrl:"<",isFirstTimeLogin:"<",exposeSubmit:"&?",submitCifPinClick:"&?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<form name="$ctrl.pinSectionForm" autocomplete="off" novalidate> <div ng-if="$ctrl.parentCtrl.isVisitorEnrollment"> <div ng-if="$ctrl.isFirstTimeLogin"> <div class="c-login--pin__subheader">{{ \'newClientEnrollment.welcome.pin\' | translate }}</div> </div> <div ng-if="!$ctrl.isFirstTimeLogin"> <h1 class="heading--title2">{{ \'newClientEnrollment.welcome.titleWelcome\' | translate }}</h1> <h2 class="body--2">{{ \'newClientEnrollment.welcome.subTitlePIN\' | translate }}</h2> </div> </div> <div name="PIN" class="c-login c-login--pin" ng-class="{ \'c-login--vis-enroll\': $ctrl.parentCtrl.isVisitorEnrollment }"> <div class="c-login__header" ng-if="::$ctrl.parentCtrl.uiSettings.showHeader"> <h2 ng-show="$ctrl.phrase" class="heading--title2" id="login_pin_heading" translate>{{ ::\'login.pin.heading\' }}</h2> <h2 ng-show="!$ctrl.phrase" class="heading--title2" id="login_pinFirstLogin_heading" translate>{{ ::\'login.pinFirstLogin.heading\' }}</h2> </div> <div class="c-login__panel--left--pin styleguide-grid-unit grid__column--3of4"> <tng-error-message ng-if="$ctrl.errorMessage && !$ctrl.isFirstTimeLogin"> {{ $ctrl.errorMessage }} </tng-error-message> <label for="login_pin" ng-if="::$ctrl.parentCtrl.uiSettings.showHeader"> <span ng-if="$ctrl.phrase">{{ ::\'login.pin.labelPIN\' | translate }}</span> <span ng-if="!$ctrl.phrase">{{ ::\'login.pinFirstLogin.labelPIN\' | translate }}</span> <tng-help-bubble>{{ ::\'login.pin.helpBubblePin\' | translate }}</tng-help-bubble> </label> </div> <div class="c-login__panel--right--pin styleguide-grid-unit grid__column--1of4" ng-if="::$ctrl.parentCtrl.uiSettings.showDoubleSafe" ng-class="{\'hasError\': $ctrl.errorMessage}"> <div ng-if="!$ctrl.phrase" class="panel"> <strong translate>{{ ::\'login.pin.passmarkTagline\' }}</strong> <p translate>{{ ::\'login.pin.passmarkDesc\' }}</p> </div> <div ng-if="$ctrl.showPassmark() || $ctrl.phrase !== \' \' " class="security-image" id="login_security_image" ng-class="{\'hasError\': $ctrl.errorMessage}"> <img ng-if="$ctrl.passmark" class="CB_DoNotShow" data-ng-src="data:image/png;base64,{{$ctrl.passmark}}" alt="{{ \'login.common.securityImageTitle\' | translate}}"> <img ng-if="$ctrl.passmarkUrl && $ctrl.phrase" class="CB_DoNotShow" ng-src="{{$ctrl.passmarkUrl}}?no-cache={{ $ctrl.date }}" alt="{{ \'login.common.securityImageTitle\' | translate}}"> <strong ng-if="$ctrl.phrase" class="pass-phrase CB_DataMask" id="login_pin_phrase">{{ ::$ctrl.phrase }}</strong> </div> </div> <div class="c-login__panel--left--pin styleguide-grid-unit grid__column--1of2" ng-class="{\'c-login__panel--left--vis-enroll\': $ctrl.parentCtrl.isVisitorEnrollment}"> <div class="field"> <input ng-if="!$ctrl.isFirstTimeLogin" type="{{ ::$ctrl.inputType }}" name="login_pin" id="login_pin" class="input CB_DataMask" ng-class="{warning:\n              $ctrl.pinSectionForm.login_pin.$invalid &&\n              $ctrl.pinSectionForm.login_pin.$touched &&\n              $ctrl.pinSectionForm.login_pin.$dirty &&\n              $ctrl.showErrorOn,\n              \'c-login__grey\':  $ctrl.isPinLockedInPinPage\n            }" maxlength="6" minlength="4" numeric-input inputmode="numeric" in-view="$ctrl.pinInputInView($inview, $inviewInfo)" autofocus autofocus-device="{{ ::$ctrl.autoFocusConstants.ALL }}" autocomplete="off" ng-change="$ctrl.validateInput($ctrl.pinCredentials.PIN)" ng-focus="$ctrl.onFocus()" ng-required="true" ng-blur="$ctrl.onBlur()" ng-disabled="$ctrl.isPinLockedInPinPage" ng-model="$ctrl.pinCredentials.PIN" ng-trim="false" placeholder="{{::$ctrl.pinPlaceholder}}"> <input ng-if="$ctrl.isFirstTimeLogin" type="{{ ::$ctrl.inputType }}" name="login_pin" id="login_pin" class="input CB_DataMask" ng-class="{warning:\n              $ctrl.pinSectionForm.login_pin.$invalid &&\n              $ctrl.pinSectionForm.login_pin.$touched &&\n              $ctrl.pinSectionForm.login_pin.$dirty &&\n              $ctrl.showErrorOn,\n              \'c-login__grey\':  $ctrl.isPinLockedInPinPage\n            }" maxlength="6" minlength="4" numeric-input inputmode="numeric" in-view="$ctrl.pinInputInView($inview, $inviewInfo)" autocomplete="off" ng-change="$ctrl.validateInput($ctrl.pinCredentials.PIN)" ng-focus="$ctrl.onFocus()" ng-required="true" ng-blur="$ctrl.onBlur()" ng-disabled="$ctrl.isPinLockedInPinPage" ng-model="$ctrl.pinCredentials.PIN" ng-trim="false" placeholder="{{::$ctrl.pinPlaceholder}}"> <div class="field__error_const_height"> <div ng-messages="$ctrl.pinSectionForm.login_pin.$error" ng-show="$ctrl.pinSectionForm.login_pin.$touched && $ctrl.pinSectionForm.login_pin.$dirty && $ctrl.showErrorOn" class="field__error"> <p ng-message="required"> {{ ::\'login.pin.requiredField\' | translate }} </p> <p ng-message="minlength"> {{ ::\'login.pin.fourDigits\' | translate }} </p> </div> </div> </div> <button ng-if="!$ctrl.isFirstTimeLogin" actionable-id="login_signIn" type="submit" class="btn--small button CB_ReadOnly" ng-hide="$ctrl.isPinLockedInPinPage" ng-class="{ \'disabled\' : (!$ctrl.isPINSubmitedEnabled || $ctrl.isPinLockedInPinPage) }" ng-disabled="(!$ctrl.isPINSubmitedEnabled || $ctrl.isPinLockedInPinPage)" ng-click="$ctrl.checkPIN()" translate> {{ ::\'login.pin.pinSubmitButton\' | translate }} </button> <button ng-if="$ctrl.isFirstTimeLogin && !$ctrl.flowService.isLoading" actionable-id="login_logMeIn" class="btn--small CB_ReadOnly margin__t--rel2" type="submit" ng-click="$ctrl.submitCifPinClick()" translate> {{ \'login.pin.pinSubmitButton\' | translate }} </button> <p><a ng-if="\n            !$ctrl.isBusiness && ($ctrl.parentCtrl.showForgotPinLink || $ctrl.AuthService.showForgotPinLink) &&\n            $ctrl.phrase" class="link forgot CB_ReadOnly c-login__link" actionable-id="login_pinSection_resetPinLink" ui-sref="{{$ctrl.stateConstants.RESET_PIN}}" ng-click="$ctrl.resetPin()" translate> {{ ::\'login.pin.forgotPIN\' }} </a></p> <p ng-if="!$ctrl.phrase" translate> {{ ::\'login.pin.forgotPINNoPassmark\' }} </p> <div class="c-login__clearfix"></div> <span ng-if="$ctrl.parentCtrl.invalidUserId && !$ctrl.isFirstTimeLogin"> <div class="margin__b--fix2 margin__b--fix1"> <span class="user-info CB_DataMask" ng-bind-html="$ctrl.getClientDescription()"></span> <a actionable-id="secret-question-wrong_user_id" ng-href="#" ng-click="$ctrl.handleBackToCif()" class="link inline" translate>{{ ::\'login.secretQuestion.wrongUserIdLink\' }}.</a> </div> </span> <p class="margin__b--fix1" translate ng-if="$ctrl.parentCtrl.uiSettings.showFooter && $ctrl.phrase">{{::\'login.pin.warning\' }}</p> <a actionable-id="secret-question-safe_and_secure" ng-href="#" ng-click="$ctrl.flowService.openBrowserToSafeAndSecureLink()" target="_blank" class="link" translate>{{ ::\'login.common.safeAndSecure\' }}</a> </div> </div>  </form> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E,h,S,T,p,f,g,A,v,C,m,I,O){var N=this;(0,i.default)(this,e),this.AuthService=n,this.flowService=a,this.LocaleService=h,this.SessionService=s,this.EnvironmentService=t,this.ChatbotService=O,this.loginEvents=o.LOGIN_EVENTS,this.loginCommands=o.LOGIN_COMMANDS,this.loginActions=o.LOGIN_ACTIONS,this.authConstants=r,this.stateConstants=l,this.GlobalModalsService=E,this.autoFocusConstants=c,this.EventBusService=g,this.resetPinConstants=A,this.TimerService=v,this.LoginTimeoutService=m,this.$q=I,this.isPinLockedInPinPage=!1,this.isNative=t.isNative(),this.isPINSubmitedEnabled=!1,this.errorMessage=!1,this.nextCommand=this.loginCommands.VALID_PIN_COMMAND,this.passmark=null,this.phrase=null,this.passmarkUrl=null,this.secretQuestion=this.SessionService.getSession().securityQuestion,this.isBusiness=this.SessionService.getSession().isBusiness,this.$timeout=d,this.$element=_,this.$state=S,this.$document=T,this.$translate=p,this.$anchorScroll=f,this.inputType=this.getInputType(),this.date=new Date,this.$scope=u,this.pinCredentials={passmark:"",phrase:"",PIN:""},this.isFormSubmitting=!1,this.menuConstants=C,this.isResetLoginEventInProgress=!1,this.LoginTimeoutService.subscribe((function(){N._resetFormSubmissionState()})),this.failedCount=0}return(0,a.default)(e,[{key:"getInputType",value:function(){return this.EnvironmentService.isEdge()||!this.EnvironmentService.isWebKit()?"password":"tel"}},{key:"$onInit",value:function(){var e=this;this.AuthService.getPassmarks().then((function(t){t&&(e.phrase=t.phrase,void 0!==t.phrase&&null!==t.phrase&&""!==t.phrase||(e.phrase=" "),e.passmark=t.image,e.passmarkUrl=t.url)})),this.$document[0].title=this.$translate.instant("login.pin.pageTitle"),this.pinSectionForm={},this.TimerService.endTimersForActions([this.TimerService.EVENTS.SUBMIT_CIF,this.TimerService.EVENTS.SUBMIT_PASSMARK]),this.$timeout((function(){e.$anchorScroll()}),150),this.EventBusService.subscribe(this.$scope,this.menuConstants.EVENTS.RESET_LOGIN,(function(){e.isResetLoginEventInProgress=!0})),this.pinPlaceholder=this.isFirstTimeLogin?this.$translate.instant("newClientEnrollment.welcome.pinPlaceholder"):this.$translate.instant("login.pin.inputPlaceHolder"),this.exposeSubmit&&this.exposeSubmit({pinSubmit:this.checkPIN.bind(this),validatePinFormOnly:this.firstTimeLoginPinFormValidation.bind(this)})}},{key:"$onChanges",value:function(){this.flowService.currentState===this.flowService.STATES.PIN&&this.isTimeout&&this.handleBackToCif()}},{key:"$onDestroy",value:function(){this.LoginTimeoutService.unsubscribe()}},{key:"_resetFormSubmissionState",value:function(){this.isPINSubmitedEnabled=!0,this.isFormSubmitting=!1}},{key:"handleBackToCif",value:function(){this.SessionService.errorMessage=!1,this.onDataUpdate({data:{nextStep:"init"}})}},{key:"validateInput",value:function(e){this.isPINSubmitedEnabled=(0,s.pinValidation)(e),this.showErrorOn=!1}},{key:"onBlur",value:function(){this.showErrorOn=!0,this.innerHeightOrig&&this.isNative&&this.EnvironmentService.isAndroid()&&(window.innerHeight=this.innerHeightOrig)}},{key:"onFocus",value:function(){this.isNative&&this.EnvironmentService.isAndroid()&&(this.innerHeightOrig=window.innerHeight,window.innerHeight-=200,this.pinInputInView(!1))}},{key:"_isValidKeyCode",value:function(e){var t=13===e.keyCode||13===e.charCode,n=9===e.keyCode;return t||n}},{key:"checkPIN",value:function(){var e=this,t=this.$q.defer();return this.isFirstTimeLogin&&this.firstTimeLoginPinFormValidation(),this.isFormSubmitting||this.isFirstTimeLogin&&!this.isPINSubmitedEnabled?(t.reject(),t.promise):(this.isFormSubmitting=!0,this.AuthService.isAuthenticated()||this.TimerService.startTimerForAction(this.TimerService.EVENTS.SUBMIT_PIN),this.isPINSubmitedEnabled=!1,this.flowService.isLoading=!0,this.AuthService.submitPin({pin:this.pinCredentials.PIN,nextCommand:this.nextCommand,locale:this.LocaleService.locale}).then((function(n){if(e.isResetLoginEventInProgress)return e.isResetLoginEventInProgress=!1,void t.reject();!n.authenticated&&n.errorMessage?(e._handleCheckPINError(n),t.reject(n)):(e._handleCheckPINSuccess(n),t.resolve(n))})).catch((function(n){e._handleCheckPINError(n),t.reject(n)})).finally((function(){e._resetFormSubmissionState()})),t.promise)}},{key:"firstTimeLoginPinFormValidation",value:function(){this.validateInput(this.pinCredentials.PIN),this.showErrorOn=!0,this.pinSectionForm.login_pin.$dirty=!0,this.pinSectionForm.login_pin.$touched=!0}},{key:"pinInputInView",value:function(e){var t=this;this.$timeout((function(){if(!e)try{var n=t.$document[0].getElementById("login_security_image").offsetTop;t.$document.find('div[ui-view="page-content"]')[0].scrollTop=n,t.$document.find('div[class="dialog__main-content"]')[0].scrollTop=n}catch(e){}}),0)}},{key:"resetPin",value:function(){this.flowService.deactivate(!0),this.AuthService.showForgotPinLink=!0,this.$state.go(this.stateConstants.RESET_PIN),this.ChatbotService.pinReset()}},{key:"_handleCheckPINSuccess",value:function(e){this._cleanUp(e),e.firstTime||!e.passmark?this.EventBusService.publish(this.loginEvents.SUCCESSFUL_LOGIN,{action:this.loginActions.SHOW_FIRST_TIME_USER,data:e.firstTime}):e.authenticated&&this.EventBusService.publish(this.loginEvents.SUCCESSFUL_LOGIN,{action:this.loginActions.GO_TO_NEXT_PAGE}),this.isNative||(this.EventBusService.publish(this.loginEvents.LOGIN_FOR_ANALYTICS,{authType:"pin",stepUp:!1}),this.ChatbotService.pinSuccess(),this.failedCount=0)}},{key:"_handleCheckPINError",value:function(e){this.flowService.isLoading=!1,this.errorMessage=e.errorMessage,this._cleanUp(e),this.failedCount=this.failedCount+1,this.ChatbotService.setPinFailedAttempt(this.failedCount,e.isPinLocked),this.isNative&&(e.authStatus===this.authConstants.status.PIN_LOCKED?(this.isPinLockedInPinPage=!0,this.errorMessage=this.$translate.instant("login.pin.mobilePinLocked"),this.EventBusService.publish(this.loginEvents.PIN_LOCKED)):this.errorMessage=this.$translate.instant("login.pin.mobileInvalidPin"),this.SessionService.errorMessage=this.errorMessage),this.isFirstTimeLogin?this.pinSectionForm.login_pin.$dirty=!0:e.nextStep&&this.onDataUpdate({data:e})}},{key:"_cleanUp",value:function(e){(e.nextStep!==this.authConstants.steps.PIN||this.isFirstTimeLogin)&&(this.pinCredentials.PIN=null),this.isPinLockedInPinPage=e.IsPinLock||e.isPinLockedInPinPage,this.isPINSubmitedEnabled=!e.IsPinLock||!e.isPinLockedInPinPage}},{key:"showPassmark",value:function(){return!this.parentCtrl.invalidUserId&&(this.EnvironmentService.isNative()?this.passmark:this.passmarkUrl&&this.phrase)}},{key:"getClientDescription",value:function(){return this.$translate.instant("login.secretQuestion.clientNumber",{userId:this.parentCtrl.invalidUserId})}}]),e}();r.$inject=["EnvironmentService","AuthService","LoginFlowService","SessionService","loginConstants","authConstants","stateConstants","autoFocusConstants","$scope","$timeout","$element","GlobalModalsService","LocaleService","$state","$document","$translate","$anchorScroll","EventBusService","resetPinConstants","TimerService","menuConstants","LoginTimeoutService","$q","ChatbotService"],t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_(n(999)),a=_(n(1003)),s=_(n(1007)),o=_(n(1013)),r=_(n(1017)),l=_(n(1021)),c=_(n(1025)),u=_(n(1026)),d=_(n(1038));function _(e){return e&&e.__esModule?e:{default:e}}var E=angular.module("tangerine.app.core.components.firstLogin",[]).component("tngFirstLogin",i.default).component("tngImageSelect",s.default).component("tngUsername",a.default).component("tngPhraseSelect",o.default).component("tngQuestionSelect",r.default).component("tngConfirmation",l.default).service("FirstLoginService",c.default).service("FirstLoginFlowService",u.default).constant("firstLoginConstants",d.default);t.default=E,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1e3)),a=s(n(1001));function s(e){return e&&e.__esModule?e:{default:e}}n(1002);var o={template:a.default,controller:i.default,bindings:{onClose:"&",initialState:"<",enableFullPassmarkForm:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E,h,S){(0,i.default)(this,e),this.$log=t,this.isNative=a.isNative(),this.FirstLoginService=s,this.FirstLoginService.isLogin=!1,this.flowService=n,this.$state=o,this.stateConstants=r,this.EventBusService=l,this.firstLoginConstants=c,this.$scope=u,this.RequesterService=d,this.serviceConstants=_,this.AnchorService=E,this.flowService.AnchorService=E,this.$q=h,this.FlowFooterService=S,this.questionsLoaded=!1,this.showValidation=!1}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this,t=angular.isObject(this.initialState)&&this.initialState.Command;if(this.isInitialStateSet=t,this.flowService.activate(),this.flowService.enableHijackWindowUnload(),this.enableFullPassmarkForm&&!t)return this.$q.when(!0).then((function(){return e.isNative?e.FirstLoginService.getCategoryData():e.FirstLoginService.sendPhraseData("Fake"+Date.now())})).then((function(t){e.isNative?e.flowService.questionOptions=t.question_list.map((function(e){return{Value:e.question_id,question:e.question}})):e.flowService.questionOptions=t.MessageBody.ChangePassMarkQuestion.ChallengeQuestions})).catch((function(t){e.$log.error(t)})).finally((function(){e.FlowFooterService.setupHooks({visibility:function(){return!e.flowService.showConfirmExitUI&&!e.flowService.isLoading&&e.enableFullPassmarkForm&&e.flowService.currentState!==e.flowService.STATES.CONFIRMATION},gotoPreviousState:function(){return e.onGrayBtnClick()},gotoNextState:function(){return e.onOrgBtnClick()},flowService:e.flowService}),e.FlowFooterService.enable(),e.questionsLoaded=!0,e.flowService.exitLoadingMode()})),void this.flowService.moveTo(this.flowService.STATES.FULL_PASSMARK_FORM);if(this.flowService.isInitialStateSet=t,this.flowService.errorMessage=null,t)switch(this.initialState.Command){case this.firstLoginConstants.COMMANDS.CHANGE_PASSMARK_PHRASE:this.flowService.moveTo(this.flowService.STATES.PHRASE_SELECT);break;case this.firstLoginConstants.COMMANDS.CHANGE_PASSMARK_QUESTION:this.flowService.questionOptions=this.initialState.ChallengeQuestions,this.flowService.moveTo(this.flowService.STATES.QUESTION_SELECT);break;case this.firstLoginConstants.COMMANDS.RESET_PASSMARK_QUESTION:this.flowService.questionOptions=this.initialState.ChallengeQuestions,this.flowService.mobilePassmarkImage=this.initialState.Image,this.flowService.isMobilePassmarkReset=!0,this.flowService.moveTo(this.flowService.STATES.QUESTION_SELECT)}}},{key:"_validatePassmark",value:function(){var e="";if(null===this.flowService.selectedImageIndex)e="scroll-to-image-select";else if(!0!==this.flowService.isPassPhraseValid)e="scroll-to-phrase-select";else{if(!0===this.flowService.selectedQuestionsValid)return!0;e="scroll-to-question-select"}return this.AnchorService.scroll(e),!1}},{key:"submitFullPassmark",value:function(){this.showValidation=!0,this._validatePassmark()&&(this.flowService.enterLoadingMode(),this.flowService.submitFullPassmark())}},{key:"$onDestroy",value:function(){this.flowService.disableHijackWindowUnload(),this.flowService.deactivate(),this.FlowFooterService.disable()}},{key:"onGrayBtnClick",value:function(){this.flowService.currentState===this.flowService.STATES.USERNAME||this.flowService.errorMessage?this.onModalClose():this.flowService.gotoPreviousState()}},{key:"onModalClose",value:function(){var e=this;this.flowService.showWarningOnExit(),this.flowService.warn().then((function(){e.closeModal()}))}},{key:"onOrgBtnClick",value:function(){this.flowService.currentState===this.flowService.STATES.FULL_PASSMARK_FORM?this.submitFullPassmark():this.flowService.currentState===this.flowService.STATES.CONFIRMATION?(this.flowService.enterLoadingMode(),this.closeModal(!0)):this.flowService.updatePassmarkData()}},{key:"confirmationExit",value:function(){this.flowService.enterLoadingMode(),this.closeModal(!0)}},{key:"closeModal",value:function(e){var t=this,n=this.flowService.$q((function(n){t.flowService.currentState===t.flowService.STATES.CONFIRMATION&&(e={event:t.firstLoginConstants.EVENTS.FIRST_TIME_SETUP_COMPLETE}),t.flowService.deactivate(),n(e)}));this.onClose({result:n})}}]),e}();o.$inject=["$log","FirstLoginFlowService","EnvironmentService","FirstLoginService","$state","stateConstants","EventBusService","firstLoginConstants","$scope","RequesterService","serviceConstants","AnchorService","$q","FlowFooterService"],t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-modal-dialog ng-if="!$ctrl.enableFullPassmarkForm || $ctrl.isInitialStateSet" on-close="$ctrl.onModalClose()" class="first-login" analytics-id="login-doublesafe" hide-close="$ctrl.flowService.isLoading" flow-service="$ctrl.flowService"> <header> <span ng-show="!$ctrl.flowService.showConfirmExitUI">{{ $ctrl.flowService.currentState.titleKey | translate }}</span> </header> <form name="$ctrl.firstLoginForm"> <div id="scroll-to-top"></div> <div ng-if="!$ctrl.flowService.isLoading"> <div ng-hide="$ctrl.flowService.showConfirmExitUI"> <div class="margin__b--fix2"> <tng-error-message ng-if="!$ctrl.firstLoginForm.$invalid && $ctrl.flowService.errorMessage"> {{ $ctrl.flowService.errorMessage }} </tng-error-message> <tng-error-message ng-if="!$ctrl.firstLoginForm.$invalid && $ctrl.flowService.errorMessageKey"> {{ $ctrl.flowService.errorMessageKey | translate }} </tng-error-message> </div> <tng-username ng-show="$ctrl.flowService.currentState === $ctrl.flowService.STATES.USERNAME" on-update="$ctrl.flowService.onFormUpdate()"></tng-username> <tng-image-select ng-show="$ctrl.flowService.currentState === $ctrl.flowService.STATES.IMAGE_SELECT" first-login-service="$ctrl.FirstLoginService"></tng-image-select> <tng-phrase-select ng-if="$ctrl.flowService.currentState === $ctrl.flowService.STATES.PHRASE_SELECT" first-login-service="$ctrl.FirstLoginService"></tng-phrase-select> <tng-question-select ng-if="$ctrl.flowService.currentState === $ctrl.flowService.STATES.QUESTION_SELECT" first-login-service="$ctrl.FirstLoginService"></tng-question-select> <tng-confirmation ng-if="$ctrl.flowService.currentState === $ctrl.flowService.STATES.CONFIRMATION" first-login-service="$ctrl.FirstLoginService"></tng-confirmation> </div> </div> </form> <tng-loading-in-progress ng-if="$ctrl.flowService.isLoading"> </tng-loading-in-progress> <footer ng-if="!$ctrl.flowService.showConfirmExitUI && !$ctrl.flowService.isLoading"> <button actionable-id="firstLoginModal_grayButton" class="btn btn--edit" ng-click="$ctrl.onGrayBtnClick()" ng-show="$ctrl.flowService.BUTTONS.BTN_GRY.show" ng-disabled="$ctrl.flowService.BUTTONS.BTN_GRY.disable"> {{ $ctrl.flowService.BUTTONS.BTN_GRY.type.label | translate }} </button> <button actionable-id="firstLoginModal_orangeButton" class="btn btn--tangerine" ng-class="{\'CB_ReadOnly\': $ctrl.flowService.CB_DISABLED_BUTTONS.includes($ctrl.flowService.BUTTONS.BTN_ORG.type)}" ng-click="$ctrl.onOrgBtnClick()" ng-show="$ctrl.flowService.BUTTONS.BTN_ORG.show" ng-disabled="$ctrl.flowService.BUTTONS.BTN_ORG.disable || $ctrl.firstLoginForm.$invalid"> {{ $ctrl.flowService.BUTTONS.BTN_ORG.type.label | translate }} </button> </footer> </tng-modal-dialog> <div ng-if="$ctrl.enableFullPassmarkForm && !$ctrl.isInitialStateSet" id="scroll-to-top"></div> <tng-modal-dialog ng-if="$ctrl.flowService.showConfirmExitUI && $ctrl.enableFullPassmarkForm && !$ctrl.isInitialStateSet" show-confirm-exit="$ctrl.flowService.showConfirmExitUI && $ctrl.enableFullPassmarkForm" on-allow-exit="$ctrl.closeModal()" on-deny-exit="$ctrl.flowService.showConfirmExitUI = false"> </tng-modal-dialog> <tng-modal-dialog ng-if="$ctrl.enableFullPassmarkForm && !$ctrl.isInitialStateSet" on-close="$ctrl.onModalClose()" class="first-login" ng-class="{\'enable-full-passmark-form\' : $ctrl.enableFullPassmarkForm}" analytics-id="login-doublesafe" flow-service="$ctrl.flowService" inline-mode="true"> <tng-loading-in-progress ng-if="$ctrl.flowService.isLoading"> </tng-loading-in-progress> <div class="margin__b--fix2"> <tng-error-message ng-if="!$ctrl.firstLoginForm.$invalid && $ctrl.flowService.errorMessage"> {{ $ctrl.flowService.errorMessage }} </tng-error-message> <tng-error-message ng-if="(!$ctrl.firstLoginForm.$invalid || $ctrl.flowService.usernameTaken) && $ctrl.flowService.errorMessageKey"> {{ $ctrl.flowService.errorMessageKey | translate }} </tng-error-message> </div> <div class="full-passmark-form-wrapper" ng-show="!$ctrl.flowService.isLoading && $ctrl.flowService.currentState === $ctrl.flowService.STATES.FULL_PASSMARK_FORM"> <h1 class="heading--title2">{{ ::\'login.firstLogin.header\' | translate }}</h1> <h2 class="first-time-login-instructions-copy" ng-bind-html="::\'login.firstLogin.instructions.subHeader\' | translate"> </h2> <ul class="numbered-list"> <li class="numbered-list__item"> <span class="numbered-list__index">1</span> <div class="numbered-list__label-title" ng-bind-html="::\'login.firstLogin.instructions.username\' | translate"></div> </li> <li class="numbered-list__item"> <span class="numbered-list__index">2</span> <div class="numbered-list__label-title" ng-bind-html="::\'login.firstLogin.instructions.doubleSafe\' | translate"></div> </li> <li class="numbered-list__item"> <span class="numbered-list__index">3</span> <div class="numbered-list__label-title" ng-bind-html="::\'login.firstLogin.instructions.securityQuestions\' | translate"></div> </li> </ul> <form name="$ctrl.firstLoginForm" ng-show="!$ctrl.flowService.isLoading"> <div> <div id="scroll-to-username" class="first-login__field-scroll"></div> <tng-username on-update="$ctrl.flowService.onFormUpdate()" enable-full-passmark-form="$ctrl.enableFullPassmarkForm"></tng-username> <div id="scroll-to-image-select" class="first-login__field-scroll"></div> <tng-image-select first-login-service="$ctrl.FirstLoginService" enable-full-passmark-form="$ctrl.enableFullPassmarkForm" show-warning-border="($ctrl.flowService.selectedImageIndex === null) && $ctrl.showValidation"></tng-image-select> <div class="field__error" ng-if="($ctrl.flowService.selectedImageIndex === null) && $ctrl.showValidation"> <p>{{ ::\'login.firstLogin.requiredField\' | translate }}</p> </div> <div id="scroll-to-phrase-select" class="first-login__field-scroll"></div> <tng-phrase-select first-login-service="$ctrl.FirstLoginService" enable-full-passmark-form="$ctrl.enableFullPassmarkForm" show-validation="($ctrl.flowService.isPassPhraseValid !== true) && $ctrl.showValidation"></tng-phrase-select> <div class="field__error" ng-if="($ctrl.flowService.isPassPhraseValid !== true) && $ctrl.showValidation"> <p>{{ ::\'login.firstLogin.requiredField\' | translate }}</p> </div> <div id="scroll-to-question-select" class="first-login__field-scroll"></div> <tng-question-select ng-if="$ctrl.questionsLoaded" first-login-service="$ctrl.FirstLoginService" enable-full-passmark-form="$ctrl.enableFullPassmarkForm" show-validation="($ctrl.flowService.selectedQuestionsValid !== true) && $ctrl.showValidation"></tng-question-select> </div> </form> </div> <tng-confirmation ng-if="$ctrl.flowService.currentState === $ctrl.flowService.STATES.CONFIRMATION" enable-full-passmark-form="$ctrl.enableFullPassmarkForm" modal-close="$ctrl.confirmationExit()"></tng-confirmation> </tng-modal-dialog> <div class="c-new-client-enrollment__clearfix"></div> <div ng-if="false && !$ctrl.flowService.showConfirmExitUI && !$ctrl.flowService.isLoading && $ctrl.enableFullPassmarkForm && $ctrl.flowService.currentState !== $ctrl.flowService.STATES.CONFIRMATION" class="first-login__footer"> <div class="first-login__footer__container"> <div class="first-login__footer__buttons"> <button actionable-id="firstLoginModal_grayButton" class="btn btn--edit" ng-click="$ctrl.onGrayBtnClick()" ng-show="$ctrl.flowService.BUTTONS.BTN_GRY.show" ng-disabled="$ctrl.flowService.BUTTONS.BTN_GRY.disable"> {{ $ctrl.flowService.BUTTONS.BTN_GRY.type.label | translate }} </button> <button actionable-id="firstLoginModal_orangeButton" class="btn btn--tangerine" ng-class="{\'CB_ReadOnly\': $ctrl.flowService.CB_DISABLED_BUTTONS.includes($ctrl.flowService.BUTTONS.BTN_ORG.type)}" ng-click="$ctrl.onOrgBtnClick()" ng-show="$ctrl.flowService.BUTTONS.BTN_ORG.show" ng-disabled="$ctrl.flowService.BUTTONS.BTN_ORG.disable"> {{ $ctrl.flowService.BUTTONS.BTN_ORG.type.label | translate }} </button> </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1004)),a=s(n(1005));function s(e){return e&&e.__esModule?e:{default:e}}n(1006);var o={template:a.default,controller:i.default,bindings:{onUpdate:"&?",enableFullPassmarkForm:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a){(0,i.default)(this,e),this.$log=t,this.flowService=n,this.autoFocusConstants=a,this.inputName="username_input"}return(0,a.default)(e,[{key:"$onInit",value:function(){delete this.flowService.errorMessage,delete this.flowService.errorMessageKey,delete this.flowService.usernameTaken,this.previousUsername=null}},{key:"validateUsername",value:function(){this.previousUsername!==this.flowService.username&&(this.flowService.usernameTaken=!1),this.flowService.username&&""!==this.flowService.username&&(this.usernameSetup[this.inputName].$setValidity("oneLetter",(0,s.hasAtLeastOneLetter)(this.flowService.username)),this.usernameSetup[this.inputName].$setValidity("specialChars",!(0,s.hasUsernameSpecialChars)(this.flowService.username))),angular.isFunction(this.onUpdate)&&this.onUpdate(),this.previousUsername=this.flowService.username}}]),e}();r.$inject=["$log","FirstLoginFlowService","autoFocusConstants"],t.default=r,e.exports=t.default},function(e,t){e.exports='<form class="username-setup" name="$ctrl.usernameSetup"> <p ng-if="!$ctrl.enableFullPassmarkForm" ng-bind-html="\'login.firstLogin.usernameDesc\' | translate"> </p> <div class="field"> <label ng-if="$ctrl.enableFullPassmarkForm" class="heading--sub3 username-label" ng-bind-html="::\'login.firstLogin.usernameTitleV2\' | translate"></label> <input class="input" type="text" actionable-id="{{$ctrl.inputName}}" maxlength="40" ng-model="$ctrl.flowService.username" placeholder="{{ \'login.firstLogin.usernamePlaceholder\' | translate}}" autocapitalize="none" autofocus autocomplete="off" minlength="6" ng-change="$ctrl.validateUsername()" autofocus-device="{{ $ctrl.autoFocusConstants.ALL }}" ng-class="{\'warning\': ($ctrl.usernameSetup[$ctrl.inputName].$invalid &&\n                            $ctrl.usernameSetup[$ctrl.inputName].$touched) || $ctrl.flowService.usernameTaken}"> </div> <div ng-messages="$ctrl.usernameSetup.$error" ng-show="$ctrl.usernameSetup[$ctrl.inputName].$touched && $ctrl.usernameSetup[$ctrl.inputName].$invalid" class="field__error"> <p ng-message="required"> {{ ::\'global.validation.required\' | translate }} </p> <p ng-message="minlength"> {{ ::\'global.errorCodes.39202\' | translate }} </p> <p ng-message="oneLetter"> {{ ::\'global.errorCodes.39204\' | translate }} </p> <p ng-message="specialChars"> {{ ::\'global.errorCodes.39206\' | translate }} </p> </div> <p ng-if="!$ctrl.enableFullPassmarkForm" class="username-setup__disclaimer" ng-bind-html="\'login.firstLogin.usernameDisclaimer\' | translate"> </p> </form> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1008)),a=s(n(1011));function s(e){return e&&e.__esModule?e:{default:e}}n(1012);var o={template:a.default,controller:i.default,bindings:{firstLoginService:"<",enableFullPassmarkForm:"<?",showWarningBorder:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(58)),a=r(n(0)),s=r(n(2)),o=r(n(446));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,s,r,l){(0,a.default)(this,e),this.$log=t,this.apiUrl=n.getAPIUrl(),this.base=this.apiUrl+"/web",this.isNative=n.isNative(),this.flowService=i,this.selectConstants=s,this.categoryList=[],this.nativeImageList=null,this.selectedCategory=null,this.getImageUrl=o.default,this.passmarkImageString=""+this.base+this.getImageUrl(),this.allCategoriesStr=l.instant("login.firstLogin.allCategories"),this.$filter=r}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;null!==this.flowService.selectedImageIndex?this.flowService.BUTTONS.BTN_ORG.disable=!1:this.firstLoginService.getCategoryData().then((function(t){e.processCategoryData(t)}))}},{key:"selectCategory",value:function(e){e&&(this.flowService.selectedCategory=e,this.getNewImages())}},{key:"processCategoryData",value:function(e){if(this.isNative){if(e.image_category_list){this.flowService.categoryList.push({name:this.allCategoriesStr});var t=!0,n=!1,a=void 0;try{for(var s,o=(0,i.default)(e.image_category_list);!(t=(s=o.next()).done);t=!0){var r=s.value;this.flowService.categoryList.push({name:r})}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}this.flowService.categoryOptions=angular.copy(this.flowService.categoryList),this.flowService.selectedCategory=this.flowService.categoryList[0],this.flowService.selectedCategoryName=this.flowService.categoryList[0].name}e.image_list&&(this.flowService.nativeImageList=e.image_list.slice(0,8),this.$log.debug("Native Image List: ",this.flowService.nativeImageList)),e.question_list&&(this.flowService.questionOptions=e.question_list.map((function(e){return{Value:e.question_id,question:e.question}})),this.$log.debug("Question Options: ",this.flowService.questionOptions))}else if(e.MessageBody&&e.MessageBody.ChangePassMarkImage&&e.MessageBody.ChangePassMarkImage.CategoryList){this.flowService.categoryList.push({name:this.allCategoriesStr});var l=!0,c=!1,u=void 0;try{for(var d,_=(0,i.default)(e.MessageBody.ChangePassMarkImage.CategoryList.Category);!(l=(d=_.next()).done);l=!0){var E=d.value;this.flowService.categoryList.push({name:this.$filter("firstLetterCapitalize")(E.CategoryName)})}}catch(e){c=!0,u=e}finally{try{!l&&_.return&&_.return()}finally{if(c)throw u}}this.flowService.passmarkUrl=this.passmarkImageString,this.flowService.categoryOptions=angular.copy(this.flowService.categoryList),this.flowService.selectedCategory=this.flowService.categoryList[0],this.flowService.selectedCategoryName=this.flowService.categoryList[0].name}this.$log.debug("Category List Data: ",this.flowService.categoryList)}},{key:"selectImg",value:function(e){this.flowService.selectedImageIndex=this.isNative?this.flowService.nativeImageList[e]:e,this.flowService.BUTTONS.BTN_ORG.disable=!1}},{key:"getNewImages",value:function(){var e=this;this.flowService.selectedCategory.name===this.allCategoriesStr?this.firstLoginService.getCategoryData().then((function(t){e.isNative?(e.$log.debug("GET New Images: ",t),e.flowService.nativeImageList=t.image_list):t.MessageBody.ChangePassMarkImage&&(e.flowService.passmarkUrl=e._getNewImagePath(t.MessageBody.ChangePassMarkImage.timestamp))})):this.getCategoryImages()}},{key:"getCategoryImages",value:function(){var e=this;this.firstLoginService.getImagesByCategory(this.flowService.selectedCategory.name).then((function(t){e.isNative?(e.$log.debug("GET IMAGES BY CATEGORY: ",t),e.flowService.nativeImageList=t.image_list):(e.$log.log("CATEGORY IMAGE DATA: ",t),t.MessageBody.ChangePassMarkImage&&(e.flowService.passmarkUrl=e._getNewImagePath(t.MessageBody.ChangePassMarkImage.timestamp)))}))}},{key:"getImageNumber",value:function(e){return new Array(e)}},{key:"_getNewImagePath",value:function(e){return this.base+"/passmarks?"+e+"&imgIdx="}}]),e}();l.$inject=["$log","EnvironmentService","FirstLoginFlowService","tngSelectAutocompleteConstants","$filter","$translate"],t.default=l,e.exports=t.default},,,function(e,t){e.exports='<div class="image-select"> <p ng-if="!$ctrl.enableFullPassmarkForm" ng-bind-html="\'login.firstLogin.doubleSafeCopy\' | translate"></p> <div ng-if="$ctrl.enableFullPassmarkForm" class="heading--sub3 doubleSafe-title" ng-bind-html="::\'login.firstLogin.doubleSafeTitle\' | translate"></div> <p ng-if="$ctrl.enableFullPassmarkForm" ng-bind-html="\'login.firstLogin.doubleSafeCopyV2\' | translate"></p> <div> <div> <tng-select-autocomplete input-id="categorySelect" ng-model="$ctrl.flowService.selectedCategoryName" on-select="$ctrl.selectCategory(option)" options="$ctrl.flowService.categoryOptions" option-label-key="name" option-value-key="name" show-warning-border="$ctrl.showWarningBorder" select-type="$ctrl.selectConstants.SELECT_TYPES.STATIC"> </tng-select-autocomplete> </div> </div> <div class="image-list"> <h2 class="heading--title2">{{$ctrl.flowService.selectedCategory.name | translate }}</h2> <div ng-if="$ctrl.flowService.categoryList.length > 0"> <img ng-if="!$ctrl.isNative" ng-repeat="i in $ctrl.getImageNumber(8) track by $index" class="CB_DoNotShow passmarkImage" ng-class="{ \'selected\': $ctrl.flowService.selectedImageIndex === $index }" actionable-id="passmarkImg_{{$index}}" ng-click="$ctrl.selectImg($index)" ng-src="{{$ctrl.flowService.passmarkUrl}}{{$index}}" alt="{{ \'login.common.securityImageTitle\' | translate}}"/> <img ng-if="$ctrl.isNative" ng-repeat="i in $ctrl.flowService.nativeImageList track by $index" class="CB_DoNotShow passmarkImage" ng-class="{ \'selected\': $ctrl.flowService.selectedImageIndex === $ctrl.flowService.nativeImageList[$index] }" actionable-id="passmarkImg_{{$index}}" ng-click="$ctrl.selectImg($index)" data-ng-src="data:image/png;base64,{{ $ctrl.flowService.nativeImageList[$index].image }}" alt="{{ \'login.common.securityImageTitle\' | translate}}"/> </div> <button class="btn btn--tangerine btn--large" actionable-id="imageSelect_getNewImages" ng-click="$ctrl.getNewImages()">{{ \'login.firstLogin.viewMore\' | translate }}</button> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1014)),a=s(n(1015));function s(e){return e&&e.__esModule?e:{default:e}}n(1016);var o={template:a.default,controller:i.default,bindings:{firstLoginService:"<",enableFullPassmarkForm:"<?",showValidation:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,o){(0,i.default)(this,e),this.$log=t,this.flowService=n,this.autoFocusConstants=a,this.EnvironmentService=o,this.phraseValidation=s.phraseValidation,this.phraseMaxLength=25,this.phrase=this.flowService.phrase||null,this.validateInput(),this.isValid=!1}return(0,a.default)(e,[{key:"$onInit",value:function(){angular.element("#modalMainContent").scrollTop(0)}},{key:"validateInput",value:function(){this.phrase&&this.phraseValidation(this.phrase)?(this.flowService.phrase=this.phrase,this.flowService.BUTTONS.BTN_ORG.disable=!1,this.isValid=!0):this.enableFullPassmarkForm?this.isValid=!1:(this.flowService.BUTTONS.BTN_ORG.disable=!0,this.isValid=!1),this.flowService.isPassPhraseValid=this.isValid}}]),e}();r.$inject=["$log","FirstLoginFlowService","autoFocusConstants","EnvironmentService"],t.default=r,e.exports=t.default},function(e,t){e.exports='<form class="phrase-select"> <p ng-if="!$ctrl.enableFullPassmarkForm" ng-bind-html="\'login.firstLogin.phraseDesc\' | translate"></p> <div ng-if="$ctrl.enableFullPassmarkForm" class="heading--sub3 phrase-select-title" ng-bind-html="::\'login.firstLogin.phraseTitleV2\' | translate"></div> <p ng-if="$ctrl.enableFullPassmarkForm" ng-bind-html="\'login.firstLogin.phraseDescV2\' | translate"></p> <div class="field"> <textarea ng-if="!$ctrl.enableFullPassmarkForm" class="input CB_DataMask" type="text" actionable-id="phraseSelect_validateInput" maxlength="{{ $ctrl.phraseMaxLength }}" ng-model="$ctrl.phrase" ng-change="$ctrl.validateInput()" ng-attr-placeholder="{{ \'login.firstLogin.placeholder\' | translate}}" autocapitalize="none" ng-attr-rows="1" ng-attr-autofocus="{{$ctrl.EnvironmentService.isMobile() || $ctrl.EnvironmentService.isNative() ? undefined : \'\'}}"></textarea> <input ng-if="$ctrl.enableFullPassmarkForm" ng-class="{\'warning\': !$ctrl.isValid && $ctrl.showValidation}" class="input CB_DataMask phrase-select-input" type="text" actionable-id="phraseSelect_validateInput" maxlength="{{ $ctrl.phraseMaxLength }}" ng-model="$ctrl.phrase" ng-change="$ctrl.validateInput()" ng-attr-placeholder="{{ \'login.firstLogin.placeholder\' | translate}}" autocapitalize="none"/> </div> </form> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1018)),a=s(n(1019));function s(e){return e&&e.__esModule?e:{default:e}}n(1020);var o={template:a.default,controller:i.default,bindings:{firstLoginService:"<",enableFullPassmarkForm:"<?",showValidation:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(142)),a=r(n(0)),s=r(n(2)),o=n(67);function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,s,r){(0,a.default)(this,e),this.$log=t,this.flowService=n,this.selectConstants=s,this.firstLoginConstants=r,this.isNative=i.isNative(),this.questionKey=this.isNative?this.firstLoginConstants.SERVICE_PARAMS.TPW_QUESTION_KEY:this.firstLoginConstants.SERVICE_PARAMS.MFP_QUESTION_KEY,this.answerPattern=o.secretQuestionPattern,this.allQuestionOptions=this.flowService.questionOptions||{},this.questionOptions=[angular.copy(this.allQuestionOptions),angular.copy(this.allQuestionOptions),angular.copy(this.allQuestionOptions)]}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.hasDuplicateAnswers=Array(3).fill(!1),this.formValid=!0,this.selectedQuestions=(0,i.default)(new Array(3),(function(){return{question:{Value:e.flowService.questionOptions[0].value,Description:e.flowService.questionOptions[0].Description},answer:null}}))}},{key:"selectQuestion",value:function(e,t){t&&(this.selectedQuestions[e].question=t,this.removeDuplicates())}},{key:"validateInputs",value:function(e){var t=this;if(this.selectedQuestions.some((function(e){return void 0===e.answer||null===e.answer||""===e.answer||null===e.question||null===e.question[t.questionKey]})))return this.enableFullPassmarkForm||(this.flowService.BUTTONS.BTN_ORG.disable=!0),void(this.flowService.selectedQuestionsValid=!1);this.hasDuplicateAnswers.fill(!1);for(var n=0;n<this.hasDuplicateAnswers.length;n++)for(var i=0;i<this.hasDuplicateAnswers.length;i++)n!==i&&this.selectedQuestions[n].answer===this.selectedQuestions[i].answer&&(this.hasDuplicateAnswers[n]=!0,this.hasDuplicateAnswers[i]=!0);e&&(this.formValid=e.$valid);var a=this.hasDuplicateAnswers.find((function(e){return e}));this.formValid&&!a?(this.flowService.BUTTONS.BTN_ORG.disable=!1,this.flowService.selectedQuestions=this.selectedQuestions,this.flowService.selectedQuestionsValid=!0):(this.enableFullPassmarkForm||(this.flowService.BUTTONS.BTN_ORG.disable=!0),this.flowService.selectedQuestionsValid=!1)}},{key:"removeDuplicates",value:function(){var e=this;this.selectedQuestions.forEach((function(t,n){e.questionOptions[n]=e.allQuestionOptions.filter((function(t){return!e.selectedQuestions.some((function(e,i){return n!==i&&(!!e.question&&e.question.Value===t.Value)}))}))}))}}]),e}();l.$inject=["$log","FirstLoginFlowService","EnvironmentService","tngSelectAutocompleteConstants","firstLoginConstants"],t.default=l,e.exports=t.default},function(e,t){e.exports='<div class="question-select"> <p ng-if="!$ctrl.enableFullPassmarkForm" ng-bind-html="\'login.firstLogin.questionDesc\' | translate"></p> <div ng-if="$ctrl.enableFullPassmarkForm" class="heading--sub3 phrase-select-title" ng-bind-html="::\'login.firstLogin.questionTitleV2\' | translate"></div> <p ng-if="$ctrl.enableFullPassmarkForm" ng-bind-html="::\'login.firstLogin.questionDescV2\' | translate"></p> <form name="$ctrl.form"> <div class="field" ng-repeat="question in $ctrl.selectedQuestions track by $index"> <tng-select-autocomplete class="CB_DataMask" input-id="doubleSafe-questions-{{$index}}" ng-model="$ctrl.selectedQuestions[$index].question.Value" ng-required="true" on-select="$ctrl.selectQuestion($index, option)" options="$ctrl.questionOptions[$index]" option-label-key="{{ $ctrl.questionKey }}" option-value-key="Value" placeholder="{{ ::\'login.firstLogin.questionSelectPlaceholder\' | translate:{index: $index + 1} }}" show-warning-border="!$ctrl.selectedQuestions[$index].question.Value && $ctrl.showValidation" select-type="$ctrl.selectConstants.SELECT_TYPES.STATIC"> </tng-select-autocomplete> <input name="question_{{$index}}" id="doubleSafe-question_{{$index}}" class="input CB_DataMask" ng-class="{\'warning\':\n          $ctrl.form.question_{{$index}}.$invalid &&\n          ($ctrl.form.question_{{$index}}.$touched || $ctrl.showValidation)\n        }" type="text" placeholder="{{ ::\'login.firstLogin.questionInputPlaceholder\' | translate}}" ng-model="$ctrl.selectedQuestions[$index].answer" maxlength="40" ng-required="true" ng-change="$ctrl.validateInputs($ctrl.form)" autocapitalize="none" native-input-scroll ng-pattern="$ctrl.answerPattern"> <div ng-messages="$ctrl.form[\'question_\' + $index].$error" ng-show="$ctrl.form[\'question_\' + $index].$touched || $ctrl.showValidation" class="field__error question-select__div--inline"> <p ng-message="required"> {{ ::\'login.firstLogin.requiredField\' | translate }} </p> <p ng-message="pattern"> {{ ::\'login.firstLogin.patternValidationError\' | translate }} </p> <p ng-if="$ctrl.form[\'question_\' + $index].$valid && $ctrl.hasDuplicateAnswers[$index]"> {{ ::\'login.firstLogin.duplicateAnswer\' | translate }} </p> </div> </div> </form> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1022)),a=s(n(1023));function s(e){return e&&e.__esModule?e:{default:e}}n(1024);var o={template:a.default,controller:i.default,bindings:{enableFullPassmarkForm:"<?",modalClose:"&?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=o(n(446));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,o,r){(0,i.default)(this,e),this.$log=t,this.customersService=n,this.flowService=a,this.$timeout=r,this.base=o.getAPIUrl()+"/web",this.isNative=o.isNative(),this.getImageUrl=s.default,this.passmarkData=this.flowService.confirmationData,this.phrase=this.isNative?this.flowService.phrase:this.passmarkData&&this.passmarkData.LoginPhrase,this.questionList=[]}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.enableFullPassmarkForm&&this.$timeout((function(){e.modalClose()}),1e3);for(var t=0;t<3;t++)this.questionList.push(this.getQuestionAnswer(t));this.getPassmarkImagePath()}},{key:"getPassmarkImagePath",value:function(){var e=this;this.flowService.isMobilePassmarkReset||this.isNative?this.flowService.isMobilePassmarkReset?this.passmarkImage=this.flowService.mobilePassmarkImage:this.passmarkImage=this.flowService.selectedImageIndex.image:this.customersService.getCustomerPassmark().then((function(t){t&&(e.passmarkImage=t.image)}))}},{key:"getQuestionAnswer",value:function(e){return{question:this.isNative?this.flowService.selectedQuestions[e].question.question:this.passmarkData["Question"+(e+1)],answer:this.isNative?this.flowService.selectedQuestions[e].answer:this.passmarkData["Answer"+(e+1)]}}}]),e}();r.$inject=["$log","CustomersService","FirstLoginFlowService","EnvironmentService","$timeout"],t.default=r,e.exports=t.default},function(e,t){e.exports='<div class="firstLogin-confirmation" ng-if="!$ctrl.enableFullPassmarkForm"> <p ng-bind-html="\'login.firstLogin.confirmationDesc\' | translate"></p> <div class="image-phrase"> <img ng-if="!$ctrl.isNative" class="CB_DoNotShow passmarkImage" ng-src="data:image/png;base64,{{$ctrl.passmarkImage}}" alt="{{ \'login.common.securityImageTitle\' | translate}}"/> <img ng-if="$ctrl.isNative" class="CB_DoNotShow passmarkImage" actionable-id="passmarkImg_{{$index}}" data-ng-src="data:image/png;base64,{{$ctrl.passmarkImage}}" alt="{{ \'login.common.securityImageTitle\' | translate}}"/><br/> {{ $ctrl.phrase }} </div> <div class="setup-list"> <div class="setup-list__container" ng-repeat="question in $ctrl.questionList"> <div class="setup-list__title">{{ \'login.firstLogin.secretQuestion\' | translate}} {{$index + 1}}</div> <div class="setup-list__question">{{ question.question }}</div> <div class="setup-list__answer">{{ question.answer }}</div> </div> </div> </div> <div ng-if="$ctrl.enableFullPassmarkForm"><tng-loading-done></tng-loading-done></div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.$log=t,this.$q=n,this.CredentialsService=a,this.SessionService=s,this.firstLoginConstants=o}return(0,a.default)(e,[{key:"getCategoryData",value:function(){return this.CredentialsService.metroGet(this.firstLoginConstants.COMMANDS.DISPLAY_CHANGE_PASSMARK_IMAGE)}},{key:"getImagesByCategory",value:function(e){var t={command:this.firstLoginConstants.COMMANDS.GOTO_PASSMARK_IMAGE_CATEGORY,category:e,TRANSACTION_TOKEN:this.SessionService.transaction_token};return this.CredentialsService.metroPost(t,{acceptedCommands:[{command:this.firstLoginConstants.COMMANDS.DISPLAY_CHANGE_PASSMARK_IMAGE}]})}},{key:"saveChangeImage",value:function(e){var t={command:this.firstLoginConstants.COMMANDS.CHANGE_PASSMARK_IMAGE,imageIDX:e,TRANSACTION_TOKEN:this.SessionService.transaction_token};return this.CredentialsService.metroPost(t,{acceptedCommands:[{command:this.firstLoginConstants.COMMANDS.DISPLAY_CHANGE_PASSMARK_IMAGE}]})}},{key:"sendPhraseData",value:function(e){var t={command:this.firstLoginConstants.COMMANDS.CHANGE_PASSMARK_PHRASE,newPhrase:e,TRANSACTION_TOKEN:this.SessionService.transaction_token};return this.CredentialsService.metroPost(t,{acceptedCommands:[{command:this.firstLoginConstants.COMMANDS.DISPLAY_CHANGE_PASSMARK_QUESTION}]})}},{key:"sendQuestionData",value:function(e){var t={command:this.firstLoginConstants.COMMANDS.CHANGE_PASSMARK_QUESTION,QuestionId1:e[0].question.Value,Answer1:e[0].answer,QuestionId2:e[1].question.Value,Answer2:e[1].answer,QuestionId3:e[2].question.Value,Answer3:e[2].answer,TRANSACTION_TOKEN:this.SessionService.transaction_token};return t[this.firstLoginConstants.SERVICE_PARAMS.SAVE_CONTINUE]=this.firstLoginConstants.SERVICE_PARAMS.NEXT,this.CredentialsService.metroPost(t,{acceptedCommands:[{command:this.firstLoginConstants.COMMANDS.DISPLAY_VALIDATED_ENROLLMENT}]})}},{key:"savePassmarkEnrollment",value:function(){var e={command:this.firstLoginConstants.COMMANDS.SAVE_ENROLLMENT,BUTTON_Save:"Save",TRANSACTION_TOKEN:this.SessionService.transaction_token};return this.CredentialsService.metroPost(e,{acceptedCommands:[{command:this.firstLoginConstants.COMMANDS.DISPLAY_VALIDATED_ENROLLMENT}]})}}]),e}();o.$inject=["$log","$q","CredentialsTPWService","SessionService","firstLoginConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=E(n(104)),a=E(n(15)),s=E(n(177)),o=E(n(0)),r=E(n(2)),l=E(n(264)),c=E(n(266)),u=E(n(265)),d=E(n(267)),_=n(364);function E(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n,i,a,r,c,u,d,_,E,h,S,T,p,f,g,A,v){(0,o.default)(this,t);var C=(0,l.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n,i,a,r,S,c,T,A,v));return C.$state=a,C.firstLoginService=null,C.STATES={USERNAME:{titleKey:"login.firstLogin.usernameTitle"},IMAGE_SELECT:{titleKey:"login.firstLogin.doubleSafeTitle"},PHRASE_SELECT:{titleKey:"login.firstLogin.phraseTitle"},QUESTION_SELECT:{titleKey:"login.firstLogin.questionTitle"},CONFIRMATION:{titleKey:"login.firstLogin.confirmationTitle"},FULL_PASSMARK_FORM:{titleKey:""}},C.isNative=u.isNative(),C.firstLoginService=d,C.eventBusService=_,C.firstLoginConstants=E,C.SessionService=h,C.serviceConstants=p,C.RequesterService=f,C.$translate=g,C.isMobilePassmarkReset=!1,C._resetState(),C}return(0,u.default)(t,e),(0,r.default)(t,[{key:"$onInit",value:function(){this._resetState()}},{key:"updatePassmarkData",value:function(){var e=this;switch(this.currentState){case this.STATES.USERNAME:this.username&&this.submittedUsername!==this.username?(this.BUTTONS.BTN_ORG.disable=!0,this.errorMessageKey=null,this.errorMessage=null,this._saveUsername(this.username).then((function(t){e._hasErrorMessage(t)?e._processErrorMessage(t):(e.errorMessage=null,e.$log.debug("Set Username Response: ",t),e.submittedUsername=e.username,e.gotoNextState())})).catch((function(t){e.$log.debug("ERROR DURING USERNAME SETUP: ",t),e._hasErrorMessage(t)&&e._processErrorMessage(t),e._cancelFlowUIUpdate()}))):(this.errorMessage=null,this.gotoNextState());break;case this.STATES.IMAGE_SELECT:this.BUTTONS.BTN_ORG.disable=!0,this.enterLoadingMode(),this.firstLoginService.saveChangeImage(this.selectedImageIndex).then((function(t){e.exitLoadingMode(),e._hasErrorMessage(t)?e._processErrorMessage(t):(e.errorMessage=null,e.$log.debug("Set Passmark Image Response: ",t),e.gotoNextState())})).catch((function(t){e.exitLoadingMode(),e.$log.debug("ERROR DURING IMAGE SELECT: ",t),e._hasErrorMessage(t)&&e._processErrorMessage(t),e._cancelFlowUIUpdate()}));break;case this.STATES.PHRASE_SELECT:this.errorMessageKey=null,this.errorMessage=null,this.BUTTONS.BTN_ORG.disable=!0,this.enterLoadingMode(),this.firstLoginService.sendPhraseData(this.phrase).then((function(t){e.exitLoadingMode(),e._hasErrorMessage(t)?e._processErrorMessage(t):(e.errorMessage=null,e.isNative||(e.$log.debug("Set Passmark Phrase Response: ",t),e.questionOptions=t.MessageBody.ChangePassMarkQuestion.ChallengeQuestions),e.$log.debug("Passmark Questions: ",e.questionOptions),e.gotoNextState())})).catch((function(t){e.exitLoadingMode(),e.$log.debug("ERROR DURING PHRASE SELECT: ",t),e._hasErrorMessage(t)&&e._processErrorMessage(t),e._cancelFlowUIUpdate()}));break;case this.STATES.QUESTION_SELECT:this.BUTTONS.BTN_ORG.disable=!0,this.enterLoadingMode(),this.$log.debug("Selected Questions: ",this.selectedQuestions),this.firstLoginService.sendQuestionData(this.selectedQuestions).then((function(t){if(!e._hasErrorMessage(t)){e.errorMessage=null,e.$log.debug("Set Passmark Question Response: ",t),e.isNative||(e.confirmationData=t.MessageBody.LoginEnrollment);var n=e.isMobilePassmarkReset;return e.firstLoginService.savePassmarkEnrollment(n).then((function(t){e.$log.debug("Save Enrollement Response: ",t),e.isNative&&(e.confirmationData=t),e.SessionService.authenticated=!0,e.SessionService.saveSession()})).then((function(){e.gotoNextState()})).catch((function(t){e.$log.error("Save Enrollment Error: ",t)})).finally((function(){e.exitLoadingMode()}))}e.exitLoadingMode(),e._processErrorMessage(t)})).catch((function(t){e.exitLoadingMode(),e.$log.debug("ERROR DURING QUESTION SELECT: ",t),e._hasErrorMessage(t)&&e._processErrorMessage(t),e._cancelFlowUIUpdate()}))}}},{key:"responseParser",value:function(e){var t=this;return e.then((function(e){if(t._hasErrorMessage(e))throw e;return t.$q.resolve(e)}))}},{key:"submitFullPassmark",value:function(){var e=this;return this.errorMessageKey=null,this.errorMessage=null,this.usernameTaken=null,this.$q.resolve().then((function(){return e.username&&e.submittedUsername!==e.username?e.responseParser(e._saveUsername(e.username)).then((function(){return!0})):e.$q.resolve(!1)})).then((function(t){return t&&(e.submittedUsername=e.username),e.responseParser(e.firstLoginService.saveChangeImage(e.selectedImageIndex))})).then((function(){return e.responseParser(e.firstLoginService.sendPhraseData(e.phrase))})).then((function(){return e.responseParser(e.firstLoginService.sendQuestionData(e.selectedQuestions))})).then((function(t){e.isNative||(e.confirmationData=t.MessageBody.LoginEnrollment);var n=e.isMobilePassmarkReset;return e.firstLoginService.savePassmarkEnrollment(n)})).then((function(t){e.isNative&&(e.confirmationData=t),e.SessionService.authenticated=!0,e.SessionService.saveSession(),e.gotoNextState()})).catch((function(t){e._hasErrorMessage(t)&&e._processErrorMessage(t)})).finally((function(){e.exitLoadingMode()}))}},{key:"onEnableNext",value:function(e){this.nextCurrentlyDisabled=!e}},{key:"onUpdateNext",value:function(e){this.nextButtonIsSubmit=e}},{key:"gotoNextState",value:function(){switch(this.currentState){case this.STATES.USERNAME:this.moveTo(this.STATES.IMAGE_SELECT);break;case this.STATES.IMAGE_SELECT:this.moveTo(this.STATES.PHRASE_SELECT);break;case this.STATES.PHRASE_SELECT:this.moveTo(this.STATES.QUESTION_SELECT);break;case this.STATES.QUESTION_SELECT:case this.STATES.FULL_PASSMARK_FORM:this.moveTo(this.STATES.CONFIRMATION)}}},{key:"_updateUI",value:function(){switch(this.BUTTONS.BTN_GRY.show=!0,this.BUTTONS.BTN_GRY.disable=!0,this.BUTTONS.BTN_ORG.show=!0,this.BUTTONS.BTN_ORG.disable=!0,this.currentState){case this.STATES.USERNAME:this.BUTTONS.BTN_GRY.type=this.BUTTON_TYPES.CANCEL,this.BUTTONS.BTN_GRY.disable=!1,this.BUTTONS.BTN_ORG.disable=!1;break;case this.STATES.IMAGE_SELECT:this.BUTTONS.BTN_GRY.type=this.BUTTON_TYPES.BACK,this.BUTTONS.BTN_GRY.disable=!1,null!==this.selectedImageIndex&&(this.BUTTONS.BTN_ORG.disable=!1);break;case this.STATES.PHRASE_SELECT:case this.STATES.QUESTION_SELECT:this.BUTTONS.BTN_GRY.show=!this.isInitialStateSet,this.BUTTONS.BTN_GRY.disable=!1,this.BUTTONS.BTN_GRY.type=this.BUTTON_TYPES.BACK;break;case this.STATES.FULL_PASSMARK_FORM:this.BUTTONS.BTN_GRY.show=!1,this.BUTTONS.BTN_ORG.show=!0,this.BUTTONS.BTN_ORG.disable=!1,this.BUTTONS.BTN_ORG.type=this.BUTTON_TYPES.SUBMIT;break;case this.STATES.CONFIRMATION:this.BUTTONS.BTN_GRY.show=!1,this.BUTTONS.BTN_ORG.disable=!1,this.BUTTONS.BTN_ORG.type=this.BUTTON_TYPES.DONE}}},{key:"_cancelFlowUIUpdate",value:function(){this.BUTTONS.BTN_GRY.show=!0,this.BUTTONS.BTN_GRY.disable=!1,this.BUTTONS.BTN_GRY.type=this.BUTTON_TYPES.CANCEL,this.BUTTONS.BTN_ORG.show=!1,this.BUTTONS.BTN_ORG.disable=!0}},{key:"_resetState",value:function(){var e=this;(0,c.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"_resetState",this).call(this),this._initialState=this.STATES.USERNAME,this.totalSteps=(0,a.default)(this.STATES).length,this._getUsername().then((function(t){e.$log.debug("Get Username Response: ",t),e.username=t.username,e.submittedUsername=e.username})).catch((function(t){e.$log.debug("ERROR DURING GETTING USERNAME: ",t),e.username=null,e.submittedUsername=null})),this.selectedImageIndex=null,this.phrase=null,this.questionOptions=null,this.selectedQuestions={},this.confirmationData=null,this.errorMessage=null,this.categoryList=[],this.nativeImageList=null,this.selectedCategory=null,this.BUTTONS={BTN_GRY:new _.ModalFooterButton(this.BUTTON_TYPES.CANCEL,!0,!1),BTN_ORG:new _.ModalFooterButton(this.BUTTON_TYPES.NEXT,!1,!0)},this.currentState=this._initialState,this._updateUI()}},{key:"_hasErrorMessage",value:function(e){var t=[this.serviceConstants.STATUS_CODES.SYSTEM_ERROR,this.serviceConstants.STATUS_CODES.VALIDATION_ERROR,this.serviceConstants.STATUS_CODES.INVALID_PROFANITY];return e.errorMessage||e.response_status&&e.response_status.status_code&&-1!==t.indexOf(e.response_status.status_code)||e.MessageHeader&&e.MessageHeader.ErrorMessages&&e.MessageHeader.ErrorMessages.length>0}},{key:"_processErrorMessage",value:function(e){var t=this;if(this.$log.error("Login Retrieval Err: ",e),this.BUTTONS.BTN_ORG.disable=!1,e.MessageHeader&&e.MessageHeader.ErrorMessages&&e.MessageHeader.ErrorMessages.length>0)this.errorMessage=e.MessageHeader.ErrorMessages[0];else if(e.errorMsg)this.errorMessage=e.errorMsg;else if(e.response_status&&e.response_status.details){var n=(0,i.default)(e.response_status.details,1)[0];this.errorMessageKey=n.details_code.replace("MESSAGE_","global.errorCodes."),"INVALID"===this.errorMessageKey&&e.response_status.details.forEach((function(e){if(e.field_name&&0===e.field_name.indexOf("username")){t.usernameTaken=!0;var n=e.technical_description.split(" ")[0],i=Math.floor(9e3*Math.random())+1e3,a=Math.floor(9e3*Math.random())+1e3;t.errorMessageKey=t.$translate.instant("global.errorCodes.USERNAME_EXISTS_WITH_SUGGESTIONS",{prefix:i+n,suffix:n+a})}}))}else e.response_status&&e.response_status.status_code?this.errorMessageKey="global.errorCodes."+e.response_status.status_code:this.errorMessage=e.errorMessage||e.response_status.technical_description}},{key:"onFormUpdate",value:function(){this.errorMessageKey=null,this.errorMessage=null}},{key:"_saveUsername",value:function(){var e={data:{username:this.username}};return this.$log.debug("PUT Customer Username Payload/Request from first time login: ",this.username),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_USERNAME,e)}},{key:"_getUsername",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_USERNAME)}},{key:"_getAnalyticsID",value:function(){return"firstlogin"}},{key:"errorMessageKey",get:function(){return this._errorMessageKey},set:function(e){this._errorMessageKey=e}},{key:"errorMessage",get:function(){return this._errorMessage},set:function(e){this._errorMessage=e}}]),t}(d.default);h.$inject=["$log","$q","$transitions","$state","$window","pageFlowConstants","EnvironmentService","FirstLoginService","EventBusService","firstLoginConstants","SessionService","$rootScope","AnalyticsService","serviceConstants","RequesterService","$translate","modalDialogConstants","ConfirmWindowUnloadService"],t.default=h,e.exports=t.default},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={COMMANDS:{DISPLAY_CHANGE_PASSMARK_IMAGE:"displayChangePassMarkImage",GOTO_PASSMARK_IMAGE_CATEGORY:"gotoPassMarkImageCategory",CHANGE_PASSMARK_IMAGE:"changePassMarkImage",DISPLAY_CHANGE_PASSMARK_PHRASE:"displayChangePassMarkPhrase",CHANGE_PASSMARK_PHRASE:"changePassMarkPhrase",DISPLAY_CHANGE_PASSMARK_QUESTION:"displayChangePassMarkQuestion",CHANGE_PASSMARK_QUESTION:"changePassMarkQuestion",RESET_PASSMARK_QUESTION:"resetPassMarkQuestion",DISPLAY_VALIDATED_ENROLLMENT:"displayValidatedEnrollment",SAVE_ENROLLMENT:"saveEnrollment"},EVENTS:{CLOSE:"close",FIRST_TIME_SETUP_COMPLETE:"FIRST_TIME_SETUP_COMPLETE"},SERVICE_PARAMS:{SAVE_CONTINUE:"SAVE ANY CHANGES AND CONTINUE TO NEXT PAGE",NEXT:"Next",MFP_QUESTION_KEY:"Description",TPW_QUESTION_KEY:"question"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1040)),a=s(n(1041));function s(e){return e&&e.__esModule?e:{default:e}}var o=angular.module("tangerine.app.core.components.stepUp",[]).service("StepUpService",i.default).constant("stepUpConstants",a.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.$q=t,this.stepUpConstants=n}return(0,a.default)(e,[{key:"stepUpInProgress",value:function(){}},{key:"requestLevel2",value:function(){return this.$q.when({result:this.stepUpConstants.RESULT_TYPES.SUCCESS})}},{key:"isStepUpModalOpen",value:function(){}},{key:"openStepUpModal",value:function(){}},{key:"onStepUpSuccess",value:function(){}},{key:"onStepUpCancelled",value:function(){}},{key:"onStepUpFailed",value:function(){}}]),e}();o.$inject=["$q","stepUpConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={RESULT_TYPES:{SUCCESS:"success",CANCELLED:"cancelled",FAILED:"failed"},LEVEL2_AUTH_ATTRIBUTE:"level2Auth"};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c,u,d,_,E){(0,a.default)(this,e),this.$q=t,this.$http=n,this.$log=i,this.ErrorService=o,this.SessionService=r,this.CredentialsTPWService=d,this.EnvironmentService=s,this.loginConstants=l,this.loginCIFTypes=l.LOGIN_CIF_TYPES,this.authConstants=c,this.errorConstants=u,this.IovationService=_,this.iovationConstants=E,this.tpwSessionCreated=this.$q.defer()}return(0,s.default)(e,[{key:"initLogin",value:function(e,t){var n=this,i=this.$q.defer();return this.EnvironmentService.isPhone()?this.deviceSource=this.loginConstants.LOGIN_DEVICE_SOURCE.PHONE:this.EnvironmentService.isTablet()?this.deviceSource=this.loginConstants.LOGIN_DEVICE_SOURCE.TABLET:this.deviceSource=this.loginConstants.LOGIN_DEVICE_SOURCE.DESKTOP,this.$http({method:"get",url:this.base+"/InitialTangerine.html?command="+t+"&device=web&locale="+e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","x-web-flavour":"fbe","x-browser-source":this.deviceSource},withCredentials:!0}).success((function(e,t,a){n.SessionService.transaction_token=a().transaction_token?a().transaction_token:a()["x-transaction-token"],n.CredentialsTPWService.saveResponseToSession(e),n.CredentialsTPWService.handleHTTPSuccess(n.SessionService.getSession(),void 0,i),n.tpwSessionCreated.resolve()})).error((function(e){n.CredentialsTPWService.processError(e,i),n.tpwSessionCreated.reject()})),i.promise}},{key:"submitCIF",value:function(e){var t=this.loginCIFTypes.NONE;e.rememberMe&&(t=this.loginCIFTypes.REMEMBER_CIF),e.removeID&&(t=this.loginCIFTypes.REMOVE_CIF),e.ddCIF&&(t=this.loginCIFTypes.SAVED_CIF);var n={command:this.SessionService.nextCommand||this.loginConstants.LOGIN_COMMANDS.PERSONALCIF,locale:this.SessionService.locale,device:this.SessionService.device};if(!this.isNative()){var a=angular.element(document).find("[name='pm_fp']");n=(0,i.default)(n,{pm_fp:a.val()})}switch(t){case this.loginCIFTypes.REMEMBER_CIF:n=(0,i.default)(n,{ACN:e.acn,cbRemember:"on",tbNickname:"",ddCIF:"addAnother"}),this.SessionService.shouldOptIn=!0,this.SessionService.rememberMe=!0;break;case this.loginCIFTypes.SAVED_CIF:n=(0,i.default)(n,{ddCIF:e.acn,savedUserIdsExist:!0});break;case this.loginCIFTypes.REMOVE_CIF:n=(0,i.default)(n,{ddCIF:e.acn,savedUserIdsExist:!0,cbRemoveNo:"Remove"});break;default:n=(0,i.default)(n,{ACN:e.acn,isFido2:e.isFido2,credentials:e.credentials})}return this.IovationService.collectIovationData(),this.CredentialsTPWService.metroPost(n,{acceptedCommands:[{command:this.loginConstants.LOGIN_COMMANDS.VALIDATE_BUSINESS_CIF?this.loginConstants.LOGIN_COMMANDS.VALIDATE_AICIF:this.loginConstants.LOGIN_COMMANDS.DISPLAY_CHALLENGE_QUESTION}]})}},{key:"checkSecret",value:function(e){var t={command:e.nextCommand,BUTTON:"Next",Answer:e.challengeAnswer,Next:"Next"};return void 0!==e.Captcha&&(t.Captcha=e.Captcha),e&&e.skipSecurityQuestion&&(t.Register="on"),this.CredentialsTPWService.metroPost(t,{acceptedCommands:[{command:"displayPIN"}]})}},{key:"checkPin",value:function(e){var t={locale:e.locale,command:e.nextCommand,BUTTON:"Go",PIN:e.pin,Go:"Next",fp_bb:this.IovationService.iovation.fpBb,io_bb:this.IovationService.iovation.ioBb,callSource:this.iovationConstants.CALL_SOURCES.FBE_LOGIN_WEB};return this.CredentialsTPWService.metroPost(t,{acceptedCommands:[{command:"PINPADPersonal"}]})}},{key:"logout",value:function(){return this.CredentialsTPWService.metroGet(this.loginConstants.LOGIN_COMMANDS.LOGOUT,{locale:this.SessionService.locale},{bypassRedirect:!0},"InitialTangerine.html")}},{key:"isNative",value:function(){return this.EnvironmentService.isNative()}},{key:"base",get:function(){return this.EnvironmentService.getAPIUrl()+"/web"}},{key:"getSessionCreated",get:function(){return this.tpwSessionCreated.promise}}]),e}();r.$inject=["$q","$http","$log","EnvironmentService","ErrorService","SessionService","loginConstants","authConstants","errorConstants","CredentialsTPWService","IovationService","iovationConstants"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(15)),a=u(n(177)),s=u(n(0)),o=u(n(2)),r=u(n(264)),l=u(n(266)),c=u(n(265));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n,o,l,c,u,d,_,E,h,S,T,p,f){(0,s.default)(this,t);var g=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n,o,l,c,S,h,T));return g.$state=l,g.RequesterService=u,g.serviceConstants=d,g.stateConstants=_,g.loginConstants=E,g.VISIBILITY_TIMEOUT=h.MODAL_VISIBILITY_TIMEOUT,g.$translate=p,g.EnvironmentService=f,g.STATES={USER_ID:{titleKey:g.loginConstants.LOGIN_STATES.CIF},SECRET_QUESTION:{titleKey:g.loginConstants.LOGIN_STATES.SECRET_QUESTION},PIN:{titleKey:g.loginConstants.LOGIN_STATES.PIN},BUSINESS_LOGIN:{titleKey:g.loginConstants.LOGIN_STATES.BUSINESS},AUTHORIZED_USER:{titleKey:g.loginConstants.LOGIN_STATES.AUTHORIZED_USER},LOADING:{titleKey:g.loginConstants.LOGIN_STATES.LOADING}},g._initialState=g.STATES.USER_ID,g.totalSteps=(0,i.default)(g.STATES).length,g.progressBarButtons=[g.STATES.USER_ID,g.STATES.SECRET_QUESTION,g.STATES.PIN],g.isBusiness=!1,g}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_resetState",value:function(){(0,l.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_resetState",this).call(this),this._updateUI()}},{key:"$onInit",value:function(){this.nextCurrentlyDisabled=!1,this.backCurrentlyDisabled=!1}},{key:"activateOnEmptyState",value:function(){this.currentState||this.activate()}},{key:"onEnableNext",value:function(e){this.nextCurrentlyDisabled=!e}},{key:"gotoNextState",value:function(){switch(this.currentState){case this.STATES.USER_ID:this.moveTo(this.STATES.SECRET_QUESTION);break;case this.STATES.SECRET_QUESTION:this.moveTo(this.STATES.PIN)}}},{key:"moveTo",value:function(e){e===this.STATES.BUSINESS_LOGIN&&(this.isBusiness=!0),(0,l.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"moveTo",this).call(this,e),this.hideWarning()}},{key:"moveBackTo",value:function(e){(0,l.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"moveBackTo",this).call(this,e)}},{key:"_getAnalyticsID",value:function(){return"login"}},{key:"openBrowserToSafeAndSecureLink",value:function(){var e=this.$translate.instant("login.common.safeAndSecureLink");if(this.EnvironmentService.isNative()){var t=""+this.EnvironmentService.getBaseUrl()+e;this.$window.open(t,"_system")}else this.$window.open(e,"_blank")}},{key:"stateSet",get:function(){return!!this.currentState}}]),t}(u(n(267)).default);d.$inject=["$log","$q","$transitions","$state","$window","RequesterService","serviceConstants","stateConstants","loginConstants","pageFlowConstants","$rootScope","AnalyticsService","$translate","EnvironmentService"],t.default=d,e.exports=t.default},function(e,t,n){"use strict";function i(e){return{link:function(t,n,i){n.on("focus",(function a(){"password"!==i.type&&(n.off("focus",a),i.$set("type","password"),e.debug("input type => password"),t.$evalAsync((function(){var e=n[0];e.focus&&e.focus(),e.setSelectionRange&&e.setSelectionRange(0,0)})))}))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["$log"],e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={LOGIN_STATES:{CIF:"cif",SECRET_QUESTION:"security_question",PIN:"pin",BUSINESS:"business",AUTHORIZED_USER:"authorizedUser",LOADING:"loading"},LOGIN_TYPES:{BUSINESS:"displayBusinessLoginRegular",PERSONAL:"displayLoginRegular"},LOGIN_TEXT:{SHOW_TEXT:"text",HIDE_TEXT:"password"},BUSINESS_LOGIN:{CIF_LOGIN_TYPE:"business"},LOGIN_EVENTS:{SET_PANEL_VISIBILITY:"setPanelVisibility",SUCCESSFUL_LOGIN:"successfulLogin",LOGIN_FOR_ANALYTICS:"loginForAnalytics",SET_USER_ID:"setUserId",SET_SECURITY_QUESTION:"setSecurityQuestion",SET_PIN_PHRASE:"setPinPhrase",PASSMARK_LOCKED:"loginPassmarkLocked",PIN_LOCKED:"loginPinLocked",MOBILE_TERMS_CONDITIONS_COMPLETED:"mobileTermsConditionsCompleted"},LOGIN_TIMEOUT:{INVOKE_LOGIN_TIMER:"invokeLoginTimer",CANCEL_LOGIN_TIMER:"cancelLoginTimer",INVOKE_LOGIN_TIMEOUT:"invokeLoginTimeout"},LOGIN_COMMANDS:{INIT:"init",VERIFY_CHALLENGE_QUESTION:"verifyChallengeQuestion",VALID_PIN_COMMAND:"validatePINCommand",VALIDATE_BUSINESS_CIF:"validateBusinessCIF",AIF:"aif",VALIDATE_AICIF:"validateAICIF",DISPLAY_CHALLENGE_QUESTION:"displayChallengeQuestion",PERSONALCIF:"PersonalCIF",LOGOUT:"displayLogout",DISPLAY_ACCOUNT_SUMMARY:"displayAccountSummary"},LOGIN_CIF_TYPES:{NONE:"NONE",REMEMBER_CIF:"REMEMBER_CIF",REMOVE_CIF:"REMOVE_CIF",SAVED_CIF:"SAVED_CIF"},LOGIN_PATHS:{TANG_HTML:"/web/Tangerine.html"},REDIRECT_PATHS:{ERROR_MOBILEPLUS:"/error/Error_mobileplus.html",ERROR_MOBILEPLUS_NATIVE:"/error/Error_mobileplus_native.html",ERROR:"/error/Error.html",TIMEOUT:"/timeout/TimeOut.html"},LOGIN_ACTIONS:{GO_TO_NEXT_PAGE:"GO_TO_NEXT_PAGE",SHOW_FIRST_TIME_USER:"SHOW_FIRST_TIME_USER"},SPECIAL_MODES:{VISITOR_ENROLLMENT:"visitorEnrollment"},LOGIN_ERRORS:{VS_TIMEOUT:"VS_timeout",SHOULD_STOP_VISITOR_ENROLLMENT_SUBMIT:"SHOULD_STOP_VISITOR_ENROLLMENT_SUBMIT"},REGEX_REDIRECT:/replace\("\/web([\w\/\W\/.?=]+)"\)/,LOGIN_PLACEHOLDER_INDICATOR:{PLEASE_SELECT:-2,USE_ANOTHER:-1},LOGIN_DEVICE_SOURCE:{PHONE:"phone",TABLET:"tablet",DESKTOP:"desktop"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1047)),a=s(n(1048));function s(e){return e&&e.__esModule?e:{default:e}}var o={template:i.default,controller:a.default,bindings:{ufmName:"@",maximumLength:"<",ufmPlaceholder:"<",ufmModel:"=",ufmBlur:"&?",ufmFocus:"&?",ufmChange:"&?",ufmView:"&?",focusAuto:"<",ufmShowBorder:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="fieldInputMask"> <input name="{{$ctrl.ufmName}}" id="login_secretQuestion" in-view="$ctrl.ufmView({inViewVal:$inview})" class="input CB_DataMask" ng-focus="$ctrl.ufmFocus()" ng-blur="$ctrl.ufmBlur()" ng-change="$ctrl.ufmChange({secretQuestion:$ctrl.ufmModel})" type="{{$ctrl.userPasswordType}}" maxlength="{{ $ctrl.maximumLength }}" placeholder="{{$ctrl.ufmPlaceholder}}" ng-class="{\'warning\':\n    $ctrl.ufmShowBorder\n      }" ng-model="$ctrl.ufmModel" ng-trim="false" ng-required="true" autocapitalize="none" autocomplete="off" autofocus autofocus-device="{{::$ctrl.autoFocusConstants.ALL}}"> <span class="noHighLight" actionable-id="login_logText" ng-show="$ctrl.ufmModel" ng-click="$ctrl.maskPassword()">{{ $ctrl.userPasswordInfo | translate }}</span> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.StorageService=t,this.storageConstants=n,this.loginText=a.LOGIN_TEXT,this.autoFocusConstants=s,this.userPasswordType=this.loginText.HIDE_TEXT,this.$scope=o}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.showQuestionField="login.userID.showPassword",this.hideQuestionField="login.userID.hidePassword",this.StorageService.getItem(this.storageConstants.KEYS.SECRET_QUESTION_STATE).then((function(t){e.userPasswordType=t||e.loginText.HIDE_TEXT})).finally((function(){e.userPasswordType===e.loginText.HIDE_TEXT?e.userPasswordInfo=e.showQuestionField:e.userPasswordInfo=e.hideQuestionField}))}},{key:"maskPassword",value:function(){this.userPasswordType===this.loginText.SHOW_TEXT?(this.userPasswordType=this.loginText.HIDE_TEXT,this.userPasswordInfo=this.showQuestionField):(this.userPasswordType=this.loginText.SHOW_TEXT,this.userPasswordInfo=this.hideQuestionField),this.StorageService.setItem(this.storageConstants.KEYS.SECRET_QUESTION_STATE,this.userPasswordType)}}]),e}();o.$inject=["StorageService","storageConstants","loginConstants","autoFocusConstants","$scope"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1050)),a=o(n(1053)),s=o(n(1054));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("tangerine.feedbackSurvey",[]).service("FeedbackSurveyService",a.default).component("tngFeedbackSurvey",i.default).constant("FeedbackSurveyConstants",s.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1051)),a=s(n(1052));function s(e){return e&&e.__esModule?e:{default:e}}var o={controller:i.default,template:a.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r){(0,i.default)(this,e),this.$window=t,this.FeedbackSurveyService=n,this.$timeout=a,this.$scope=s,this.isAnyModalOpen=!1,this.isMedalliaSupported=this.$window.MEDALLIA_BUTTON_ENABLED,this.BackButtonService=o,this.backButtonConstants=r}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.$scope.$watch("$ctrl.$window.MEDALLIA_BUTTON_ENABLED",(function(){e.isMedalliaSupported=e.$window.MEDALLIA_BUTTON_ENABLED})),this.BackButtonService.addBackButtonListener(this.$scope,this.backButtonConstants.PRIORITY.HIGH,(function(){return e.$window.KAMPYLE_ONSITE_SDK&&e.$window.KAMPYLE_ONSITE_SDK.isSurveyDisplayed()}))}},{key:"feedbackClicked",value:function(){var e={EN:this.$window.MEDALLIA_FEEDBACK_ID_EN,FR:this.$window.MEDALLIA_FEEDBACK_ID_FR};this.FeedbackSurveyService.launchFeedbackSurvey(e)}}]),e}();o.$inject=["$window","FeedbackSurveyService","$timeout","$scope","BackButtonService","backButtonConstants"],t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-sticky-button class="main-nav__medalliaFeedbackBtn main-nav--laptop" ng-click="$ctrl.feedbackClicked()" ng-if="$ctrl.isMedalliaSupported"> <span translate>{{ \'global.menu.header.feedback\' }}</span> </tng-sticky-button> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E,h,S){(0,i.default)(this,e),this.$log=t,this.$rootScope=_,this.LocaleService=n,this.$window=a,this.$timeout=s,this.document=o[0],this.isMedalliaSupported=this.$window.MEDALLIA_BUTTON_ENABLED,this.localeConstants=r,this.LOCALES=r.LOCALES,this.serviceConstants=l,this.RequesterService=c,this.SessionService=u,this.FeedbackSurveyConstants=d,this.SURVEY_OPEN_CSS_CLASS="medallia-survey-open",this.eventConstants=E,this.DISABLE_SURVEY_ON_IOS=!0,this.isIosAndLongSurveyDisabled=h.isNative()&&h.isIOS()&&this.DISABLE_SURVEY_ON_IOS,this.CustomersService=S}return(0,a.default)(e,[{key:"launchFeedbackSurvey",value:function(e){this.attachMedalliaParameters(),this.loadFormId=this.LocaleService.locale===this.LOCALES.EN_CA?e.EN:e.FR,this.processFinPlanSurveyOpen(),this.loadFormId&&(this.document.body.classList.add(this.SURVEY_OPEN_CSS_CLASS),this.document.documentElement.classList.add(this.SURVEY_OPEN_CSS_CLASS),void 0!==this.$window.KAMPYLE_EVENT_DISPATCHER&&null!==this.$window.KAMPYLE_EVENT_DISPATCHER&&(this.$window.KAMPYLE_EVENT_DISPATCHER.trigger("neb_buttonClicked",{formId:this.loadFormId}),this.$window.KAMPYLE_EVENT_DISPATCHER.subscribeOnce("neb_formClosed",this.onFeedbackSurveyClosed.bind(this))))}},{key:"onFeedbackSurveyClosed",value:function(){if(this.document.body.classList.remove(this.SURVEY_OPEN_CSS_CLASS),this.document.documentElement.classList.remove(this.SURVEY_OPEN_CSS_CLASS),this.processFinPlanSurveyClosed(),this.SessionService.isAuthenticated()&&(this.loadFormId===this.FeedbackSurveyConstants.MEDALLIA_FORM_IDS.AFTER_CHAT_SURVEY.EN||this.loadFormId===this.FeedbackSurveyConstants.MEDALLIA_FORM_IDS.AFTER_CHAT_SURVEY.FR)){var e={data:{interactionId:this.$window.agentChatInteractionId}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_MEDALLIA_FEEDBACK,e)}return null}},{key:"isMedalliaEnabled",value:function(){return this.$window.KAMPYLE_ONSITE_SDK&&this.$window.MEDALLIA_INTERCEPT_ENABLED?(this.$window.MedalliaEnabled=!0,!0):(this.$log.debug("Medallia sdk unavailable"),!1)}},{key:"updatePageViewAndLocale",value:function(){this.$window.KAMPYLE_ONSITE_SDK.updatePageView()}},{key:"processFinPlanSurveyOpen",value:function(){var e=this.FeedbackSurveyConstants.MEDALLIA_FORM_IDS;-1!==[e.FINPLAN_ONBOARD_SUCCESS_FEEDBACK.EN,e.FINPLAN_ONBOARD_ABANDON_FEEDBACK.EN,e.FINPLAN_DELETE_FEEDBACK.EN].indexOf(this.loadFormId)&&(this.finplanFormId=this.loadFormId,this.loadFormId=this.FeedbackSurveyConstants.MEDALLIA_FORM_IDS.AFTER_CHAT_SURVEY.EN)}},{key:"_getCustomerInfo",value:function(){var e=this;return this.CustomersService.getCustomerInfo({include_servicing_systems:!0}).then((function(t){return e.$log.debug("GET Customers Info response: ",t),t.customer})).catch((function(t){e.$log.error(t)}))}},{key:"_getCurrentDate",value:function(){return new Date}},{key:"_getClientAgeGroup",value:function(e){var t=new Date(e),n=this._getCurrentDate().getFullYear()-t.getFullYear(),i="Under 18";return n>=18&&n<=24?i="18-24":n>=25&&n<=34?i="25-34":n>=35&&n<=44?i="35-44":n>=45&&n<=54?i="45-54":n>=55&&n<=64?i="55-64":n>=65&&(i="65+"),i}},{key:"_getClientProvince",value:function(e){var t="";return"AB"===e?t="ALBERTA":"BC"===e?t="BRITISH COLUMBIA":"MB"===e?t="MANITOBA":"NB"===e?t="NEW BRUNSWICK":"NL"===e?t="NEWFOUNDLAND":"NS"===e?t="NOVA SCOTIA":"NT"===e?t="NORTHWEST TERRITORIES":"NU"===e?t="NUNAVUT":"ON"===e?t="ONTARIO":"PE"===e?t="PRINCE EDWARD ISLAND":"QC"===e?t="QUEBEC":"SK"===e?t="SASKATCHEWAN":"YT"===e&&(t="YUKON TERRITORY"),t}},{key:"_getClientTenureBand",value:function(e){var t=new Date(e),n=this._getCurrentDate(),i=n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),a="0 - 6 months";return i>=6&&i<=12?a="6 months - 1 year":i>=12&&i<=24?a="1 year - 2 years":i>=24&&i<=60?a="2 year - 5 years":i>=60&&i<=84?a="5 years - 7 years":i>=84&&i<=120?a="7 years - 10 years":i>=120&&(a="10+ years"),a}},{key:"attachMedalliaParameters",value:function(){var e=this;this._getCustomerInfo().then((function(t){e.$window.customerEmail=t.email,e.$window.customerName=t.first_name+" "+t.last_name,e.$window.ageGroup=e._getClientAgeGroup(t.date_of_birth),e.$window.province=e._getClientProvince(t.address_list[0].province),e.$window.tenureBand=e._getClientTenureBand(t.client_since_date)}))}},{key:"processFinPlanSurveyClosed",value:function(){this.finplanFormId&&(this.loadFormId=this.finplanFormId);var e=this.FeedbackSurveyConstants.MEDALLIA_FORM_IDS;switch(this.loadFormId){case e.FINPLAN_ONBOARD_SUCCESS_FEEDBACK.EN:case e.FINPLAN_ONBOARD_SUCCESS_FEEDBACK.FR:this.$rootScope.$broadcast(this.eventConstants.FINPLAN_SUBMIT_SURVEY_CLOSED);break;case e.FINPLAN_ONBOARD_ABANDON_FEEDBACK.EN:case e.FINPLAN_ONBOARD_ABANDON_FEEDBACK.FR:this.$rootScope.$broadcast(this.eventConstants.FINPLAN_ABANDON_SURVEY_CLOSED);break;case e.FINPLAN_DELETE_FEEDBACK.EN:case e.FINPLAN_DELETE_FEEDBACK.FR:this.$rootScope.$broadcast(this.eventConstants.FINPLAN_DELETE_SURVEY_CLOSED)}}}]),e}();o.$inject=["$log","LocaleService","$window","$timeout","$document","localeConstants","serviceConstants","RequesterService","SessionService","FeedbackSurveyConstants","$rootScope","eventConstants","EnvironmentService","CustomersService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={MEDALLIA_FORM_IDS:{AFTER_CHAT_SURVEY:{EN:"156",FR:"157"},AFTER_CHAT_SURVEY_V2:{EN:"690",FR:"985"},BUDGET_FEEDBACK:{EN:"196",FR:"197"},BUDGET_OVERVIEW_FEEDBACK:{EN:"216",FR:"217"},GOAL_DELETED_FEEDBACK:{EN:"504",FR:"511"},GOAL_ABANDONED_FEEDBACK:{EN:"505",FR:"505"},GOAL_CREATED_FEEDBACK:{EN:"506",FR:"512"},FINPLAN_ONBOARD_SUCCESS_FEEDBACK:{EN:"496",FR:"510"},FINPLAN_ONBOARD_WITH_AA_FEEDBACK:{EN:"788",FR:"810"},FINPLAN_ONBOARD_NO_AA_NO_CAPABILITY_FEEDBACK:{EN:"785",FR:"786"},FINPLAN_ONBOARD_NO_AA_wITH_CAPABILITY_FEEDBACK:{EN:"787",FR:"809"},FINPLAN_ONBOARD_ABANDON_FEEDBACK:{EN:"496",FR:"510"},FINPLAN_DELETE_FEEDBACK:{EN:"496",FR:"510"},ACCOUNT_AGGREGATION_ABANDONED_FEEDBACK:{EN:"789",FR:"808"},RECIPES_ADD_FEEDBACK:{EN:"544",FR:"545"},RECIPES_DELETE_FEEDBACK:{EN:"546",FR:"547"},HOLDS_DONE_FEEDBACK:{EN:"848",FR:"849"},CBK_UPGRADE_ABANDON_FEEDBACK:{EN:"908",FR:"916"},CBK_ENROLLMENT_ABANDON_FEEDBACK:{EN:"992",FR:"993"},CBW_ENROLLMENT_ABANDON_FEEDBACK:{EN:"994",FR:"995"},CBK_ENROLLMENT_PREAPPROVED_ABANDON_FEEDBACK:{EN:"996",FR:"997"},CBW_ENROLLMENT_PREAPPROVED_ABANDON_FEEDBACK:{EN:"998",FR:"999"},BILL_PAY_ABANDON_FEEDBACK:{EN:"921",FR:"922"},MOVE_MONEY_ABANDON_FEEDBACK:{EN:"919",FR:"920"},EMT_ABANDON_FEEDBACK:{EN:"917",FR:"918"}}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1056)),a=o(n(1057)),s=o(n(1058));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("MobileLoginOptionModule",[]).constant("mobileSecurityConstants",i.default).config(a.default).service("LoginOptionService",s.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={COMPONENT:{LOGIN_OPTIONS:{VALUE:"LOGIN_OPTIONS",LABEL:"userSettings.security.nav.login",URL:"/login-options",action:"userSettings.security.loginOptions"},CLIENT_PIN:{VALUE:"CLIENT_PIN",LABEL:"userSettings.security.nav.client_pin",URL:"/client-pin",action:""},DOUBLE_SAFE:{VALUE:"DOUBLE_SAFE",LABEL:"userSettings.security.nav.double_safe",URL:"/double-safe",action:""},DEVICES:{VALUE:"DEVICES",LABEL:"userSettings.security.nav.devices",URL:"/devices",action:"userSettings.security.devices"}},LOGIN_OPTION_TYPE:{DEFER_PIN:"DEFER_PIN",TOUCH_ID:"TOUCH_ID",FINGERPRINT_ID:"FINGERPRINT_ID"},LOGIN_OPTION_REMOVAL_TOKENS:{DEFER_PIN:"DEFER_PIN",TOUCH_ID:"TOUCH_ID",FACE_ID:"FACE_ID",FINGERPRINT_ID:"FINGERPRINT_ID",REMEMBER:"REMEMBER"},LOGIN_OPTION_RESULT:{SUCCESS:"SUCCESS",CANCEL:"CANCEL",NO_DATA:"NO_DATA",TRY_AGAIN:"TRY_AGAIN",SHOW_ERROR:"SHOW_ERROR",SHOW_DISABLE_MODAL:"SHOW_DISABLE_MODAL",SHOW_NATIVE_AUTH_FAILURE_MODAL:"SHOW_NATIVE_AUTH_FAILURE_MODAL",FALL_BACK_TO_PIN:"FALL_BACK_TO_PIN",PASSMARK_RESET_PIN_CANCEL:"PASSMARK_RESET_PIN_CANCEL"},NATIVE_ERROR_CODE:{NATIVE_ERROR_FAILED_BY_USER:1010,NATIVE_ERROR_CANCELLED_BY_USER:1011,NATIVE_ERROR_CANCELLED_BY_SYSTEM:1012,NATIVE_ERROR_PASSWORD_FALLBACK:1013,NATIVE_ERROR_NOT_AVAILABLE:1014,NATIVE_ERROR_BIOMETRIC_CHANGED_BY_USER:1015},LOGIN_OPTION_SESSION_NAMES:["defer","touch","fingerprintId"],SERVICE_CONFIG:{deleteLoginOption:{method:"DELETE",WL:{adapter:"AuthenticationAdapterFBE",path:"security/passes"},MOCK:{url:""}}},AVAILABLE_SERVICES:{ENROLL_INSTANT_ACCESS:"enrollDeferPin",DELETE_LOGIN_OPTION:"deleteLoginOption"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){e.appendGlobalConstants(n.SERVICE_CONFIG,t.SERVICE_CONFIG)}n.r(t),i.$inject=["dynamicConstantsProvider","mobileSecurityConstants","serviceConstants"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8)),a=r(n(49)),s=r(n(0)),o=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,a,o,r,l,c,u,d,_,E,h,S,T,p,f,g,A,v){(0,s.default)(this,e),this.$q=t,this.$log=n,this.$injector=i,this.$rootScope=a,this.RequesterService=o,this.EnvironmentService=r,this.SessionService=c,this.NativeService=u,this.authConstants=d,this.LoginService=_,this.serviceConstants=E,this.EventBusService=h,this.appStateConstants=S,this.LocaleService=p,this.LoginTimeoutService=f,this.DeviceCapabilityService=g,this.AnalyticsService=A,this.MobileMaintenanceService=v,this.mobileSecurityConstants=l,this.optionType=l.LOGIN_OPTION_TYPE,this.optionToken=l.LOGIN_OPTION_REMOVAL_TOKENS,this.optionResult=l.LOGIN_OPTION_RESULT,this.optionSessionNames=l.LOGIN_OPTION_SESSION_NAMES,this.loginEvents=T.LOGIN_EVENTS,this.NATIVE_ERROR_CODE=l.NATIVE_ERROR_CODE,this.loginOption={},this.failedCount=0,this._resetUserData(),this._initEventSubscription()}return(0,o.default)(e,[{key:"_resetUserData",value:function(){this.removeSavedCif=null,this.currentUserHash=null,this.rememberMeHash=null}},{key:"_initEventSubscription",value:function(){var e=this;[this.appStateConstants.APPLICATION_LOGOUT,this.appStateConstants.APPLICATION_INIT].forEach((function(t){return e.EventBusService.subscribe(e.$rootScope,t,(function(){e.$log.debug("DB - initLoginOptions refresh after "+t+"."),e.failedCount=0,e.initLoginOptions().then((function(t){e.$log.debug("*** initLoginOptions res: ",t)}),(function(t){e.$log.debug("*** initLoginOptions err: ",t)}))}))}))}},{key:"initLoginOptions",value:function(){var e=this;return this.EnvironmentService.isNative()?this.SessionService.getSavedUsers().then((function(t){return e.$log.debug("DB - SaveUsers tokens: "+(0,a.default)(t)),t?(e.optionSessionNames.forEach((function(n){return e._setLoginOption(t,n)})),e.loginOption):e.loginOption})):this.$q.when(this.loginOption)}},{key:"getAlternativeLoginOption",value:function(e){this.$log.debug("DB - LoginOptions: "+(0,a.default)(this.loginOption)),this.$log.debug("DB - RememberMeObj: "+(0,a.default)(e));var t=this._getAllAvailableLoginOptions(e);return t&&t.length>0?t[0]:(this._resetUserData(),null)}},{key:"_getAllAvailableLoginOptions",value:function(e){var t=[];return!this.LoginService.isAIF&&e&&(this.removeSavedCif=e.removeID,this.rememberMeHash=e.acn,this.currentUserHash=e.userHash,this.loginOption.defer&&this.loginOption.defer.userHash===this.currentUserHash&&t.push(this.optionType.DEFER_PIN),this.loginOption.touch&&this.loginOption.touch.userHash===this.currentUserHash&&t.push(this.optionType.TOUCH_ID),this.loginOption.fingerprintId&&this.loginOption.fingerprintId.userHash===this.currentUserHash&&t.push(this.optionType.FINGERPRINT_ID)),t}},{key:"submitLoginOption",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.LoginTimeoutService.invokeTimer();var i=n?this.LoginService.checkNetworkConnection():this.LoginService.logout();return this.LoginService.setLoginOptionFlowFlag(!0),i.then((function(){}),(function(e){return t._checkMaintenanceStatus(e)})).then((function(){return t.NativeService.validateTrustedCertificate()})).then((function(){return t.LoginService.initTriggerChallengeHandler()})).then((function(){return t._getOptionToken(e)})).then((function(n){return t.LoginService.submitLoginOption(e,n)})).then((function(n){return t._processResult(e,n,!0)})).then((function(n){return t._removeSavedCif(e),t.LoginTimeoutService.revokeTimer(),n})).catch((function(n){return t._processResult(e,n)})).finally((function(){return t.LoginService.setLoginOptionFlowFlag(!1)}))}},{key:"_processResult",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return n&&this.LoginService.cancelLogin(),this.$q.when({loginOptionResult:this.optionResult.NO_DATA});this.SessionService.errorMessage=null;var a=(0,i.default)({optionType:e},"string"==typeof t?{message:t}:t);return this._isCancelled(t)?a.loginOptionResult=this.optionResult.CANCEL:this._isInvalidToken(t)?a.loginOptionResult=this._handleInvalidToken(e):this._isFallBackToPin(t)?a.loginOptionResult=this.optionResult.FALL_BACK_TO_PIN:this._isOptionFailed(t)?(this._handleOptionFailure(e),a.loginOptionResult=this.optionResult.SHOW_NATIVE_AUTH_FAILURE_MODAL):this._isNativeBioChanged(t)?(this._handleNativeBioChanged(e),a.loginOptionResult=this.optionResult.SHOW_NATIVE_AUTH_FAILURE_MODAL):this._isPassmarkResetPinCancel(t)?a.loginOptionResult=this.optionResult.PASSMARK_RESET_PIN_CANCEL:n?a.loginOptionResult=this.optionResult.SUCCESS:(t.errorMessage&&(this.SessionService.errorMessage=t.errorMessage),a.loginOptionResult=this.optionResult.SHOW_ERROR),e===this.optionType.FINGERPRINT_ID&&this.AnalyticsService.sendAction(this.AnalyticsService.availableEvents.FINGER_PRRINT_LOGIN,a.loginOptionResult),this.$q.when(a)}},{key:"disableSavedIdLoginOption",value:function(e){var t=this,n=[];return this._getAllAvailableLoginOptions(e).forEach((function(e){n.push(t.disableLoginOption(e))})),this.$q.all(n)}},{key:"disableLoginOption",value:function(e){if(this.$log.debug("DB - disableLoginOption "+e),e){switch(e){case this.optionType.DEFER_PIN:this.loginOption.defer=null;break;case this.optionType.TOUCH_ID:this.loginOption.touch=null;break;case this.optionType.FINGERPRINT_ID:this.loginOption.fingerprintId=null}return this.clearLocalTokens(e)}return this.$q.reject("Invalid option type: "+e)}},{key:"clearLocalTokens",value:function(e){switch(e){case this.optionType.DEFER_PIN:return this.NativeService.clearDeferredPin();case this.optionType.TOUCH_ID:return this.$q.all({token:this.NativeService.clearTouchId(),security_token:this.NativeService.clearTouchIdToken()});case this.optionType.FINGERPRINT_ID:return this.$q.all({token:this.NativeService.clearFingerprintId(),security_token:this.NativeService.clearFingerprintIdToken()});default:return this.$q.reject("clearLocalTokens: Invlaid option type!")}}},{key:"revokeLoginOption",value:function(e){var t=this,n=void 0;switch(e){case this.optionType.DEFER_PIN:n=this.optionToken.DEFER_PIN;break;case this.optionType.TOUCH_ID:n=this.SessionService.isFaceIDAvailable()?this.optionToken.FACE_ID:this.optionToken.TOUCH_ID;break;case this.optionType.FINGERPRINT_ID:n=this.optionToken.FINGERPRINT_ID;break;default:return this.$q.reject("Invalid option type")}var i={urlVars:{type:n}},s=this.mobileSecurityConstants.AVAILABLE_SERVICES.DELETE_LOGIN_OPTION;return this.RequesterService.request(s,i).then((function(n){t.$log.debug("DB - revokeLoginOption "+e+" result: "+(0,a.default)(n))})).finally((function(){return t.clearLocalTokens(e)}))}},{key:"_getOptionToken",value:function(e){var t=this;switch(e){case this.optionType.TOUCH_ID:return this.LoginTimeoutService.revokeTimer(),this.$log.debug("disabled LoginTimeoutService timer to proceed with touchIdNativeCall"),this.NativeService.getTouchIdToken().then((function(e){return t.LoginTimeoutService.invokeTimer(),t.$log.debug("response returned from touchId, reinvoke LoginTimeoutService timer"),e&&e.security_token?e:t.$q.reject(e)}));case this.optionType.FINGERPRINT_ID:return this.LoginTimeoutService.revokeTimer(),this.$log.debug("disabled LoginTimeoutService timer to proceed with fingerprintIdNativeCall"),this.DeviceCapabilityService.getAndroidFingerprintIdWhitelistStatus().then((function(e){return e.result?t.$q.resolve():t.$q.reject({errorCode:t.NATIVE_ERROR_CODE.NATIVE_ERROR_NOT_AVAILABLE})})).then((function(){return t.NativeService.getFingerprintIdToken().then((function(e){return t.LoginTimeoutService.invokeTimer(),t.$log.debug("response returned from fingerprintId, reinvoke LoginTimeoutService timer"),e&&e.security_token?e:t.$q.reject(e)}))}));case this.optionType.DEFER_PIN:return this.NativeService.getDeferredPin().then((function(e){return e&&e.security_token?e:t.$q.reject("missing security token.")}));default:return this.$q.reject("unsupported option: "+e)}}},{key:"_setLoginOption",value:function(e,t){this.loginOption[t]=null,e&&e[t]&&(this.loginOption[t]={userHash:e[t].userhash,nameToRemember:e[t].name_to_remember,rememberMeHash:e[t].remember_me_hash})}},{key:"_isCancelled",value:function(e){return e.errorCode===this.NATIVE_ERROR_CODE.NATIVE_ERROR_CANCELLED_BY_USER||e.errorCode===this.NATIVE_ERROR_CODE.NATIVE_ERROR_CANCELLED_BY_SYSTEM}},{key:"_isInvalidToken",value:function(e){return e.authStatus===this.authConstants.status.INVALID_TOKEN||e.status===this.authConstants.status.INVALID_TOKEN}},{key:"_isFallBackToPin",value:function(e){return e.errorCode===this.NATIVE_ERROR_CODE.NATIVE_ERROR_NOT_AVAILABLE||e.errorCode===this.NATIVE_ERROR_CODE.NATIVE_ERROR_PASSWORD_FALLBACK}},{key:"_isOptionFailed",value:function(e){return e.errorCode===this.NATIVE_ERROR_CODE.NATIVE_ERROR_FAILED_BY_USER}},{key:"_isNativeBioChanged",value:function(e){return e.errorCode===this.NATIVE_ERROR_CODE.NATIVE_ERROR_BIOMETRIC_CHANGED_BY_USER}},{key:"_isPassmarkResetPinCancel",value:function(e){return e.errorCode===this.optionResult.PASSMARK_RESET_PIN_CANCEL}},{key:"_getMaxRetries",value:function(e){switch(e){case this.optionType.TOUCH_ID:return this.SessionService.isFaceIDAvailable(),1;case this.optionType.FINGERPRINT_ID:default:return 1}}},{key:"_handleNativeBioChanged",value:function(e){return this.clearLocalTokens(e)}},{key:"_handleInvalidToken",value:function(e){return this.LoginService.cancelLogin(),this.disableLoginOption(e).then((function(){})),this.optionResult.SHOW_DISABLE_MODAL}},{key:"_handleOptionFailure",value:function(e){var t=this;this.failedCount+=1;var n=void 0;if(this.failedCount>=this._getMaxRetries(e)){var i=void 0;switch(e){case this.optionType.TOUCH_ID:n=this.optionResult.SHOW_NATIVE_AUTH_FAILURE_MODAL,i=this.SessionService.isFaceIDAvailable()?this.authConstants.emailTypes.face:this.authConstants.emailTypes.touch,this.disableLoginOption(e).then((function(){return t._sendEmail(i,t.rememberMeHash)}));break;case this.optionType.FINGERPRINT_ID:n=this.optionResult.SHOW_NATIVE_AUTH_FAILURE_MODAL,i=this.authConstants.emailTypes.fingerprintId,this.disableLoginOption(e).then((function(){return t._sendEmail(i,t.rememberMeHash)}))}}return n}},{key:"_sendEmail",value:function(e,t){var n=this,i=this.serviceConstants.AVAILABLE_SERVICES.SEND_EMAIL,s={data:{template_id:e,remember_me_hash:t}};return this.RequesterService.request(i,s).then((function(e){n.$log.debug("DB - sendEmail "+(0,a.default)(s)+" result: "+(0,a.default)(e))}),(function(e){n.$log.error("DB - sendEmail "+(0,a.default)(s)+" error: "+(0,a.default)(e))}))}},{key:"_removeSavedCif",value:function(e){this.removeSavedCif&&(this.SessionService.removeSavedId(this.rememberMeHash),this.disableLoginOption(e))}},{key:"_checkMaintenanceStatus",value:function(e){var t=this;return this.MobileMaintenanceService.isMaintenanceMode(e).then((function(e){return e?(t.EventBusService.publish(t.appStateConstants.MOBILE_MAINTENANCE),t.LoginTimeoutService.revokeTimer(),t.$q.reject()):t.$q.when()}))}}]),e}();l.$inject=["$q","$log","$injector","$rootScope","RequesterService","EnvironmentService","mobileSecurityConstants","SessionService","NativeService","authConstants","LoginService","serviceConstants","EventBusService","appStateConstants","loginConstants","LocaleService","LoginTimeoutService","DeviceCapabilityService","AnalyticsService","MobileMaintenanceService"],t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1060),s=(i=a)&&i.__esModule?i:{default:i};n(1061);var o=angular.module("tangerine.app.core.components.mobileFooterDirective",[]).directive("tngMobileFooter",s.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){return{restrict:"AE",link:function(n,i){if(t.isNative()){i.parent().addClass("c-mobile-footer");var a=e.find("div[ui-view='page-content']");a.addClass("c-mobile-ui-view");var s=a.children().first();s.addClass("c-mobile-page-wrapper"),s.children().first().addClass("c-mobile-page-content"),n.$on("$destroy",(function(){a.removeClass("c-mobile-ui-view")}))}}}};i.$inject=["$document","EnvironmentService"],t.default=i,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1063)),a=s(n(1064));function s(e){return e&&e.__esModule?e:{default:e}}n(1065);var o={template:i.default,controller:a.default,bindings:{onClose:"&",title:"@?",tagLine:"@?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-modal-dialog class="c-idle-notice-modal" is-visible="$ctrl.showPopup" analytics-id="idle-notice" ng-if="$ctrl.showPopup"> <span class="c-idle-notice-modal__icon icon-clock"></span> <h3>{{::$ctrl.title | translate }}</h3> <p>{{::$ctrl.tagLine | translate }}</p> <footer> <button actionable-id="idle-notice-logout" class="btn--reversed" ng-click="$ctrl.logout()" translate> {{ ::\'global.yes\' }} </button> <button actionable-id="idle-notice-continue" class="btn--reversed" ng-click="$ctrl.continue()" translate> {{ ::\'global.no\' }} </button> </footer> </tng-modal-dialog> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r){(0,i.default)(this,e),this.$log=t,this.$scope=n,this.AuthService=a,this.EventBusService=s,this.backButtonConstants=o,this.appStateConstants=r,this.showPopup=!1}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.title=this.title||"global.appConfirmExit.title",this.tagLine=this.tagLine||"global.appConfirmExit.tagLine",this.EventBusService.subscribe(this.$scope,this.backButtonConstants.EVENTS.CONFIRM_EXIT,(function(){e.openPopup()}))}},{key:"logout",value:function(){this.$log.debug("Logout"),this.AuthService.logout(),this.closePopup()}},{key:"continue",value:function(){this.$log.debug("Restart idle timeout"),this.EventBusService.publish(this.appStateConstants.KEEP_ALIVE),this.closePopup()}},{key:"openPopup",value:function(){this.showPopup=!0}},{key:"closePopup",value:function(){this.showPopup=!1}}]),e}();o.$inject=["$log","$scope","AuthService","EventBusService","backButtonConstants","appStateConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1067)),a=s(n(1068));function s(e){return e&&e.__esModule?e:{default:e}}n(1069);var o={template:i.default,controller:a.default,bindings:{onClose:"&"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-modal-dialog class="c-mobile-popup-dialog c-connection-lost-modal" is-visible="$ctrl.showPopup" analytics-id="connection-lost" ng-if="$ctrl.showPopup"> <span class="c-mobile-popup-dialog__icon icon-clock"></span> <h3>{{::$ctrl.title | translate }}</h3> <p>{{::$ctrl.description | translate }}</p> <footer> <button actionable-id="connection-lost" class="btn--reversed" ng-click="$ctrl.closePopup()" translate> {{ ::\'global.components.buttons.close\' }} </button> </footer> </tng-modal-dialog> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s){(0,i.default)(this,e),this.$log=t,this.$scope=n,this.EventBusService=a,this.eventConstants=s,this.showPopup=!1}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.EventBusService.subscribe(this.$scope,this.eventConstants.CONNECTION_LOST,(function(){e.title="global.connectionLost.title",e.description="global.connectionLost.tagLine",e.openPopup()})),this.EventBusService.subscribe(this.$scope,this.eventConstants.LOGIN_CONNECTION_LOST,(function(){e.title="",e.description="global.errorCodes.LOGIN_CONNECTION_LOST",e.openPopup()}))}},{key:"openPopup",value:function(){this.showPopup=!0}},{key:"closePopup",value:function(){this.showPopup=!1}}]),e}();o.$inject=["$log","$scope","EventBusService","eventConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1071)),a=s(n(1072));function s(e){return e&&e.__esModule?e:{default:e}}n(1073);var o={template:i.default,controller:a.default,bindings:{onClose:"&"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-modal-dialog class="c-idle-notice-modal" is-visible="$ctrl.showWarning" analytics-id="idle-notice" ng-if="$ctrl.showWarning"> <span class="c-idle-notice-modal__icon icon-clock"></span> <h3 translate>{{ ::\'global.idleNotice.title\' }}</h3> <p translate>{{ ::\'global.idleNotice.tagLine\' }}</p> <footer> <button actionable-id="idle-notice-logout" class="btn--reversed" ng-click="$ctrl.logout()" translate> {{ ::\'global.idleNotice.logout\' }} </button> <button actionable-id="idle-notice-continue" class="btn--reversed" ng-click="$ctrl.restartIdleTimeout()" translate> {{ ::\'global.idleNotice.continue\' }} </button> </footer> </tng-modal-dialog> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(15)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c,u,d,_,E,h,S){var T=this;(0,a.default)(this,e),this.$log=t,this.$rootScope=n,this.$scope=i,this.$state=s,this.$translate=o,this.AuthService=r,this.SessionService=l,this.stateConstants=c,this.EnvironmentService=u,this.EventBusService=d,this.gmConstants=_,this.GlobalModalsService=E,this.appStateConstants=h,this.timeRemaining=null,this.showWarning=!1,this.Idle=S,this.idleEvents={IdleWarn:{callback:function(e,t){T._updateTimeRemaining(t)},cleanup:null},IdleTimeout:{callback:function(){T._updateTimeRemaining(0),T.$translate("global.errorCodes.SESSION_TIMEOUT").then((function(e){T.SessionService.errorMessage=e,T.SessionService.isTimeout=!0,T.AuthService.logout(!0,!0),T.showWarning=!1,T.GlobalModalsService.closeAllModals()}))},cleanup:null},Keepalive:{callback:function(){T.EventBusService.publish(T.appStateConstants.TPW_KEEP_ALIVE)},cleanup:null}}}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;(0,i.default)(this.idleEvents).forEach((function(t){var n=e.idleEvents[t];e.$log.debug("idleNotice: registering",t,"listener"),n.cleanup=e.$rootScope.$on(t,n.callback)}))}},{key:"$onDestroy",value:function(){var e=this;(0,i.default)(this.idleEvents).forEach((function(t){e.idleEvents[t].cleanup&&(e.$log.debug("idleNotice: unregistering",t,"listener"),e.idleEvents[t].cleanup())}))}},{key:"logout",value:function(){this.$log.debug("Logout"),this.AuthService.logout(!0,!0),this.timeRemaining=0,this.showWarning=!1}},{key:"restartIdleTimeout",value:function(){this.$log.debug("Restart idle timeout"),this.showWarning=!1,this.EventBusService.publish(this.appStateConstants.KEEP_ALIVE),this.Idle.watch(),this.Idle._options().autoResume="idle"}},{key:"_updateTimeRemaining",value:function(e){var t=this;this.$scope.$evalAsync((function(){t.timeRemaining=e,t.showWarning=!0})),this.Idle._options().autoResume="off"}}]),e}();r.$inject=["$log","$rootScope","$scope","$state","$translate","AuthService","SessionService","stateConstants","EnvironmentService","EventBusService","globalModalsConstants","GlobalModalsService","appStateConstants","Idle"],t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1075)),a=s(n(1076));function s(e){return e&&e.__esModule?e:{default:e}}n(1077);var o={template:i.default,controller:a.default};t.default=o,e.exports=t.default},function(e,t){e.exports=' <div ng-hide="!$ctrl.isPageWhiteListed || !$ctrl.fabVisible" ng-if="$ctrl.chatbotAvailable && !$ctrl.chatbotOpen" class="chatbot-button" ng-class="{\'no-footer-chat\': !$ctrl.SessionService.isAuthenticated(), \'chatbot-off\': !$ctrl.isVirtualAssistantOn, \'fab-hide\': $ctrl.isScrollDown, \'start-chat-animation\': $ctrl.isFirstLoadAnimation}" ng-click="$ctrl.openChatbot(false)"> <span class="chatbot-icon"></span> <div class="loading-text">{{\'chatbot.labels.startChat\' | translate}}</div> </div> <div ng-hide="!$ctrl.isPageWhiteListed || !$ctrl.chatbotOpen" class="chatbot-container" ng-class="[$ctrl.LocaleService.locale]"> <div class="title-row" ng-class="$ctrl.isInitializing ? \'loading\' : \'\'"> <div class="title-text"> {{$ctrl.isLiveChat ? \'LIVE AGENT CHAT\' : \'chatbot.labels.sender.chatbot\' | translate }} </div> <div class="title-buttons"> <span id="chatbotMinify" class="icon-x large chat-close" ng-class="$ctrl.isMinified ? \'medium\' : \'large\'" ng-click="$ctrl.closeChatbot()"></span> <span id="chatbotClose" class="icon-downarrow large chat-close" ng-class="$ctrl.isMinified ? \'medium\' : \'large\'" ng-click="$ctrl.minimizeChatBot()"></span> </div> </div> <div id="chatbot-content" class="content"> <div class="message-wrap" ng-class="[msg.sender, msg.type, {\'final\': msg.final, \'loading\': msg.loading,\n\t\t\'disabled\': msg.disabled}]" ng-repeat="msg in $ctrl.viewThread track by $index"> <div class="message-container"> <div class="message" ng-class="[{\'selected\': msg.selected}]" ng-click="$ctrl.msgClick(msg)"> <div class="sender" ng-if="!msg.following">{{msg.senderText}}</div> <div class="text" ng-bind-html="msg.content" ng-if="!msg.account"></div> <div class="domain" ng-if="msg.type === \'weblink\'">tangerine.ca</div> </div> <div class="message-time" ng-if="msg.final"> {{msg.timestamp}} </div> </div> </div> </div> <div class="input-bar" ng-class="{\'promotion-mode\': $ctrl.promotionMode}"> <input placeholder="{{ $ctrl.isInitializing ? \'chatbot.labels.sender.waitinglabel\' : \'chatbot.labels.sender.textlabel\' | translate }}" class="input" ng-model="$ctrl.msg" ng-keyup="$event.keyCode == 13 && $ctrl.sendMessage()" ng-chang="$ctrl.checkForEmptyInput()" ng-class="{\'disabled\': $ctrl.promotionMode}" ng-disabled="$ctrl.promotionMode"/> <button class="btn--medium" ng-click="$ctrl.sendMessage()" ng-class="{\'loading\': $ctrl.isInitializing, \'disabled\': $ctrl.promotionMode}" ng-disabled="$ctrl.promotionMode">{{ \'chatbot.labels.sender.sendbutton\' | translate }}</button> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(58)),a=c(n(92)),s=c(n(0)),o=c(n(2)),r=c(n(45)),l=n(178);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,i,a,o,r,l,c,u,d,_,E,h,S,T,p,f,g,A,v,C,m,I,O,N,R,y,L,M,D,P,b,U,$,F){(0,s.default)(this,e),this.$log=t,this.EnvironmentService=n,this.serviceConstants=i,this.RequesterService=a,this.SessionService=o,this.$cookies=r,this.LoginService=l,this.LocaleService=c,this.localeConstants=u,this.$ngRedux=d,this.$scope=_,this.BundleService=E,this.bundleConstants=h,this.$compile=S,this.$timeout=T,this.$element=p,this.$state=f,this.stateConstants=g,this.$translate=A,this.$window=v,this.escalationOptionCount=0,this.ChatbotService=C,this.AnalyticsService=m,this.ANALYTICS_AVAILABLE_EVENTS=this.AnalyticsService.availableEvents,this.choiceCount=0,this.isVirtualAssistantOn=!1,this.chatbotConstants=I,this.ESCALATION_OPTIONS=this.chatbotConstants.ESCALATION_OPTIONS,this.GA_EVENTS=this.chatbotConstants.GA_EVENTS,this.SENDER=this.chatbotConstants.SENDER,this.GENERAL=this.chatbotConstants.GENERAL,this.MESSAGE_TYPE=this.chatbotConstants.MESSAGE_TYPE,this.SAVE_TRANSCRIPT=this.chatbotConstants.SAVE_TRANSCRIPT,this.MULTILANG_PROPERTIES=this.chatbotConstants.MULTILANG_PROPERTIES,this.PRODUCT_OPTIONS=this.chatbotConstants.PRODUCT_OPTIONS,this.CHAT_INTENT=this.chatbotConstants.CHAT_INTENT,this.isInitializing=!0,this.$location=O,this.EventBusService=N,this.$rootScope=R,this.appStateConstants=y,this.WHITE_LISTED_URLS=this.chatbotConstants.WHITE_LISTED_URLS,this.WYSDOM_INTENT=this.chatbotConstants.WYSDOM_INTENT,this.MenuService=L,this.oldMessage="",this.transactionalFlows=!0,this.isLiveChatOn=!1,this.browserInfo=this.$window.navigator.userAgent,this.isScrollDown=!1,this.TABLET_BREAKPOINT_WIDTH=768,this.TABLET_BREAKPOINT_HEIGHT=1024,this.loginConstants=M,this.accountConstants=D,this.fabVisible=!1,this.isFirstLoadAnimation=!1,this.InsightsService=P,this.InsightsConstants=b,this.insights=[],this.insight=null,this.promotionMode=!1,this.InsightsEventService=U,this.$q=F,this.startSessionMessage=this.MULTILANG_PROPERTIES.START_SESSION,this.topAnswersRandomThreshHold=.5,this.topAnswersShowing=!1,this.menuConstants=$,this.layout=null,this.laptopResolution=this.menuConstants.MENU_TYPES.LAPTOP_RESOLUTION,this.isChatAvailable=!1}return(0,o.default)(e,[{key:"$onInit",value:function(){var e=this;this.unsubscribe=this.$ngRedux.connect(this.mapStateToThis.bind(this),(0,a.default)({},l.ContactUsActions,l.ChatWithUsActions,l.CallYouActions,l.CallUsActions))(this),this.isVirtualAssistantOn=this.EnvironmentService.isEnabled(this.GENERAL.VA);var t=this.ChatbotService.getChatHistory();this.viewThread=t||[],this.setIntialChoiceCount(this.viewThread);var n=this.ChatbotService.getUserToken();this.primaryAccount=n||"",this.SessionService.initSession().then((function(){e.SessionService.isAuthenticated()&&e.isVirtualAssistantOn&&(e.initChatbot(),e.fabVisible=!0)})),this.LoginService.getSessionCreated.then((function(){e.isVirtualAssistantOn&&e.initChatbot()})),this.EventBusService.subscribe(this.$scope,this.loginConstants.LOGIN_EVENTS.SUCCESSFUL_LOGIN,(function(){e.fabVisible=!0})),this.EventBusService.subscribe(this.$rootScope,this.accountConstants.ACCOUNT_EVENTS.ACCOUNT_SUMMARY_LOADED,(function(){e.getPromotions().finally((function(){e.isFirstLoadAnimation=e.ChatbotService.determineFirstLoadAnimation()&&!e.chatbotOpen,setTimeout((function(){e.isFirstLoadAnimation=!1}),4e3)}))})),this.EventBusService.subscribe(this.$rootScope,"$stateChangeSuccess",(function(){e.promotionMode&&(e.isMobileDevice()&&!e.chatbotOpen||e.ChatbotService.sendChatbotAnalytics(e.GA_EVENTS.WCC_NAVIGATE),e.closeChatbot())})),this.chatbotAvailable=!1,this.chatbotOpen=!this.ChatbotService.getVaMinimized(),this.initializeBackwardsScroll(),this.isLiveChat=this.ChatbotService.getVaLiveAgentChat(),this.msg="",this.$scope.$watch("$ctrl.viewThread",(function(t){e.ChatbotService.setChatHistory(t)}),!0),this.$scope.$watch("$ctrl.primaryAccount",(function(t){e.ChatbotService.setUserToken(t)}),!0),this.$scope.$watch("$ctrl.isContactUsMenuOpen",(function(t){t&&e.minimizeChatBot()})),(t&&0!==t.length||this.chatbotOpen)&&(this.isInitializing=!1),this.accountFor={},this.sessionId="",this.isEscalated=!1,this.isPageWhiteListed=!1,this.boundOnce=!1}},{key:"$onDestroy",value:function(){this.unsubscribe()}},{key:"initChatbot",value:function(){var e=this;if(!this.EnvironmentService.isNative()){var t={urlVars:{orangeKey:this.$cookies.get(this.chatbotConstants.GENERAL.ORANGE_KEY)}};this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CHATBOT_AVAILABLE,t).then((function(t){t.chatbotAvailable&&(e.chatbotAvailable=!0,e.EventBusService.subscribe(e.$scope,e.chatbotConstants.EVENTS.OPEN_CHATBOT,(function(t,n){e.openChatbot(!1,n.helpWith)})),e.EventBusService.subscribe(e.$scope,e.chatbotConstants.EVENTS.OPEN_CHATBOT_CONTACT_US,(function(){e.openChatbot(!1)})),e.EventBusService.subscribe(e.$scope,e.chatbotConstants.EVENTS.SEND_CHATBOT_MESSAGE,(function(t,n){e.getSpecificHelp(n.helpWith)})),e.enableDisableFab(),e.EventBusService.subscribe(e.$scope,"$locationChangeSuccess",(function(){e.enableDisableFab()})),e.EventBusService.subscribe(e.$rootScope,e.appStateConstants.APPLICATION_LOGOUT,(function(){e.ChatbotService.destroySession()})),e.primaryAccount||e.generateUserToken(),e.TABLET_BREAKPOINT_WIDTH>=window.innerWidth&&e.TABLET_BREAKPOINT_HEIGHT>=window.innerHeight&&e.configureScrollListener())}))}}},{key:"configureScrollListener",value:function(){var e=this;this.$rootScope.$on("$stateChangeSuccess",(function(){e.boundOnce=!1,e.observer&&e.observer.disconnect();var t=document.querySelector(".page-content"),n=function(){if(!this.boundOnce){this.position=angular.element(document.querySelector(".page-content")).scrollTop();var e=function(){var e=this.isScrollDown,t=angular.element(document.querySelector(".page-content")).scrollTop();t>this.position?this.isScrollDown=!0:this.isScrollDown=!1,e!==this.isScrollDown&&(this.isFirstLoadAnimation=!1,this.$scope.$apply()),this.position=t}.bind(this);angular.element(document.querySelector(".page-content")).off("scroll"),angular.element(document.querySelector(".page-content")).on("scroll",e),this.boundOnce=!0}}.bind(e);e.observer=new MutationObserver(n),e.observer.observe(t,{attributes:!0,childList:!0,subtree:!0})}))}},{key:"setIntialChoiceCount",value:function(e){var t=!0,n=!1,a=void 0;try{for(var s,o=(0,i.default)(e);!(t=(s=o.next()).done);t=!0){var r=s.value;if(r.sender!==this.SENDER.CHATBOT)break;this.incrementChoiceCount(r)}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}}},{key:"incrementChoiceCount",value:function(e){e.type===this.MESSAGE_TYPE.CHOICE&&(this.choiceCount=this.choiceCount+1)}},{key:"enableDisableFab",value:function(){var e=this.$location.url();e.length>1&&0!==e.lastIndexOf("/")&&(e=e.substring(0,e.indexOf("/",1))),-1!==this.WHITE_LISTED_URLS.indexOf(e)?this.isPageWhiteListed=!0:this.isPageWhiteListed=!1}},{key:"openChatbot",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments[1];if((!t||!this.isMobileDevice())&&(this.isFirstLoadAnimation=!1,this.chatbotOpen=!0,this.ChatbotService.setVaMinimized(!1),this.isLiveChat=this.ChatbotService.getVaLiveAgentChat(),this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.OPENED),this.promotionMode&&this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WCC_OPENED),!(this.viewThread.length>0)||this.promotionMode)){this.ChatbotService.getChatAvailability(this.localeConstants.SHORTHAND_LOCALE[this.LocaleService.locale],this.SessionService.isAuthenticated()).then((function(t){if(t.data&&t.data.services){var n=(0,r.default)(),i=parseInt(n.format("H"),10),a=t.data.services.find((function(e){return"CHAT"===e.type&&"SAVINGS_AND_CHEQUING"===e.product})).hours.find((function(e){return e.day===n.format("dddd").toUpperCase()}));i>=parseInt(a.start_time,10)&&i<parseInt(a.end_time,10)&&(e.isChatAvailable=!0);var s=t.data.services.find((function(e){return"CHAT"===e.type&&"INVESTMENTS"===e.product})).hours.find((function(e){return e.day===n.format("dddd").toUpperCase()}));i>=parseInt(s.start_time,10)&&i<parseInt(s.end_time,10)&&(e.isChatAvailable=!0)}})),this.primaryAccount||(this.primaryAccount=""+this.GENERAL.TNGVA+this.generateUUID()),n||this.promotionMode||!this.chatbotConstants.FEATURE_FLAGS.TOP_ANSWERS||(Math.random()>=this.topAnswersRandomThreshHold?(this.startSessionMessage=this.MULTILANG_PROPERTIES.START_SESSION_TOP_ANSWERS,this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.OPENED_TOP3),this.topAnswersShowing=!0):(this.startSessionMessage=this.MULTILANG_PROPERTIES.START_SESSION,this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.OPENED_GENERIC),this.topAnswersShowing=!1));var i={data:{c:this.GENERAL.COMPANY_ID,browserInfo:this.browserInfo,language:this.localeConstants.SHORTHAND_LOCALE[this.LocaleService.locale],primaryAccount:this.primaryAccount,primaryAccountType:this.GENERAL.ACCOUNT_TYPE,query:this.$translate.instant(this.startSessionMessage),promotionMode:this.promotionMode,params:{layout:this.getLayout()}}};n||(this.viewThread=this.createLoadingMessage().concat(this.viewThread)),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.SEND_CHATBOT_MESSAGE,i).then((function(t){n||(e.viewThread.shift(),e.viewThread=e.createChatMessageFromWysdom(t).concat(e.viewThread)),e.setSessionId(t.sessionId),e.isInitializing=!1,e.isLiveChat=!1,n&&e.getSpecificHelp(n)}),(function(){e.viewThread.shift(),e.viewThread=e.createChatMessageFromServer(e.$translate.instant(e.MULTILANG_PROPERTIES.ERROR)).concat(e.viewThread)}))}}},{key:"getLayout",value:function(){return window.innerWidth>this.laptopResolution?this.layout=this.GENERAL.LAYOUT_WIDE:this.layout=this.GENERAL.LAYOUT_NARROW,this.layout}},{key:"initializeBackwardsScroll",value:function(){this.$timeout((function(){angular.element(document).ready((function(){var e=void 0;angular.element(".chatbot-container .content").on("touchstart",(function(t){e=t.originalEvent.touches[0].clientY})),angular.element(".chatbot-container .content").on("touchmove",(function(t){t.preventDefault();var n=document.getElementById("chatbot-content").scrollTop,i=t.originalEvent.changedTouches[0].clientY;i>e?(document.getElementById("chatbot-content").scrollTop=n+10,e=i):i<e&&(document.getElementById("chatbot-content").scrollTop=n-10,e=i)})),angular.element(".chatbot-container .content").off("wheel","**"),angular.element(".chatbot-container .content").on("wheel",(function(e){e.preventDefault();var t=document.getElementById("chatbot-content").scrollTop,n=e.originalEvent.deltaY;document.getElementById("chatbot-content").scrollTop=n>0?t-50:t+50}))}))}))}},{key:"isMobileDevice",value:function(){return this.TABLET_BREAKPOINT_WIDTH>=window.innerWidth&&this.TABLET_BREAKPOINT_HEIGHT>=window.innerHeight}},{key:"getSpecificHelp",value:function(e){!1===this.chatbotOpen&&this.unMinimizeChatbot(),e===this.chatbotConstants.PROACTIVE_TOPICS.PASSMARK?this.sendUserMessage(this.$translate.instant(this.MULTILANG_PROPERTIES.PASSMARK_HELP),!0):e===this.chatbotConstants.PROACTIVE_TOPICS.PIN?this.sendUserMessage(this.$translate.instant(this.MULTILANG_PROPERTIES.PIN_HELP),!0):e===this.chatbotConstants.PROACTIVE_TOPICS.PASSMARK_RESET?this.sendUserMessage(this.$translate.instant(this.MULTILANG_PROPERTIES.PASSMARK_RESET_HELP),!0):e===this.chatbotConstants.PROACTIVE_TOPICS.PIN_RESET&&this.sendUserMessage(this.$translate.instant(this.MULTILANG_PROPERTIES.PIN_RESET_HELP),!0)}},{key:"generateUserToken",value:function(){var e=this;this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.CHATBOT_USER_TOKEN).then((function(t){t.token&&(e.primaryAccount=""+e.GENERAL.TNGVA+t.token)}))}},{key:"unMinimizeChatbot",value:function(){this.chatbotOpen=!0,this.ChatbotService.setVaMinimized(!1)}},{key:"minimizeChatBot",value:function(){this.chatbotOpen=!1,this.ChatbotService.setVaMinimized(!0)}},{key:"closeChatbot",value:function(){this.promotionMode&&this.insight&&(this.promotionMode=!1,this.isMobileDevice()&&!this.chatbotOpen||(this.InsightsEventService.sendEvent(this.insight,"interactEvent",{eventType:"evt_ShowMeLater",responseType:"SML"}),this.ChatbotService.setPromotionMode(!1),this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WCC_CLOSED))),this.saveTranscript(this.SAVE_TRANSCRIPT.USER_CLOSED),this.msg="",this.viewThread=[],this.chatbotOpen=!1,this.choiceCount=0,this.primaryAccount="",this.isInitializing=!0,this.isLiveChat=!1,this.ChatbotService.setVaLiveAgentChat(!1),this.ChatbotService.setVaMinimized(!0),this.generateUserToken()}},{key:"setSessionId",value:function(e){this.sessionId=e}},{key:"createLoadingMessage",value:function(){return[{sender:this.SENDER.CHATBOT,senderText:this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),content:this.GENERAL.CONTENT_PROCESSING,loading:!0,final:!1,following:!0}]}},{key:"createChatMessageFromServer",value:function(e){var t=this.getTimestamp();return[{sender:this.SENDER.CHATBOT,senderText:this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),content:e,timestamp:t,final:!0}]}},{key:"createMessage",value:function(e,t,n,i,a,s,o,r){return{sender:e,senderText:t,content:n,contentLink:o,timestamp:i,following:a,type:s,escalationOption:r}}},{key:"createChatMessageFromWysdom",value:function(e){var t=this,n=[],a=!1,s=this.getTimestamp(),o=!1;if(!e||!e.response||e.response.length<1)n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.ERROR),s));else{var r=!0,l=!1,c=void 0;try{for(var u,d=(0,i.default)(e.response);!(r=(u=d.next()).done);r=!0){var _=u.value;if(""!==_.msg){if(n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),_.msg,s,a)),a=!0,this.transactionalFlows&&_.intents&&_.intents.length>0&&((_.intents.find((function(e){return e.name===t.WYSDOM_INTENT.MOVE_MONEY}))||_.intents.find((function(e){return e.name===t.WYSDOM_INTENT.FR_MOVE_MONEY})))&&this.chatbotConstants.FEATURE_FLAGS.MOVE_MONEY&&n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.MOVE_MONEY),s,a,this.MESSAGE_TYPE.MOVE_MONEY)),(_.intents.find((function(e){return e.name===t.WYSDOM_INTENT.CANCEL_TRANSACTION}))||_.intents.find((function(e){return e.name===t.WYSDOM_INTENT.FR_CANCEL_TRANSACTION})))&&this.chatbotConstants.FEATURE_FLAGS.CANCEL_TRANSACTION&&n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.CANCEL_TRANSACTION),s,a,this.MESSAGE_TYPE.CANCEL_TRANSACTION))),_.weblinks&&_.weblinks.length>0){var E=!0,h=!1,S=void 0;try{for(var T,p=(0,i.default)(_.weblinks);!(E=(T=p.next()).done);E=!0){var f=T.value;this.ChatbotService.isOpenAccountButton(_.intents)&&this.transactionalFlows&&this.chatbotConstants.FEATURE_FLAGS.OPEN_ACCOUNT&&(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WEBLINK_OPEN_ACCOUNT_RECEIVED),n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.OPEN_ACCOUNT),s,a,this.MESSAGE_TYPE.OPEN_ACCOUNT))),n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),f.buttonTitle,s,a,this.MESSAGE_TYPE.WEBLINK,f.buttonUrl)),this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WEBLINK_RECEIVED+" - "+f.buttonTitle)}}catch(e){h=!0,S=e}finally{try{!E&&p.return&&p.return()}finally{if(h)throw S}}o=!0,this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WEBLINK_RECEIVED)}if(_.choice&&_.choice.length>0){var g=!0,A=!1,v=void 0;try{for(var C,m=(0,i.default)(_.choice);!(g=(C=m.next()).done);g=!0){var I=C.value;n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),I,s,a,this.MESSAGE_TYPE.CHOICE))}}catch(e){A=!0,v=e}finally{try{!g&&m.return&&m.return()}finally{if(A)throw v}}this.choiceCount=_.choice.length,o=!0}}}}catch(e){l=!0,c=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw c}}e.isEscalated===this.GENERAL.YES&&(this.isEscalated=!0,this.SessionService.isAuthenticated()?this.isChatAvailable&&n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.ESCALATE_CHAT),s,a,this.MESSAGE_TYPE.ESCALATED,null,this.ESCALATION_OPTIONS.CHAT)):n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.ESCALATE_LOGIN),s,a,this.MESSAGE_TYPE.ESCALATED,null,this.ESCALATION_OPTIONS.LOGIN)),n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.ESCALATE_PHONE),s,a,this.MESSAGE_TYPE.ESCALATED,null,this.ESCALATION_OPTIONS.DIAL)),n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.ESCALATE_NOTHANKS),s,a,this.MESSAGE_TYPE.ESCALATED,null,this.ESCALATION_OPTIONS.NO_THANKS)),this.escalationOptionCount=3,o=!0,this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.ESCALATE_RECEIVED))}return o||this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.CONTENT_RECEIVED),n[0].final=!0,n}},{key:"checkForEmptyInput",value:function(){return""!==this.msg&&(this.oldMessage=this.msg),this.oldMessage}},{key:"msgClick",value:function(e){var t=this.checkForEmptyInput();if(e.content===this.$translate.instant(this.MULTILANG_PROPERTIES.PHONE_NUMBER)&&this.escalateToPhone(),e.type===this.MESSAGE_TYPE.ESCALATED||e.type===this.MESSAGE_TYPE.PRODUCT||e.type===this.MESSAGE_TYPE.INTENT){if(e.disabled||e.selected)return;this.disableEscalationOptions(),e.disabled=!1,e.selected=!0;var n=e.content;e.type===this.MESSAGE_TYPE.ESCALATED?(this.sendChatbotAnalyticsWithContent(this.GA_EVENTS.ESCALATE_CLICKED,e),this.saveTranscript(this.SAVE_TRANSCRIPT.ESCALATED,e.option),e.escalationOption===this.ESCALATION_OPTIONS.DIAL&&(n=this.$translate.instant(this.MULTILANG_PROPERTIES.PHONE_NUMBER)),this.sendSelectedOptionAsUserMessage(n),this.escalateTo(e.escalationOption),this.isEscalated=!1):e.type===this.MESSAGE_TYPE.PRODUCT?(this.sendChatbotAnalyticsWithContent(this.GA_EVENTS.PRODUCT_CLICKED,e),this.sendSelectedOptionAsUserMessage(n),this.createProductIntentOptions(e.escalationOption)):e.type===this.MESSAGE_TYPE.INTENT&&(this.sendChatbotAnalyticsWithContent(this.GA_EVENTS.INTENT_CLICKED,e),this.sendSelectedOptionAsUserMessage(n))}else if(e.type===this.MESSAGE_TYPE.WEBLINK)this.isMobileDevice()&&this.minimizeChatBot(),this.sendChatbotAnalyticsWithContent(this.GA_EVENTS.WEBLINK_CLICKED,e),e.contentLink===this.GENERAL.PIN_RESET_PATH&&(e.contentLink=this.$window.location.href.split("/#/")[0]+"/#"+this.GENERAL.PIN_RESET_PATH),this.$window.location=e.contentLink;else if(e.type===this.MESSAGE_TYPE.CHOICE){for(var i=e.content,a=0;a<this.choiceCount;a++)this.viewThread.shift();this.choiceCount=0,this.msg=i,this.topAnswersShowing&&(this.sendChatbotAnalyticsWithContent(this.GA_EVENTS.TOP3_CLICKED,e),this.topAnswersShowing=!1),this.sendMessage(),this.promotionMode&&(this.promotionMode=!1,this.ChatbotService.setPromotionMode(!1),this.chatbotConstants.PROMOTION_ANSWERS.UPGRADE_NOW.indexOf(i)>=0?(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WCC_UPGRADE_CLICKED),this.InsightsEventService.sendEvent(this.insight,"interactEvent",{eventType:"evt_Activate1",responseType:"ACTIVATE1"}),this.InsightsEventService.sendEvent(this.insight,"openSecureUrl",{url:"#/credit-card-conversion"})):this.chatbotConstants.PROMOTION_ANSWERS.LEARN_MORE.indexOf(i)>=0?(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WCC_LEARN_CLICKED),this.InsightsEventService.sendEvent(this.insight,"interactEvent",{eventType:"evt_LearnMore",responseType:"LRNMR"}),this.InsightsEventService.sendEvent(this.insight,"openSecureUrl",{url:"#/credit-card-conversion"})):this.chatbotConstants.PROMOTION_ANSWERS.MAYBE_LATER.indexOf(i)>=0?(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WCC_LATER_CLICKED),this.InsightsEventService.sendEvent(this.insight,"interactEvent",{eventType:"evt_ShowMeLater",responseType:"SML"})):this.chatbotConstants.PROMOTION_ANSWERS.NOT_INTERESTED.indexOf(i)>=0&&(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WCC_DISMISS_CLICKED),this.InsightsEventService.sendEvent(this.insight,"interactEvent",{eventType:"evt_Reject",responseType:"RJT"})))}else e.type===this.MESSAGE_TYPE.OPEN_ACCOUNT?(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.WEBLINK_OPEN_ACCOUNT_CLICKED),this.$state.go(this.stateConstants.EXISTING_CLIENT_ONBOARDING)):e.type===this.MESSAGE_TYPE.MOVE_MONEY?(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.MOVE_MONEY_CLICKED),this.openMoveMoney()):e.type===this.MESSAGE_TYPE.CANCEL_TRANSACTION&&(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.CANCEL_TRANSACTION),this.openCancelTransaction());this.msg=t}},{key:"getPromotions",value:function(){var e=this;return this.chatbotConstants.FEATURE_FLAGS.ALLOW_PROMOTIONS?this.InsightsService.getInsights({audience:this.InsightsConstants.SESSION.AUDIENCE_CUSTOMER,requireSession:!0,count:1,interactionPoint:"ip_ChatBot"}).then((function(t){e.insights=t.insights,e.insight=t.insights[0],e.insight&&!1!==e.ChatbotService.getPromotionMode()&&(e.promotionMode=!0,e.ChatbotService.setPromotionMode(!0),e.openChatbot(!0))})):this.$q.resolve()}},{key:"sendSelectedOptionAsUserMessage",value:function(e){this.viewThread=this.createChatMessageFromClient(e).concat(this.viewThread)}},{key:"sendChatbotAnalyticsWithContent",value:function(e,t){this.ChatbotService.sendChatbotAnalytics(e),this.ChatbotService.sendChatbotAnalytics(e+" - "+t.content)}},{key:"saveTranscript",value:function(e,t){e||(e=this.SAVE_TRANSCRIPT.ESCALATED);var n={data:{chatStatus:e,sessionId:this.sessionId,chatEscalationOption:t}};this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.END_CHATBOT_SESSION,n)}},{key:"escalateTo",value:function(e){var t=this;e===this.ESCALATION_OPTIONS.CHAT?this.escalateToChat():e===this.ESCALATION_OPTIONS.LOGIN?(this.endWysdomSession(!0),this.escalateToLogin(),this.chatbotOpen=!1,this.ChatbotService.setVaMinimized(!0)):e===this.ESCALATION_OPTIONS.DIAL?this.endWysdomSession(!0).then((function(){t.resetWysdomSession(!1)})):e===this.ESCALATION_OPTIONS.NO_THANKS&&this.endWysdomSession(!1).then((function(){t.resetWysdomSession(!0)}))}},{key:"endWysdomSession",value:function(e){var t=this;e&&(this.viewThread=this.createLoadingMessage().concat(this.viewThread));var n={data:{c:this.GENERAL.COMPANY_ID,language:this.localeConstants.SHORTHAND_LOCALE[this.LocaleService.locale],primaryAccount:this.primaryAccount,primaryAccountType:this.GENERAL.ACCOUNT_TYPE,query:this.$translate.instant(this.MULTILANG_PROPERTIES.END_SESSION),params:{layout:this.getLayout()}}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.SEND_CHATBOT_MESSAGE,n).then((function(n){if(e){t.viewThread.shift();var i=t.createChatMessageFromWysdom(n);t.viewThread=i.concat(t.viewThread)}}))}},{key:"resetWysdomSession",value:function(e){var t=this;e&&(this.viewThread=this.createLoadingMessage().concat(this.viewThread));var n={data:{c:this.GENERAL.COMPANY_ID,language:this.localeConstants.SHORTHAND_LOCALE[this.LocaleService.locale],primaryAccount:this.primaryAccount,primaryAccountType:this.GENERAL.ACCOUNT_TYPE,query:this.$translate.instant(this.MULTILANG_PROPERTIES.START_SESSION),params:{layout:this.getLayout()}}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.SEND_CHATBOT_MESSAGE,n).then((function(n){if(e){t.viewThread.shift();var i=t.createChatMessageFromWysdom(n);t.viewThread=i.concat(t.viewThread)}t.setSessionId(n.sessionId)}),(function(){t.viewThread.shift(),t.viewThread=t.createChatMessageFromServer(t.$translate.instant(t.MULTILANG_PROPERTIES.ERROR)).concat(t.viewThread)}))}},{key:"disableEscalationOptions",value:function(){var e=!0,t=!1,n=void 0;try{for(var a,s=(0,i.default)(this.viewThread);!(e=(a=s.next()).done);e=!0){var o=a.value;o.type!==this.MESSAGE_TYPE.ESCALATED&&o.type!==this.MESSAGE_TYPE.PRODUCT&&o.type!==this.MESSAGE_TYPE.INTENT||(o.disabled=!0)}}catch(e){t=!0,n=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw n}}}},{key:"createChatMessageFromClient",value:function(e){var t=this.getTimestamp();return[{sender:this.SENDER.USER,senderText:this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CLIENT),content:e,timestamp:t,final:!0}]}},{key:"sendMessage",value:function(){var e=this;if(this.msg&&!this.isInitializing){if(this.ChatbotService.sendChatbotAnalytics(this.GA_EVENTS.MESSAGE_SENT),this.choiceCount>0){for(var t=0;t<this.choiceCount;t++)this.viewThread.shift();this.choiceCount=0}this.topAnswersShowing=!1,this.isEscalated?(this.disableEscalationOptions(),this.endWysdomSession(!1).then((function(){e.resetWysdomSession(!1).then((function(){e.sendUserMessage()}))})),this.isEscalated=!1):this.sendUserMessage()}}},{key:"sendUserMessage",value:function(e,t){var n=this;t||(this.viewThread=this.createChatMessageFromClient(this.msg).concat(this.viewThread));var i={data:{c:this.GENERAL.COMPANY_ID,language:this.localeConstants.SHORTHAND_LOCALE[this.LocaleService.locale],primaryAccount:this.primaryAccount,primaryAccountType:this.GENERAL.ACCOUNT_TYPE,query:e||this.msg,promotionMode:this.promotionMode,params:{layout:this.getLayout()}}};this.viewThread=this.createLoadingMessage().concat(this.viewThread),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.SEND_CHATBOT_MESSAGE,i).then((function(e){n.viewThread.shift();var t=n.createChatMessageFromWysdom(e);n.viewThread=t.concat(n.viewThread),n.setSessionId(e.sessionId)}),(function(){n.viewThread.shift(),n.viewThread=n.createChatMessageFromServer(n.$translate.instant(n.MULTILANG_PROPERTIES.ERROR)).concat(n.viewThread)})),this.msg=""}},{key:"escalateToChat",value:function(){var e=this;this.isLiveChatOn?(this.chatbotOpen=!0,this.isInitializing=!0,this.primaryAccount="",this.isLiveChat=!0,this.ChatbotService.setVaLiveAgentChat(!0),this.viewThread=this.createChatMessageFromServer(this.$translate.instant(this.MULTILANG_PROPERTIES.CONNECT_TO_LIVE_AGENT)).concat(this.viewThread),this.createProductOptions()):(this.BundleService.loadBundle(this.bundleConstants.AVAILABLE_BUNDLES.CONTACT_US).then((function(t){t&&(e.$compile(e.$element.find("tng-contact-us-menu").contents())(e.$scope),e.$timeout((function(){e.$compile(angular.element("tng-global-modals").contents())(e.$scope)}),0)),e.BundleService.loadCommonBundle().then((function(){e.toggleChatWithUsModal()}))})),this.chatbotOpen=!1,this.ChatbotService.setVaMinimized(!0))}},{key:"createProductOptions",value:function(){var e=this.getTimestamp(),t=[];t.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.CHAT_PRODUCT_SAVING),e,!0,this.MESSAGE_TYPE.PRODUCT,null,this.PRODUCT_OPTIONS.SAVING)),t.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.CHAT_PRODUCT_INVESTMENT),e,!0,this.MESSAGE_TYPE.PRODUCT,null,this.PRODUCT_OPTIONS.INVESTMENT)),t[0].final=!0,this.viewThread=t.concat(this.viewThread)}},{key:"createProductIntentOptions",value:function(e){var t=this.getTimestamp(),n=[];e===this.PRODUCT_OPTIONS.SAVING&&(n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.CHAT_INTENT_OPEN_ACCOUNT),t,!0,this.MESSAGE_TYPE.INTENT,null,this.CHAT_INTENT.OPEN_ACCOUNT)),n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.CHAT_INTENT_MANAGING_ACCOUNT),t,!0,this.MESSAGE_TYPE.INTENT,null,this.CHAT_INTENT.MANAGING_ACCOUNT)),n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.CHAT_INTENT_ENTERING_PIN),t,!0,this.MESSAGE_TYPE.INTENT,null,this.CHAT_INTENT.ENTERING_PIN)),n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.CHAT_INTENT_LOST_CARD),t,!0,this.MESSAGE_TYPE.INTENT,null,this.CHAT_INTENT.LOST_CARD)),n.unshift(this.createMessage(this.SENDER.CHATBOT,this.$translate.instant(this.MULTILANG_PROPERTIES.SENDER_CHATBOT),this.$translate.instant(this.MULTILANG_PROPERTIES.CHAT_INTENT_OTHER),t,!0,this.MESSAGE_TYPE.INTENT,null,this.CHAT_INTENT.OTHER)),n[0].final=!0),this.viewThread=n.concat(this.viewThread)}},{key:"escalateToLogin",value:function(){this.$state.go(this.stateConstants.LOGIN)}},{key:"escalateToPhone",value:function(){this.$window.open(this.GENERAL.PHONE)}},{key:"getTimestamp",value:function(){return(new Date).toLocaleString([],{hour:this.GENERAL.TIME_FORMAT,minute:this.GENERAL.TIME_FORMAT})}},{key:"generateUUID",value:function(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}},{key:"mapStateToThis",value:function(e){var t=(0,a.default)({},e.contactUs,e.chatWithUs,e.callYou,e.callUs);return{isContactUsMenuOpen:t.isContactUsMenuOpen,isChatWithUsAvailable:t.isChatWithUsAvailable,isCallYouAvailable:t.isCallYouAvailable,isCallUsAvailable:t.isCallUsAvailable}}},{key:"openMoveMoney",value:function(){this.MenuService.handleMenuInteraction("method","openMoveMoney")}},{key:"openCancelTransaction",value:function(){this.isMobileDevice()&&this.minimizeChatBot(),this.$state.go(this.stateConstants.TRANSACTIONS)}}]),e}();u.$inject=["$log","EnvironmentService","serviceConstants","RequesterService","SessionService","$cookies","LoginService","LocaleService","localeConstants","$ngRedux","$scope","BundleService","bundleConstants","$compile","$timeout","$element","$state","stateConstants","$translate","$window","ChatbotService","AnalyticsService","chatbotConstants","$location","EventBusService","$rootScope","appStateConstants","MenuService","loginConstants","accountConstants","InsightsService","InsightsConstants","InsightsEventService","menuConstants","$q"],t.default=u,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1079)),a=s(n(1080));function s(e){return e&&e.__esModule?e:{default:e}}n(1081);var o={template:a.default,controller:i.default,require:{ngModel:"?ngModel"},bindings:{onUpdate:"&",ngDisabled:"<",customErrorMsg:"@",inputName:"@"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$scope=t,this.$timeout=n,this.$element=a}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.ngModel&&(this.switchValue=!1,this.deregisterWatch=this.$scope.$watch((function(){return e.ngModel.$viewValue}),this._updateInternalValue.bind(this)))}},{key:"updateExternal",value:function(){var e=this;this.ngModel&&(this.onUpdate&&this.$timeout((function(){e.onUpdate({$event:{key:"switchValue",switchValue:e.switchValue}})}),1),this.ngModel.$setViewValue(this.switchValue))}},{key:"_updateInternalValue",value:function(){this.ngModel&&this.ngModel.$viewValue?this.switchValue=this.ngModel.$viewValue:this.switchValue=!1;var e=this.$element.find(".slider.round").html();this.$element.find(".slider.round").html(e)}}]),e}();o.$inject=["$scope","$timeout","$element"],t.default=o,e.exports=t.default},function(e,t){e.exports='<label class="c-switch"> <input type="checkbox" ng-model="$ctrl.switchValue" ng-change="$ctrl.updateExternal()" ng-disabled="$ctrl.ngDisabled" actionable-id="{{ $ctrl.inputName }}"/> <div class="slider round"> <div class="slider-thumb"></div> </div> </label>'},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1083)),a=s(n(1084));function s(e){return e&&e.__esModule?e:{default:e}}n(1085);var o={template:a.default,controller:i.default,bindings:{states:"<",currentState:"<",totalSteps:"<",currentStepInSubFlow:"<?",totalStepsInSubFlow:"<?",currentStateInParentFlow:"<?",subflowFractionOverride:"<?",progressWidthOverride:"<?",alternateStyle:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(58)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(){(0,a.default)(this,e),this.progressWidth=0,this.visibleStatesCount=0}return(0,s.default)(e,[{key:"$onChanges",value:function(){this.currentStateInParentFlow&&!this.currentState.subFlow&&(this.currentState.subFlow={parentState:this.currentStateInParentFlow.parentStateKey}),this.getStateAndStepInfo(),this.calculateVisibleStatesCount(),this.calculateProgressWidth()}},{key:"isInProgress",value:function(e){if(!e||!this.currentState)return!1;var t=this.alternateStyle&&this.currentStateInParentFlow?this.currentStateInParentFlow:this.currentState;return t===e||"subFlow"in t&&t.subFlow.parentState===e.parentStateKey}},{key:"calculateVisibleStatesCount",value:function(){var e=0,t=!0,n=!1,a=void 0;try{for(var s,o=(0,i.default)(this.states);!(t=(s=o.next()).done);t=!0){s.value.subState||(e+=1)}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}this.visibleStatesCount=e}},{key:"calculateProgressWidth",value:function(){var e=this;if(this.progressWidthOverride)this.progressWidth=this.progressWidthOverride+"%";else{var t=100,n=1;void 0!==this.subflowFractionOverride?n=this.subflowFractionOverride:void 0===this.subflowFractionOverride&&(n=this.currentStepInSubFlow&&this.totalStepsInSubFlow?(this.currentStepInSubFlow-1)/this.totalStepsInSubFlow:0);var i=this.states.findIndex((function(t){return e.isInProgress(t)}));if(1!==this.visibleStatesCount||this.alternateStyle)t=((this.alternateStyle?i+1:i)+n)/this.visibleStatesCount*100;else t=0;t>=100&&(t=100),this.progressWidth=t+"%"}}},{key:"getStateAndStepInfo",value:function(){var e=this.currentStateInParentFlow?this.currentStateInParentFlow:this.currentState;e&&e.subFlow&&e.subFlow.parentState?this.currentParentState=this.states.filter((function(t){return t.parentStateKey===e.subFlow.parentState}))[0]:this.currentParentState=e,this.currentStep=this.states.indexOf(this.currentParentState)+1;var t=this.states.indexOf(this.currentParentState)+1;this.nextState=t<this.states.length?this.states[t]:null}}]),e}();r.$inject=[],t.default=r,e.exports=t.default},function(e,t){e.exports='<div class="c-progress-bar-buttons"> <div ng-if="!$ctrl.alternateStyle"> <div class="c-progress-bar-buttons__bar"> <div class="c-progress-bar-buttons__bar__completed" ng-style="{ \'width\': $ctrl.progressWidth }"></div> </div> <div class="progress-bar-buttons-all progress-bar-buttons-{{$ctrl.visibleStatesCount}}"> <div class="c-progress-bar-button small" ng-repeat="state in $ctrl.states track by $index" ng-class="{ \'c-progress-bar-button--in-progress\': $ctrl.isInProgress(state) }"> <div class="c-progress-bar-button__inner"> <div class="c-progress-bar-button__inner-step-name"> <strong class="c-progress-bar-button__inner-step-index">{{ $index + 1 }}</strong> <span class="c-progress-bar-button__inner-step-title">{{ state.titleKey | translate }}</span> </div> </div> </div> </div> </div> <div ng-if="$ctrl.alternateStyle"> <div class="c-progress-bar-buttons__header"> <div class="c-progress-bar-buttons__current-state">{{$ctrl.currentParentState.titleKey | translate}}</div> <div class="c-progress-bar-buttons__current-step"> {{ \'progressBarButtons.steps\' | translate: { currentStep: $ctrl.currentStep, totalSteps: $ctrl.states.length } }} </div> </div> <div class="c-progress-bar-buttons__bar__alternate"> <div class="c-progress-bar-buttons__bar__completed" ng-style="{ \'width\': $ctrl.progressWidth }"></div> </div> <div class="c-progress-bar-buttons__next-state" ng-if="$ctrl.nextState && $ctrl.nextState.titleKey"> <div> <span>{{ ::\'progressBarButtons.next\' | translate }}</span> <span>{{ $ctrl.nextState.titleKey | translate }}</span> </div> </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";function i(e,t,n){return{restrict:"A",link:function(i,a,s){if(s.tngClickOutside){var o=a[0],r=e(s.tngClickOutside),l=function(e){var t=s.tngClickOutsideIgnoreId;"true"===s.tngClickOutsideInactive||o===e.target||o.contains(e.target)||function(){if(t){var i=n.find("#"+t)[0];return i&&(i===e.target||i.contains(e.target))}return!1}()||i.$apply(r)},c=t.isIOS()?"touchstart":"click";window.addEventListener(c,l,!0),i.$on("$destroy",(function(){window.removeEventListener(c,l,!0)}))}}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$parse","EnvironmentService","$document"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){return{restrict:"A",link:function(t,n,i){if(i.tngClickOutsideForNavMenu){var a=n[0],s=e(i.tngClickOutsideForNavMenu),o=function(e){"true"===i.tngClickOutsideForNavMenuInactive||a===e.target||a.contains(e.target)||t.$apply(s)};window.addEventListener("click",o,!0),t.$on("$destroy",(function(){return window.removeEventListener("click",o)}))}}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$parse"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1089)),a=s(n(1090));function s(e){return e&&e.__esModule?e:{default:e}}n(1091);var o={controller:i.default,template:a.default,bindings:{productCode:"@",currency:"@"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d){(0,i.default)(this,e),this.$log=t,this.$q=n,this.referenceDataService=a,this.referenceDataConstants=s,this.currencyService=o,this.localeService=r,this.EnvironmentService=l,this.localeConstants=c,this.AccountDetailsService=d,this.ELIGIBLE=u.ELIGIBLE,this.NOT_ELIGIBLE=u.NOT_ELIGIBLE,this.INFO=u.INFO}return(0,a.default)(e,[{key:"$onInit",value:function(){this.cdicEligibleProducts&&0!==this.cdicEligibleProducts.length||this._lookupEligibleProducts(),this.productCode&&(this.productCode=this.productCode.toString()),this.lang=(this.localeService.localeDisplay||this.localeConstants.SHORTHAND_LOCALE[this.localeConstants.LOCALES.EN_CA]).toLowerCase()}},{key:"isEnglish",value:function(){return this.lang===this.localeConstants.SHORTHAND_LOCALE[this.localeConstants.LOCALES.EN_CA].toLowerCase()}},{key:"_lookupEligibleProducts",value:function(){var e=this;this.referenceDataService.getDataByType([this.referenceDataConstants.TYPES.CDIC_ELIGIBLE_PRODUCTS]).then((function(t){t&&(e.cdicEligibleProducts=t[e.referenceDataConstants.TYPES.CDIC_ELIGIBLE_PRODUCTS][0].codes),e._defineState()})).catch((function(t){e.$log.error(t),e.showSubmitErrors(t),e.cdicEligibleProducts=void 0,e._defineState()}))}},{key:"_defineState",value:function(){this.productCode||this.currency?this.state=this._isCdicEligible()?this.ELIGIBLE:this.NOT_ELIGIBLE:this.state=this.INFO,this._setLogoLink()}},{key:"_setLogoLink",value:function(){this.state===this.ELIGIBLE?this.logoLink="https://www.cdic.ca/en/financial-community/cdic-display-requirements/Documents/cdic-abbreviated-brochure-"+this.lang+".pdf":this.state===this.INFO&&(this.logoLink=this.isEnglish()?"https://www.cdic.ca/SiteAssets/financial-community/protecting-your-deposits.aspx":"https://www.cdic.ca/SiteAssets/communaute-financiere/protection-de-vos-depots.aspx")}},{key:"_isCdicEligible",value:function(){return!!this.productCode&&(!(this.currency&&!this.currencyService.isCanadian(this.currency)&&!this.AccountDetailsService.isAfterCdicChangeDate())&&(!!(this.cdicEligibleProducts&&this.cdicEligibleProducts.length>0)&&-1!==this.cdicEligibleProducts.indexOf(this.productCode)))}}]),e}();o.$inject=["$log","$q","ReferenceDataService","referenceDataConstants","CurrencyService","LocaleService","EnvironmentService","localeConstants","cdicConstants","AccountDetailsService"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="cdic-logo__wrapper" ng-if="$ctrl.state!==$ctrl.NOT_ELIGIBLE" ng-class="{\'container\': $ctrl.state===$ctrl.ELIGIBLE }"> <div class="cdic-logo__img-wrapper"> <a href="{{$ctrl.logoLink}}" target="_blank"> <img ng-src="assets/images/cdic-badge-bilingual.png" class="cdic-logo__image"> </a> </div> <div ng-if="$ctrl.state===$ctrl.INFO" class="cdic-logo__text"> <p ng-if="$ctrl.AccountDetailsService.isAfterCdicChangeDate()" ng-bind-html="::\'global.cdic.mutualFundsNonEligible\' | translate"></p> <p ng-if="!$ctrl.AccountDetailsService.isAfterCdicChangeDate()" ng-bind-html="::\'global.cdic.nonEligible\' | translate"></p> </div> <div ng-if="$ctrl.state===$ctrl.ELIGIBLE" class="cdic-logo__text"> <span>{{ ::\'global.cdic.eligibleText\' | translate}}</span> <span> <a href="{{::\'https://www.cdic.ca/en/financial-community/cdic-display-requirements/Documents/cdic-abbreviated-brochure-\'+ $ctrl.lang +\'.pdf\'}}" target="_blank"> {{ ::\'global.cdic.eligibleTextHere\' | translate}} </a> </span> <span> {{ ::\'global.cdic.eligibleTextORA\' | translate}} </span> <span ng-bind-html="::\'global.cdic.eligibleTextLocation\' | translate : { lang: $ctrl.lang }"></span> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1093)),a=s(n(1097));function s(e){return e&&e.__esModule?e:{default:e}}var o=angular.module("tangerine.app.core.components.mobileMaintenance",[]).component("tngMobileMaintenanceModal",i.default).service("MobileMaintenanceService",a.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1094)),a=s(n(1095));function s(e){return e&&e.__esModule?e:{default:e}}n(1096);var o={template:a.default,controller:i.default,bindings:{}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.$log=t,this.$scope=n,this.$timeout=a,this.EventBusService=s,this.appStateConstants=o,this.showPopup=!1}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.EventBusService.subscribe(this.$scope,this.appStateConstants.MOBILE_MAINTENANCE,(function(){e.$log.debug("DB - MobileMainenance event received."),e.$timeout((function(){return e.showPopup=!0}),300)}))}}]),e}();o.$inject=["$log","$scope","$timeout","EventBusService","appStateConstants"],t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-modal-dialog ng-if="$ctrl.showPopup" is-visible="$ctrl.showPopup" on-close="$ctrl.showPopup = false" analytics-id="mobile-maintenance" class="c-mobile-popup-dialog c-mobile-maintenance"> <h3>{{::\'mobileMaintenance.title\'|translate}}</h3> <div class="c-mobile-maintenance__message" ng-bind-html="::\'mobileMaintenance.message\'|translate"> </div> <footer> <button actionable-id="idle-notice-logout" class="btn--reversed" ng-click="$ctrl.showPopup = false" translate> {{ ::\'global.components.buttons.okay\' }} </button> </footer> </tng-modal-dialog>'},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(49)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c){(0,a.default)(this,e),this.$log=t,this.$q=n,this.$http=i,this.$rootScope=s,this.AnalyticsService=c,this.traceCount=0,this.appStateConstants=o,this.EnvironmentSwitchService=r,this.EventBusService=l,this.mfpHeartbitEndpoint="/adapters/InitializationAdapterFBE/heartbeat",this.MAINTENANCE_ERROR_FROM_MFP_SERVER="503-maintenance",this.NOT_REGISTERED_ERROR_FROM_WORKLIGHT_JS="Cannot logout before client is registered"}return(0,s.default)(e,[{key:"isMaintenanceMode",value:function(e){return e&&e.originalError?this._isMaintenanceError(e.originalError)?this.$q.when(!0):(this._sendAnalytics(e),this._isClientNotRegisteredError(e.originalError)?this._isMfpServerResponseMaintenceError():this.$q.when(!1)):this.$q.when(!1)}},{key:"_isMaintenanceError",value:function(e){return!!e&&"string"==typeof e.errorMessage&&-1!==e.errorMessage.indexOf(this.MAINTENANCE_ERROR_FROM_MFP_SERVER)}},{key:"_isClientNotRegisteredError",value:function(e){return!!e&&"string"==typeof e.errorMessage&&-1!==e.errorMessage.indexOf(this.NOT_REGISTERED_ERROR_FROM_WORKLIGHT_JS)}},{key:"_isMfpServerResponseMaintenceError",value:function(){var e=this,t=this.EnvironmentSwitchService.getCurrentConfig().mfpServerUrl+this.mfpHeartbitEndpoint;return this.$log.debug("DB - testing MFP server "+t),this.$http.get(t).then((function(){return!1})).catch((function(t){return e.$log.debug("DB - checking maintenance response: "+t),!(!t||"string"!=typeof t.data||-1===t.data.indexOf(e.MAINTENANCE_ERROR_FROM_MFP_SERVER))}))}},{key:"_sendAnalytics",value:function(e){if(this.traceCount<10){this.traceCount+=1;try{var t=(0,i.default)(e),n=this.AnalyticsService.EVENT_CATEGORY.LOGIN_PAGE;this.AnalyticsService.sendAction(this.AnalyticsService.availableEvents.CUSTOM_EVENT,"logout error",{category:n,label:t})}catch(e){this.$log.error("DB - MobileMaintenanceService _sendAnalytics error:",e)}}}}]),e}();r.$inject=["$log","$q","$http","$rootScope","appStateConstants","EnvironmentSwitchService","EventBusService","AnalyticsService"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1099)),a=o(n(1103)),s=o(n(1104));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("tangerine.app.core.components.visitorSearch",[]).service("VisitorSearchService",s.default).component("tngVisitorSearch",i.default).constant("VisitorSearchConstants",a.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1100)),a=s(n(1101));function s(e){return e&&e.__esModule?e:{default:e}}n(1102);var o={template:a.default,controller:i.default,bindings:{onClose:"&"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,s,o,r,l,c,u,d,_,E,h){(0,a.default)(this,e),(0,i.default)(this,{$log:t,$translate:n,EnvironmentService:s,$window:o,visitorSearchConstants:r,LocaleService:l,VisitorSearchService:c,RequesterService:u,serviceConstants:d,localeConstants:_,$cookies:E,SessionService:h})}return(0,s.default)(e,[{key:"$onInit",value:function(){this.EnvironmentService.isNative()||(wysdom.websearch.init({mode:this.EnvironmentService.get("wysdomEnv"),language:this.LocaleService.shortHandLocale,forceRegistration:!0,proxyUrl:this.EnvironmentService.getAPIUrl()+"/web/rest",setSearchContentTypeJSON:!0,requestWithCredentials:!0,requestHeader:{"x-transaction-token":this.SessionService.transaction_token}}),wysdom.websearch.searchBar({searchBarId:"wysdom-search-bar",redirectSearchResults:!0,redirectUrl:this.EnvironmentService.get("marketingResourcesUrl")+"/"+this.LocaleService.shortHandLocale+this.getSearchResultUrl(),forceRegistration:!0,enableDirectSolution:!0,directSolutionUrl:this.EnvironmentService.get("marketingResourcesUrl")+"/"+this.LocaleService.shortHandLocale+"/faq/answer",enableCognitiveSearch:!0}))}},{key:"getSearchResultUrl",value:function(){return this.LocaleService.shortHandLocale===this.localeConstants.SHORTHAND_LOCALE[this.localeConstants.LOCALES.FR_CA]?"/recherche":"/search"}}]),e}();r.$inject=["$log","$translate","EnvironmentService","$window","VisitorSearchConstants","LocaleService","VisitorSearchService","RequesterService","serviceConstants","localeConstants","$cookies","SessionService"],t.default=r,e.exports=t.default},function(e,t){e.exports='<div class="c-visitor-search" analytics-id="visitorsearch" tng-click-outside="$ctrl.onClose()"> <div id="searchOverlay" class="search-overlay--hidden"> <div class="search-overlay__bar"> <ng-form class="search-overlay__container"> <div class="search-overlay__inner-container"> <div id="wysdom-search-bar"></div> <div class="search-overlay__inner-right-container"> <a id="searchClose" href="javascript:void(0)" ng-click="$ctrl.onClose()" title="Close"> <span class="search-overlay__bar__icon--fr icon-x large"></span> </a> </div> </div> </ng-form> </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={KEY_CODES:{ENTER:13,UP:38,DOWN:40,TAB:9},SEARCH:{MIN_CHAR:3,LIMIT:5},HTTP:{FAQ_URL:"/v1/general/site-search?q=*&start=1&mode=1&appId="},SEARCH_ACTION:{SEARCH:"SEARCH",REMOVE:"REMOVE",MODIFIED:"MODIFIED",SEARCHOPTION:"SEARCHOPTION",SEARCHCLOSE:"SEARCHCLOSE"},SEARCH_ACTION_AUTH_LEVEL:{SECURE:"SECURE"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,s){(0,a.default)(this,e),(0,i.default)(this,{$http:t,EnvironmentService:n,VisitorSearchConstants:s})}return(0,s.default)(e,[{key:"getFaqData",value:function(){var e=this.EnvironmentService.getSiteSearchAPIUrl(),t=""+e.apiUrl+this.VisitorSearchConstants.HTTP.FAQ_URL+e.appId;return this.$http({url:t,method:"GET"})}}]),e}();r.$inject=["$http","EnvironmentService","VisitorSearchConstants"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1106),s=(i=a)&&i.__esModule?i:{default:i};var o=angular.module("LiftAndLoadContainerModule",[]).component("tngLiftAndLoadContainer",s.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1107)),a=s(n(1108));function s(e){return e&&e.__esModule?e:{default:e}}n(1109);var o={template:i.default,controller:a.default,transclude:!0,bindings:{}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-lift-and-load-container" ng-transclude> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n){(0,a.default)(this,e),(0,i.default)(this,{$element:t,$timeout:n})}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.BASE_DELAY=150,this.$timeout((function(){e.applyAnimationsSequentially()}),0)}},{key:"applyAnimationsSequentially",value:function(){var e=this,t=angular.element(this.$element)[0].querySelectorAll('[lift-and-load-child=""]'),n=0;[].forEach.bind(t)((function(t){t.classList.add("c-animations__liftAndLoadOnEnterReady"),n+=e.BASE_DELAY,e.$timeout((function(){t.classList.remove("c-animations__liftAndLoadOnEnterReady"),t.classList.add("c-animations__liftAndLoadOnEnter")}),n)}))}}]),e}();r.$inject=["$element","$timeout"],t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(1111)),a=c(n(1115)),s=c(n(1119)),o=c(n(1123)),r=c(n(1126)),l=c(n(1136));function c(e){return e&&e.__esModule?e:{default:e}}var u=angular.module("tangerine.app.core.components.footerNav",[]).component("tngFooterNav",i.default).component("tngFlowFooter",a.default).component("tngMobileFooterNav",s.default).component("tngDesktopFooterNav",o.default).component("tngCrossSellModalDialog",r.default).constant("CrossSellModalDialogConstants",l.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1112)),a=s(n(1113));function s(e){return e&&e.__esModule?e:{default:e}}n(1114);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(92)),a=r(n(0)),s=r(n(2)),o=n(178);function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,s,o,r,l,c,u,d,_,E,h,S,T,p,f){(0,a.default)(this,e),this.$scope=t,this.$ngRedux=r,this.$transitions=l,this.$window=c,this.FlowFooterService=u,this.FooterNavHelperService=n,this.MenuService=s,this.menuConstants=o,this.isNative=i.isNative(),this.$compile=d,this.$element=_,this.BundleService=E,this.bundleConstants=h,this.$timeout=S,this.ChatbotService=T,this.SessionService=p,this.AnalyticsService=f,this.FOOTER_ITEMS={DESKTOP:[],MOBILE:[],MOBILE_POPUP:[]}}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.unsubscribe=this.$ngRedux.connect(this._mapStateToThis,(0,i.default)({},o.ContactUsActions))(this),this.MenuService.subscribe(this.$scope,(function(){e._onMenuSubscribe()})),this.handleNavItemClick=function(t,n){var i=e.menuConstants,a=i.LINK_TYPES,s=i.ACTION_METHODS;t===a.METHOD&&n===s.DISPLAY_CONTACT_US_MENU?e.BundleService.loadBundle(e.bundleConstants.AVAILABLE_BUNDLES.CONTACT_US).then((function(t){t&&(e.$compile(e.$element.find("tng-contact-us-menu").contents())(e.$scope),e.$timeout((function(){e.$compile(angular.element("tng-global-modals").contents())(e.$scope)}),0)),e.toggleContactUsMenu(),e.ChatbotService.passmarkContactUs(),e.ChatbotService.pinContactUs()})):e.MenuService.handleMenuInteraction(t,n),e.AnalyticsService.sendGoogleAnalyticsOnMenuAction(e.AnalyticsService.EVENT_CATEGORY.FOOTER_MENU,n,e.SessionService.isAuthenticated())},this._onTransitionHandle=this.$transitions.onSuccess({},(function(t){var n=t.to();e.hideMobileFooter=n.data&&n.data.hideMobileFooter}))}},{key:"$onDestroy",value:function(){this.isNative&&this._onTransitionHandle(),this.unsubscribe()}},{key:"showMobileFooter",value:function(){var e=this.FOOTER_ITEMS&&this.FOOTER_ITEMS.DESKTOP;return!this.showFlowFooter()&&this.FooterNavHelperService.isMobileFooterVisible(e,this.hideMobileFooter)}},{key:"showDesktopFooter",value:function(){var e=this.FOOTER_ITEMS&&this.FOOTER_ITEMS.MOBILE;return this.FooterNavHelperService.isDesktopFooterVisible(e)}},{key:"showFlowFooter",value:function(){return this.FlowFooterService.isVisible}},{key:"getElementId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e&&e.htmlId?e.htmlId:""+n+t}},{key:"_mapStateToThis",value:function(e){return{isContactUsMenuOpen:e.contactUs.isContactUsMenuOpen}}},{key:"_onMenuSubscribe",value:function(){var e=this;this.showFooterNotifications=this.FooterNavHelperService.isFooterNotificationVisible(),this.FooterNavHelperService.getFooterItems().then((function(t){e.FOOTER_ITEMS=t}))}},{key:"isDesktopFooterVisible",get:function(){return this.showDesktopFooter()}},{key:"isMobileFooterVisible",get:function(){return this.showMobileFooter()}},{key:"isFlowFooterVisible",get:function(){return this.showFlowFooter()}}]),e}();l.$inject=["$scope","FooterNavHelperService","EnvironmentService","MenuService","menuConstants","$ngRedux","$transitions","$window","FlowFooterService","$compile","$element","BundleService","bundleConstants","$timeout","ChatbotService","SessionService","AnalyticsService"],t.default=l,e.exports=t.default},function(e,t){e.exports='<tng-footer-notifications ng-if="$ctrl.showFooterNotifications"> </tng-footer-notifications> <tng-flow-footer ng-if="$ctrl.isFlowFooterVisible" flow-service="$ctrl.FlowFooterService.flowService" primary-content-template="$ctrl.FlowFooterService.primaryContentTemplate" goto-previous-state="$ctrl.FlowFooterService.gotoPreviousState()" goto-next-state="$ctrl.FlowFooterService.gotoNextState()" on-button-click="$ctrl.FlowFooterService.onButtonClick(button)" is-native="$ctrl.FlowFooterService.isNative" agreements="$ctrl.FlowFooterService.agreements" account="$ctrl.FlowFooterService.account" agreements-changed="$ctrl.FlowFooterService.agreementsChanged()"> </tng-flow-footer> <tng-desktop-footer-nav ng-if="$ctrl.isDesktopFooterVisible" get-element-id="$ctrl.getElementId" on-handle-nav-click="$ctrl.handleNavItemClick" menu-items="$ctrl.FOOTER_ITEMS.DESKTOP" is-contact-us-menu-open="$ctrl.isContactUsMenuOpen"> </tng-desktop-footer-nav> <tng-mobile-footer-nav ng-if="$ctrl.isMobileFooterVisible" get-element-id="$ctrl.getElementId" on-handle-nav-click="$ctrl.handleNavItemClick" menu-items="$ctrl.FOOTER_ITEMS.MOBILE" available-popup-menu-items="$ctrl.FOOTER_ITEMS.MOBILE_POPUP"> </tng-mobile-footer-nav> <tng-cross-sell-modal-dialog ng-if="$ctrl.isMobileFooterVisible"></tng-cross-sell-modal-dialog> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1116)),a=s(n(1117));function s(e){return e&&e.__esModule?e:{default:e}}n(1118);var o={template:i.default,controller:a.default,bindings:{flowService:"<",primaryContentTemplate:"<?",gotoPreviousState:"&",gotoNextState:"&",onButtonClick:"&?",agreements:"<?",account:"<?",agreementsChanged:"&?"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<footer class="flow-footer"> <section class="agreements hide-for-print"> <div ng-hide="$ctrl.flowService.currentFlow.showConfirmExitUI || $ctrl.flowService.currentFlow.inLoadingMode" ng-if="$ctrl.agreements && $ctrl.agreements.length >= 1" class="container"> <div class="field" ng-repeat="agreement in $ctrl.agreements"> <input actionable-id="{{ agreement.actionableId }}" class="input CB_ReadOnly" type="checkbox" ng-required="agreement.required" ng-model="$ctrl.account[agreement.modelVar]" ng-change="$ctrl.agreementsChanged()"/> <label for="{{ agreement.actionableId }}"> <span ng-if="!!agreement.labels[0]">{{ agreement.labels[0] }}</span> <span ng-if="agreement.links.length >= 1"> <a actionable-id="{{ agreement.links[0].actionableId }}" ng-href="{{ agreement.links[0].url }}" target="_blank" ng-bind-html="agreement.labels[1]"></a> <span ng-if="!!agreement.labels[2]">{{ agreement.labels[2] }}</span> </span> <span ng-if="agreement.links.length >= 2"> <a actionable-id="{{ agreement.links[1].actionableId }}" ng-href="{{ agreement.links[1].url }}" target="_blank"> {{ agreement.labels[3] }} </a> <span>{{ agreement.labels[4] }}</span> </span> <span ng-if="agreement.links.length >= 3"> <span ng-if="!!agreement.labels[5]">{{ agreement.labels[5] }}</span> <a actionable-id="{{ agreement.links[2].actionableId }}" ng-href="{{ agreement.links[2].url }}" target="_blank"> {{ agreement.labels[6] }} </a> </span> </label> </div> </div> </section> <section class="c-selected-accounts hide-for-print" ng-if="$ctrl.flowService.showSelectedAccounts"> <div class="container buttons selectedProduct"> <span class="c-navigation-footer__selected-accounts"> <tng-item-counter class="item-counter-mobile" items="$ctrl.flowService.selectedAccounts" scrolling-enabled="true" scrolling-location-element-selector="{{ ::$ctrl.flowService.PAGE_CONTENT_LOCATOR }}" native-scrolling-location-element-selector="c-client-onboarding" scrolling-duration="$ctrl.flowService.SCROLLING_DURATION" text-to-display="global.selectedAccounts.account_selected"> </tng-item-counter> </span> </div> </section> <div class="container buttons"> <button ng-show="$ctrl.flowService.showConfirmExitUI" class="btn btn--prev" actionable-id="clientOnboarding_cancelFlow_no" ng-click="$ctrl.flowService.denyExit()"> {{ ::\'clientOnboarding.cancelFlow.no\' | translate }} </button> <button ng-show="$ctrl.flowService.showConfirmExitUI" class="btn btn--next" actionable-id="clientOnboarding_cancelFlow_yes" ng-click="$ctrl.flowService.allowExit()"> {{ ::\'clientOnboarding.cancelFlow.yes\' | translate }} </button> <div class="flow-footer__primary-content" ng-if="!$ctrl.flowService.currentState.hideFlowFooterPrimaryTemplate" ng-include="$ctrl.primaryContentTemplate"></div> <span ng-if="$ctrl.flowService.showSelectedAccounts" class="c-navigation-footer__selected-accounts"> <tng-item-counter class="item-counter" items="$ctrl.flowService.selectedAccounts" scrolling-enabled="true" scrolling-location-element-selector="{{ ::$ctrl.flowService.PAGE_CONTENT_LOCATOR }}" native-scrolling-location-element-selector="c-client-onboarding" scrolling-duration="$ctrl.flowService.SCROLLING_DURATION" text-to-display="global.selectedAccounts.account_selected"> </tng-item-counter> </span> <button class="btn btn--prev" actionable-id="{{$ctrl.flowService.currentFlow.getButtonId($ctrl.flowService.BUTTONS.BTN_GRY.type.label)}}" watch-actionable-id="true" ng-show="!$ctrl.flowService.showConfirmExitUI && $ctrl.flowService.BUTTONS.BTN_GRY.show" ng-click="$ctrl.gryClick();" ng-disabled="$ctrl.flowService.currentFlow.BUTTONS.BTN_GRY.disable || $ctrl.flowService.currentFlow.inLoadingMode"> {{ $ctrl.flowService.BUTTONS.BTN_GRY.type.label | translate }} </button> <button class="btn btn--next" ng-class="{\'CB_ReadOnly\': $ctrl.flowService.CB_DISABLED_BUTTONS.includes($ctrl.flowService.BUTTONS.BTN_ORG.type),\n        \'btn--fluid\': $ctrl.flowService.BUTTONS.BTN_ORG.type.fluidStyle}" actionable-id="{{$ctrl.flowService.currentFlow.getButtonId($ctrl.flowService.BUTTONS.BTN_ORG.type.label)}}" watch-actionable-id="true" ng-show="!$ctrl.flowService.showConfirmExitUI && $ctrl.flowService.BUTTONS.BTN_ORG.show" ng-click="$ctrl.orgClick()" ng-disabled="$ctrl.flowService.currentFlow.BUTTONS.BTN_ORG.disable || $ctrl.flowService.currentFlow.inLoadingMode"> {{ $ctrl.flowService.BUTTONS.BTN_ORG.type.label | translate }} </button> </div> </footer> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"gryClick",value:function(){this.gotoPreviousState&&this.gotoPreviousState(),this.onButtonClick&&this.onButtonClick({button:this.flowService.currentFlow.BUTTONS.BTN_GRY})}},{key:"orgClick",value:function(){this.gotoNextState&&this.gotoNextState(),this.onButtonClick&&this.onButtonClick({button:this.flowService.currentFlow.BUTTONS.BTN_ORG})}}]),e}();o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1120)),a=s(n(1121));function s(e){return e&&e.__esModule?e:{default:e}}n(1122);var o={template:a.default,controller:i.default,bindings:{getElementId:"&",menuItems:"<",availablePopupMenuItems:"<",onHandleNavClick:"&"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(68)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c,u,d,_){(0,a.default)(this,e),this.$log=t,this.$state=n,this.$scope=i,this.$q=s,this.EventBusService=o,this.InboxService=r,this.NativeService=d,this.EnvironmentService=_,this.stateConstants=c,this.serviceConstants=u,this.ON_INBOX_MESSAGE_COUNT_CHANGE=l.EVENTS.ON_INBOX_MESSAGE_COUNT_CHANGE,this.isPlusButtonOpen=!1,this.plusButtonMenuItemType="mobileFooterPlusButton",this.footerMenuItems=this._getFooterMenuItems(this.menuItems),this.popupMenuItems=l.menuConfig[l.MENU_TYPES.MOBILE_POPUP_ACTIONS].default.items,this.unreadInboxCount=""}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this._retrieveAndUpdateUnreadInboxCount(),this.EventBusService.subscribe(this.$scope,this.ON_INBOX_MESSAGE_COUNT_CHANGE,(function(t,n){e.unreadInboxCount=e._getUnreadNotification(n)}))}},{key:"popupMenuClickHandler",value:function(e){this.isMenuItemAvailable(e)?this.onHandleNavClick()(e.type,e.action):this.EventBusService.publish("openCrossSellModal",{selectedPopupMenuItem:e})}},{key:"onHandlePopupMenuClick",value:function(e){var t=this;this.isPlusButtonOpen=!1,this._onHandlePopupMenuClick(e).then((function(n){n&&n.showPermissionPopup||t.popupMenuClickHandler(e)}))}},{key:"_onHandlePopupMenuClick",value:function(e){return this.EnvironmentService.isNativeIOS()?(this.NativeService.webviewAction("footerNavPopupClick"),"openRdc"===e.action?this._performiOSNativeRestrictionAndReauthorizationCheckForPermissionPopup():this.$q.when({showPermissionPopup:!1})):this.$q.when({showPermissionPopup:!1})}},{key:"_performiOSNativeRestrictionAndReauthorizationCheckForPermissionPopup",value:function(){var e=this,t=this.$q.defer();return this.NativeService.isiOSCameraPermissionAvailable().then((function(n){var i=n&&n.cameraRestricted;i&&e.NativeService.showiOSCameraPermissionPopup(),t.resolve({showPermissionPopup:i})})),t.promise}},{key:"isMenuItemAvailable",value:function(e){return-1!==this.availablePopupMenuItems.indexOf(e)}},{key:"hasPopupMenuItems",value:function(){return this.availablePopupMenuItems&&this.availablePopupMenuItems.length>0}},{key:"onPlusButtonClick",value:function(){var e=this.isPlusButtonOpen?"close":"open";this.isPlusButtonOpen=!this.isPlusButtonOpen,this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction("plusButtonEvent",{event:e})}},{key:"closePopupMenu",value:function(){this.isPlusButtonOpen=!1,this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction("plusButtonEvent",{event:"close"})}},{key:"isPlusButton",value:function(e){return!!e&&e.type===this.plusButtonMenuItemType}},{key:"isCurrentPageSelected",value:function(e){return!this.isPlusButtonOpen&&this.$state.current&&this.$state.current.name===e.action}},{key:"showInboxIcon",value:function(e){var t=e.action===this.stateConstants.INBOX,n=!!this.unreadInboxCount&&"0"!==this.unreadInboxCount;return t&&n}},{key:"_getFooterMenuItems",value:function(e){if(!e||0===e.length)return[];if(e.length%2!=0)return this.$log.info("mobileFooterMenuItems if not even, returning original array"),e;var t=Math.floor(e.length/2),n={type:this.plusButtonMenuItemType},a=[];return a.push.apply(a,(0,i.default)(e.slice(0,t))),a.push(n),a.push.apply(a,(0,i.default)(e.slice(t,e.length))),a}},{key:"_getUnreadNotification",value:function(e){return e&&0!==e?e.toString():""}},{key:"_retrieveAndUpdateUnreadInboxCount",value:function(){var e=this;this.InboxService.getNewMessageCount().then((function(t){t.response_status.status_code===e.serviceConstants.STATUS_CODES.SUCCESS&&(e.unreadInboxCount=e._getUnreadNotification(t.total_number_of_new_emessages))}))}}]),e}();r.$inject=["$log","$state","$scope","$q","EventBusService","InboxService","menuConstants","stateConstants","serviceConstants","NativeService","EnvironmentService"],t.default=r,e.exports=t.default},function(e,t){e.exports='<footer class="c-footer-nav c-footer-nav--mobile"> <div class="c-footer-nav__footer-background-decorator"></div> <nav class="footer-native" ng-if="true"> <div class="c-footer-nav__list--mobile grid__container"> <div class="c-footer-nav__grid-element" ng-class="$ctrl.isPlusButton(menuItem) ? \'c-footer-nav__grid-element--plus\': \'c-footer-nav__grid-element--not-plus\'" ng-repeat="menuItem in $ctrl.footerMenuItems"> <div class="c-footer-nav__menu-alignment" ng-if="$ctrl.isPlusButton(menuItem)"> <div aria-label="{{ $ctrl.isPlusButtonOpen ? \'global.menu.header.closeActionsMenu\' : \'global.menu.header.actionsMenu\' | translate }}" actionable-id="footer-nav-footer_plus" class="c-footer-nav__grid-item__plus" ng-click="$ctrl.onPlusButtonClick()" ng-class="{\'c-footer-nav__grid-item__plus--open\': $ctrl.isPlusButtonOpen}"> <span class="c-footer-nav__icon icon-x"></span> </div> </div> <div class="c-footer-nav__menu-alignment" ng-if="!$ctrl.isPlusButton(menuItem)"> <a actionable-id="{{$ctrl.getElementId()(menuItem, $index, \'footer-nav-footer_link_\')}}" class="c-footer-nav__grid-item" ng-class="{\'is-selected\' : $ctrl.isCurrentPageSelected(menuItem)}" href="" ng-click="$ctrl.onHandleNavClick()(menuItem.type, menuItem.action)"> <span class="c-footer-nav__grid-item__icon {{ menuItem.icon }}" translate-cloak> <div ng-if="$ctrl.showInboxIcon(menuItem)" class="inbox-unread-messages-badge"> <span class="inbox-unread-messages-number">{{ $ctrl.unreadInboxCount }}</span> </div> </span> <br/> <span class="c-footer-nav__grid-item__text">{{ menuItem.displayName | translate }}</span> </a> </div> </div> </div>  </nav> </footer> <div ng-click="$ctrl.closePopupMenu()" ng-if="$ctrl.isPlusButtonOpen" class="nav-mobile__backdrop"> </div> <div ng-if="$ctrl.isPlusButtonOpen" class="c-mobile-popup-nav"> <nav> <div ng-init="depositMenuItem = $ctrl.popupMenuItems[0]"> <div class="c-mobile-popup-nav__menu-alignment c-mobile-popup-nav__menu-alignment--deposit"> <div class="c-mobile-popup-nav__grid-item"> <div actionable-id="popup-nav-link_deposit" class="c-mobile-popup-nav__grid-container" href="" aria-label="{{ depositMenuItem.ariaName | translate }}" ng-click="$ctrl.onHandlePopupMenuClick(depositMenuItem)" tng-warn-on-click-kyc-pending="$ctrl.closePopupMenu()"> <span class="c-mobile-popup-nav__grid-container__icon {{ depositMenuItem.icon }}" translate-cloak></span> </div> <div class="c-mobile-popup-nav__grid-container__text">{{ depositMenuItem.displayName | translate }}</div> </div> </div> </div> <div ng-init="moveMoneyMenuItem = $ctrl.popupMenuItems[1]"> <div class="c-mobile-popup-nav__menu-alignment c-mobile-popup-nav__menu-alignment--move-money"> <div class="c-mobile-popup-nav__grid-item"> <div actionable-id="popup-nav-link_move-money" class="c-mobile-popup-nav__grid-container" href="" aria-label="{{ moveMoneyMenuItem.ariaName | translate }}" ng-click="$ctrl.onHandlePopupMenuClick(moveMoneyMenuItem)" tng-warn-on-click-kyc-pending="$ctrl.closePopupMenu()"> <span class="c-mobile-popup-nav__grid-container__icon {{ moveMoneyMenuItem.icon }}" translate-cloak></span> </div> <div class="c-mobile-popup-nav__grid-container__text">{{ moveMoneyMenuItem.displayName | translate }}</div> </div> </div> </div> <div ng-init="payBillMenuItem = $ctrl.popupMenuItems[2]"> <div class="c-mobile-popup-nav__menu-alignment c-mobile-popup-nav__menu-alignment--pay-bill"> <div class="c-mobile-popup-nav__grid-item"> <div actionable-id="popup-nav-link_pay-bill" class="c-mobile-popup-nav__grid-container" href="" aria-label="{{ payBillMenuItem.ariaName | translate }}" ng-click="$ctrl.onHandlePopupMenuClick(payBillMenuItem)" tng-warn-on-click-kyc-pending="$ctrl.closePopupMenu()"> <span class="c-mobile-popup-nav__grid-container__icon {{ payBillMenuItem.icon }}" translate-cloak></span> </div> <div class="c-mobile-popup-nav__grid-container__text">{{ payBillMenuItem.displayName | translate }}</div> </div> </div> </div> <div ng-init="emtMenuItem = $ctrl.popupMenuItems[3]"> <div class="c-mobile-popup-nav__menu-alignment c-mobile-popup-nav__menu-alignment--emt"> <div class="c-mobile-popup-nav__grid-item"> <div actionable-id="popup-nav-link_emt" class="c-mobile-popup-nav__grid-container" href="" aria-label="{{ emtMenuItem.ariaName | translate }}" ng-click="$ctrl.onHandlePopupMenuClick(emtMenuItem)" tng-warn-on-click-kyc-pending="$ctrl.closePopupMenu()"> <span class="c-mobile-popup-nav__grid-container__icon {{ emtMenuItem.icon }}" translate-cloak></span> </div> <div class="c-mobile-popup-nav__grid-container__text">{{ emtMenuItem.displayName | translate }}</div> </div> </div> </div> </nav> </div>'},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1124),s=(i=a)&&i.__esModule?i:{default:i};n(1125);var o={template:s.default,controller:function(){},bindings:{getElementId:"&",menuItems:"<",isContactUsMenuOpen:"=",onHandleNavClick:"&"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<footer class="c-footer-nav c-footer-nav--desktop"> <nav class="footer-desktop"> <ul class="nav__list nav__list--widescreen"> <li class="nav__item" ng-repeat="menuItem in $ctrl.menuItems"> <a actionable-id="{{$ctrl.getElementId()(menuItem, $index, \'footer-nav-handle_nav_item_\')}}" class="nav__link" href="" ng-click="$ctrl.onHandleNavClick()(menuItem.type, menuItem.action)"> <span translate-cloak>{{ menuItem.displayName | translate }}</span> <span ng-class="{\'icon-downarrow\':($ctrl.isContactUsMenuOpen && menuItem.icon!==\'\'),\'icon-uparrow\':(!$ctrl.isContactUsMenuOpen && menuItem.icon!==\'\')}"></span> </a> </li> </ul> <tng-contact-us-menu ng-if="$ctrl.isContactUsMenuOpen"></tng-contact-us-menu> </nav> </footer> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1127)),a=s(n(1134));function s(e){return e&&e.__esModule?e:{default:e}}n(1135);var o={template:a.default,controller:i.default,bindings:{}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(33)),a=c(n(49)),s=c(n(104)),o=c(n(198)),r=c(n(0)),l=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,i,a,s,o,l,c,u,d,_,E){(0,r.default)(this,e),this.$scope=t,this.$state=n,this.$log=i,this.$translate=a,this.AccountSummaryService=l,this.CustomersService=c,this.EventBusService=s,this.menuConstants=d,this.stateConstants=_,this.accountConstants=E,this.isNative=o.isNative(),this.POPUP_MENU_MODAL_TYPES=u.POPUP_MENU_MODAL_TYPES,this.USER_TYPES=u.USER_TYPES,this.popupMenuItemType=void 0,this.userType=void 0,this.hasChequingOrSavingsAccount=void 0,this.hasOnlyMortgageAccount=void 0,this.hasOnlyCCAccount=void 0,this.showCrossModalDialog=!1,this.showOpenAnAccountButton=!0}return(0,l.default)(e,[{key:"$onInit",value:function(){var e=this,t=this.CustomersService.getCustomerInfo(),n=this.AccountSummaryService.getAccounts();o.default.all([t,n]).then((function(t){var n=(0,s.default)(t,2),i=n[0],o=n[1];e.$log.info("CustomerService Response: ",(0,a.default)(i)),e.userType=e._getUserType(i.customer),e._configureAccountRelatedFlags(o.accounts),e.EventBusService.subscribe(e.$scope,"openCrossSellModal",(function(t,n){e.popupMenuItemType=e._getPopupMenuItemType(n.selectedPopupMenuItem),e.onModalOpen(),e.title=e._getTitle(e.popupMenuItemType),e.description=e.userType===e.USER_TYPES.CHILD?e._getChildDescription(e.popupMenuItemType):e._getDescription(e.popupMenuItemType).bind(e)(),e.$scope.$apply()}))})).catch((function(t){e.$log.error("crossSellModalDialog: $onInit failed to get retrieve customerInfo or accounts",t)}))}},{key:"isOpenAnAccountButtonVisible",value:function(){return this.userType!==this.USER_TYPES.BUSINESS&&this.userType!==this.USER_TYPES.CHILD&&(!this.hasChequingOrSavingsAccount||!(this.popupMenuItemType===this.POPUP_MENU_MODAL_TYPES.RDC&&!this.isNative)&&this.showOpenAnAccountButton)}},{key:"redirectToBasketPage",value:function(){var e=this;this.$state.go(this.stateConstants.EXISTING_CLIENT_ONBOARDING).then((function(){e.onModalClose()}))}},{key:"redirectToLinkAccountPage",value:function(){var e=this;this.$log.info("redirectToLinkAccountPage"),this.$state.go(this.stateConstants.USER_SETTINGS_EXTERNAL_ACCOUNTS).then((function(){e.onModalClose()}))}},{key:"onModalClose",value:function(){this.showCrossModalDialog=!1}},{key:"onModalOpen",value:function(){this.showCrossModalDialog=!0}},{key:"_getTitle",value:function(e){var t;if(!e)return this.$log.error("crossSellModalDialog: _getTitle popupMenuItemType are not being set properly, this use case should not occur"),"";var n=(t={},(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.RDC,"crossSellModalDialog.rdc.deposit"),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.MOVE_MONEY,"crossSellModalDialog.moveMoney.moveMoney"),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.EMT,"crossSellModalDialog.emt.emailMoney"),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.BILL_PAY,"crossSellModalDialog.payBill.payBills"),t);return this.$translate.instant(n[e])||""}},{key:"_getChildDescription",value:function(e){var t;if(!e)return this.$log.error("crossSellModalDialog: _getChildDescription popupMenuItemType are not being set properly, this use case should not occur"),"";var n=(t={},(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.RDC,"crossSellModalDialog.rdc.ineligibleRdcForChildCif"),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.MOVE_MONEY,"crossSellModalDialog.moveMoney.ineligibleMoveMoneyForChildCif"),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.EMT,"crossSellModalDialog.emt.ineligibleEmtForChildCif"),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.BILL_PAY,"crossSellModalDialog.payBill.ineligiblePayBillForChildCif"),t);return this.$translate.instant(n[e])||""}},{key:"_getDescription",value:function(e){var t,n=function(){return""};return e?(t={},(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.RDC,this._getRdcGeneralDescription),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.MOVE_MONEY,this._getMoveMoneyGeneralDescription),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.EMT,this._getEmailMoneyGeneralDescription),(0,i.default)(t,this.POPUP_MENU_MODAL_TYPES.BILL_PAY,this._getPayBillGeneralDescription),t)[e]||n:(this.$log.error("crossSellModalDialog: _getDescription popupMenuItemType are not being set properly, this use case should not occur"),n)}},{key:"_getRdcGeneralDescription",value:function(){return this.isNative?this.hasChequingOrSavingsAccount?(this.$log.error("crossSellModalDialog: _getRdcGeneralDescription flags are not being trigger properly, this use case should not occur"),this._getGenericErrorMessage()):this.$translate.instant("crossSellModalDialog.rdc.ineligibleRdcForPersonalCifWithoutSavingOrChequingAccount"):this.userType===this.USER_TYPES.BUSINESS?this.$translate.instant("crossSellModalDialog.rdc.ineligibleRdcForBusinessCifResponsiveWeb"):this.hasChequingOrSavingsAccount?this.$translate.instant("crossSellModalDialog.rdc.ineligibleRdcForPersonalCifResponsiveWeb"):this.$translate.instant("crossSellModalDialog.rdc.ineligibleRdcForPersonalCifResponsiveWebAndWithoutSavingOrChequingAccount")}},{key:"_getEmailMoneyGeneralDescription",value:function(){return this.userType===this.USER_TYPES.BUSINESS?this._getEmailMoneyBusinessDescription():this.hasChequingAccount?(this.$log.error("crossSellModalDialog: _getEmailMoneyGeneralDescription flags are not being trigger properly, this use case should not occur"),this._getGenericErrorMessage()):this.$translate.instant("crossSellModalDialog.emt.ineligibleEmtForPersonalCifWithoutChequingAccount")}},{key:"_getEmailMoneyBusinessDescription",value:function(){return this.$translate.instant("crossSellModalDialog.emt.ineligibleEmtForBusinessCif")}},{key:"_getPayBillGeneralDescription",value:function(){return this.userType===this.USER_TYPES.BUSINESS?this._getPayBillBusinessDescription():this.hasChequingAccount?(this.$log.error("crossSellModalDialog: _getPayBillGeneralDescription flags are not being trigger properly, this use case should not occur"),this._getGenericErrorMessage()):this.$translate.instant("crossSellModalDialog.payBill.ineligiblePayBillForPersonalCifWithoutChequingAccount")}},{key:"_getPayBillBusinessDescription",value:function(){return this.$translate.instant("crossSellModalDialog.payBill.ineligiblePayBillForBusinessCif")}},{key:"_getMoveMoneyGeneralDescription",value:function(){return this.hasOnlyCCAccountAndMortgageAccount?this.$translate.instant("crossSellModalDialog.moveMoney.ineligibleMoveMoneyForPersonalCifWithCreditCardAndMortgageOnlyAccount"):this.hasOnlyCCAccount?this.$translate.instant("crossSellModalDialog.moveMoney.ineligibleMoveMoneyForPersonalCifWithCreditCardOnlyAccount"):this.hasOnlyMortgageAccount?this.$translate.instant("crossSellModalDialog.moveMoney.ineligibleMoveMoneyForPersonalCifWithMortgageOnlyAccount"):this.hasChequingOrSavingsAccount?this.hasOnlyOneChequingOrSavingAccount?this.$translate.instant("crossSellModalDialog.moveMoney.ineligibleMoveMoneyForPersonalCifOrBusinessCifWithOnlyOneSavingOrChequingAccount"):(this.$log.error("crossSellModalDialog: _getMoveMoneyGeneralDescription flags are not being trigger properly, this use case should not occur"),this._getGenericErrorMessage()):this.$translate.instant("crossSellModalDialog.moveMoney.ineligibleMoveMoneyForPersonalCifWithoutSavingOrChequingAccount")}},{key:"_getGenericErrorMessage",value:function(){return this.showOpenAnAccountButton=!1,this.$translate.instant("crossSellModalDialog.genericDefaultDescription")}},{key:"_getPopupMenuItemType",value:function(e){var t;return(t={},(0,i.default)(t,this.menuConstants.ACTION_METHODS.OPEN_RDC,this.POPUP_MENU_MODAL_TYPES.RDC),(0,i.default)(t,this.menuConstants.ACTION_METHODS.OPEN_MOVE_MONEY,this.POPUP_MENU_MODAL_TYPES.MOVE_MONEY),(0,i.default)(t,this.menuConstants.ACTION_METHODS.OPEN_EMT,this.POPUP_MENU_MODAL_TYPES.ETRANSFER),(0,i.default)(t,this.menuConstants.ACTION_METHODS.OPEN_ETRANSFER,this.POPUP_MENU_MODAL_TYPES.EMT),(0,i.default)(t,this.menuConstants.ACTION_METHODS.OPEN_BILL_PAY,this.POPUP_MENU_MODAL_TYPES.BILL_PAY),t)[e.action]||""}},{key:"_configureAccountRelatedFlags",value:function(e){var t=this;if(e){var n=e.filter((function(e){return e.type===t.accountConstants.ACCOUNT_TYPES.SAVINGS})),i=e.filter((function(e){return e.type===t.accountConstants.ACCOUNT_TYPES.CHEUQING})),a=e.filter((function(e){return e.type===t.accountConstants.ACCOUNT_TYPES.CREDIT_CARD})),s=e.filter((function(e){return"MORTGAGE"===e.type}));this.hasChequingAccount=i.length>0,this.hasSavingAccount=n.length>0,this.hasChequingOrSavingsAccount=this.hasChequingAccount||this.hasSavingAccount,this.hasOnlyOneChequingOrSavingAccount=0===i.length&&1===n.length||1===i.length&&0===n.length,this.hasOnlyCCAccountAndMortgageAccount=0===i.length&&0===n.length&&a.length>0&&s.length>0,this.hasOnlyMortgageAccount=0===i.length&&0===n.length&&0===a.length&&s.length>0,this.hasOnlyCCAccount=0===i.length&&0===n.length&&0===s.length&&a.length>0}}},{key:"_getUserType",value:function(e){var t=e&&e.client_type||"",n="5"===t;return"1"===t||"3"===t||"8"===t?this.USER_TYPES.BUSINESS:n?this.USER_TYPES.CHILD:this.USER_TYPES.PERSONAL}}]),e}();u.$inject=["$scope","$state","$log","$translate","EventBusService","EnvironmentService","AccountSummaryService","CustomersService","CrossSellModalDialogConstants","menuConstants","stateConstants","accountConstants"],t.default=u,e.exports=t.default},,,,,,,function(e,t){e.exports='<tng-modal-dialog id="c-cross-sell-modal-dialog" ng-if="$ctrl.showCrossModalDialog" on-close="$ctrl.onModalClose()" class="c-cross-sell-modal-dialog"> <header> <span>{{ $ctrl.title }}</span> </header> <div id="c-cross-sell-modal-dialog__container"> <div ng-if="$ctrl.isBusinessUser"> <p class="c-cross-sell-modal-dialog__description-content" translate>{{ $ctrl.description }}</p> </div> <div ng-if="!$ctrl.isBusinessUser"> <p class="c-cross-sell-modal-dialog__description-content" translate>{{ $ctrl.description }}</p> <button actionable-id="c-cross-sell-modal-dialog__container__open-an-account" class="btn btn--orange btn--large btn--auto" ng-if="$ctrl.isOpenAnAccountButtonVisible()" ng-click="$ctrl.redirectToBasketPage()"> <span>{{ ::\'crossSellModalDialog.openAnAccount\' | translate }}</span> </button> </div> </div> <footer> <button actionable-id="c-cross-sell-modal-dialog__btn-close" class="btn btn--edit" ng-click="$ctrl.onModalClose()"> {{ ::\'crossSellModalDialog.close\' | translate }} </button> </footer> </tng-modal-dialog> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={POPUP_MENU_MODAL_TYPES:{RDC:"RDC",MOVE_MONEY:"MOVE_MONEY",EMT:"EMT",ETRANSFER:"ETRANSFER",BILL_PAY:"BILL_PAY"},USER_TYPES:{BUSINESS:"BUSINESS",CHILD:"CHILD",PERSONAL:"PERSONAL"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1138)),a=s(n(1140));function s(e){return e&&e.__esModule?e:{default:e}}n(1141);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(92)),a=u(n(39)),s=u(n(0)),o=u(n(2)),r=u(n(116)),l=n(178),c=n(1139);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n,i,o,r,l,c,u,d,_,E,h,S,T,p,f,g,A,v,C,m,I,O,N,R,y,L,M,D,P,b,U,$,F,k,B,G){(0,s.default)(this,e),this.SessionService=t,this.MenuService=r,this.InboxService=l,this.LocaleService=E,this.CustomersService=_,this.GlobalModalsService=n,this.EventBusService=i,this.EnvironmentService=h,this.BackButtonService=S,this.localeConstants=T,this.ON_INBOX_MESSAGE_COUNT_CHANGE=c.EVENTS.ON_INBOX_MESSAGE_COUNT_CHANGE,this.LOCALES=T.LOCALES,this.AVAILABLE_ENVIRONMENTS=this.EnvironmentService.getAvailableEnvironments(),this.currentEnvironment=this.EnvironmentService.getCurrentEnvironment(),this.AVAILABLE_GENESYS_ENVIRONMENTS=this.EnvironmentService.getAvailableGenesysEnvironments(),this.IS_AVAILABLE_GENESYS_ENVIRONMENTS="object"===(0,a.default)(this.AVAILABLE_GENESYS_ENVIRONMENTS),this.currentGenesysEnvironment=this.EnvironmentService.getCurrentGenesysEnvironment(),this.menuConstants=c,this.serviceConstants=u,this.stateConstants=p,this.ModalDialogConstants=f,this.backButtonConstants=g,this.$state=o,this.$filter=d,this.$log=A,this.$scope=v,this.$window=C,this.$timeout=m,this.$ngRedux=I,this.FeedbackSurveyService=L,this.TimerService=M,this.NativeService=D,this.ConfirmWindowUnloadService=P,this.FooterNavHelperService=b,this.$compile=U,this.$element=$,this.BundleService=F,this.bundleConstants=k,this.isMobileHidden=!0,this.isDropdownMenuHidden=!0,this.isUserMenuHidden=!0,this.isAnyModalOpen=!1,this.isMedalliaSupported=this.$window.MEDALLIA_SUPPORTED,this.isMobileNativeIOS=h.isNative()&&h.isIOS(),this.userInfo=null,this.$translate=O,this.$document=N,this.$location=R,this.$q=y,this.CacheFactory=B,this.isInDevPod=h.isInDevPod(),this.appEnv=h.getApplicationEnvironment(),this._loadingUserInfo=!1,this.inboxCountInitialized=!1,this.AnalyticsService=G}return(0,o.default)(e,[{key:"$onInit",value:function(){var e=this;this.unsubscribe=this.$ngRedux.connect(this.mapStateToThis,(0,i.default)({},l.ContactUsActions,l.MainNavMenuActions))(this),this.EventBusService.subscribe(this.$scope,this.ON_INBOX_MESSAGE_COUNT_CHANGE,(function(t,n){e.updateUserNotificationCount(n)})),this.MenuService.subscribe(this.$scope,(function(t,n,i,a){a&&a.isTopLevel&&(e.lastTopLevelState=a),e.getUserInfo(),e._setMenuItems()})),this.BackButtonService.addBackButtonListener(this.$scope,this.backButtonConstants.PRIORITY.IS_HAMBURGER_MENU,(function(){return!e.isMobileHidden&&(e.$log.debug("onHamburgerMenuClose callback"),e._hideMobileMenu(),!0)})),this.BackButtonService.addBackButtonListener(this.$scope,this.backButtonConstants.PRIORITY.LOW,(function(){return!!(0,r.default)(e.$state,"current.data.isApplicationRoot")&&(e.EventBusService.publish(e.backButtonConstants.EVENTS.CONFIRM_EXIT),!0)})),this.$timeout((function(){e.isMedalliaSupported=e.$window.MEDALLIA_BUTTON_ENABLED,e.$window.MEDALLIA_INTERCEPT_ENABLED&&(e._subscribeModalEventBusServices(),e.idle=(0,c.idleTrigger)(e.$window.MEDALLIA_INTERCEPT_TIMEOUT,e._feedbackTimeout.bind(e),!0))}),1e3);angular.element(this.$window).on("resize",function(){var t=angular.element(window)[0].innerWidth;!e.isMobileHidden&&t>=1024&&(e.isMobileHidden=!0,e.toggleFreezeBody(!0),e.$scope.$apply())}.bind(this)),this.statesWithSearchIconHiddenList=[this.stateConstants.ABM_LOCATIONS],this.statesWithSearchIconHiddenMap=this.statesWithSearchIconHiddenList.reduce((function(e,t){return e[t]=!0,e}),{})}},{key:"_setMenuItems",value:function(){this.MENU_ITEMS={PRIMARY:this.MenuService.getPrimaryMenuItems(),SECONDARY:this.MenuService.getMenuItems(this.menuConstants.MENU_TYPES.SECONDARY),UTILITY:this.MenuService.getMenuItems(this.menuConstants.MENU_TYPES.UTILITY),LOGIN:this.MenuService.getMenuItems(this.menuConstants.MENU_TYPES.LOGIN)},this.topPrimaryMenuItems=this.MenuService.getPrimaryMenuItems().filter((function(e){return"home"!==e.id}))}},{key:"getUserInfo",value:function(){var e=this;if(this.SessionService.isAuthenticated()){var t=void 0;this.inboxCountInitialized||(this.inboxCountInitialized=!0,this.getUserNotificationCount()),this.userInfo||this._loadingUserInfo||(t=this.CustomersService.getCustomerInfo({include_servicing_systems:!0}),this._loadingUserInfo=!0),this.isMedalliaSupported&&this.$window.MEDALLIA_INTERCEPT_TIMEOUT&&(this._subscribeModalEventBusServices(),this.idle=(0,c.idleTrigger)(this.$window.MEDALLIA_INTERCEPT_TIMEOUT,this._feedbackTimeout.bind(this),!0)),this.$q.all({customerInfo:t}).then((function(t){t.customerInfo&&(e.$log.debug("GET Customers Info response: ",t.customerInfo),e.userInfo=t.customerInfo.customer,e.isClientBusiness=1===e.userInfo.client_type)})).catch((function(t){e.$log.error("GET Customers Info Error: ",t)})).finally((function(){e._loadingUserInfo=!1}))}else this.userInfo=null}},{key:"$onDestroy",value:function(){this.unsubscribe(),this.toggleFreezeBody(!0),this.idle&&this.idle.stop()}},{key:"mapStateToThis",value:function(e){return{isContactUsMenuOpen:e.contactUs.isContactUsMenuOpen,isMainNavMenuOpen:e.mainNavMenu.isMainNavMenuOpen}}},{key:"toggleMobileMenu",value:function(){this.isMobileHidden=!this.isMobileHidden,this.toggleFreezeBody(),this.isDropdownMenuHidden=!0,this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction(this.isMobileHidden?"slideMenuClose":"slideMenuOpen"),this.SessionService.isAuthenticated()&&this.getUserNotificationCount()}},{key:"toggleFreezeBody",value:function(e){var t=document.querySelector("body");return this.isMobileHidden||e?(this.isMobileNativeIOS||(t.style.overflow="",t.style.position="",t.style.width=""),t.classList.remove("mobile_nav_open"),!1):(this.isMobileNativeIOS||(t.style.overflow="hidden"===t.style.overflow?"":"hidden",t.style.position="fixed"===t.style.position?"":"fixed",t.style.width="fixed"===t.style.position?"100%":""),t.classList.add("mobile_nav_open"),!0)}},{key:"displayName",value:function(){return this.userInfo?this.userInfo.first_name+" "+this.userInfo.last_name.charAt(0)+".":""}},{key:"_hideMobileMenu",value:function(){this.isMobileHidden=!0,this.toggleFreezeBody(!0),this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction("slideMenuClose")}},{key:"toggleDropdownMenu",value:function(){this.isDropdownMenuHidden=!this.isDropdownMenuHidden}},{key:"toggleUserMenu",value:function(){this.getUserNotificationCount(),this.isUserMenuHidden=!this.isUserMenuHidden}},{key:"closeUserMenu",value:function(){this.isUserMenuHidden=!0,this.EnvironmentService.isNativeIOS()&&this.NativeService.webviewAction("slideMenuClose")}},{key:"getSecondaryNavItems",value:function(){return(this.EnvironmentService.isNative()||this.$state.current.name!==this.stateConstants.EXISTING_CLIENT_ONBOARDING)&&this.MENU_ITEMS.SECONDARY.length>0?this.FooterNavHelperService.isDesktopFooterVisible()?this.MENU_ITEMS.SECONDARY:this._filterSecondaryNavItemsMobileHamburgerMenu(this.MENU_ITEMS.SECONDARY):this.MENU_ITEMS.PRIMARY}},{key:"_filterSecondaryNavItemsMobileHamburgerMenu",value:function(e){return e}},{key:"getUtilityNavItems",value:function(){return this.FooterNavHelperService.isDesktopFooterVisible()?this.MENU_ITEMS.UTILITY:this._filterUtilityNavItemsMobileHamburgerMenu(this.MENU_ITEMS.UTILITY)}},{key:"_filterUtilityNavItemsMobileHamburgerMenu",value:function(e){return this.SessionService.isAuthenticated(),e}},{key:"getUserNotificationCount",value:function(){var e=this;return this.InboxService.getNewMessageCount().then((function(t){return t&&t.response_status&&t.response_status.status_code===e.serviceConstants.STATUS_CODES.SUCCESS?e.updateUserNotificationCount(t.total_number_of_new_emessages):t}))}},{key:"updateUserNotificationCount",value:function(e){this.userNotificationCount=e}},{key:"handleNavItemClick",value:function(e,t){var n=this;this.GlobalModalsService.isCTANavigation=!1,e===this.menuConstants.LINK_TYPES.METHOD&&t===this.menuConstants.ACTION_METHODS.DISPLAY_CONTACT_US_MENU?this.BundleService.loadBundle(this.bundleConstants.AVAILABLE_BUNDLES.CONTACT_US).then((function(e){e&&(n.$compile(n.$element.find("tng-contact-us-menu").contents())(n.$scope),n.$timeout((function(){n.$compile(angular.element("tng-global-modals").contents())(n.$scope)}),0)),n.toggleContactUsMenu(),n.toggleMobileMenu()})):e===this.menuConstants.LINK_TYPES.METHOD&&t===this.menuConstants.ACTION_METHODS.OPEN_FEEDBACK?(this.toggleMobileMenu(),this.feedbackClicked()):e===this.menuConstants.LINK_TYPES.ROUTE&&t===this.stateConstants.LOGIN?(this.toggleMobileMenu(),this.reInitLoginFlow()):e===this.menuConstants.LINK_TYPES.ROUTE&&t===this.stateConstants.NEW_CLIENT_ENROLLMENT?(this.toggleMobileMenu(),this.goToSignMeUpPage()):(this._logPerformanceMetrics(e,t),this.closeUserMenu(),this.MenuService.handleMenuInteraction(e,t),this._hideMobileMenu()),this.AnalyticsService.sendGoogleAnalyticsOnMenuAction(this.AnalyticsService.EVENT_CATEGORY.MAIN_MENU,t,this.SessionService.isAuthenticated())}},{key:"_logPerformanceMetrics",value:function(e,t){t===this.stateConstants.MOBILE_NAVIGATION?this.TimerService.startTimerForAction(this.TimerService.EVENTS.VIEW_PROFILE_SETTINGS):t===this.stateConstants.TRANSACTIONS&&this.TimerService.startTimerForAction(this.TimerService.EVENTS.VIEW_TRANSACTIONS)}},{key:"handleGoHome",value:function(){this.MenuService.handleGoHome(),this._hideMobileMenu()}},{key:"goToAccountSummaryPage",value:function(){this.handleNavItemClick(this.menuConstants.LINK_TYPES.ROUTE,this.stateConstants.ACCOUNT_SUMMARY)}},{key:"showBackButtonArrow",value:function(){return this.$state.current.name!==this.stateConstants.INBOX&&this.parentNavigation}},{key:"handleNavigateToParent",value:function(){if(this.GlobalModalsService.isCTANavigation=!1,this.parentNavigation){if(this.parentNavigation!==this.menuConstants.ACTION_METHODS.GO_BACK)return this.SessionService.getCameFromTaxBanner()?(this.SessionService.setCameFromTaxBanner(!1),void this.goToAccountSummaryPage()):void(window.location.href=this.parentNavigation);window.history.go(-1)}}},{key:"getActiveNavItem",value:function(e){var t=this.MENU_ITEMS.PRIMARY.filter((function(t){return-1!==t.activeOn.indexOf(e)}));return t.length>0?t[0].displayName:"global.menu.header.home"}},{key:"handleToggleLocale",value:function(){var e=this.LocaleService.locale===this.LOCALES.EN_CA?this.LOCALES.FR_CA:this.LOCALES.EN_CA;this.handleSwitchLocale(e)}},{key:"handleSwitchLocale",value:function(e){var t=this;this.ConfirmWindowUnloadService.warnOnLinkTransitions().then((function(){t.SessionService.isAuthenticated()||t.isOnAbmPages||t.isNewClientEnrollment?(t._updateLocaleSettings(e),t.CacheFactory.destroyAll(),t.$window.location.reload(!0)):t._updateLocaleSettings(e)}))}},{key:"_updateLocaleSettings",value:function(e){var t=this;this.$state.current.name!==this.stateConstants.LOGIN&&this.LocaleService.locale===e||(this.$location.search("locale",null),this.LocaleService.locale=e,this.isOnAbmPages||this.isNewClientEnrollment||(this.EventBusService.publish(this.menuConstants.EVENTS.RESET_LOGIN,this.LocaleService.locale),this.$timeout((function(){t.$document[0].title=t.$translate.instant("login.userID.pageTitle")}),500)),this.LocaleService.setMomentLocale())}},{key:"showLocaleMenu",value:function(){return!this.EnvironmentService.isNative()}},{key:"getLocaleDisplay",value:function(){return"EN"===this.LocaleService.localeDisplay?"FR":"EN"}},{key:"_subscribeModalEventBusServices",value:function(){var e=this;this.EventBusService.subscribe(this.$scope,this.ModalDialogConstants.EVENTS.MODAL_OPENED,(function(){e.isAnyModalOpen=!0,e._feedbackTimeout()})),this.EventBusService.subscribe(this.$scope,this.ModalDialogConstants.EVENTS.MODAL_CLOSED,(function(){e.isAnyModalOpen=!1,e._feedbackTimeout()}))}},{key:"feedbackClicked",value:function(){var e={EN:this.$window.MEDALLIA_FEEDBACK_ID_EN,FR:this.$window.MEDALLIA_FEEDBACK_ID_FR};this.FeedbackSurveyService.launchFeedbackSurvey(e)}},{key:"_feedbackTimeout",value:function(){this.FeedbackSurveyService.isMedalliaEnabled()&&(this.$window.MedalliaEnabled=!this.isAnyModalOpen,this.FeedbackSurveyService.updatePageViewAndLocale())}},{key:"handleSearch",value:function(){this.showVisitorSiteSearch=!0,this.$timeout((function(){var e=window.document.getElementById("wysdom-search-bar-wysdom-search-bar-input");e&&e.focus()}))}},{key:"closeSearch",value:function(){this.showVisitorSiteSearch=!1}},{key:"handleHelp",value:function(){this.toggleContactUsMenu()}},{key:"handleEnvChange",value:function(){var e=this,t=this.EnvironmentService.switchEnvironment(this.currentEnvironment).then((function(){return e.MenuService.logout(!1).finally((function(){e.$state.go(e.stateConstants.LOGIN,{},{reload:!0})}))})).catch((function(t){return e.$log.error("Unable to switch environments",t)}));if(this.EnvironmentService.isNative())return this.SessionService.resetDeviceSession(),void this.SessionService.saveSession(this.SessionService.getSession()).then((function(){e.NativeService.clearAppData().then((function(){return e.$log.debug("NativeAppData has been successfully deleted")})).then((function(){t.then((function(){e.NativeService.reloadWebview()}))})).catch((function(t){return e.$log.error("Unable to delete appData",t)}))}));t.then((function(){e.$log.debug("handleEnvChange Environment has been successfully switch on Web")}))}},{key:"handleGenesysEnvChange",value:function(){this.EnvironmentService.setGenesysAPIUrl(this.currentGenesysEnvironment)}},{key:"getFullName",value:function(){return this.userInfo?this.userInfo.first_name+" "+this.userInfo.last_name:""}},{key:"reInitLoginFlow",value:function(){this.$state.current.name!==this.stateConstants.LOGIN&&this.$state.current.name!==this.stateConstants.RESET_PIN?this.$state.go(this.stateConstants.LOGIN,{},{reload:!0}):this.EventBusService.publish(this.menuConstants.EVENTS.RESET_LOGIN)}},{key:"showSearchButton",value:function(){return!this.statesWithSearchIconHiddenMap[this.$state.current.name]}},{key:"isAuthenticatedLoginPage",value:function(){return this.EnvironmentService.isNative()&&this.SessionService.isAuthenticated()&&this.$state.current.name===this.stateConstants.LOGIN}},{key:"isTitleLogoNotClickable",value:function(){return!this.SessionService.isAuthenticated()||this.$state.current.name===this.stateConstants.MOBILE_TERMS_AND_CONDITIONS}},{key:"goToSignMeUpPage",value:function(){this.$state.go(this.stateConstants.NEW_CLIENT_ENROLLMENT)}},{key:"isSignMeUpButtonDisplayed",value:function(){return!this.EnvironmentService.isNative()}},{key:"inboxCount",get:function(){return"0"===this.userNotificationCount?"":this.userNotificationCount}},{key:"parentNavigation",get:function(){var e=this.$state.current&&this.$state.current.data&&this.$state.current.data.parentNavigation;if(!e)return null;if(e===this.menuConstants.ACTION_METHODS.EXIT_NAVIGATION_MENU){var t=this.lastTopLevelState;return t?this.$state.href(t.name):this.$state.href(this.stateConstants.ACCOUNT_SUMMARY)}return e===this.menuConstants.ACTION_METHODS.GO_BACK?e:this.$state.href(e)}},{key:"isOnAbmPages",get:function(){return this.$state.current.name===this.stateConstants.ABM_LOCATIONS||this.$state.current.name===this.stateConstants.ABM_ACCESS}},{key:"isNewClientEnrollment",get:function(){return this.$state.current.name===this.stateConstants.NEW_CLIENT_ENROLLMENT}}]),e}();d.$inject=["SessionService","GlobalModalsService","EventBusService","$state","MenuService","InboxService","menuConstants","serviceConstants","$filter","CustomersService","LocaleService","EnvironmentService","BackButtonService","localeConstants","stateConstants","modalDialogConstants","backButtonConstants","$log","$scope","$window","$timeout","$ngRedux","$translate","$document","$location","$q","FeedbackSurveyService","TimerService","NativeService","ConfirmWindowUnloadService","FooterNavHelperService","$compile","$element","BundleService","bundleConstants","CacheFactory","AnalyticsService"],t.default=d,e.exports=t.default},function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={};return a.idleTimeout=e,a.onIdleEndCallback=t,a.stopped=!0,a.repeat=i,a._idleSecondsCounter=0,a._interval={},a._setEventListeners=function(){["mousemove","mousedown","keydown"].forEach((function(e){return window.addEventListener(e,(function(){a.resetCounter()}))}))},a._checkIdleTime=function(){a.stopped||(a._idleSecondsCounter+=1,a._idleSecondsCounter>=a.idleTimeout&&(a.repeat?a.resetCounter():a.stop(),a.onIdleEndCallback.call(a)))},a.start=function(){a.stopped=!1,a._interval=window.setInterval((function(){a._checkIdleTime()}),1e3)},a.stop=function(){window.clearInterval(a._interval),a.stopped=!0},a.restart=function(){a.resetCounter(),a.start()},a.resetCounter=function(){a._idleSecondsCounter=0},a._setEventListeners(),n&&a.start(),a}Object.defineProperty(t,"__esModule",{value:!0}),t.idleTrigger=i,t.default=i},function(e,t){e.exports='<nav class="navbar print-hide" ng-class="{\'nativeNav\' : $ctrl.EnvironmentService.isNative(), \'login-authenticated\': $ctrl.isAuthenticatedLoginPage()}"> <a id="mainNav_home" class="brand" href="" ng-click="$ctrl.handleGoHome()" ng-class="{\'nonclickable\' : $ctrl.isTitleLogoNotClickable()}"> <img ng-src="assets/images/tangerine-logo-white.svg" alt="Tangerine" class="logo-white print-hide"/> <img ng-src="assets/images/tangerine-logo-orange.svg" alt="Tangerine" class="logo-orange"/> </a> <button class="navbar__btn navbar__btn--menu icon-hamburgermenu" ng-if="!$ctrl.parentNavigation" actionable-id="menu_HamburgerMenu" ng-click="$ctrl.toggleMobileMenu()" aria-label="{{ \'global.menu.header.menu\' | translate }}"></button> <a class="navbar__btn navbar__btn--menu icon-leftarrow" ng-if="$ctrl.showBackButtonArrow()" actionable-id="navbar_leftarrow" ng-click="$ctrl.handleNavigateToParent()"> </a> <button ng-show="showSearchButton()" actionable-id="main-nav-btn-search" class="navbar__btn navbar__btn--search icon-search" ng-click="$ctrl.handleSearch()"></button> <button actionable-id="main-nav-btn-feedback" class="navbar__btn navbar__btn--feedback icon-feedback" ng-class="{ \'ios-native\': $ctrl.isMobileNativeIOS }" ng-click="$ctrl.feedbackClicked()"> <span class="main-nav-btn-icon-copy"> {{ \'global.menu.header.feedback\' | translate}} </span> </button> </nav> <header class="header print-hide"> <nav class="nav" ng-class="{\'nav-no-pad\': $ctrl.SessionService.isAuthenticated()}"> <div class="container"> <a actionable-id="main-nav-handle_go_home" class="brand" href="" ng-click="$ctrl.handleGoHome()"> <img ng-src="assets/images/tangerine-logo-white.svg" alt="Tangerine" class="print-hide"/> </a> <ul class="nav__list"> <li class="nav__item" ng-repeat="menuItem in $ctrl.topPrimaryMenuItems"> <a class="nav__link" href="" actionable-id="menu_{{::menuItem.displayName }}" ng-click="$ctrl.handleNavItemClick(menuItem.type, menuItem.action)" ng-class="{\'is-active\': menuItem.activeOn.indexOf($ctrl.$state.current.name) > -1}"> <span>{{ menuItem.displayName | translate }}</span> </a> </li> <li class="nav__item print-hide nav-small-padding" ng-if="$ctrl.AVAILABLE_ENVIRONMENTS.length > 0"> <div class="env-switcher"> <select class="select" ng-model="$ctrl.currentEnvironment" ng-change="$ctrl.handleEnvChange(event)" ng-options="env for env in $ctrl.AVAILABLE_ENVIRONMENTS"> <option value=""> Select environment (default config) </option> </select> </div> </li> <li class="nav__item print-hide" ng-if="$ctrl.isInDevPod"> <div class="pod-env" title="{{ $ctrl.EnvironmentService.getConfigText()}}"> {{ ::$ctrl.appEnv }} </div> </li> <li class="nav__item print-hide nav-small-padding" ng-if="$ctrl.IS_AVAILABLE_GENESYS_ENVIRONMENTS"> <div class="env-switcher"> <select id="genesys-env-switcher" class="select" ng-model="$ctrl.currentGenesysEnvironment" ng-change="$ctrl.handleGenesysEnvChange(event)" ng-options="env for env in $ctrl.AVAILABLE_GENESYS_ENVIRONMENTS"> <option value=""> Select environment (default config) </option> </select> </div> </li> </ul> <nav class="navtools"> <ul class="navtools__list"> <li class="navtools__item" ng-hide="$ctrl.SessionService.isAuthenticated()"> <button class="btn btn--largest btn--reversed" actionable-id="menu_signup" ng-click="$ctrl.goToSignMeUpPage()" id="mainnav_signup">{{ \'global.menu.header.Signup\' | translate }} </button> </li> <li class="navtools__item" ng-hide="$ctrl.SessionService.isAuthenticated()"> <button class="btn btn--largest btn--whiteBorder" actionable-id="menu_Login" ng-click="$ctrl.reInitLoginFlow()" id="mainnav_login">{{ \'global.menu.header.login\' | translate }} </button> </li> <li class="navtools__item navtools__dropdown" ng-show="$ctrl.SessionService.isAuthenticated()"> <a class="navtools__link navtools--bold" href="" actionable-id="menu_Username" tng-click-outside-for-nav-menu="$ctrl.closeUserMenu()" tng-click-outside-for-nav-menu-inactive="{{ $ctrl.isUserMenuHidden }}" ng-click="$ctrl.toggleUserMenu()"> {{ $ctrl.displayName() }}<span class="icon-downarrow" ng-show="$ctrl.MENU_ITEMS.LOGIN.length > 0"></span> </a> <ul class="navtools__userMenu" ng-show="!$ctrl.isUserMenuHidden"> <li class="navtools__userMenuItem" ng-repeat="menuItem in $ctrl.MENU_ITEMS.LOGIN" ng-click="$ctrl.handleNavItemClick(menuItem.type, menuItem.action)"> <a actionable-id="menu_{{::menuItem.displayName}}"> {{ menuItem.displayName | translate }} <span class="icon" ng-show="menuItem.notifications"> {{ $ctrl.inboxCount }} </span> </a> </li> </ul> </li> <li class="navtools__item"> <a class="navtools__link--lang" href="" actionable-id="menu_Language" title="{{ \'global.commonWords.language\' | translate }}" ng-click="$ctrl.handleToggleLocale()"> {{ $ctrl.getLocaleDisplay() }} </a> </li> <li class="navtools__item" ng-if="$ctrl.$state.current.name !== $ctrl.stateConstants.NEW_CLIENT_ENROLLMENT"> <a class="navtools__link navtools__link--circle" href="" actionable-id="menu_Location" ng-click="$ctrl.handleNavItemClick($ctrl.menuConstants.LINK_TYPES.ROUTE, $ctrl.stateConstants.ABM_LOCATIONS)" title="{{ \'global.menu.utility.abmLocator\' | translate }}"> <span class="navtools__icon icon-location"></span> </a> </li> <li class="navtools__item"> <a class="navtools__link navtools__link--circle" href="" actionable-id="menu_Search" ng-click="$ctrl.handleSearch()" title="{{ \'global.commonWords.search\' | translate }}"> <span class="navtools__icon icon-search"></span> </a> </li> <li class="navtools__item" ng-if="$ctrl.SessionService.isAuthenticated()"> <a class="navtools__link navtools__link--circle" href="" actionable-id="menu_Inbox" ng-click="$ctrl.handleNavItemClick($ctrl.menuConstants.LINK_TYPES.ROUTE, $ctrl.stateConstants.INBOX)" title="{{ \'global.metaTitles.inbox\' | translate }}"> <span class="navtools__icon icon-mail2"></span> <span class="inbox-unread-notification" ng-show="$ctrl.userNotificationCount > 0"></span> </a> </li> </ul> </nav> </div> </nav> <tng-sub-nav></tng-sub-nav> <nav class="nav-mobile animate-if" ng-if="!$ctrl.isMobileHidden"> <div class="nav-mobile__drawer"> <div class="navdrawer__clientSection"> <button class="btn btn--larger btn--reversed" ng-hide="$ctrl.SessionService.isAuthenticated()" ng-if="$ctrl.isSignMeUpButtonDisplayed()" ng-click="$ctrl.handleNavItemClick($ctrl.menuConstants.LINK_TYPES.ROUTE, $ctrl.stateConstants.NEW_CLIENT_ENROLLMENT)" actionable-id="menu_signup" id="mainnav_signup">{{ \'global.menu.header.Signup\' | translate }} </button> <button class="btn btn--larger btn--whiteBorder" actionable-id="menu_Login" ng-click="$ctrl.handleNavItemClick($ctrl.menuConstants.LINK_TYPES.ROUTE, $ctrl.stateConstants.LOGIN)" ng-hide="$ctrl.SessionService.isAuthenticated()" id="mainnav_login">{{ \'global.menu.header.login\' | translate }} </button> <div class="userSection" ng-show="$ctrl.SessionService.isAuthenticated()"> <div class="userName"> {{ $ctrl.userInfo.first_name }} {{ $ctrl.userInfo.last_name.charAt(0) }}. </div> <button class="btn btn--large btn--reversed" actionable-id="menu_Logout" ng-click="$ctrl.handleNavItemClick($ctrl.menuConstants.LINK_TYPES.METHOD, $ctrl.menuConstants.ACTION_METHODS.LOGOUT)" ng-show="$ctrl.SessionService.isAuthenticated()"> {{ \'global.menu.header.signOut\' | translate }} </button> </div> </div> <div class="navdrawer__menu-section"> <div class="navdrawer__dropdownSection" ng-if="$ctrl.SessionService.isAuthenticated() || (!$ctrl.SessionService.isAuthenticated() && !$ctrl.EnvironmentService.isNative())"> <button class="btn" ng-click="$ctrl.toggleDropdownMenu()" actionable-id="menu_dropdownSection" ng-class="{active: !$ctrl.isDropdownMenuHidden}" ng-if="!$ctrl.EnvironmentService.isNative()"> <span class="icon-downarrow"></span>{{ $ctrl.getActiveNavItem($ctrl.$state.current.name) | translate }} </button> <ul class="dropdown-menu" ng-show="!$ctrl.isDropdownMenuHidden" ng-if="!$ctrl.EnvironmentService.isNative()"> <li class="dropdown-menu__item" ng-repeat="menuItem in $ctrl.MENU_ITEMS.PRIMARY"> <a href="" ng-click="$ctrl.handleNavItemClick(menuItem.type, menuItem.action)" actionable-id="menu_{{::menuItem.displayName}}" ng-class="{\'is-active\': menuItem.activeOn.indexOf($ctrl.$state.current.name) > -1}"> {{ menuItem.displayName | translate }} </a> </li> </ul> <ul class="secondary-nav"> <li class="secondary-nav__item" ng-click="$ctrl.handleNavItemClick(menuItem.type, menuItem.action)" ng-repeat="menuItem in $ctrl.getSecondaryNavItems()"> <a href="" ng-class="{ \'is-active\': $ctrl.$state.includes(menuItem.action) }" actionable-id="menu_{{::menuItem.displayName}}">{{ menuItem.displayName | translate }}</a> </li> <li ng-if="$ctrl.SessionService.isAuthenticated()" class="secondary-nav__item" ng-click="$ctrl.handleNavItemClick($ctrl.menuConstants.LINK_TYPES.ROUTE, $ctrl.stateConstants.MOBILE_NAVIGATION)"> <a href="" ng-class="{ \'is-active\': $ctrl.$state.includes($ctrl.stateConstants.MOBILE_NAVIGATION) }">{{ \'userSettings.header.profileAndSettings\' | translate }}</a> </li> </ul> </div> <div class="navdrawer__dropdownSection navdrawer__envSection" ng-if="$ctrl.AVAILABLE_ENVIRONMENTS.length > 0"> <ul class="secondary-nav"> <li class="nav__item print-hide nav-small-padding"> <div class="env-switcher"> <select class="select" ng-model="$ctrl.currentEnvironment" ng-change="$ctrl.handleEnvChange(event)" ng-options="env for env in $ctrl.AVAILABLE_ENVIRONMENTS"> <option value=""> Select environment (default config) </option> </select> </div> </li> <li class="nav__item print-hide" ng-if="$ctrl.IS_AVAILABLE_GENESYS_ENVIRONMENTS"> <div class="env-switcher"> <select id="genesys-env-switcher-mobile" class="select" ng-model="$ctrl.currentGenesysEnvironment" ng-change="$ctrl.handleGenesysEnvChange(event)" ng-options="env for env in $ctrl.AVAILABLE_GENESYS_ENVIRONMENTS"> <option value=""> Select environment (default config) </option> </select> </div> </li> </ul> </div> <div class="navdrawer__utilitySection"> <div class="navdrawer__languageBtns btn__row" ng-if="$ctrl.showLocaleMenu()"> <button class="btn" actionable-id="menu_Locale_en_CA" ng-class="{\'selected\': ($ctrl.LocaleService.locale === \'en_CA\')}" ng-click="$ctrl.handleSwitchLocale($ctrl.LOCALES.EN_CA)">{{ \'global.menu.utility.english\' | translate }} </button> <button class="btn" actionable-id="menu_Locale_fr_CA" ng-class="{\'selected\': $ctrl.LocaleService.locale === \'fr_CA\'}" ng-click="$ctrl.handleSwitchLocale($ctrl.LOCALES.FR_CA)">{{ \'global.menu.utility.french\' | translate }} </button> </div> <ul class="navdrawer__utilityLinks"> <li class="navdrawer__utilityLinks__item" ng-click="$ctrl.handleNavItemClick(menuItem.type, menuItem.action)" ng-repeat="menuItem in $ctrl.getUtilityNavItems()"> <a href="" actionable-id="menu_{{::menuItem.displayName}}"> <span class="icon {{ ::menuItem.icon }}"></span> <span>{{ menuItem.displayName | translate }}</span> </a> </li> </ul> </div> </div> </div> </nav> <div class="nav-mobile__backdrop" ng-if="!$ctrl.isMobileHidden" ng-click="$ctrl.toggleMobileMenu()"></div> </header> <tng-contact-us-menu class="main-nav--mobile" ng-if="$ctrl.isContactUsMenuOpen"></tng-contact-us-menu> <tng-feedback-survey></tng-feedback-survey> <tng-print-header name="$ctrl.getFullName()"></tng-print-header> <tng-visitor-search ng-if="$ctrl.showVisitorSiteSearch" on-close="$ctrl.closeSearch()"></tng-visitor-search> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1143));function a(e){return e&&e.__esModule?e:{default:e}}var s={template:a(n(1144)).default,controller:i.default};t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(92)),a=r(n(0)),s=r(n(2)),o=n(178);function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,s,o,r,l,c,u,d){(0,a.default)(this,e),this.SessionService=t,this.MenuService=n,this.menuConstants=i,this.stateConstants=s,this.$state=o,this.$scope=r,this.$log=l,this.$rootScope=c,this.$ngRedux=u,this.AnalyticsService=d,this.fetchMenuItems()}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.subscribe=this.$ngRedux.connect(this.mapStateToThis,(0,i.default)({},o.ContactUsActions))(this),this.MenuService.subscribe(this.$scope,(function(){e.fetchMenuItems()}))}},{key:"mapStateToThis",value:function(e){return{isContactUsMenuOpen:e.contactUs.isContactUsMenuOpen}}},{key:"fetchMenuItems",value:function(){this.menuItems=this.MenuService.getMenuItems(this.menuConstants.MENU_TYPES.SECONDARY),this.actionMenuItems=this.MenuService.getMenuItems(this.menuConstants.MENU_TYPES.SECONDARY_ACTIONS)}},{key:"isSubNavVisible",value:function(){return(this.menuItems.length>0||this.actionMenuItems.length>0)&&this.$state.$current.name!==this.stateConstants.EXISTING_CLIENT_ONBOARDING&&this.$state.$current.name!==this.stateConstants.JOINT_ENROLLMENT_VALIDATION&&this.$state.$current.name!==this.stateConstants.JOINT_ENROLLMENT_ACCEPT_OR_DECLINE&&this.$state.$current.name!==this.stateConstants.MORTGAGE_TRACKER&&this.$state.$current.name!==this.stateConstants.BUDGET_TOOL&&this.$state.$current.name!==this.stateConstants.FINANCIAL_PLAN&&this.$state.$current.name!==this.stateConstants.OVERDRAFT_PRE_APPROVAL}},{key:"handleNavItemClick",value:function(e,t){this.MenuService.handleMenuInteraction(e,t),this.isContactUsMenuOpen&&this.toggleContactUsMenu(),this.AnalyticsService.sendGoogleAnalyticsOnMenuAction(this.AnalyticsService.EVENT_CATEGORY.SUB_MENU,t,this.SessionService.isAuthenticated())}}]),e}();l.$inject=["SessionService","MenuService","menuConstants","stateConstants","$state","$scope","$log","$rootScope","$ngRedux","AnalyticsService"],t.default=l,e.exports=t.default},function(e,t){e.exports='<nav class="nav--sub" ng-if="$ctrl.isSubNavVisible()"> <div class="container"> <ul class="nav__list"> <li class="nav__item" ng-repeat="menuItem in $ctrl.menuItems"> <a class="nav__link" actionable-id="menu_{{menuItem.action | translate}}" title="{{ menuItem.displayName | translate }}" ng-class="{ \'is-active\': $ctrl.$state.includes(menuItem.action) }" href="" ng-click="$ctrl.handleNavItemClick(menuItem.type, menuItem.action)"> {{ menuItem.displayName | translate }} </a> <div class="nav__underline" ng-class="{ \'is-active\': $ctrl.$state.includes(menuItem.action) }"></div> </li> </ul> <nav class="navtools--sub"> <ul class="navtools__list"> <li class="navtools__item navtools__item--sub" ng-repeat="menuItem in $ctrl.actionMenuItems"> <a class="navtools__link--sub" tng-warn-on-click-kyc-pending ng-click="$ctrl.handleNavItemClick(menuItem.type, menuItem.action)" href="" actionable-id="submenu_{{menuItem.action | translate}}" title="{{ menuItem.displayName | translate }}"> <span class="navtools__link-label">{{ menuItem.displayName | translate }}</span> <span class="navtools__icon {{ menuItem.icon }}"></span> </a> </li> </ul> </nav> </div> </nav> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1146)),a=o(n(1150)),s=o(n(1151));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("tangerine.app.core.components.footerNotifications",[]).component("tngFooterNotifications",i.default).constant("footerConstants",s.default).service("FooterNotificationsService",a.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1147)),a=s(n(1148));function s(e){return e&&e.__esModule?e:{default:e}}n(1149);var o={template:a.default,controller:i.default,bindings:{accountDetailsArray:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E,h,S,T,p){(0,i.default)(this,e),this.footerConstants=s,this.loadedPage=0,this.nextClass=this.footerConstants.NEXT,this.previousClass=this.footerConstants.PREVIOUS,this.footerMenu=this.footerConstants.FOOTER_MENU,this.mobileUpArrow=this.footerConstants.MOBILE_UP_ARROW,this.mobileDownArrow=this.footerConstants.MOBILE_DOWN_ARROW,this.mobileView=this.footerConstants.MOBILE_VIEW,this.regularView=this.footerConstants.REGULAR_VIEW,this.footerNotificationsService=t,this.AccountDetailsService=n,this.templateData=[],this.accountDetails=null,this.divColors=[],this.callToAction=[],this.mobileTemplate=[],this.isArray=angular.isArray,this.$log=u,this.moveMoneyConstants=o,this.gmConstants=r,this.accountConstants=l,this.ACCOUNT_REGISTRATIONS=l.ACCOUNT_REGISTRATIONS,this.$q=d,this.$stateParams=c,this.GlobalModalsService=_,this.$translate=E,this.$window=h,this.$timeout=S,this.BundleService=T,this.bundleConstants=p,this.currentIndex=null,this.isNotificationExpanded=!1,this.isNative=a.isNative()}return(0,a.default)(e,[{key:"loadNotifications",value:function(){var e=this,t=[];return this.templateData=[],this.divColors=[],this.callToAction=[],this.mobileTemplate=[],this.footerNotificationsService.getNotifications().then((function(n){(t=n.notification_banners).forEach((function(t,n){1===t.buttons.length?t.buttons.forEach((function(t){t.action===e.footerConstants.MOVE_MONEY?t.name=e.$translate.instant("footerNotifications.fundNow"):t.action===e.footerConstants.BALANCE_TRANSFER?t.name=e.$translate.instant("footerNotifications.transferABalance"):t.action===e.footerConstants.JOINT_CONSENT_T_AND_C?t.name=e.$translate.instant("footerNotifications.continue"):t.action===e.footerConstants.ACCEPT_PREAPPROVED_OVERDRAFT&&(t.name=e.$translate.instant("footerNotifications.continue")),e.callToAction.push(t)}),e):t.buttons.length>1&&e.callToAction.push(t.buttons),e.divColors.push(t.color_cta.toLowerCase()),e.templateData.push('<div id="slide_'+n+'">'+t.short_description+"<br /><h1>"+t.description+"</h1></div>")}),e),e.mobileTemplate=t,e.totalPages=e.templateData.length,e.pageCount=e.loadedPage+1+" / "+e.totalPages,e.footerContents=e.templateData[e.loadedPage]})).catch((function(t){e.$log.error(t)}))}},{key:"toggle",value:function(e){"up"===e?(angular.element(this.footerMenu).parent().addClass("expanded-mobile"),angular.element(this.footerMenu).parent().removeClass("collapse-mobile"),angular.element(this.footerMenu).removeClass("hide"),angular.element(this.footerMenu).css("display","block"),this.isNotificationExpanded=!0):"down"===e&&(angular.element(this.mobileView).css("margin-bottom","0px"),angular.element(this.footerMenu).parent().removeClass("expanded-mobile"),angular.element(this.mobileView).addClass("collapse-mobile"),angular.element(this.footerMenu).css({display:"none"}),this.isNotificationExpanded=!1),this.resizer()}},{key:"resizer",value:function(){var e=angular.element(".mobileView").find(".ftn-menu .nav__list"),t=angular.element(".footer-native").outerHeight(),n=angular.element(".footer-desktop").outerHeight(),i=this.isNative||angular.element(".footer-native").css("display")&&"none"!==angular.element(".footer-native").css("display"),a=(i?t:n)||0;e.each((function(e,t){angular.element(t).height()>0&&(a+=angular.element(t).height())})),a-=2,angular.element(this.mobileView).css("margin-bottom",a+"px"),angular.element(this.regularView).css("margin-bottom",a+"px"),this.templateData&&this.templateData.length>0&&(i?angular.element(".page-content").css("margin-bottom","53px"):angular.element(".page-content").css("margin-bottom","117px"))}},{key:"wireUpButtons",value:function(e){e===this.nextClass?this.loadedPage+=1:e===this.previousClass&&(this.loadedPage-=1),this.evaluator(),this.pageCount=this.loadedPage+1+" / "+this.totalPages,this.footerContents=this.templateData[this.loadedPage]}},{key:"evaluator",value:function(){this.loadedPage+1>this.totalPages?this.loadedPage=0:this.loadedPage<0&&(this.loadedPage=this.totalPages-1)}},{key:"getAccountDetailIndex",value:function(e){var t=null,n=this.footerNotificationsService.accountDetails;this.currentIndex=null;for(var i=0;i<n.length;i++){var a=n[i].account_summary.account_registration;if(a===this.ACCOUNT_REGISTRATIONS.JOINT||a===this.ACCOUNT_REGISTRATIONS.FR_JOINT){if(this.AccountDetailsService.isActionAvailable(n[i],this.accountConstants.AVAILABLE_ACTIONS.ACCEPT_OD_INVITATION)&&e===this.footerConstants.JOINT_CONSENT_T_AND_C){t=i,this.currentIndex=t;break}if(e===this.footerConstants.ACCEPT_PREAPPROVED_OVERDRAFT){t=i,this.currentIndex=t;break}}else if(n[i].account_summary.credit_card&&e===this.footerConstants.BALANCE_TRANSFER){t=i,this.currentIndex=t;break}}}},{key:"closeModal",value:function(){this.showMoveMoney=!1,this.showWaitingApplicationBar=!1,this.loadNotifications()}},{key:"handleButtonAction",value:function(e){var t=this;switch(e){case this.footerConstants.MOVE_MONEY:this.GlobalModalsService.showMoveMoneySelectedAccount(null,this.moveMoneyConstants.MODAL_TYPES.DEFAULT);break;case this.footerConstants.BALANCE_TRANSFER:this.getAccountDetailIndex(e),this.BundleService.loadBundle(this.bundleConstants.AVAILABLE_BUNDLES.ACCOUNT_DETAILS).then((function(){t.GlobalModalsService.showCreditCardBalanceTransfer(t.footerNotificationsService.accountDetails[t.currentIndex])}));break;case this.footerConstants.ACCEPT_PREAPPROVED_OVERDRAFT:case this.footerConstants.JOINT_CONSENT_T_AND_C:this.getAccountDetailIndex(e),this.$stateParams.accountHash=this.footerNotificationsService.accountDetails[this.currentIndex].account_summary.account_number,this._checkAvailableActions()}}},{key:"_checkAvailableActions",value:function(){var e=this;this.accountDetails=this.footerNotificationsService.accountDetails[this.currentIndex],this.isApplyConsentWaiting=this.AccountDetailsService.isActionAvailable(this.accountDetails,this.accountConstants.AVAILABLE_ACTIONS.ACCEPT_OD_INVITATION),this.isIncreaseConsentWaiting=this.AccountDetailsService.isActionAvailable(this.accountDetails,this.accountConstants.AVAILABLE_ACTIONS.ACCEPT_OD_INCREASE_INVITATION),this.BundleService.loadBundle(this.bundleConstants.AVAILABLE_BUNDLES.ACCOUNT_DETAILS).then((function(){(e.isApplyConsentWaiting||e.isIncreaseConsentWaiting)&&e.GlobalModalsService.showOverdraftConsentModal(e.accountDetails)}))}},{key:"_initializeMobileView",value:function(){var e=this;this.$timeout((function(){e.resizer()}),100)}},{key:"$onInit",value:function(){var e=this;this.loadNotifications().then((function(){return e._initializeMobileView()})),this.boundResizeListener=this.resizer.bind(this),this.$window.addEventListener("resize",this.boundResizeListener)}}]),e}();o.$inject=["FooterNotificationsService","AccountDetailsService","EnvironmentService","footerConstants","moveMoneyConstants","globalModalsConstants","accountConstants","$stateParams","$log","$q","GlobalModalsService","$translate","$window","$timeout","BundleService","bundleConstants"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="footer-notifications regularView" ng-class="\'notification_\'+$ctrl.divColors[$ctrl.loadedPage]" ng-if="$ctrl.totalPages > 0"> <div class="column"> <div class="page-count-container"> <span class="page-count" ng-bind-html="$ctrl.pageCount"></span> </div> </div> <div class="middle column-content"> <div class="column-content-wrapper"> <div class="column-left-circle"> <span class="circle"></span> <span class="icon-leftarrow" ng-click="$ctrl.wireUpButtons(\'left\')"></span> </div> <div class="column-center"> <div class="content" ng-bind-html="$ctrl.footerContents"> </div> <div class="call-to-action" ng-if="!$ctrl.isArray($ctrl.callToAction[$ctrl.loadedPage])"> <a actionable-id="footer-notifications-link_1" class="btn--small" href="" ng-click="$ctrl.handleButtonAction($ctrl.callToAction[$ctrl.loadedPage].action)">{{$ctrl.callToAction[$ctrl.loadedPage].name}}</a> </div> <div class="call-to-action" ng-if="$ctrl.isArray($ctrl.callToAction[$ctrl.loadedPage])" ng-repeat="ca in $ctrl.callToAction[$ctrl.loadedPage]"> <a actionable-id="footer-notifications-link_2" class="btn--small" href="" ng-click="$ctrl.handleButtonAction($ctrl.footerConstants[ca.action])">{{ca.name}}</a> </div> </div> <div class="column-right-circle"> <span class="circle"></span> <span class="icon-rightarrow" ng-click="$ctrl.wireUpButtons(\'right\')"></span> </div> </div> </div> </div> <div class="footer-notifications mobileView collapse-mobile" ng-if="$ctrl.totalPages > 0"> <div class="ftn-reduced notification_red"> <ul class="nav__list"> <li class="nav__item"> <p ng-if="$ctrl.divColors.length === 1">{{::\'footerNotifications.barMessageOneItem\'|translate}}</p> <p ng-if="$ctrl.divColors.length > 1">{{::\'footerNotifications.barMessageMultipleItems\'|translate:{\'number\':$ctrl.divColors.length} }}</p> </li> <li class="nav__item button-styler"> <span ng-show="!$ctrl.isNotificationExpanded" class="icon-uparrow" ng-click="$ctrl.toggle(\'up\')"></span> <span ng-show="$ctrl.isNotificationExpanded" class="icon-downarrow" ng-click="$ctrl.toggle(\'down\')"></span> </li> </ul> </div> <div class="hide ftn-menu"> <div class="nav__list" ng-repeat="item in $ctrl.mobileTemplate track by $index" ng-class="\'notification_\'+$ctrl.divColors[$index]"> <li class="nav__item"> <div ng-bind-html="item.short_description"></div> <h1 class="mobileDescription">{{item.description}}</h1> </li> <li class="nav__item button-styler"> <div class="call-to-action" ng-if="!$ctrl.isArray($ctrl.callToAction[$index])"> <a actionable-id="footer-notification-link_3" class="btn--small" href="" ng-click="$ctrl.handleButtonAction($ctrl.footerConstants[$ctrl.callToAction[$index].action])">{{$ctrl.callToAction[$index].name}}</a> </div> <div class="call-to-action" ng-if="$ctrl.isArray($ctrl.callToAction[$index])" ng-repeat="mb in $ctrl.callToAction[$index]"> <a actionable-id="footer-notification-link_4" class="btn--small" href="" ng-click="$ctrl.handleButtonAction($ctrl.footerConstants[$ctrl.callToAction[$index].action])">{{mb.name}}</a> </div> </li>  </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d){(0,i.default)(this,e),this.RequesterService=t,this.serviceConstants=n,this.footerConstants=a,this.SessionService=s,this.UserService=o,this.$q=r,this.$timeout=l,this.EventBusService=c,this.appStateConstants=u,this.$rootScope=d,this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;this.accountDetails=[],this.EventBusService.subscribe(this.$rootScope,this.appStateConstants.APPLICATION_LOGOUT,(function(){e.accountDetails=[]}))}},{key:"setAccountDetails",value:function(e){e&&(this.accountDetails=e)}},{key:"getNotifications",value:function(){var e=this,t=this.$q.defer();return this.$timeout((function(){e.RequesterService.request(e.serviceConstants.AVAILABLE_SERVICES.FOOTER_NOTIFICATIONS).then((function(n){n.notification_banners&&t.resolve(n),t.reject(e.footerConstants.ERRORS.CANNOT_FETCH_NOTIFICATIONS)}))}),500),t.promise}}]),e}();o.$inject=["RequesterService","serviceConstants","footerConstants","SessionService","UserService","$q","$timeout","EventBusService","appStateConstants","$rootScope"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={NEXT:"right",PREVIOUS:"left",FOOTER_MENU:".ftn-menu",MOBILE_UP_ARROW:".icon-uparrow",MOBILE_DOWN_ARROW:".icon-downarrow",MOBILE_VIEW:".mobileView",REGULAR_VIEW:".regularView",ERRORS:{CANNOT_FETCH_NOTIFICATIONS:"CANNOT_FETCH_NOTIFICATIONS"},MOVE_MONEY:"MOVE_MONEY",BALANCE_TRANSFER:"BALANCE_TRANSFER",ACCEPT_PREAPPROVED_OVERDRAFT:"ACCEPT_PREAPPROVED_OVERDRAFT",JOINT_CONSENT_T_AND_C:"JOINT_CONSENT_T_AND_C"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1153)),a=s(n(453));function s(e){return e&&e.__esModule?e:{default:e}}var o=angular.module("tangerine.feesCalculator",[]).component("tngFeesCalculator",i.default).service("feesCalculatorService",a.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1154)),a=o(n(1155)),s=o(n(453));function o(e){return e&&e.__esModule?e:{default:e}}n(1156);var r={template:i.default,controller:a.default,service:s.default,bindings:{onClose:"&",currentFee:"<?"}};t.default=r,e.exports=t.default},function(e,t){e.exports='<tng-modal-dialog on-close="$ctrl.onModalClose(result)" analytics-id="feesCalculator" class="c-feesCalculator-modal"> <header> {{ ::\'account.overview.quickAccess.feesHeader\' | translate }} </header> <div class="dialog-content"> <div class="dialog__content-wrapper"> <div class="medium-width-section"> <p class="">{{ ::\'account.overview.quickAccess.feesText\' | translate }}</p> <h2>{{ ::\'account.overview.quickAccess.feesSubheader\' | translate }}</h2> <tng-amount-input input-type="$ctrl.AMOUNT_INPUT_TYPES.STANDARD" ng-model="$ctrl.monthlyFees" disable-autofocus="true" input-max-length="9" on-amount-change="$ctrl.onFeesChange(amount)"> </tng-amount-input> <br/> <p class="body--4 margin__t--fix2">{{ ::\'account.overview.quickAccess.feesText2\' | translate }}</p> </div> </div> </div> <footer> <button class="btn btn--edit" actionable-id="feesCalculator_closeModal" ng-click="$ctrl.onModalClose()"> {{::\'global.components.buttons.cancel\' | translate }} </button> <button class="btn btn--orange" actionable-id="feesCalculator_closeModal" ng-click="$ctrl.calculateFees()" ng-disabled="!$ctrl.inputValid"> {{::\'account.overview.quickAccess.feesCalculate\' | translate }} </button> </footer> </tng-modal-dialog> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.$log=t,this.$translate=n,this.UrlService=a,this.feesCalculatorService=s,this.DEFAULT_FEE="",this.inputValid=!1,this.AMOUNT_INPUT_TYPES=o.AMOUNT_INPUT_TYPES}return(0,a.default)(e,[{key:"$onInit",value:function(){this.monthlyFees=this.currentFee||this.DEFAULT_FEE}},{key:"calculateFees",value:function(){var e=this;return this.feesCalculatorService.putMonthlyFees(this.monthlyFees).then((function(){e.onClose()}))}},{key:"onFeesChange",value:function(){this.inputValid=this.monthlyFees>0}},{key:"onModalClose",value:function(){this.onClose()}}]),e}();o.$inject=["$log","$translate","UrlService","feesCalculatorService","amountInputConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1158)),a=s(n(1159));function s(e){return e&&e.__esModule?e:{default:e}}n(1160);var o={controller:i.default,template:a.default,bindings:{confirmTitleKey:"@?",confirmDeleteTitle:"<?",confirmDeleteMsg:"<?",greyIcon:"<?",templateV2:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t}return(0,a.default)(e,[{key:"$onInit",value:function(){this.$log.debug("confirm exit controller $onInit",this.confirmTitleKey),this.confirmTitleKey=this.confirmTitleKey||"global.warning.subTitle"}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-confirm-exit" ng-if="!$ctrl.templateV2"> <p ng-if="!$ctrl.confirmDeleteTitle && !$ctrl.confirmDeleteMsg" class="c-confirm-exit__exit-info"> {{::$ctrl.confirmTitleKey | translate }} </p> <div class="c-confirm-exit__icon icon icon--warning" ng-class="{\'c-confirm-exit__icon-grey\': $ctrl.greyIcon }"> <span class="icon-warning"></span> </div> <div ng-if="$ctrl.confirmDeleteTitle" class="c-confirm-exit__delete-title" ng-bind-html="$ctrl.confirmDeleteTitle"></div> <div ng-if="$ctrl.confirmDeleteMsg" class="c-confirm-exit__delete-info" ng-bind-html="$ctrl.confirmDeleteMsg"></div> </div> <div class="c-confirm-exit-v2" ng-if="$ctrl.templateV2"> <div class="c-confirm-exit-v2__icon icon icon--warning"> <span class="icon-warning"></span> </div> <div class="c-confirm-exit-v2__heading"> {{ ::\'global.warning.title\' | translate }} </div> <p class="c-confirm-exit-v2__exit-info"> {{::$ctrl.confirmTitleKey | translate }} </p> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1162)),a=s(n(1163));function s(e){return e&&e.__esModule?e:{default:e}}n(1164);var o={template:a.default,controller:i.default,transclude:!0,bindings:{position:"<"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e),this.$scope={}}return(0,a.default)(e,[{key:"$onInit",value:function(){this.position=void 0===this.position?1:this.position}}]),e}();o.$inject=[],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-sticky-button"> <ng-transclude></ng-transclude> </div>'},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){return{restrict:"A",replace:!0,link:function(n,i,a){n.$watch(a.tngBindHtml,(function(a){var s=t.getTrustedHtml(a);i.html(s),e(i.contents())(n)}))}}};i.$inject=["$compile","$sce"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n,i){var a=void 0;return{require:"ngModel",link:function(s,o,r,l){a=s.$eval(r.tngProfanityChecker),l.$asyncValidators.profanityChecker=function(s){return l.$isEmpty(s)?e.resolve():(o=s,r=[n.STATUS_CODES.SUCCESS],i.request(a.serviceKey,{data:{text:o}}).then((function(n){var i=-1!==r.indexOf(n.response_status.status_code);return angular.isFunction(a.onDone)&&a.onDone(i),i?(t.debug("Profanity Check  is good"),n):e.reject(n)})).catch((function(e){throw angular.isFunction(a.onDone)&&a.onDone(!1),t.error("Profanity Check error:",e),e})));var o,r}}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$log","serviceConstants","RequesterService"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1168)),a=s(n(1169));function s(e){return e&&e.__esModule?e:{default:e}}n(1170);var o={controller:i.default,template:a.default,bindings:{onClose:"&",onDone:"&?",account:"<",showOnlyClose:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t}return(0,a.default)(e,[{key:"$onInit",value:function(){this.$log.log("Opening Modal for Application In Progress..."),this.refNum=this.account.dealId}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-modal-dialog on-close="$ctrl.onClose()"> <header>{{ \'applicationInProgress.header\' | translate }}</header> <div ng-bind-html="\'applicationInProgress.body1\' | translate: { refNum: $ctrl.account.dealId }"></div> <div class="c-application-in-progress__body">{{ \'applicationInProgress.body2\' | translate }}</div> <footer> <button class="btn btn--orange" ng-click="$ctrl.onClose()" ng-if="$ctrl.showOnlyClose"> {{ ::\'global.components.buttons.close\' | translate }} </button> <span ng-if="!$ctrl.showOnlyClose"> <button class="btn btn--edit" ng-click="$ctrl.onClose()">{{ ::\'global.components.buttons.back\' | translate }}</button> <button class="btn btn--orange" ng-click="$ctrl.onDone()">{{ ::\'global.components.buttons.done\' | translate }}</button> </span> </footer> </tng-modal-dialog>'},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1172)),a=s(n(1173));function s(e){return e&&e.__esModule?e:{default:e}}n(1174);var o={controller:i.default,template:a.default,bindings:{isTopBanner:"<?",isKyc:"<?",isWrapUpPage:"<?"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s){(0,i.default)(this,e),this.$log=t,this.StorageService=n,this.EnvironmentService=a,this.SessionService=s}return(0,a.default)(e,[{key:"$onInit",value:function(){this.enableCanadaPostStrike=this.EnvironmentService.get("canadaPostStrike"),this.isNative=this.EnvironmentService.isNative(),this.showBanner=!this.SessionService.getSession().hideCanadaPostStrike,this.showTile=!0}},{key:"closeBanner",value:function(){this.showBanner=!1,this.SessionService.hideCanadaPostStrike=!0,this.SessionService.saveSession()}},{key:"closeTile",value:function(){this.showTile=!1}},{key:"showInfoModal",value:function(){this.showModal=!0}},{key:"closeModal",value:function(){this.showModal=!1}}]),e}();o.$inject=["$log","StorageService","EnvironmentService","SessionService"],t.default=o,e.exports=t.default},function(e,t){e.exports=' <div ng-if="$ctrl.enableCanadaPostStrike && !$ctrl.isNative" class="c-canada-post-strike"> <div ng-if="$ctrl.isTopBanner && $ctrl.showBanner" class="c-canada-post-strike__banner"> <div class="c-canada-post-strike__banner__container"> <span class="icon-canada-post"></span> <span class="c-canada-post-strike__banner_title"> <strong>{{ ::\'canadaPostStrike.overview.banner.title\' | translate }}</strong> {{ ::\'canadaPostStrike.overview.banner.text\' | translate }} <span class="c-canada-post-strike__banner_learn-more c-canada-post-strike__banner_learn-more__mobile" ng-click="$ctrl.showInfoModal()"><strong>{{ ::\'canadaPostStrike.overview.banner.learnMore\' | translate }}</strong></span> </span> <span class="c-canada-post-strike__banner_learn-more" ng-click="$ctrl.showInfoModal()"><strong>{{ ::\'canadaPostStrike.overview.banner.learnMore\' | translate }}</strong></span> <span class="icon-x" ng-click="$ctrl.closeBanner()"></span> </div> <tng-modal-dialog class="c-canada-post-strike__banner__modal" ng-if="$ctrl.showModal" on-close="$ctrl.closeModal()"> <header class="account-card__amount">{{ ::\'canadaPostStrike.overview.modal.header\' | translate }}</header> <p>{{ ::\'canadaPostStrike.overview.modal.body1\' | translate }}</p> <p>{{ ::\'canadaPostStrike.overview.modal.body2\' | translate }}</p> <div class="panel"> <p><b>{{ ::\'canadaPostStrike.overview.modal.tile.header\' | translate }}</b></p> <ul class="padding__l--fix2"> <li ng-bind-html="::\'canadaPostStrike.overview.modal.tile.para1\' | translate"></li> <li ng-bind-html="::\'canadaPostStrike.overview.modal.tile.para2\' | translate"></li> <li ng-bind-html="::\'canadaPostStrike.overview.modal.tile.para3\' | translate"></li> <li ng-bind-html="::\'canadaPostStrike.overview.modal.tile.para4\' | translate"></li> <li style="display:block"> <ul class="padding__l--fix2"> <li ng-bind-html="::\'canadaPostStrike.overview.modal.tile.para4_1\' | translate"></li> <li ng-bind-html="::\'canadaPostStrike.overview.modal.tile.para4_2\' | translate"></li> </ul> </li> <li ng-bind-html="::\'canadaPostStrike.overview.modal.tile.para5\' | translate"></li> </ul> </div> </tng-modal-dialog> </div> <div class="c-canada-post-strike__wrap-up small" ng-if="$ctrl.isWrapUpPage"> <div class="c-canada-post-strike__wrap-up__margin-bottom"><b>{{ ::\'canadaPostStrike.accountWrapUp.header\' | translate }}</b></div> <div> <div class="c-canada-post-strike__wrap-up__margin-bottom">{{ ::\'canadaPostStrike.accountWrapUp.body1\' | translate }}</div> <div>{{ ::\'canadaPostStrike.accountWrapUp.body2\' | translate }}</div> </div> </div> <div ng-if="$ctrl.isKyc && $ctrl.showTile" class="c-canada-post-strike__kyc"> <p ng-bind-html="::\'canadaPostStrike.kyc\' | translate"></p> <span class="icon-x medium" ng-click="$ctrl.closeTile()"></span> </div> </div>'},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1176)),a=s(n(1177));function s(e){return e&&e.__esModule?e:{default:e}}n(1178);var o={controller:i.default,template:a.default,bindings:{}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l){(0,i.default)(this,e),this.$log=t,this.EnvironmentService=a,this.SessionService=s,this.$state=n,this.stateConstants=o,this.$window=r,this.$http=l}return(0,a.default)(e,[{key:"$onInit",value:function(){this.enableTaxBanner=this.EnvironmentService.get("taxBanner"),this.isNative=this.EnvironmentService.isNative(),this.showBanner=!this.SessionService.getSession().hideTaxBanner,this.showTile=!0}},{key:"goToTaxReceiptsPage",value:function(){this.$state.go(this.stateConstants.ACCOUNT_DOCUMENTS_TAX_RECEIPTS,{},{reload:!0}),this.SessionService.setCameFromTaxBanner(!0)}},{key:"closeBanner",value:function(){this.showBanner=!1,this.SessionService.hideTaxBanner=!0,this.SessionService.saveSession()}}]),e}();o.$inject=["$log","$state","EnvironmentService","SessionService","stateConstants","$window","$http"],t.default=o,e.exports=t.default},function(e,t){e.exports=' <div ng-if="$ctrl.enableTaxBanner" tng-hide-kyc-pending class="tax"> <div ng-if="$ctrl.showBanner" class="tax__banner"> <div class="tax__banner__container"> <span class="icon-papers"></span> <span class="tax__banner_title"> {{ ::\'taxBanner.overview.banner.text\' | translate }}<strong ng-click="$ctrl.goToTaxReceiptsPage()" class="tax__banner_learn-more" id="taxBannerGoToTaxDocumentsPage">{{ ::\'taxBanner.overview.banner.learnMore\' | translate }}</strong> </span> </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1180)),a=s(n(1181));function s(e){return e&&e.__esModule?e:{default:e}}n(1182);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s){(0,a.default)(this,e),this.menuConstants=n,this.MenuService=t,this.$state=i,this.$translate=s,this.navItems=[],this.activeState=null}return(0,s.default)(e,[{key:"$onInit",value:function(){this.getNavItems(),this.activeState=this.$state.current.name}},{key:"getNavItems",value:function(){var e=this;if(this.navItems.length>0)return this.navItems;var t=this.MenuService.getMenuItems(this.menuConstants.MENU_TYPES.TERTIARY);return t.length>0&&(this.navItems=t.map((function(t){return(0,i.default)(t,{name:e.$translate.instant(t.displayName)})}))),this.navItems}},{key:"handleNavItemChange",value:function(e){this.activeState=e.action,this.MenuService.handleMenuInteraction(e.type,e.action)}}]),e}();r.$inject=["MenuService","menuConstants","$state","$translate"],t.default=r,e.exports=t.default},function(e,t){e.exports='<div class="c-tertiary-nav"> <div class="c-tertiary-nav__nav--tablet"> <nav class="container"> <a class="c-tertiary-nav__nav-item" ng-repeat="navItem in $ctrl.getNavItems() track by $index" ng-class="{ \'active\': $ctrl.$state.is(navItem.action) }" ng-click="$ctrl.handleNavItemChange(navItem)" href="" actionable-id="tertiary_navItem_{{ $index }}"> {{ navItem.displayName | translate }} </a> </nav> </div> <div class="c-tertiary-nav__nav--mobile container"> <tng-select-autocomplete input-id="tertiary_navSelect" is-static="true" ng-model="$ctrl.activeState" on-select="$ctrl.handleNavItemChange(option)" options="$ctrl.navItems" option-label-key="name" option-value-key="action"></tng-select-autocomplete> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1184),s=(i=a)&&i.__esModule?i:{default:i};function o(){return{bindToController:{tngNavList:"<"},controller:s.default,controllerAs:"navList",restrict:"A",template:"<ng-transclude></ng-transclude>",transclude:!0}}o.$inject=[],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.MenuService=t,this.items=[]}return(0,a.default)(e,[{key:"$onChanges",value:function(e){e.tngNavList&&(this.items=this.MenuService.getMenuItems(e.tngNavList.currentValue))}}]),e}();o.$inject=["MenuService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){return{restrict:"A",link:function(i,a,s){var o=angular.isArray(s)?s[0].autofocusDevice:s.autofocusDevice;switch(o=o||n.DESKTOP_ONLY){case n.NONE:return;case n.MOBILE_ONLY:if(!t.isMobile())return;break;case n.DESKTOP_ONLY:if(t.isMobile())return}e((function(){a[0].focus()}))}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$timeout","EnvironmentService","autoFocusConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1187)),a=s(n(1188));function s(e){return e&&e.__esModule?e:{default:e}}n(1189);var o={controller:i.default,template:a.default,bindings:{items:"<",scrollingEnabled:"<",scrollingLocationElementSelector:"@?",nativeScrollingLocationElementSelector:"@?",scrollingDuration:"<?",textToDisplay:"@"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$log=t,this.anchorService=n,this.environmentService=a}return(0,a.default)(e,[{key:"scrollTo",value:function(){if(this.scrollingEnabled&&this.scrollingLocationElementSelector&&this.nativeScrollingLocationElementSelector&&this.scrollingDuration){if(this.environmentService.isNative()){var e=angular.element(this.scrollingLocationElementSelector),t=e.scrollTop(),n="'.' "+this.nativeScrollingLocationElementSelector;if(0===t&&0!==e.find(n).length)return this.$log.debug("TourCardsContainer-onInit "+this.pageId),void this.anchorService.scrollWithAnimation(n,this.scrollingDuration,0)}this.anchorService.scrollWithAnimation(this.scrollingLocationElementSelector,this.scrollingDuration,0)}}}]),e}();o.$inject=["$log","AnchorService","EnvironmentService"],t.default=o,e.exports=t.default},function(e,t){e.exports='<button actionable-id="item_counter_button" class="item-counter-mobile__button-left" ng-class="{\'item-counter__counter-as-text\': !$ctrl.scrollingEnabled}" ng-click="$ctrl.scrollingEnabled && $ctrl.scrollTo()" ng-disabled="(!$ctrl.items || $ctrl.items.length === 0)"> <div class="item-counter__number"> {{ ($ctrl.items && $ctrl.items.length > 0) ? $ctrl.items.length : 0 }} </div> <div class="item-counter__item-count"> {{ ::$ctrl.textToDisplay | translate}} </div> <div class="item-counter-mobile__number"> {{ ($ctrl.items && $ctrl.items.length > 0) ? $ctrl.items.length : 0 }} </div> <div class="item-counter-mobile__item-count"> {{ ::$ctrl.textToDisplay | translate}} </div> </button> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1191),s=(i=a)&&i.__esModule?i:{default:i};var o=angular.module("tangerine.app.core.providers",[]).provider("dynamicConstants",s.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(15),s=(i=a)&&i.__esModule?i:{default:i};t.default=function(){return{appendGlobalConstants:function(e,t){if(e&&t){var n=(0,s.default)(e);(0,s.default)(t).forEach((function(i){-1===n.indexOf(i)&&(e[i]=t[i])}))}},$get:function(){return{}}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=oe(n(1193)),a=oe(n(1194)),s=oe(n(554)),o=oe(n(1197)),r=oe(n(1198)),l=oe(n(1199)),c=oe(n(1200)),u=oe(n(1201)),d=oe(n(1202)),_=oe(n(1203)),E=oe(n(1204)),h=oe(n(1205)),S=oe(n(1206)),T=oe(n(1207)),p=oe(n(1208)),f=oe(n(1209)),g=oe(n(1216)),A=oe(n(1217)),v=oe(n(557)),C=oe(n(1218)),m=oe(n(1219)),I=oe(n(1220)),O=oe(n(1221)),N=oe(n(1222)),R=oe(n(1223)),y=oe(n(1224)),L=oe(n(1227)),M=oe(n(371)),D=oe(n(1228)),P=oe(n(1229)),b=oe(n(1230)),U=oe(n(1231)),$=oe(n(1232)),F=oe(n(1242)),k=oe(n(1243)),B=oe(n(1246)),G=oe(n(1247)),w=oe(n(1254)),H=oe(n(1255)),V=oe(n(560)),Y=oe(n(561)),x=oe(n(1256)),W=oe(n(1257)),K=oe(n(1258)),q=oe(n(1259)),j=oe(n(562)),z=oe(n(1260)),Q=oe(n(1261)),X=oe(n(1262)),J=oe(n(1263)),Z=oe(n(1264)),ee=oe(n(1265)),te=oe(n(1266)),ne=oe(n(1267)),ie=oe(n(1268)),ae=oe(n(1269)),se=oe(n(1270));function oe(e){return e&&e.__esModule?e:{default:e}}var re=angular.module("tangerine.app.core.services",[]).service("AccountHelpersService",i.default).service("AnalyticsService",s.default).service("AppStateService",o.default).service("AuthService",r.default).service("AnchorService",l.default).service("BackButtonService",f.default).service("BusinessDaysService",c.default).service("CustomerInfoService",u.default).service("EventBusService",d.default).service("MenuService",_.default).service("InboxService",E.default).service("GlobalModalsService",h.default).service("CurrencyService",S.default).service("EnvironmentService",T.default).service("EnvironmentSwitchService",p.default).service("ExternalLinkService",g.default).service("UserService",v.default).service("PollerService",C.default).service("ErrorService",A.default).service("EventBusService",d.default).service("NativeService",m.default).service("RequesterService",I.default).service("RequesterMobileService",O.default).service("StorageService",N.default).service("ReferenceDataService",R.default).service("LocaleService",y.default).service("ScrollService",L.default).service("DateService",M.default).service("DeviceCapabilityService",D.default).service("ScrollService",L.default).service("CredentialsTPWService",P.default).service("IovationService",U.default).service("ConfigDataService",b.default).service("ModalErrorHandlerService",$.default).service("OrangeAlertsService",F.default).service("CustomersService",k.default).service("CifTypeService",B.default).service("BundleService",G.default).service("UrlService",w.default).service("TlocService",H.default).service("eNotificationService",V.default).service("KYCPendingService",Y.default).service("TimerService",x.default).service("FlowFooterService",W.default).service("FooterNavHelperService",K.default).service("LoginTimeoutService",q.default).service("AccountSummaryPrefetchService",a.default).service("ConfirmWindowUnloadService",j.default).service("ScriptService",Q.default).service("budgetToolService",X.default).service("budgetLtsPageService",J.default).service("GoalSummaryService",z.default).service("MoveMoneyAccountsService",Z.default).service("CurrentStateService",te.default).service("FinancialService",ee.default).service("ChatbotService",ne.default).service("AbTestingService",ie.default).service("ShapeSecurityService",ae.default).service("TermLoanService",se.default);t.default=re,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c){(0,i.default)(this,e),this.$log=t,this.$translate=n,this.$q=a,this.$filter=o,this.ACCOUNT_TYPES=s.ACCOUNT_TYPES,this.MUTUAL_FUNDS=s.MUTUAL_FUND_LIST,this.ACCOUNT_PPTS=s.ACCOUNT_PPTS,this.ACCOUNT_PRFL=s.ACCOUNT_PRFL,this.PRODUCT_CODE_MAP=s.PRODUCT_CODE_MAP,this.CurrencyService=r,this.transPrefix="global.accountType.",this.localeService=l,this.DateService=c,this.loginRequirdInstitutions=[]}return(0,a.default)(e,[{key:"getMaskedAccountNumber",value:function(e){var t=e;return t&&("number"==typeof t&&(t=t.toString()),"string"==typeof t)?"***"+t.substr(-4):""}},{key:"getMaskedCCNumber",value:function(e){var t=e;return t&&("number"==typeof t&&(t=t.toString()),"string"==typeof t&&16===(t=t.replace(" ","")).length)?t.substr(0,4)+" xxxx xxxx "+t.substr(-4):""}},{key:"sanitizeAccountDescription",value:function(e){var t=e;return"string"==typeof t?(t=(t=t.replace(/tangerine|account/gi,"")).replace(/\s\s/g," ")).trim():""}},{key:"_getProductCode",value:function(e,t){return this.PRODUCT_CODE_MAP[""+e+t]}},{key:"_getNicknameByProductCode",value:function(e){return this.$translate.instant("accountNicknames."+e)}},{key:"_getProductCodeFromAccount",value:function(e){return this._getProductCode(e.product_code||e.profile_product_type,e.currency_type||e.currency)}},{key:"_hasDefaultNickname",value:function(e){return!!this._getProductCodeFromAccount(e)}},{key:"_getDefaultNicknameFromAccount",value:function(e){var t=this._getProductCodeFromAccount(e);return this._getNicknameByProductCode(t)}},{key:"getDisplayName",value:function(e){return this.$q.resolve(this.getDisplayNameInstant(e))}},{key:"getDisplayNameInstant",value:function(e){var t="";return e?t=e.fi_name?e.fi_name:e.nickname||e.account_nick_name?e.nickname||e.account_nick_name:this._hasDefaultNickname(e)?this._getDefaultNicknameFromAccount(e):e.description||e.product_description?this.sanitizeAccountDescription(e.description||e.product_description):e.name||t:t}},{key:"getAmountDisplay",value:function(e,t,n){var i=this.$filter("currency")(e,void 0,n);return this.CurrencyService.isCanadian(t)||t&&(i=i+" "+t),i}},{key:"isAmountValid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return e=parseFloat(e),angular.isNumber(e)&&e>=t&&e<=n}},{key:"isMutualFund",value:function(e){return-1!==this.MUTUAL_FUNDS.indexOf(e)}},{key:"isInvestmentRegisteredAccount",value:function(e){return-1!==[this.ACCOUNT_PPTS.SDRRSP,this.ACCOUNT_PPTS.SDGRSP,this.ACCOUNT_PPTS.SDSRRSP,this.ACCOUNT_PPTS.SDGSRSP,this.ACCOUNT_PPTS.SDTFSA,this.ACCOUNT_PPTS.SDGTFSA,this.ACCOUNT_PRFL.MUTUAL_FUND,this.ACCOUNT_PRFL.MUTUAL_FUND_TFSA,this.ACCOUNT_PRFL.MUTUAL_FUND_RSP,this.ACCOUNT_PRFL.MUTUAL_FUND_RRIF].indexOf(e)}},{key:"isAccountGreyOut",value:function(e){if(e.type===this.ACCOUNT_TYPES.CREDIT_CARD){var t=e.date_opened;return this.DateService.isToday(!!t&&t)}return!!e.transfer_in_progress&&e.type!==this.ACCOUNT_TYPES.MORTGAGE}},{key:"getCardDescriptionEqualToLength",value:function(e,t){return e.substring(0,t)+"..."}},{key:"initLoginRequirdInstitutions",value:function(){this.loginRequirdInstitutions=[]}},{key:"addLoginRequirdInstitutions",value:function(e){-1===this.loginRequirdInstitutions.indexOf(e)&&this.loginRequirdInstitutions.push(e)}},{key:"removeLoginRequirdInstitutions",value:function(e){-1!==this.loginRequirdInstitutions.indexOf(e)&&this.loginRequirdInstitutions.splice(this.loginRequirdInstitutions.indexOf(e),1)}},{key:"isLoginRequirdInstitutions",value:function(e){return-1!==this.loginRequirdInstitutions.indexOf(e)}}]),e}();o.$inject=["$log","$translate","$q","accountConstants","$filter","CurrencyService","LocaleService","DateService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_){(0,i.default)(this,e),this.$q=t,this.$log=n,this.RequesterService=a,this.UserService=s,this.serviceConstants=o,this.buildConstants=r,this.accountConstants=l,this.EventBusService=c,this.$rootScope=u,this.appStateConstants=d,this._accountsPromise=void 0,this._capabilitiesPromise=void 0,this._financialPlanCapabilitiesPromise=void 0,this._aggregatedAccountsPromise=void 0,this._personalInsightsCapabilitiesPromise=void 0,this.isNative=_.isNative(),this.ACCT_TYPES=l.ACCOUNT_TYPES,this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;this.EventBusService.subscribe(this.$rootScope,this.appStateConstants.APPLICATION_LOGOUT,(function(){e.invalidateAggregatedAccountsOnLogin(),e.invalidatePersonalInsightsOnLogin()}))}},{key:"invalidate",value:function(){this._accountsPromise=void 0,this._financialPlanCapabilitiesPromise=void 0,this._gicAccountsPromise=void 0}},{key:"invalidatePersonalInsightsOnLogin",value:function(){this._personalInsightsCapabilitiesPromise=void 0}},{key:"invalidateAggregatedAccountsOnLogin",value:function(){this._accountAggregationAvailablePromise=void 0,this._aggregatedAccountsCapabilityPromise=void 0,this._aggregatedAccountsPromise=void 0,this.isSpaAccountAggregationEnabled=!1,this.hasAccountSummaryAACapability=!1,this.isAccountAggregationKillSwitch=!0}},{key:"invalidateAggregatedAccounts",value:function(){this._aggregatedAccountsPromise=void 0}},{key:"preloadAccounts",value:function(e){var t=this;return this._accountsPromise||(this._accountsPromise=this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.ACCOUNT_SUMMARY,{},{resetCache:e}).catch((function(){t.$log.error("accountSummaryPrefetch.service || preloadAccounts || clearing _accountsPromise due to rejected promise"),t._accountsPromise=null}))),this._accountsPromise}},{key:"preloadCapabilities",value:function(){var e=this;return this._financialPlanCapabilitiesPromise||(this._financialPlanCapabilitiesPromise=this.UserService.getFinancialPlanCapabilities()),this._capabilitiesPromise||(this._capabilitiesPromise=this.UserService.getCapabilities().catch((function(){e.$log.error("accountSummaryPrefetch.service || preloadCapabilities || clearing _capabilitiesPromise due to rejected promise"),e._capabilitiesPromise=null}))),this._personalInsightsCapabilitiesPromise||(this._personalInsightsCapabilitiesPromise=this.UserService.getPersonalInsightsCapability().catch((function(){e.$log.error("accountSummaryPrefetch.service || ersonalInsightsCapabilities || clearing _personalInsightsCapabilitiesPromise due to rejected promise"),e._personalInsightsCapabilitiesPromise=null}))),this.$q.all([this._financialPlanCapabilitiesPromise,this._capabilitiesPromise,this._personalInsightsCapabilitiesPromise])}},{key:"preloadGICAccounts",value:function(){return this._gicAccountsPromise||this.isNative||(this._gicAccountsPromise=this._getGICAccounts()),this.$q.resolve(this._gicAccountsPromise)}},{key:"_getGICAccounts",value:function(){var e={urlVars:{queryString:"type="+this.ACCT_TYPES.SAVINGS+"&GIC_only=true"}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.REQUEST_ACCOUNTS,e)}},{key:"preloadAggregatedAccounts",value:function(){var e=this,t=this.$q.resolve();if(this._aggregatedAccountsPromise)t=this._aggregatedAccountsPromise;else if(this.isSpaAccountAggregationEnabled=!!this.buildConstants.CONFIG.plaid&&this.buildConstants.CONFIG.plaid.isAccountSummaryEnabled,this.isSpaAccountAggregationEnabled){var n=[this.serviceConstants.STATUS_CODES.SUCCESS];this._aggregatedAccountsCapabilityPromise||(this.hasAccountSummaryAACapability=!1,this._aggregatedAccountsCapabilityPromise=this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_ACCOUNT_SUMMARY_AGGREGATION_CAPABILITY).catch((function(t){e.$log.error("Cannot fetch aggregatedAccountsCapability",t)})));this._accountAggregationAvailablePromise||(this.isAccountAggregationKillSwitch=!0,this._accountAggregationAvailablePromise=this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_IS_ACCOUNT_AGGREGATION_AVAILABLE).catch((function(t){e.$log.error("Cannot fetch isAccountAggregationKillSwitch",t)}))),t=this.$q.all({aggregatedAccountsCapability:this._aggregatedAccountsCapabilityPromise,accountAggregationAvailability:this._accountAggregationAvailablePromise}).then((function(t){!function(t){t&&t.response_status&&t.response_status.status_code&&0===n.indexOf(t.response_status.status_code)?t.account_aggregation_capabilities&&-1!==t.account_aggregation_capabilities.indexOf(e.accountConstants.ACCOUNT_AGGREGATION.ACCOUNT_SUMMARY_CAPABILITY)&&(e.hasAccountSummaryAACapability=!0):e.$log.error("Cannot fetch aggregatedAccountsCapability",t)}(t.aggregatedAccountsCapability),function(t){t&&t.response_status&&t.response_status.status_code&&0===n.indexOf(t.response_status.status_code)&&(e.isAccountAggregationKillSwitch=!1)}(t.accountAggregationAvailability)})).then((function(){return e.hasAccountSummaryAACapability&&!e.isAccountAggregationKillSwitch?(e._aggregatedAccountsPromise=e.getAggregatedAccountsPromise(),e._aggregatedAccountsPromise):e.$q.resolve()}))}return t}},{key:"getAggregatedAccountsPromise",value:function(){var e=this;if(this._aggregatedAccountsPromise)return this._aggregatedAccountsPromise;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_ACCOUNT_AGGREGATION_SUMMARY,{urlVars:{queryString:"caller=ACCOUNT_SUMMARY&source=internal&include_logo="+!0}},{resetCache:!0}).catch((function(t){e.$log.error("GET_ACCOUNT_AGGREGATION_SUMMARY rejected promise",t),e._aggregatedAccountsPromise=null}))}},{key:"isAggregationCapable",value:function(){return this.hasAccountSummaryAACapability&&!this.isAccountAggregationKillSwitch}},{key:"getFinancialPlanCapabilitiesPromise",value:function(){return this._financialPlanCapabilitiesPromise}},{key:"getAccountsPromise",value:function(){return this._accountsPromise}},{key:"getCapabilitiesPromise",value:function(){return this._capabilitiesPromise}},{key:"getGICAccountsPromise",value:function(){return this._gicAccountsPromise}},{key:"getPersonalInsightsCapabilityPromise",value:function(){return this._personalInsightsCapabilitiesPromise}}]),e}();o.$inject=["$q","$log","RequesterService","UserService","serviceConstants","buildConstants","accountConstants","EventBusService","$rootScope","appStateConstants","EnvironmentService"],t.default=o,e.exports=t.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c){(0,i.default)(this,e),this.$q=t,this.$log=n,this._isInit=!1,this._applicationLaunched=!1,this.appStateConstants=a,this.EventBusService=s,this.LocaleService=o,this.SessionService=r,this.LoginOptionService=l,this.EnvironmentService=c}return(0,a.default)(e,[{key:"initialize",value:function(){var e=this;this.$log.debug("AppState init"),this.isInit()?this.$log.debug("AppState already init"):(this.$log.debug("AppState initializing session"),this.SessionService.initSession().then((function(){e.$log.debug("AppState initializing session Success"),e._isInit=!0,e.LocaleService.initLocale().finally((function(){e.EventBusService.publish(e.appStateConstants.APPLICATION_INIT),e._applicationLaunched=!0}))})).catch((function(){e.$log.error("Application can't initialized")})))}},{key:"isInit",value:function(){return this._isInit}},{key:"hasAppLaunched",value:function(){return this._applicationLaunched}},{key:"subscribe",value:function(e,t,n){this.EventBusService.subscribe(e,t,n)}}]),e}();o.$inject=["$q","$log","appStateConstants","EventBusService","LocaleService","SessionService","LoginOptionService","EnvironmentService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(49)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c,u,d,_,E,h){(0,a.default)(this,e),this.$q=t,this.$state=n,this.$cookies=i,this.$log=s,this.SessionService=o,this.LoginService=r,this.LocaleService=c,this.EnvironmentService=l,this.isNative=l.isNative(),this.stateConstants=u,this.reinitLogin=!1,this.EventBusService=d,this.appStateConstants=_,this.InsightsSessionService=E,this.LoginTimeoutService=h}return(0,s.default)(e,[{key:"isAuthenticated",value:function(){return this.SessionService.isAuthenticated()}},{key:"initLogin",value:function(e,t){var n=this;return this._processRequest((function(){return n.LoginService.initLogin(e,t)}))}},{key:"submitCIF",value:function(e){var t=this;this.SessionService.clientIdentifierDisplay=e.displayId||e.acn,this.SessionService.isBusiness=e.isBusiness,this._clearSessionSubmit();var n=this._processRequest((function(e){return t.LoginService.submitCIF(e)}),e);return n.then((function(){e.removeID&&t._removeSavedId(e.acn)})),n}},{key:"removeCIF",value:function(e){this._removeSavedId(e.acn),this.SessionService.saveSession()}},{key:"checkSecret",value:function(e){var t=this;return this._clearSessionSubmit(),this._processRequest((function(e){return t.LoginService.checkSecret(e)}),e)}},{key:"submitPin",value:function(e){var t=this;return this._clearSessionSubmit(),this._processRequest((function(e){return t.LoginService.checkPin(e)}),e)}},{key:"getPassmarks",value:function(){return this._clearSessionSubmit(),this.isNative||(this.SessionService.passmark.url=this.base+"/passmarks"),this.$q.resolve(this.SessionService.passmark)}},{key:"logout",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.SessionService.setLastLoggedUserHash(),this.LoginService.logout().catch((function(e){t.$log.error("Logout error: "+e),"undefined"!=typeof dynaTrace&&"function"==typeof dynaTrace.reportError&&dynaTrace.reportError("MFP logout error: "+(0,i.default)(e))})).finally((function(){t.SessionService.destroyCache(),t.SessionService.cleanChallenge(),t.EnvironmentService.isNative()&&t.InsightsSessionService.deleteSession(),a&&(t.SessionService.hasConfirmedBasicInfo=!1),t.SessionService.saveSession().finally((function(){if(t.EventBusService.publish(t.appStateConstants.APPLICATION_LOGOUT),e)if(t.isNative)t.$state.go(t.stateConstants.LOGIN,{sessionTimeOut:n},{reload:!0,custom:{noReturnTo:!0}});else{var i=t.LocaleService.localeDisplay.toLowerCase();window.location="/"+i+"/logout"}}))}))}},{key:"_clearSessionSubmit",value:function(){this.SessionService.errorMessage=null,this.SessionService.isTimeout=!1}},{key:"_processSession",value:function(){this.SessionService.isAuthenticated()&&this.SessionService.saveSession()}},{key:"_processRequest",value:function(e,t){var n=this,i=this.$q.defer();return e&&this.LoginTimeoutService.invokeTimer(),e(t).then((function(e){n.LoginTimeoutService.revokeTimer(),e&&e.errorMessage?n._processError(e,i):(n._processSession(),i.resolve(n.SessionService.getSession()))})).catch((function(e){n._processError(e,i)})),i.promise}},{key:"_processError",value:function(e,t){this.SessionService.errorMessage=e&&e.errorMessage,t.reject(this.SessionService.getSession())}},{key:"_removeSavedId",value:function(e){var t=this.SessionService.savedUserIds.filter((function(t){return t.rememberMeHash!==e}));if(this.SessionService.savedUserIds.length!==t.length)return this.SessionService.savedUserIds=t,void(this.isNative&&(this.SessionService.savedAuthorizedIds=this.SessionService.savedUserIds));var n=this.SessionService.savedBusinessIds.filter((function(t){return t.rememberMeHash!==e}));this.SessionService.savedBusinessIds.length===n.length?this.SessionService.savedAuthorizedIds=this.SessionService.savedAuthorizedIds.filter((function(t){return t.rememberMeHash!==e})):this.SessionService.savedBusinessIds=n}},{key:"getPassName",value:function(e,t){return this._getExistingNameToRemember(e).then((function(e){return e&&(t.name_to_remember=e),t}),(function(){return t}))}},{key:"_getExistingNameToRemember",value:function(e){return this.SessionService.getSavedUsers().then((function(t){var n=t.remember,i=t.defer,a=t.touch,s=t.fingerprint;if(n&&n.length){var o=t.remember.find((function(t){return t&&t.userhash===e&&t.name_to_remember}));if(o)return o.name_to_remember}var r=[i,a,s].find((function(t){return t&&t.userhash===e&&t.name_to_remember}));return r?r.name_to_remember:null}))}},{key:"saveUserInRememberMeList",value:function(e){if(e&&e.userhash&&e.name_to_remember){var t=this.SessionService.savedUserIds.find((function(t){return t.userHash===e.userhash}));t?t.rememberMeHash=e.remember_me_hash:this.SessionService.savedUserIds.unshift({userHash:e.userhash,rememberMeHash:e.remember_me_hash,nameToRemember:e.name_to_remember}),this.SessionService.saveSession()}}},{key:"base",get:function(){return this.EnvironmentService.getAPIUrl()+"/web"}}]),e}();r.$inject=["$q","$state","$cookies","$log","SessionService","LoginService","EnvironmentService","LocaleService","stateConstants","EventBusService","appStateConstants","InsightsSessionService","LoginTimeoutService"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s){(0,i.default)(this,e),this.$location=t,this.$anchorScroll=n,this.$timeout=a,this.EnvironmentService=s}return(0,a.default)(e,[{key:"scrollToPageContentTop",value:function(){this.$anchorScroll()}},{key:"scrollToPageContainerTop",value:function(e){angular.element("."+e).scrollTop(0)}},{key:"scrollToModalTop",value:function(){this.$timeout((function(){angular.element(".dialog__main-content").scrollTop(0,0),angular.element(".dialog__content").scrollTop(0,0)}),200)}},{key:"scrollToTop",value:function(){this.scroll("scroll-to-top")}},{key:"scroll",value:function(e){this._scroll(e,0)}},{key:"scrollWithOffset",value:function(e){this._scroll(e,this._getOffset())}},{key:"scrollWithAnimation",value:function(e,t,n){angular.element(e).animate({scrollTop:n},{duration:t})}},{key:"_scroll",value:function(e,t){var n=this;this.$timeout((function(){n.$anchorScroll.yOffset=t,n.$anchorScroll(e)}),200)}},{key:"_getOffset",value:function(){return this.isMobile?this.mobileYoffset:this.desktopYoffset}},{key:"isMobile",get:function(){return this.EnvironmentService.isTouchDevice()}},{key:"mobileYoffset",get:function(){return 100}},{key:"desktopYoffset",get:function(){return 150}}]),e}();o.$inject=["$location","$anchorScroll","$timeout","EnvironmentService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"isHoliday",value:function(e){var t=e.localeData();return!!(t._holidays&&t._holidays.indexOf(e.format(t._holidayFormat))>=0)}},{key:"isBusinessDay",value:function(e){return 0!==e.day()&&6!==e.day()&&!this.isHoliday(e)}},{key:"add",value:function(e,t){for(var n=t<0?-1:1,i=Math.abs(t),a=e.clone();i;)a.add(n,"d"),this.isBusinessDay(a)&&(i-=1);return a}},{key:"subtract",value:function(e,t){return this.add(e,-t)}},{key:"nextBusinessDay",value:function(e){for(var t=1,n=e.clone();t<7&&!this.isBusinessDay(n.add(1,"d"));)t+=1;return n}},{key:"prevBusinessDay",value:function(e){for(var t=1,n=e.clone();t<7&&!this.isBusinessDay(n.subtract(1,"d"));)t+=1;return n}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(8)),a=d(n(15)),s=d(n(58)),o=d(n(0)),r=d(n(2)),l=d(n(45)),c=d(n(530)),u=n(555);function d(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t,n,i,a){(0,o.default)(this,e),this.$q=t,this.RequesterService=n,this.serviceConstants=i,this.customerConstants=a}return(0,r.default)(e,[{key:"get",value:function(){var e=this;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_INFO).then((function(t){return e._prepareCustomerObject(t.customer),t}))}},{key:"getCustomerIntendedUseList",value:function(){var e=this;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_INFO_INTENDED_USE_LIST).then((function(t){return e._prepareCustomerObject(t.customer),t}))}},{key:"_prepareCustomerObject",value:function(e){if(e.date_of_birth&&(e.dateOfBirth=(0,l.default)(e.date_of_birth)),e.sin&&(e.sinMasked=e.sin.replace(/^(\d{3})(\d{3})(\d{3})$/,"***-***-$3")),e.phoneNumbers={},e.phone_list){var t=!0,n=!1,i=void 0;try{for(var o,r=(0,s.default)(e.phone_list);!(t=(o=r.next()).done);t=!0){var c=o.value;e.phoneNumbers[c.type]=c,c.preferred&&(e.primaryPhoneType=c.type)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}var u=!0,d=!1,_=void 0;try{for(var E,h=(0,s.default)((0,a.default)(this.customerConstants.API.PHONE_TYPE));!(u=(E=h.next()).done);u=!0){var S=E.value;e.phoneNumbers[S]||(e.phoneNumbers[S]={number:"",type:S})}}catch(e){d=!0,_=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw _}}}if(e.addresses={},e.address_list){var T=!0,p=!1,f=void 0;try{for(var g,A=(0,s.default)(e.address_list);!(T=(g=A.next()).done);T=!0){var v=g.value;e.addresses[v.address_type]=v}}catch(e){p=!0,f=e}finally{try{!T&&A.return&&A.return()}finally{if(p)throw f}}}}},{key:"getOnboardingDocListFlag",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_INFO_DOC_LIST)}},{key:"update",value:function(e){var t=this,n=angular.copy(e),i={};i.phone_list=n.phone_list,n.address_list&&(i.address_list=n.address_list),i.title=n.title,i.first_name=n.first_name,i.last_name=n.last_name,n.email&&(i.email=n.email),i.employment_status=n.employment_status,i.occupation=n.occupation,n.address_list&&n.address_list.length&&n.address_list.forEach((function(e){e.street_number&&(e.address_line1=e.street_number+" "+e.address_line1,e.street_number=void 0)})),n.employer&&n.employer.company_name&&(i.employer=n.employer),n.employer&&n.employer.company_address&&(i.employer||(i.employer={}),i.employer.company_address=n.employer.company_address),n.sin&&!n.sin.match(/\*\*\*/)&&(i.sin=n.sin);var a=!1;return i.phone_list&&n.phone_list.length&&(i.phone_list.forEach((function(e){e.number=e.number.replace(/\D/g,""),n.primaryPhoneType!==e.type&&n.primaryPhoneType?delete e.preferred:a||(e.preferred=!0,a=!0)})),1===i.phone_list.length&&(i.phone_list[0].preferred=!0)),n.confirm_event&&(i.confirm_event=n.confirm_event,n.birth_date&&(i.date_of_birth=(0,l.default)(n.birth_date).format("YYYY-MM-DD"))),n.view_confirm_event&&(i.view_confirm_event=n.view_confirm_event),n.intended_use_list&&(i.intended_use_list=n.intended_use_list),n.business_countries&&(i.business_countries=n.business_countries),n.missing_business_director&&(i.missing_business_director=!0),n.missing_business_beneficial_owner&&(i.missing_business_beneficial_owner=!0),n.directors&&(i.directors=n.directors),n.beneficial_owners&&(i.beneficial_owners=n.beneficial_owners),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_INFO,{data:{customer:i}}).then((function(e){if(e.response_status.status_code===t.serviceConstants.STATUS_CODES.SUCCESS)return e;var n=(0,c.default)(e);throw angular.extend(e,{customer:{errors:n}}),e}))}},{key:"getCustomer",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_INFO).then((function(e){var t=(0,u.mapPhoneAndAddresses)(e.customer);return t.dateOfBirth=(0,l.default)(e.customer.date_of_birth),(0,i.default)(e,{customer:t})}))}},{key:"migrateCustomer",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.MIGRATE_CUSTOMER,{data:{products:e}})}}]),e}();_.$inject=["$q","RequesterService","serviceConstants","customerConstants"],t.default=_,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$rootScope=t}return(0,a.default)(e,[{key:"subscribe",value:function(e,t,n){var i=this.$rootScope.$on(t,n);return e.$on("$destroy",i),i}},{key:"publish",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$rootScope.$emit(e,t)}}]),e}();o.$inject=["$rootScope"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(58)),a=l(n(39)),s=l(n(15)),o=l(n(0)),r=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,i,a,s,r,l,c,u,d,_,E,h,S,T,p,f,g,A,v,C,m,I){(0,o.default)(this,e),this.$log=t,this.$rootScope=n,this.SessionService=c,this.UserService=d,this.$state=u,this.menuConstants=r,this.loginConstants=l,this.currentMenu={},this.$window=s,this.GlobalModalsService=_,this.EnvironmentService=E,this.EventBusService=h,this.AuthService=S,this.LocaleService=p,this.stateConstants=T,this.$interpolate=i,this.$translate=a,this.KYCPendingService=f,this.UrlService=g,this.userConstants=A,this.isFirstTimeUser=!1,this.storageConstants=v,this.StorageService=C,this.ConfirmWindowUnloadService=m,this.$q=I,this.init()}return(0,r.default)(e,[{key:"init",value:function(){var e=this;this.EventBusService.subscribe(this.$rootScope,this.loginConstants.LOGIN_EVENTS.SUCCESSFUL_LOGIN,(function(t,n){n.action===e.loginConstants.LOGIN_ACTIONS.SHOW_FIRST_TIME_USER?e.isFirstTimeUser=n.data:e.isFirstTimeUser=!1})),this.EventBusService.subscribe(this.$rootScope,this.userConstants.EVENTS.USER_CAPABILITIES_UPDATED,(function(t,n){e.EventBusService.publish(e.menuConstants.EVENTS.SETUP)}))}},{key:"getPrimaryMenuItems",value:function(){var e=this.menuConstants,t=e.menuConfig[e.MENU_TYPES.PRIMARY].default.items;return t=this.SessionService.isAuthenticated()?this._pruneVisitorItems(t):this._pruneAuthItems(t)}},{key:"getMenuItems",value:function(e){var t=this._pruneItemsByPlatform(this.getMenuObjByType(e).items);return this.SessionService.isAuthenticated()?(t=this._pruneVisitorItems(t),t=this._pruneItemsBasedOnKycStatus(t),t=this._pruneItemsBasedOnCapabilities(t),t=this._pruneItemsBasedOnFirstTimeEnrollment(t,e),t=this._pruneBusinessItems(t)):t=this._pruneAuthItems(t),t}},{key:"getMenuObjByType",value:function(e){var t=this,n={};if(!this.menuConstants.menuConfig[e])return n;var i=this.menuConstants.menuConfig[e];return(0,s.default)(i).forEach((function(e){var a=i[e];a.availableOn?a.availableOn.some((function(e){return!!t.$state.includes(e)||t.$state.current.parent===e}))&&(n=a):n=a})),n}},{key:"handleMenuInteraction",value:function(e,t){var n=this;switch(e){case this.menuConstants.LINK_TYPES.ROUTE:this.$state.go(t);break;case this.menuConstants.LINK_TYPES.EXTERNAL_LINK:this.$window.open(this.UrlService.fixRelativeLink(t),this.EnvironmentService.isNative()?"_system":void 0);break;case this.menuConstants.LINK_TYPES.INTERNAL_LINK:this.ConfirmWindowUnloadService.warnOnLinkTransitions().then((function(){n._handleInternalLink(t)}));break;case this.menuConstants.LINK_TYPES.METHOD:this._handleActionMethods(t)}}},{key:"handleGoHome",value:function(){var e=this;this.EnvironmentService.isNative()?this.$state.go(this.stateConstants.ACCOUNT_SUMMARY):this.ConfirmWindowUnloadService.warnOnLinkTransitions().then((function(){e.$window.location=e._interpolate("/{{locale}}")}))}},{key:"_handleInternalLink",value:function(e){var t=this._interpolate(e);if(this.EnvironmentService.isNative()){var n=this.UrlService.fixRelativeLink(t);this.$window.open(n,"_system")}else this.$window.location=t}},{key:"_pruneAuthItems",value:function(e){return e.length>0?e.slice().filter((function(e){return!1===e.authRequired})):[]}},{key:"_pruneVisitorItems",value:function(e){return e.length>0?e.slice().filter((function(e){return!0!==e.visitorOnly})):[]}},{key:"_pruneItemsByPlatform",value:function(e){var t=this;return!angular.isDefined(e)||e.length<1?[]:this.EnvironmentService.isNative()?e.filter((function(e){return!0!==e.onlyWeb})).map((function(e){return"object"===(0,a.default)(e.displayName)&&(t.EnvironmentService.isAndroid()?e.displayName=e.displayName.android:e.displayName=e.displayName.apple),e})):e.filter((function(e){return!0!==e.onlyNative}))}},{key:"_pruneItemsBasedOnCapabilities",value:function(e){var t=this;if(!angular.isDefined(e)||e.length<1)return[];if(this.UserService.userCapabilities){var n=[];return e.slice().forEach((function(e){if(e.hideForCapabilities){var a=!0,s=!1,o=void 0;try{for(var r,l=(0,i.default)(e.hideForCapabilities);!(a=(r=l.next()).done);a=!0){var c=r.value;if(t.UserService.userCapabilities.indexOf(c)>-1)return}}catch(e){s=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}}if(0===e.capabilities.length)n.push(e);else{var u=!0,d=!1,_=void 0;try{for(var E,h=(0,i.default)(e.capabilities);!(u=(E=h.next()).done);u=!0){var S=E.value;if(t.UserService.userCapabilities.indexOf(S)>-1){n.push(e);break}}}catch(e){d=!0,_=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw _}}}})),n}return[]}},{key:"_pruneItemsBasedOnKycStatus",value:function(e){if(!angular.isDefined(e)||e.length<1)return[];if(this.UserService.userCapabilities){var t=[],n=e.slice(),i=this.KYCPendingService.checkCapabilities(this.UserService.userCapabilities);return n.forEach((function(e){(!e.onlyKycComplete||e.onlyKycComplete&&!i)&&t.push(e)})),t}return e}},{key:"_pruneItemsBasedOnFirstTimeEnrollment",value:function(e,t){return!angular.isDefined(e)||e.length<1?[]:t===this.menuConstants.MENU_TYPES.SECONDARY&&this.isFirstTimeUser?[]:e}},{key:"_pruneBusinessItems",value:function(e){var t=this;return!angular.isDefined(e)||e.length<1?[]:e.filter((function(e){return!e.onlyPersonal||!t.SessionService.isBusiness}))}},{key:"_handleActionMethods",value:function(e){var t=this;switch(e){case this.menuConstants.ACTION_METHODS.OPEN_MOVE_MONEY:this.GlobalModalsService.showMoveMoney();break;case this.menuConstants.ACTION_METHODS.OPEN_BILL_PAY:this.GlobalModalsService.showPayBillV2();break;case this.menuConstants.ACTION_METHODS.OPEN_RDC:this.GlobalModalsService.showRDC();break;case this.menuConstants.ACTION_METHODS.OPEN_EMT:this.GlobalModalsService.showEtransfer();break;case this.menuConstants.ACTION_METHODS.OPEN_ETRANSFER:this.GlobalModalsService.showEMT();break;case this.menuConstants.ACTION_METHODS.OPEN_ASP:this.GlobalModalsService.showASP();break;case this.menuConstants.ACTION_METHODS.OPEN_DDF:this.GlobalModalsService.showDirectDepositForm();break;case this.menuConstants.ACTION_METHODS.LOGOUT:this.ConfirmWindowUnloadService.warnOnLinkTransitions().then((function(){t.logout()}));break;case this.menuConstants.ACTION_METHODS.GO_TO_BLOG:this.ConfirmWindowUnloadService.warnOnLinkTransitions().then((function(){var e=t.$translate.instant("global.menu.header.blogLink");t.EnvironmentService.isNative()?t.$window.open(t.UrlService.fixRelativeLink(e),"_system"):t.$window.location=e}))}}},{key:"logout",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.AuthService.logout(e)}},{key:"_interpolate",value:function(e){return this.$interpolate(e)({locale:this.LocaleService.localeDisplay.toLowerCase()})}},{key:"subscribe",value:function(e,t){this.EventBusService.subscribe(e,this.menuConstants.EVENTS.SETUP,t),this.EventBusService.subscribe(e,"$stateChangeSuccess",t)}}]),e}();c.$inject=["$log","$rootScope","$interpolate","$translate","$window","menuConstants","loginConstants","SessionService","$state","UserService","GlobalModalsService","EnvironmentService","EventBusService","AuthService","stateConstants","LocaleService","KYCPendingService","UrlService","userConstants","storageConstants","StorageService","ConfirmWindowUnloadService","$q"],t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.RequesterService=t,this.serviceConstants=n}return(0,a.default)(e,[{key:"getNewMessageCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={urlVars:{queryString:"channel="+e+"&unread-count=true"}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.INBOX_NEW_MESSAGE_COUNT,t)}},{key:"getAllMessages",value:function(e,t,n){var i={urlVars:{queryString:"channel="+n+"&start-item="+e+"&count="+t}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.INBOX_ALL_MESSAGES,i)}},{key:"getSingleMessage",value:function(e){var t={urlVars:{id:e}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.INBOX_SINGLE_MESSAGE,t)}},{key:"setMessageStatus",value:function(e,t,n,i){var a={data:{message_ids:e,status:t,channel:i,select_all_with_exclusions:!0===n}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.INBOX_UPDATE_STATUS,a)}}]),e}();o.$inject=["RequesterService","serviceConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.$log=t,this.EventBusService=n,this.globalModalsConstants=a,this.eNotificationConstants=o,this.moveMoneyConstants=s,this.lastModalClosed=""}return(0,a.default)(e,[{key:"showModalFromState",value:function(e,t){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{state:e,params:t})}},{key:"showDoubleSafeModal",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.SHOW_DOUBLE_SAFE_MODAL})}},{key:"showMoveMoney",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.MOVE_MONEY})}},{key:"showMoveMoneyCCFullPay",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.MOVE_MONEY_CC,account:e})}},{key:"showMoveMoneySelectedAccount",value:function(e,t){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.MOVE_MONEY_SELECTED_ACCOUNT,account:e,modalType:t})}},{key:"showMoveMoneyEdit",value:function(e){e.frequency&&"string"==typeof e.frequency&&(e.frequency=e.frequency.toUpperCase()),this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.MOVE_MONEY_EDIT,transaction:e})}},{key:"showEmtReclaim",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.EMT_RECLAIM,emt:e})}},{key:"showBeneficiaries",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.BENEFICIARIES_MODAL,params:e})}},{key:"showMagicSwitch",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.MAGIC_SWITCH_MODAL,params:e})}},{key:"showUpdateEmailModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.UPDATE_EMAIL_MODAL,params:e})}},{key:"showMakeInitialDepositModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.MAKE_INITIAL_DEPOSIT_MODAL,params:e})}},{key:"showRDC",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.RDC})}},{key:"showEMT",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.EMT,params:e})}},{key:"showEtransfer",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.SEND_ETRANSFER_MODAL,params:e})}},{key:"showOtherCommunications",value:function(e,t,n,i){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.OTHER_COMMUNICATIONS,userData:e,accounts:t,capabilities:n,behaviors:i})}},{key:"showPendingApplications",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.PENDING_APPLICATIONS})}},{key:"showRewardsModal",value:function(e,t){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.REWARDS,currentStep:e,modalObj:t})}},{key:"showGicMaturityOptionsModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.GIC_MATURITY_OPTIONS,modalObj:e})}},{key:"showPayBill",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.PAY_BILL})}},{key:"showPayBillV2",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.PAY_BILL_V2})}},{key:"showAddBillerV2",value:function(){return this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.ADD_BILLER_V2})}},{key:"showAddBill",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.ADD_BILL})}},{key:"showASP",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.ASP})}},{key:"showDirectDepositForm",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.DIRECT_DEPOSIT_FORM})}},{key:"showUncategorizedTransactions",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.UNCATEGORIZED_TRANSACTIONS})}},{key:"showUnconfirmedTransactions",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.UNCONFIRMED_TRANSACTIONS})}},{key:"showMobileStepUp",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.MOBILE_STEP_UP})}},{key:"showDocumentProofInstruction",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.DOCUMENT_PROOF_INSTRUCTION,content:e})}},{key:"showDocumentProofUpload",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.DOCUMENT_PROOF_UPLOAD,content:e})}},{key:"showCSAConversion",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.CSA_CONVERSION,dealId:e})}},{key:"showENotification",value:function(e,t,n,i){this.$log.log("showENotification:",e);var a={};return a=n?{template_id:e.template_id,template_data:e.template_data}:"AML_MISSING_INFO"===e.roadblock_subtype?{template_id:"AML_MISSING_INFO",template_data:e.roadblock_data}:this.eNotificationConstants.ROADBLOCK_TYPE[e.roadblock_type]?this._getHighestPriorityTemplate(e.roadblock_data):{template_id:this.eNotificationConstants.CATCH_ALL,template_data:e.roadblock_data},this.$log.log("eNotification template:",a),this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.E_NOTIFICATION,roadblockType:e.roadblock_type,roadblockData:e.roadblock_data,templateId:a.template_id,data:a.template_data,highRiskClient:t,nextState:i.state,nextStateParams:i.params})}},{key:"showOverdraftChangeLimitModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.OVERDRAFT_CHANGE_LIMIT,accountDetails:e})}},{key:"showOverdraftProtectionApplyInfoModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.OVERDRAFT_PROTECTION_APPLY,accountDetails:e})}},{key:"showOverdraftConsentModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.OVERDRAFT_CONSENT_MODAL,accountDetails:e})}},{key:"showRifSummaryModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.RIF_SUMMARY_MODAL,accountNumber:e})}},{key:"showCreditCardBalanceTransfer",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.CREDIT_CARD_BALANCE_TRANSFER,accountDetails:e})}},{key:"showCreditLimitChange",value:function(e,t,n){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.CREDIT_LIMIT_CHANGE,accountDetails:e,startingState:t,campaign:n})}},{key:"showGoalModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.GOALS,transientGoalData:e})}},{key:"showAggregatedAccountModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.ACCOUNT_AGGREGATION,cardTileAccounts:e})}},{key:"showHoldsModal",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.HOLDS})}},{key:"showDonationHistory",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.DONATIONS,flags:{showHistory:!0}})}},{key:"showAccountContributionDetails",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.ACCOUNT_CONTRIBUTION_DETAILS_MODAL,content:e})}},{key:"showDebitCardReplacementModal",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.DEBIT_CARD_REPLACEMENT})}},{key:"showJointInviteManager",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.JOINT_INVITE_MANAGER,content:e})}},{key:"showKYCRoadblockModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.KYC_ROADBLOCK_MODAL,content:e})}},{key:"showAccountAggregationModal",value:function(e,t,n){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.ACCOUNT_AGGREGATION,cardTileAccounts:e,aaBasket:t,caller:n})}},{key:"_getHighestPriorityTemplate",value:function(e){return e.reduce((function(e,t){return e.priority<t.priority?e:t}))}},{key:"closeAllModals",value:function(){this.EventBusService.publish(this.globalModalsConstants.EVENTS.CLOSE_MODALS)}},{key:"closeModal",value:function(e){this.EventBusService.publish(this.globalModalsConstants.EVENTS.CLOSE_MODALS,e)}},{key:"subscribe",value:function(e,t){this.EventBusService.subscribe(e,this.globalModalsConstants.EVENTS.SHOW_MODAL,t)}},{key:"subscribeToClose",value:function(e,t){this.EventBusService.subscribe(e,this.globalModalsConstants.EVENTS.CLOSE_MODALS,t)}},{key:"showAMLRemediationMissingInfoRoadblock",value:function(e,t,n){this.$log.log(" showAMLRemediationMissingInfoRoadblock:",e);var i={template_id:"AML_MISSING_INFO",template_data:e.roadblock_data};return this.$log.log("eNotification template:",i),this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.E_NOTIFICATION,roadblockType:e.roadblock_type,roadblockData:e.roadblock_data,templateId:i.template_id,data:i.template_data,highRiskClient:t,amlEventInProgressFlow:n})}},{key:"showAMLConfirmInfo",value:function(e,t,n,i,a,s){return this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.AML_CONFIRM_INFO,customer:e,isBusiness:t,showCancelButton:n,eventType:i,showSin:a,isEmployerAddressMandatory:s})}},{key:"showCreditCardConversionModal",value:function(e,t,n){this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.CREDIT_CARD_CONVERSION,accountDetails:e,startingState:t,campaign:n})}},{key:"showManualReviewTlocApplication",value:function(e){return this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.MANUAL_REVIEW_TLOC_APPLICATION_MODAL,application:e})}},{key:"showTlocVerifyMethodModal",value:function(e){return this.EventBusService.publish(this.globalModalsConstants.EVENTS.SHOW_MODAL,{modal:this.globalModalsConstants.AVAILABLE_MODALS.TLOC_APP_VERIFY_METHOD_MODAL,instruction:e})}}]),e}();o.$inject=["$log","EventBusService","globalModalsConstants","moveMoneyConstants","eNotificationConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(15)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o){(0,a.default)(this,e),this.CURRENCY_TYPES=t.CURRENCY_TYPES,this.UrlService=n,this.URL=i.URLS.RATES,this.UrlService=n,this.$translate=s,this.translated={},this.$log=o,this._currentLocale=void 0}return(0,s.default)(e,[{key:"isCanadian",value:function(e){return e===this.CURRENCY_TYPES.CAD}},{key:"initialize",value:function(){var e=this,t=[this.CURRENCY_TYPES.CAD,this.CURRENCY_TYPES.USD];0===(0,i.default)(this.translated).length&&t.forEach((function(t){e.translated[t]=e.$translate.instant("global.currencies."+t)}))}},{key:"translateCurrency",value:function(e){0===(0,i.default)(this.translated).length&&this.initialize(),e&&"string"==typeof e||(e=this.CURRENCY_TYPES.CAD);var t=this.translated[e];return t||(t=this.translated[this.CURRENCY_TYPES.CAD]),t}},{key:"ratesURL",value:function(){var e=this.URL.replace("{{langCode}}",this._currentLocale);return e=this.UrlService.fixRelativeLink(e)}},{key:"currentLocale",set:function(e){e&&"string"==typeof e&&(this._currentLocale=e.toLowerCase())}}]),e}();r.$inject=["AccountConstants","UrlService","ratesConstants","$translate","$log"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(49)),a=l(n(198)),s=l(n(39)),o=l(n(0)),r=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,i,a){(0,o.default)(this,e),this.$log=t,this.$http=n,this.buildConstants=i,this.EnvironmentSwitchService=a,this._config=this.EnvironmentSwitchService.getCurrentConfig(),this._isMock=i.MOCK_ENV,this._isNative="object"===("undefined"==typeof WL?"undefined":(0,s.default)(WL)),this._isMFPSimulator=this._isNative&&WL.StaticAppProps&&"preview"===WL.StaticAppProps.ENVIRONMENT,this._platformInfo=this._getPlatformInfo(),this.ROOT_PATH="/assets/environments",this.ENV_SESSION_KEY="savedEnv",this._isCafeApp=!1,this._isMock&&this.$log.debug("-- running on Mock API -- "),this._genesysUrl=this.getGenesysAPIUrl()}return(0,r.default)(e,[{key:"get",value:function(e){return this._config[e]}},{key:"isEnabled",value:function(e){return!0==!!this.get(e)}},{key:"getGoogleMapKey",value:function(){return this._isNative?this.isIOS()?this._config.googleMapKeyIOS:this.isAndroid?this._config.googleMapKeyAndroid:(this.$log.error("Could not determine current environment for Google Map Key, use Web key"),this._config.googleMapKeyWeb):this._config.googleMapKeyWeb}},{key:"getAPIUrl",value:function(){return this.get("apiUrl")}},{key:"getBaseUrl",value:function(){return this.get("marketingResourcesUrl")}},{key:"getSignMeUpPath",value:function(){return this.get("signMeUpPath")}},{key:"getFileUploadUrl",value:function(){return this.get("fileUploadUrl")}},{key:"getFileUploadTimeout",value:function(){return this.get("fileUploadTimeout")||1e3}},{key:"isCafeApp",value:function(){return this._isCafeApp}},{key:"getGenesysAPIUrl",value:function(){return this._genesysUrl?this._genesysUrl:this.get("genesys").chat.real?this.get("genesys").chat.real:this.get("genesys").chat}},{key:"getGenesysAvailableAPIUrls",value:function(){return this.get("genesys").chat}},{key:"setGenesysAPIUrl",value:function(e){this._genesysUrl=e}},{key:"getSiteSearchAPIUrl",value:function(){return this.get("siteSearch")}},{key:"isNative",value:function(){return this._isNative}},{key:"isMFPSimulator",value:function(){return this._isMFPSimulator}},{key:"isMock",value:function(){return this._isMock}},{key:"switchEnvironment",value:function(e){var t=this;return this.EnvironmentSwitchService.switchEnvironment(e).then((function(){t._config=t.EnvironmentSwitchService.getCurrentConfig()}))}},{key:"getAvailableEnvironments",value:function(){return this.EnvironmentSwitchService.getAvailableEnvironments()}},{key:"getCurrentEnvironment",value:function(){return this.EnvironmentSwitchService.getCurrentEnvironment()}},{key:"getAvailableGenesysEnvironments",value:function(){return this.getGenesysAvailableAPIUrls()}},{key:"getCurrentGenesysEnvironment",value:function(){return this.getGenesysAPIUrl()}},{key:"isPortrait",value:function(){return 0===window.orientation||180===window.orientation}},{key:"isLandscape",value:function(){return!this.isPortrait()}},{key:"getOrientation",value:function(){return this.isPortrait()?"portrait":"landscape"}},{key:"isTouchDevice",value:function(){return this._platformInfo&&this._platformInfo.isTouchDevice}},{key:"isEdge",value:function(){return this._platformInfo&&"Edge"===this._platformInfo.layoutEngine}},{key:"isWebKit",value:function(){return this._platformInfo&&("Chromium"===this._platformInfo.layoutEngine||"WebKit"===this._platformInfo.layoutEngine||"Edge"===this._platformInfo.layoutEngine)}},{key:"isChromium",value:function(){return this._platformInfo&&"Chromium"===this._platformInfo.layoutEngine}},{key:"isAndroid",value:function(){return this._platformInfo&&"Android"===this._platformInfo.platform}},{key:"isIOS",value:function(){return this._platformInfo&&"iOS"===this._platformInfo.platform}},{key:"isNativeIOS",value:function(){return this.isIOS()&&this.isNative()}},{key:"isMobile",value:function(){return this.isPhone()||this.isTablet()}},{key:"isBlackBerry",value:function(){return this._platformInfo&&"BlackBerry"===this._platformInfo.platform}},{key:"isBB10",value:function(){return this._platformInfo&&"BB10"===this._platformInfo.platform}},{key:"isSafari",value:function(){var e=navigator.userAgent;return!this._isNative&&(e.indexOf("iPhone")>=0||e.indexOf("iPad")>=0||e.indexOf("iPod")>=0||e.indexOf("Mac")>=0)&&!!e.match(/Version\/[\d.]+.*Safari/)}},{key:"isIE",value:function(){return this._platformInfo&&("IE"===this._platformInfo.platform||"IEWL"===this._platformInfo.platform)}},{key:"isIEWL",value:function(){return this._platformInfo&&"IEWL"===this._platformInfo.platform}},{key:"isFF",value:function(){return this._platformInfo&&"FF"===this._platformInfo.platform}},{key:"isPhone",value:function(){return this._platformInfo&&"phone"===this._platformInfo.formFactor}},{key:"isTablet",value:function(){return!!this.isIpad()||!this.isIphone()&&!this.isIpod()&&(this._platformInfo&&"tablet"===this._platformInfo.formFactor)}},{key:"isIpad",value:function(){return this.isNativeIOS()&&null!=this.getDeviceModel()&&this.getDeviceModel().indexOf("iPad")>=0}},{key:"isIphone",value:function(){return this.isNativeIOS()&&null!=this.getDeviceModel()&&this.getDeviceModel().indexOf("iPhone")>=0}},{key:"isIpod",value:function(){return this.isNativeIOS()&&null!=this.getDeviceModel()&&this.getDeviceModel().indexOf("iPod")>=0}},{key:"isSamsungGalaxy",value:function(){return this._platformInfo&&"SamsungGalaxy"===this._platformInfo.model}},{key:"isClickDelayed",value:function(){return this.isTouchDevice()&&(!this.isChromium()||this.getLayoutEngineVersionNumber()<32)}},{key:"getPlatformVersion",value:function(){return this._platformInfo&&this._platformInfo.version}},{key:"getPlatformVersionNumber",value:function(){return this._platformInfo&&this._platformInfo.version&&this._platformInfo.version.versionNumber}},{key:"getLayoutEngineVersion",value:function(){return this._platformInfo&&this._platformInfo.layoutEngineVersion}},{key:"getLayoutEngineVersionNumber",value:function(){return this._platformInfo&&this._platformInfo.layoutEngineVersion&&this._platformInfo.layoutEngineVersion.versionNumber}},{key:"getDevicePrint",value:function(){var e=this;return new a.default((function(t,n){e.isNative()&&WL.Device.getId((function(e){t(e.deviceId)}),(function(){n()})),t(encode_deviceprint())}))}},{key:"getDeviceModel",value:function(){return window.device&&window.device.model||"Unknown"}},{key:"getEsignLiveUrl",value:function(){return this.get("esignLive").pdfUrl}},{key:"_getVersion",value:function(e,t){var n=[];e.split(t).every((function(e){return n.push(parseInt(e)),!0}));var i="";return n.length>0&&(i=parseFloat(n[0].toString()+(n.length>1?"."+n[1]:""))),{versionString:e,versionArray:n,versionNumber:i}}},{key:"_getPlatformInfo",value:function(){var e=navigator.userAgent,t={};if(this.$log.debug("User Agent String is",e),t.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,e.indexOf("Edge")>=0){t.layoutEngine="Edge";var n=/Edge\/((\d+\.)+\d+)/.exec(e);t.layoutEngineVersion=this._getVersion(n[1],".")}else if(e.indexOf("Chrome")>=0){t.layoutEngine="Chromium";var i=/Chrome\/((\d+\.)+\d+)/.exec(e);t.layoutEngineVersion=this._getVersion(i[1],".")}else if(e.indexOf("AppleWebKit")>=0){t.layoutEngine="WebKit";var a=/AppleWebKit\/((\d+\.)+\d+)/.exec(e),o=/Version\/((\d+\.)+\d+)/.exec(e);t.layoutEngineVersion=this._getVersion(a[1],"."),o&&(t.version=this._getVersion(o[1],".")),t.platform="Safari"}if(e.indexOf("Android")>=0){var r=/Android\s+([\d+\.]+)/.exec(e);t.platform="Android",t.version=this._getVersion(r[1],"."),e.search(/ (GT|SHV|SGH|SCH|SPH|SM)-[\d\w]+ Build/)>=0&&(t.model="SamsungGalaxy")}else if(e.indexOf("iPhone")>=0||e.indexOf("iPad")>=0){var l=/OS\s+((\d+_)+\d+)/.exec(e);t.platform="iOS",t.version=this._getVersion(l[1],"_"),t.model=e.indexOf("iPad")>=0?"iPad":"iPhone"}else if(e.indexOf("BB10;")>=0){var c=/Version\/(\d+(\.\d+)*)/.exec(e);t.platform="BB10",t.version=this._getVersion(c[1],".")}else if(e.indexOf("BlackBerry;")>=0){var u=/Version\/(\d+(\.\d+)*)/.exec(e);t.platform="BlackBerry",t.version=this._getVersion(u[1],".")}else if(e.indexOf("Trident")>=0){t.platform="IE","object"===("undefined"==typeof WL?"undefined":(0,s.default)(WL))&&WL.Client.getEnvironment()===WL.Environment.WINDOWS8&&(t.platform="IEWL");var d=/MSIE\s+([\d+\.]+)/.exec(e);d||(d=/rv:([\d+\.]+)/.exec(e)),d&&(t.version=this._getVersion(d[1],"."))}else e.indexOf("Firefox")>=0&&(t.platform="FF");return t.formFactor=this._getFormFactor(),t}},{key:"_getFormFactor",value:function(e){var t=e?e():this._getDeviceDimension(),n="desktop";return t<768?n="phone":t<980&&(n="tablet"),n}},{key:"_getDeviceDimension",value:function(){return this._isNative?window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight:window.innerWidth<window.innerHeight?window.innerHeight:window.innerWidth}},{key:"getFormFactorRealTime",value:function(){var e=this;return this._getFormFactor((function(){return e._isNative?window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight:(e.$log.debug("window.innerWidth="+window.innerWidth),window.innerWidth)}))}},{key:"getWindowSize",value:function(){return this._isNative?window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight:(this.$log.debug("window.innerWidth="+window.innerWidth),window.innerWidth)}},{key:"isPhoneOrTableWindowSize",value:function(){var e=this._getFormFactor();return"phone"===e||"tablet"===e}},{key:"isPhoneWindowSize",value:function(){return window.innerWidth<640}},{key:"isMobileViewSize",value:function(){return window.innerWidth<980}},{key:"isTabletViewSize",value:function(){return window.innerWidth<768}},{key:"getIovationConfig",value:function(){return this.get("iovation")}},{key:"getPlaidConfig",value:function(){return this.get("plaid")}},{key:"getApplicationEnvironment",value:function(){return this.buildConstants.APP_ENV||"NOT_SET"}},{key:"isInDevPod",value:function(){return this.buildConstants.IN_DEV_POD}},{key:"getPodHostName",value:function(){return this.buildConstants.POD_HOSTNAME||"NOT_SET"}},{key:"getConfigText",value:function(){return"Serving from ["+this.getPodHostName()+"] with configs:\n      "+(0,i.default)(this.buildConstants.CONFIG)}}]),e}();c.$inject=["$log","$http","buildConstants","EnvironmentSwitchService"],t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(49)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s){(0,a.default)(this,e),this.$q=t,this.$log=n,this.$http=i,this.buildConstants=s,this._isNative="undefined"!=typeof WL,this.ROOT_PATH="assets/environments",this.ENV_SESSION_KEY="savedEnvKey",this.ENV_SESSION_CONFIG="savedEnvConfig"}return(0,s.default)(e,[{key:"switchEnvironment",value:function(e){var t=this;return this.$http({method:"get",url:this.ROOT_PATH+"/"+e+".json"}).then((function(n){t._setConfig(e,n.data)})).catch((function(){var n="API Configuration for '"+e+"' was not found";throw t.$log.warn(n),n}))}},{key:"getAvailableEnvironments",value:function(){return this.buildConstants.AVAILABLE_ENVIRONMENTS}},{key:"getCurrentConfig",value:function(){if(this._config)return this._config;if(this._canSwitch()||this._isDynamiceEnvironment()){var e=localStorage.getItem(this.ENV_SESSION_CONFIG);if(e)return JSON.parse(e)}return this.buildConstants.CONFIG}},{key:"getCurrentEnvironment",value:function(){return this._env?this._env:localStorage.getItem(this.ENV_SESSION_KEY)||this.buildConstants.DEFAULT_ENVIRONMENT}},{key:"_setConfig",value:function(e,t){this._env=e,this._config=t,localStorage.setItem(this.ENV_SESSION_KEY,e),localStorage.setItem(this.ENV_SESSION_CONFIG,(0,i.default)(this._config));var n=t&&t.mfpServerUrl;this._isNative&&n&&WL.App.setServerUrl(n),window.appEnvironment=e}},{key:"_canSwitch",value:function(){return this.buildConstants.AVAILABLE_ENVIRONMENTS.length>0}},{key:"_isDynamiceEnvironment",value:function(){return this.buildConstants.DYNAMIC_ENV}}]),e}();r.$inject=["$q","$log","$http","buildConstants"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(0)),a=u(n(2)),s=u(n(529)),o=u(n(1213)),r=u(n(271)),l=u(n(143)),c=u(n(369));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n,a,s,o,r,l){var u=this;(0,i.default)(this,e),this.$rootScope=t,this.$window=n,this.$log=a,this.$timeout=l,this.EnvironmentService=s,this.backButtonConstants=o,this.stateConstants=r,this.onBackButtonListeners=[],this.debounce=!1,this.EnvironmentService.isNative()&&WL.App.overrideBackButton((function(){if(!u.debounce){u.debounce=!0,u.$timeout((function(){u.debounce=!1}),300);var e=!1;(0,c.default)(u.onBackButtonListeners,(function(t){if(t&&t.callbackFn())return e=!0,u.$rootScope.$apply(),!1})),e||(u.$log.info("Manually invoke browser back"),u.$window.history.back())}}))}return(0,a.default)(e,[{key:"addBackButtonListener",value:function(e,t,n){var i=this;this.$log.info("listener with priority: ",t),this.$log.info("Callback being added",n);var a={priority:t,callbackFn:n};e&&e.$on("$destroy",(function(){i.$log.info("destroying listener",n),i.removeBackButtonListener(n)})),this._addBackButtonListener(a)}},{key:"_addBackButtonListener",value:function(e){if((0,l.default)(this.onBackButtonListeners,(function(t){return t.callbackFn===e.callbackFn})))this.$log.debug("duplicate listener Returning");else if((0,r.default)(this.onBackButtonListeners))this.onBackButtonListeners.push(e);else{var t=(0,o.default)(this.onBackButtonListeners,e,(function(t){return e.priority>=t.priority}));-1===t?this.onBackButtonListeners.push(e):this.onBackButtonListeners.splice(t,0,e)}}},{key:"removeBackButtonListener",value:function(e){this.$log.info("removing listener",e);var t=(0,s.default)(this.onBackButtonListeners,(function(t){return t.callbackFn!==e}));this.$log.info("updated listener list",t),this.onBackButtonListeners=t}}]),e}();d.$inject=["$rootScope","$window","$log","EnvironmentService","backButtonConstants","stateConstants","$timeout"],t.default=d,e.exports=t.default},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.EnvironmentService=t,this.$window=n,this.$document=a,this._isInit=!1}return(0,a.default)(e,[{key:"init",value:function(){var e=this;!this._isInit&&this.EnvironmentService.isNative()&&angular.element(this.$document).on("click",(function(t){for(var n=angular.element(t.target);"a"!==e._nodeName(n[0]);)if(!(n=n.parent())[0])return;var i=n.attr("href");if(i&&0===i.lastIndexOf("http",0)){var a=e.$window.device.platform.toUpperCase();t.preventDefault(),t.stopPropagation(),"IOS"===a?e.$window.open(i,"_system"):"ANDROID"===a&&e.$window.navigator.app.loadUrl(i,{openExternal:!0})}})),this._isInit=!0}},{key:"_nodeName",value:function(e){return angular.lowercase(e.nodeName||e[0]&&e[0].nodeName)}}]),e}();o.$inject=["EnvironmentService","$window","$document"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=o(n(116));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,s,o,r,l){(0,i.default)(this,e),this.$q=t,this.$log=n,this.$translate=a,this.EnvironmentService=s,this.serviceConstants=o,this.AnalyticsService=r,this.analyticsConstants=l,this.transPrefix="global.errorCodes",this._dynaTrace=null,this._native=!1}return(0,a.default)(e,[{key:"processError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],s=this.$q.defer();return this._sendToAnalytics(e,a),this._getError(e).then((function(e){n._sendToDynaTrace(t,i.toString(),e.message),s.resolve(e)})).catch((function(){return s.reject()})),s.promise}},{key:"handleErrors",value:function(e){var t=[];return this.serviceConstants.RESPONSE_ERRORS.ERROR_MESSAGE in e&&t.push(e.errorMessage),e.response_status&&(this.serviceConstants.RESPONSE_ERRORS.DETAILS in e.response_status&&e.response_status.details.forEach((function(e){t.push(e)})),e.response_status.technical_description&&t.push(e.response_status.technical_description),this.serviceConstants.RESPONSE_ERRORS.STATUS_CODE in e.response_status&&e.response_status.status_code===this.serviceConstants.STATUS_CODES.SYSTEM_ERROR&&t.push(this.$translate.instant("global.errorCodes."+e.response_status.return_code))),this.$log.debug("formatted error:",t),t}},{key:"_sendToDynaTrace",value:function(e,t,n){if(!this.EnvironmentService.isMock()){var i=(t||n).toString();if(this._isNative()&&e){var a=this._getDynaTrace();a&&a.reportEvent(i,a.enterAction(e))}this.$log.debug("Reporting Error:",e,i)}}},{key:"_sendToAnalytics",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enable;if(!this.EnvironmentService.isMock()&&n){var i=e.response_status.return_code,a=e.response_status.status_code,o=t.errorData,r=i+"-"+a,l=(0,s.default)(e,"response_status.details");"VALIDATION_ERROR"===a&&l&&l.length>0&&(o=l.reduce((function(e,t,n){return e+"; "+(n+1)+":"+(t.details_code?t.details_code+"-":"")+(t.field_name||"")}),o||"")),this.AnalyticsService.sendAction(this.analyticsConstants.AVAILABLE_EVENTS.ERROR_EVENT,"",{errorCode:r,errorData:o})}}},{key:"_isNative",value:function(){return void 0!==this._native?this._native:(this._native=this.EnvironmentService.isNative(),this._native)}},{key:"_getDynaTrace",value:function(){return this._dynaTrace?this._dynaTrace:(this._isNative()&&(this._dynaTrace=dynaTrace),this._dynaTrace)}},{key:"_getError",value:function(e){var t=this,n=this.$q.defer(),i=e;if(angular.isObject(e))if(i="generic","response_status"in e){var a=e.response_status;angular.isString(a)?i=a:"return_code"in a?i=a.return_code:"status_code"in a&&(i=a.status_code)}else"return_code"in e?i=e.return_code:"status_code"in e&&(i=e.status_code);return this.$translate(this.transPrefix+"."+i).then((function(e){n.resolve({code:i,message:e})})).catch((function(){t.$translate(t.transPrefix+".generic").then((function(e){n.resolve({code:i,message:e})})).catch((function(){return n.reject()}))})),n.promise}}]),e}();r.$inject=["$q","$log","$translate","EnvironmentService","serviceConstants","AnalyticsService","analyticsConstants"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$log=t,this.$q=n,this.$interval=a}return(0,a.default)(e,[{key:"_errorOut",value:function(e,t){return this.$log.error(t),e.reject(),e.promise}},{key:"pollNTimes",value:function(e,t,n,i){var a=this,s=this.$q.defer();if(!this._validateParameters(e,t,n,i,s))return s.promise;var o=null,r=0,l=function(){a.$log.debug("cancelling poller"),a.$log.log("CC-cancelling poller"),o&&(a.$log.log("CC-start calling $interval.cancel"),a.$interval.cancel(o),a.$log.log("CC-done calling $interval.cancel")),o=null};return this.$log.debug("initializing poller"),(o=this.$interval((function(){r+=1,a.$log.debug("polling"),a.$log.log("CC-start polling"),e().then((function(e){a.$log.debug("promise was resolved:",e),a.$log.log("CC-promise was resolved",e),t(e)?(a.$log.log("CC-start calling cancelPoller"),l(),a.$log.log("CC-end calling cancelPoller"),s.resolve(e)):r===n&&(a.$log.log("CC-max polling numTimesPolled=",r),s.reject(e)),a.$log.log("CC-end polling numTimesPolled=",r)})).catch((function(e){a.$log.error("promise was rejected:",e),a.$log.log("CC-promise was rejected:",e),l(),s.reject(e)}))}),i,n)).finally((function(){l()})),s.promise}},{key:"_validateParameters",value:function(e,t,n,i,a){return!n||n<1?(this._errorOut(a,"You must specify a maxNumPolls greater than 0"),!1):!i||i<1e3?(this._errorOut(a,"You must specify a pollIntervalMS greater than 1000"),!1):"function"!=typeof e?(this._errorOut(a,"promiseFn must be a function"),!1):"function"==typeof t||(this._errorOut(a,"successCheckFn must be a function"),!1)}}]),e}();o.$inject=["$log","$q","$interval"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(15)),a=l(n(142)),s=l(n(49)),o=l(n(0)),r=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,i,a,s,r,l,c,u,d,_,E,h,S,T,p){(0,o.default)(this,e),this.$q=t,this.$rootScope=n,this.$injector=i,this.$timeout=a,this.http=s,this.StorageService=r,this.EnvironmentService=l,this.storageConstants=c,this.nativeConstants=u,this.$log=d,this.localeConstants=_,this.MobilePayEnrollmentSessionService=E,this.$state=S,this.stateConstants=h,this.AnalyticsService=T,this.analyticsConstants=p,this._outstandingPromises={},this._deviceType="",this._deviceAlias="",this._deviceId="",this._deviceManufacturer="",this._mfpRequestCount=0,this._certCheckRequestThreshold=this.nativeConstants.CERT_CHECK_THRESHOLD,this._certCheckRequestPromise=void 0,this._certCheckEnabled=this.EnvironmentService.get("trustedCertificateValidation"),this._setDeviceReadyListener()}return(0,r.default)(e,[{key:"signalHybridLoaded",value:function(){return this.nativeCall(this.nativeConstants.CMD_HYBRID_LOADED)}},{key:"verifyWorklightInitialized",value:function(){return this.$rootScope.mfpOnSuccessDeferred.promise}},{key:"validateTrustedCertificate",value:function(){var e=this;if(this.$log.debug("executing cert pinning request check"),this._logValidateCertificateEvent(this.analyticsConstants.AVAILABLE_EVENTS.CERT_CHECK_START),!this._certCheckEnabled)return this._logValidateCertificateEvent(this.analyticsConstants.AVAILABLE_EVENTS.CERT_CHECK_END),this.$q.when();if(this._certCheckRequestPromise)return this._certCheckRequestPromise;var t=this.$q.defer();return(this.EnvironmentService.isMFPSimulator()?this.$q.when():this.nativeCall(this.nativeConstants.CMD_CHECK_TRUSTED_CERTIFICATE)).then((function(e){e&&"error"===e.status?t.reject(e):t.resolve()})).catch((function(e){t.reject(e)})).finally((function(){e._certCheckRequestPromise=void 0,e._logValidateCertificateEvent(e.analyticsConstants.AVAILABLE_EVENTS.CERT_CHECK_END)})),this._certCheckRequestPromise=t.promise,this._certCheckRequestPromise}},{key:"_logValidateCertificateEvent",value:function(e){this.AnalyticsService.sendAction(e,"success")}},{key:"getLocale",value:function(){return this.EnvironmentService.isMFPSimulator()?this.$q.when({locale:this.localeConstants.DEFAULT}):(this.$log.info("fetching locale from device"),this.nativeCall(this.nativeConstants.CMD_GET_LOCALE))}},{key:"_setDeviceReadyListener",value:function(){var e=this;document.addEventListener("deviceready",(function(){WL.App.addActionReceiver("WLActionReceiverService",(function(t){return e._actionReceiver(t)})),e.$rootScope.deviceReady=!0,e.$rootScope.$broadcast("deviceready"),e.$rootScope.$digest()}),!1)}},{key:"getPendingPasses",value:function(e){e&&e.values&&e.values.length&&(this.MobilePayEnrollmentSessionService.setPasses(e.values),this.MobilePayEnrollmentSessionService.setWalletType(e.wallet),this.$state.go(this.stateConstants.MOBILE_PAY,void 0,{location:"replace"}))}},{key:"openHybridUrl",value:function(){this.$state.go(this.stateConstants.INBOX,void 0,{location:"replace"})}},{key:"_actionReceiver",value:function(e){if(this.$log.debug("_actionReceiver: fired with the following param ",(0,s.default)(e)),void 0!==this._outstandingPromises[e.action])e.data&&void 0===e.data.errorCode?this._outstandingPromises[e.action].resolve(e.data):this.$q.reject(!(!e.data||void 0===e.data.errorCode)&&e.data.errorCode),delete this._outstandingPromises[e.action];else{if(e.action===this.nativeConstants.NATIVE_ANALYTICS)return void this.logAnalytics(e.data.feature,e.data.action);if(e.action===this.nativeConstants.errors.MOBILE_PAY_ERROR)return void this._mobilePayErrorHandling(e.data);switch(e.action){case this.nativeConstants.CMD_GET_PASSES_PENDING:this.getPendingPasses(e.data);break;case this.nativeConstants.CMD_OPEN_URL:this.openHybridUrl(e.data);break;default:this.StorageService.handleNativeResponse(e.action,e.data)}}}},{key:"_mobilePayErrorHandling",value:function(e){this.$log.debug("mobile Pay Error handline...data: ",(0,s.default)(e));var t=e&&e.data&&e.data.errorCode,n=e&&e.status;t&&"error"===n?(this.MobilePayEnrollmentSessionService.setError(t),this.$state.go(this.stateConstants.MOBILE_PAY,void 0,{location:"replace"})):this.$log.debug("_mobilePayErrorHandling error not properly handled")}},{key:"openPDF",value:function(e,t){e.documents&&e.documents[0]&&e.documents[0].bytes&&(e.pdf_bytes=e.documents[0].bytes),this.EnvironmentService.isNative()?this.sendActionToNative(this.nativeConstants.OPEN_PDF,e):this._handleDownload(e,t)}},{key:"openPDFURL",value:function(e){var t={url:e};this.sendActionToNative(this.nativeConstants.OPEN_PDF_URL,t)}},{key:"_handleDownload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download.pdf";if(e.pdf_bytes){var n=new Uint8Array((0,a.default)(window.atob(e.pdf_bytes),(function(e){return e.charCodeAt(0)}))),i="application/pdf",s=new Blob([n],{type:i});if(window.navigator.msSaveOrOpenBlob)return window.navigator.msSaveBlob(s,e.file_name||t);var o=window.document.createElement("a");return o.target="_blank",o.href=window.URL.createObjectURL(s),o.download=e.file_name||t,document.body.appendChild(o),this.$timeout((function(){o.click(),document.body.removeChild(o)}))}this.$log.error("_handleDownload: no pdf bytes in response")}},{key:"sendLogoutToNative",value:function(){this.sendActionToNative(this.nativeConstants.CMD_USER_LOGOUT)}},{key:"webviewAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.EnvironmentService.isNativeIOS()){for(var n={webviewAction:e},a=(0,i.default)(t),s=a.length,o=0;o<s;o++){var r=a[o],l=t[r];n[r]=l}this.sendActionToNative(this.nativeConstants.CMD_WEBVIEW_EVENT,n)}}},{key:"sendUpdateBadge",value:function(e){this.EnvironmentService.isIOS()&&this.sendActionToNative(this.nativeConstants.CMD_UPDATE_BADGE,{badgeCount:e})}},{key:"sendAppReview",value:function(){this.EnvironmentService.isNative()&&this.sendActionToNative(this.nativeConstants.CMD_APP_REVIEW)}},{key:"getAppReviewData",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.APP_REVIEW_DATA)}},{key:"setAppReviewData",value:function(e){return this.StorageService.setItem(this.storageConstants.KEYS.APP_REVIEW_DATA,e)}},{key:"isSmoothImageCaptureProcess",value:function(){var e=this;return this.EnvironmentService.isNative()?this.nativeCall(this.nativeConstants.CMD_RDC_STATS).then((function(e){return!(!e||!0!==e.isHappyExperience)})).catch((function(t){return e.$log.debug("NativeService isSmoothImageCaptureProcess Exception",t),!1})):this.$q.resolve(!1)}},{key:"getDeviceType",value:function(){return this._deviceType||(this.EnvironmentService.isIOS()?this._deviceType=this.EnvironmentService.isTablet()?"iPad":"iPhone":this._deviceType=this.EnvironmentService.isTablet()?"Android Tablet":"Android Phone"),this._deviceType}},{key:"getDeviceAlias",value:function(){var e=this,t=this.$q.defer();return this._deviceAlias?(t.resolve(this._deviceAlias),t.promise):this.getDeviceInfo().then((function(){t.resolve(e._deviceAlias)}))}},{key:"getDeviceManufacturer",value:function(){var e=this,t=this.$q.defer();return this._deviceManufacturer?(t.resolve(this._deviceManufacturer),t.promise):this.getDeviceInfo().then((function(){t.resolve(e._deviceManufacturer)}))}},{key:"getDeviceModel",value:function(){var e=this,t=this.$q.defer();return this._deviceManufacturer?(t.resolve(this._deviceModel),t.promise):this.getDeviceInfo().then((function(){t.resolve(e._deviceModel)}))}},{key:"getDeviceInfo",value:function(){var e=this,t=this.$q.defer();return this._execCordovaGetDeviceInfo().then((function(n){n&&n.deviceName&&(e._deviceModel=n.deviceModel,e._deviceAlias=n.deviceName,e._deviceManufacturer=n.deviceManufacturer),t.resolve({deviceAlias:e._deviceAlias,deviceManufacturer:e._deviceManufacturer,deviceModel:e._deviceModel})})),t.promise}},{key:"_execCordovaGetDeviceInfo",value:function(){var e=this.$q.defer(),t={deviceModel:null,deviceName:null,deviceManufacturer:null};return"undefined"!=typeof cordova&&cordova.exec?(e=this.$q.defer(),cordova.exec((function(n){n?(t.deviceModel=n.model,t.deviceName=n.deviceName,t.deviceManufacturer=n.manufacturer,e.resolve(t)):e.resolve({deviceModel:null,deviceName:null,deviceManufacturer:null})}),e.reject,"Device","getDeviceInfo",[]),e.promise):this.$q.when(t)}},{key:"getDeviceBuildNumber",value:function(){var e=this.$q.defer(),t={buildNumber:null};return"undefined"!=typeof cordova&&cordova.exec?(cordova.exec((function(n){n?(t.buildNumber=n.buildnumber,e.resolve(t)):e.resolve(t)}),e.reject,"Device","getDeviceInfo",[]),e.promise):this.$q.when(t)}},{key:"getDevicePlatform",value:function(){var e=this.$q.defer(),t={devicePlatform:null};return"undefined"!=typeof cordova&&cordova.exec?(cordova.exec((function(n){n?(t.devicePlatform=n.platform,e.resolve(t)):e.resolve(t)}),e.reject,"Device","getDeviceInfo",[]),e.promise):this.$q.when(t)}},{key:"getUserhashWasUpgraded",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.USERHASH_UPGRADED)}},{key:"setUserhashWasUpgraded",value:function(e){return this.StorageService.setItem(this.storageConstants.KEYS.USERHASH_UPGRADED,e)}},{key:"getRememberedList",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.REMEMBER)}},{key:"getRememberedBusinessList",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.REMEMBER_BIZ)}},{key:"getRememberedAIFList",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.REMEMBER_AIF)}},{key:"logAnalytics",value:function(e,t){try{this.AnalyticsService.sendMobilePageViewMetrics(e,t)}catch(e){this.$log.error("Error in sending mobile page view analytics data: "+e+" ")}}},{key:"getAllRememberedLists",value:function(){var e=["deferred","touchId","fingerprintId"],t={userIds:this.getRememberedList(),businessIds:this.getRememberedBusinessList(),aiIds:this.getRememberedAIFList(),deferred:this.getDeferredPin(),touchId:this.getTouchId(),fingerprintId:this.getFingerprintId()};return this.$q.all(t).then((function(t){var n,i;return e.forEach((function(e){if(t[e]){var n={userhash:t[e].userhash,remember_me_hash:t[e].remember_me_hash,name_to_remember:t[e].name_to_remember};Array.isArray(t.userIds)?t.userIds.push(n):t.userIds=[n]}})),t.userIds=Array.isArray(t.userIds)?(n=t.userIds,i="userhash",n.filter((function(e,t,n){return n.map((function(e){return e[i]})).indexOf(e[i])===t}))):t.userIds,t}))}},{key:"clearAllRememberedLists",value:function(){var e=[this.StorageService.setItem(this.storageConstants.KEYS.REMEMBER,null),this.StorageService.setItem(this.storageConstants.KEYS.REMEMBER_BIZ,null),this.StorageService.setItem(this.storageConstants.KEYS.REMEMBER_AIF,null)];return this.$q.all(e)}},{key:"reloadWebview",value:function(){return this.nativeCall(this.nativeConstants.CMD_RELOAD_WEB_VIEW)}},{key:"clearAppData",value:function(){return this.nativeCall(this.nativeConstants.CMD_CLEAR_APP_DATA)}},{key:"setTouchId",value:function(e){return this.StorageService.setItem(this.storageConstants.KEYS.TOUCHID,e)}},{key:"getTouchId",value:function(){return this.$log.debug("*** getTouchId..."),this.EnvironmentService.isIOS()?this.StorageService.getItem(this.storageConstants.KEYS.TOUCHID):this.$q.when(!1)}},{key:"clearTouchId",value:function(){return this.StorageService.deleteItem(this.storageConstants.KEYS.TOUCHID)}},{key:"setTouchIdToken",value:function(e){return this.StorageService.setItem(this.storageConstants.KEYS.TOUCHID_TOKEN,e,!0,"touchId")}},{key:"getTouchIdToken",value:function(){return this.$log.debug("*** getTouchIdToken..."),this.StorageService.getItem(this.storageConstants.KEYS.TOUCHID_TOKEN)}},{key:"clearTouchIdToken",value:function(){return this.StorageService.deleteItem(this.storageConstants.KEYS.TOUCHID_TOKEN,!0)}},{key:"isFaceIDAvailable",value:function(){return this.EnvironmentService.isNative()?this.nativeCall(this.nativeConstants.CMD_IS_FACE_ID_AVAILABLE).then((function(e){return!(!e||"success"!==e.status)})):this.$q.resolve(!1)}},{key:"setFingerprintId",value:function(e){return this.StorageService.setItem(this.storageConstants.KEYS.ANDROID_FINGERPRINT_ID_DISPLAY,e)}},{key:"getFingerprintId",value:function(){return this.$log.debug("*** getFingerprintId..."),this.EnvironmentService.isAndroid()?this.StorageService.getItem(this.storageConstants.KEYS.ANDROID_FINGERPRINT_ID_DISPLAY):this.$q.when(!1)}},{key:"clearFingerprintId",value:function(){return this.StorageService.deleteItem(this.storageConstants.KEYS.ANDROID_FINGERPRINT_ID_DISPLAY)}},{key:"setFingerprintIdToken",value:function(e){var t=this.nativeConstants.FINGERPRINT_ID_LOGIN;return this.StorageService.setItem(this.storageConstants.KEYS.ANDROID_FINGERPRINT_ID_TOKEN,e,!0,t)}},{key:"getFingerprintIdToken",value:function(){return this.$log.debug("*** getFingerprintIdToken..."),this.StorageService.getItem(this.storageConstants.KEYS.ANDROID_FINGERPRINT_ID_TOKEN)}},{key:"clearFingerprintIdToken",value:function(){return this.StorageService.deleteItem(this.storageConstants.KEYS.ANDROID_FINGERPRINT_ID_TOKEN,!0)}},{key:"setDeferredPin",value:function(e){return this.StorageService.setItem(this.storageConstants.KEYS.DEFER,e)}},{key:"getDeferredPin",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.DEFER)}},{key:"clearDeferredPin",value:function(){return this.StorageService.deleteItem(this.storageConstants.KEYS.DEFER)}},{key:"nativeCall",value:function(e,t){return this.nativeCallWithCmdId(e,e,t)}},{key:"nativeCallWithCmdId",value:function(e,t,n){if(this._outstandingPromises[t])return this.$q.reject(this.nativeConstants.errors.IN_PROG);if(!this.EnvironmentService.isNative())return this.$q.reject(this.nativeConstants.errors.NOT_SUPPORTED);this.sendActionToNative(e,n);var i=this.$q.defer();return this._outstandingPromises[t]=i,i.promise}},{key:"sendActionToNative",value:function(e,t){this.$rootScope.deviceReadyDeferred.promise.then((function(){WL.App.sendActionToNative(e,t)}))}},{key:"authenticateWithTouchId",value:function(){var e=this;return this.EnvironmentService.isNative()?this.nativeCall(this.nativeConstants.CMD_AUTHENTICATE_WITH_AUTH_TYPE,{authType:this.nativeConstants.TOUCH_ID}).then((function(t){return t&&"success"===t.status?t:e.$q.reject(t)})):this.$q.resolve({status:"success"})}},{key:"authenticateWithFingerprintId",value:function(){var e=this;return this.EnvironmentService.isNative()?this.nativeCall(this.nativeConstants.CMD_AUTHENTICATE_WITH_AUTH_TYPE,{authType:this.nativeConstants.FINGERPRINT_ID_SIGN_UP}).then((function(t){return t&&"success"===t.status?t:e.$q.reject(t)})):this.$q.resolve({status:"success"})}},{key:"turnOnLocationService",value:function(){return this.nativeCall(this.nativeConstants.CMD_TURN_ON_LOCATION_SERVICE).then((function(e){if(e&&"success"===e.status)return!0;throw new Error("failure")}))}},{key:"getOptInList",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.OPT_IN)}},{key:"removeOptInList",value:function(e){return this.StorageService.removeItemFromList(this.storageConstants.KEYS.OPT_IN,e)}},{key:"addOptInList",value:function(e){return this.StorageService.addItemToList(this.storageConstants.KEYS.OPT_IN,e)}},{key:"hasOptedIn",value:function(e){var t=this,n=this.$q.defer();return this.getOptInList().then((function(t){t&&t.indexOf(e)>-1?n.resolve(!0):n.resolve(!1)}),(function(e){t.$log.error("getOtpInList",e),n.resolve(!1)})),n.promise}},{key:"getTOSList",value:function(){return this.StorageService.getItem(this.storageConstants.KEYS.TOS)}},{key:"removeTOSList",value:function(e){return this.StorageService.removeItemFromList(this.storageConstants.KEYS.TOS,e)}},{key:"addTOSList",value:function(e){return this.EnvironmentService.isNative()?this.StorageService.addItemToList(this.storageConstants.KEYS.TOS,e):this.$q.resolve()}},{key:"hasTOSed",value:function(e){if(!e)return this.$q.when();var t=this.$q.defer();return this.getTOSList().then((function(n){return n&&n.indexOf(e)>-1?t.resolve():t.reject()}),(function(){t.reject()})),t.promise}},{key:"getAuthMethodAvailability",value:function(){var e=this.$q.defer(),t={isTouchIDDeviceSupported:!1,isTouchIDAvailable:!1,isAndroidFingerprintDeviceSupported:!1,isAndroidFingerprintAvailable:!1};return"undefined"!=typeof cordova&&cordova.exec?(e=this.$q.defer(),cordova.exec((function(n){n?(t.isTouchIDAvailable="true"===n.isTouchIDAvailable,t.isTouchIDDeviceSupported="true"===n.isTouchIDExist,t.isAndroidFingerprintAvailable="true"===n.isAndroidFingerprintEnabled,t.isAndroidFingerprintDeviceSupported="true"===n.isAndroidFingerprintDeviceSupported,e.resolve(t)):e.resolve({isTouchIDDeviceSupported:!1,isTouchIDAvailable:!1,isAndroidFingerprintDeviceSupported:!1,isAndroidFingerprintEnabled:!1})}),e.reject,"Device","getDeviceInfo",[]),e.promise):this.$q.when(t)}},{key:"activateCard",value:function(e,t){var n=this;if(this.EnvironmentService.isNative()){var i=this.nativeConstants.CMD_ACTIVATE_CARD+"_"+t;return this.nativeCallWithCmdId(this.nativeConstants.CMD_ACTIVATE_CARD,i,{activationData:e,deviceAccountIdentifier:t}).then((function(e){return!e||"true"!==e.success&&"success"!==e.status?n.$q.reject(e):(e.success="true",e)}))}return this.$q.resolve({success:"true"})}},{key:"openChequeScanner",value:function(e,t){var n=this.$q.defer();if(this.EnvironmentService.isNative()&&!this.EnvironmentService.isMFPSimulator())this.sendActionToNative(this.nativeConstants.OPEN_CHEQUE,{mode:e,type:t});else{if(!this.EnvironmentService.isMock()&&!this.EnvironmentService.isMFPSimulator())return this.$q.reject(this.nativeConstants.errors.NOT_SUPPORTED);var i="front"===t?"/front_cheque.jpg":"/back_cheque.jpg",a=new Image;a.crossOrigin="Anonymous",a.src="../../assets/images/mock/rdc"+i,a.onload=function(){var e=document.createElement("CANVAS"),t=e.getContext("2d");e.height=this.height,e.width=this.width,t.drawImage(this,0,0);var i=e.toDataURL();e=null;var a={image:i};n.resolve(a)}}return this._outstandingPromises[this.nativeConstants.OPEN_CHEQUE]=n,n.promise}},{key:"setDefaultValuesToNative",value:function(e){if(e&&e.dynatrace){var t="";e.rdc&&e.rdc["rdc.ioslowmemorydevices"]&&(t=e.rdc["rdc.ioslowmemorydevices"]),this.EnvironmentService.isNative()&&this.EnvironmentService.isIOS()&&this.sendActionToNative(this.nativeConstants.DEFAULT_VALUES,{dynatraceUrl:e.dynatrace["dynatrace.baseurl"],dynatraceEnabled:e.dynatrace["dynatrace.analytics.enabled"],iosLowMemoryDevices:t})}}},{key:"getPushToken",value:function(){var e=this.$q.defer(),t={pushToken:null,model:null};return"undefined"!=typeof cordova&&cordova.exec?(cordova.exec((function(n){n&&(t.pushToken=n.pushToken,t.model=n.model,t.nickname=n.deviceName,t.manufacturer=n.manufacturer),e.resolve(t)}),e.reject,"Device","getDeviceInfo",[]),e.promise):this.$q.when(t)}},{key:"activatePaymentPass",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.activateCard(n,e).then((function(e){return"true"!==e.success?t.$q.reject():t.$q.resolve(e)}))}},{key:"getNativeDeviceBlackBoxData",value:function(){return this.nativeCall(this.nativeConstants.BLACKBOX)}},{key:"showiOSCameraPermissionPopup",value:function(){return this.EnvironmentService.isNativeIOS()?this.nativeCall(this.nativeConstants.CAMERA_PROMPT_SETTINGS):this.$q.resolve({status:"success"})}},{key:"isiOSCameraPermissionAvailable",value:function(){return this.EnvironmentService.isNativeIOS?this.nativeCall(this.nativeConstants.CHECK_CAMERA_RESTRICTION,{}):this.$q.resolve({cameraRestricted:!0})}},{key:"closeApp",value:function(){return this.EnvironmentService.isNative()?this.nativeCall(this.nativeConstants.CMD_CLOSE_APP):(this.$log.debug("Native Service Mock: App closed"),this.$q.resolve({status:"success"}))}},{key:"requestNativeLocationPermission",value:function(){return this.EnvironmentService.isNative()&&this.EnvironmentService.isAndroid()?this._requestAndroidNativePermission("location"):this.$q.when({status:"success"})}},{key:"_requestAndroidNativePermission",value:function(e){return this.nativeCall(this.nativeConstants.CMD_REQUEST_PERMISSION,{permission:e})}},{key:"addFingerPrintPromptList",value:function(e){return this.StorageService.addItemToList(this.storageConstants.KEYS.FINGER_PRINT_PROMPT,e)}},{key:"getAllFingerPrintPromptList",value:function(){return this.EnvironmentService.isAndroid()?this.StorageService.getItem(this.storageConstants.KEYS.FINGER_PRINT_PROMPT):this.$q.when(!1)}},{key:"removeFingerPrintPromptList",value:function(e){return this.StorageService.removeItemFromList(this.storageConstants.KEYS.FINGER_PRINT_PROMPT,e)}}]),e}();c.$inject=["$q","$rootScope","$injector","$timeout","$http","StorageService","EnvironmentService","storageConstants","nativeConstants","$log","localeConstants","MobilePayEnrollmentSessionService","stateConstants","$state","AnalyticsService","analyticsConstants"],t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CachingPromise=void 0;var i=E(n(270)),a=E(n(39)),s=E(n(49)),o=E(n(58)),r=E(n(104)),l=E(n(8)),c=E(n(15)),u=E(n(0)),d=E(n(2)),_=E(n(116));function E(e){return e&&e.__esModule?e:{default:e}}var h=t.CachingPromise=function(){function e(t,n,i,a,s,o){(0,u.default)(this,e),this.$log=t,this.deferred=n,this.cache=i,this.cacheKey=a,this.maxAgeSec=s,this.promise=n.promise,this.maxAgeRegex=o}return(0,d.default)(e,[{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.responseHeaders,i=null,a=n&&Object.prototype.hasOwnProperty.call(n,"max-age"),s=n&&"cache-control"in n;try{if(n&&(s||a||this.maxAgeSec)&&e&&!t&&this.cache&&this.cache.$$prefix){if(a)i=parseInt(n["max-age"],10);else if(this.maxAgeSec)i=this.maxAgeSec;else if(s){var o=n["cache-control"].match(this.maxAgeRegex);o&&(i=parseInt(o[1],10))}i&&(this.cache.setMaxAge(1e3*i),this.cache.put(this.cacheKey,e),this.$log.debug("CACHE: SET: "+i+"sec: "+this.cacheKey,e))}}catch(e){this.$log.warn("Error while saving cache for "+this.cacheKey,e)}return this.deferred.resolve(e)}},{key:"reject",value:function(e){return this.deferred.reject(e)}}]),e}(),S=function(){function e(t,n,i,a,s,o,r,l,d,_,E,h,S,T,p,f,g,A,v,C,m,I,O,N,R){var y=this;(0,u.default)(this,e),this.$http=t,this.$log=n,this.$state=i,this.$q=a,this.$interpolate=s,this.ErrorService=r,this.AnalyticsService=l,this.EnvironmentService=o,this.Idle=S,this.SessionService=p,this.EventBusService=f,this.LocaleService=g,this.$rootScope=A,this.eventConstants=v,this.$cookies=C,this.NativeService=m,this.stateConstants=h,this.Keepalive=O,this.buildConstants=N,this.ShapeSecurityService=R,this.cacheFactory=T,this.config=d.SERVICE_CONFIG,this.analyticEvents=_.AVAILABLE_EVENTS,this.errorEvents=E.AVAILABLE_EVENTS,this._isLevel2Granted=!1,this.HTTP_VERBS=d.HTTP_VERBS,this.REQUEST_TYPES=d.REQUEST_TYPES,this.DATA_INVALIDATED=d.DATA_INVALIDATED,this.ROOT_ENDPOINTS=d.ROOT_ENDPOINTS,this.CACHE_CLEARING=d.CACHE_CLEARING,this.CACHE_GROUPS=d.CACHE_GROUPS,this.SUCCESS_STATUS_CODES=d.SUCCESS_STATUS_CODES,this.AVAILABLE_SERVICES=d.AVAILABLE_SERVICES,this.WEB_API_BASE_URL=this.config.defaults.webApiBaseUrl,this.SERVICE_REGEX=d.SERVICE_REGEX,this.headerKeys={TRANSACTION_TOKEN:"x-transaction-token",WEB_FLAVOUR:"x-web-flavour",ACCEPT_LANGUAGE:"Accept-Language",API_VERSION:"x-api-version"},this.EnvironmentService.isMock()?this.defaultRequestType=this.REQUEST_TYPES.MOCK:this.EnvironmentService.isNative()?this.defaultRequestType=this.REQUEST_TYPES.WL:this.defaultRequestType=this.REQUEST_TYPES.HTTP,this.defaultConfig=this.config.defaults,this._pendingRequestsExcludeList=[this.config.insightsSession],this._pendingRequests={},this._dynatrace=this.AnalyticsService.getDynaTrace(),this.EventBusService.subscribe(this.$rootScope,"Level2AuthChange",(function(e,t){y._isLevel2Granted=t})),this.config.groupCacheClearingExclusions=[],(0,c.default)(this.config).forEach((function(e){var t=y.config[e];if(t[y.defaultRequestType]){var n=y._getCacheFactoryKey(y.defaultRequestType,t);t.cacheFactoryKey=n,t.cacheStrategy&&t.cacheStrategy.groupClearingExcluded&&y.config.groupCacheClearingExclusions.push(t.cacheFactoryKey),t.cacheStrategy||(t.cacheStrategy={}),t.method===y.HTTP_VERBS.GET&&(Object.prototype.hasOwnProperty.call(t.cacheStrategy,"cacheResult")||(t.cacheStrategy.cacheResult=!0)),(0,c.default)(y.CACHE_GROUPS).forEach((function(e){var i=y.CACHE_GROUPS[e];Object.prototype.hasOwnProperty.call(t.cacheStrategy,i.configProperty)||(t.cacheStrategy[i.configProperty]=n.indexOf("/"+i.searchString)>=0),!t.cacheStrategy.maxAgeSec&&t.cacheStrategy[i.configProperty]&&(t.cacheStrategy.maxAgeSec=i.maxAgeSec)}))}})),this.lastError={code:"",msg:"",counter:0},this.lastHttpCall=(new Date).getTime(),f.subscribe(this.$rootScope,I.TPW_KEEP_ALIVE,(function(){return y.keepAlive()}))}return(0,d.default)(e,[{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a||(a=this.defaultRequestType),this.$log.debug("Service request for "+e,t,i);var s=this.config[e],o=(0,_.default)(i,"errorAnalytics"),r=s.method;r&&r in this.HTTP_VERBS||(r=this.HTTP_VERBS.GET);var c=this.$q.defer(),u=!1,d=s.cacheFactoryKey,E=this.cacheFactory.get(d),S=this._generateCacheKey(d,t),T=void 0,p=!1;if(s.hasOwnProperty("cacheStrategy")&&s.cacheStrategy.cacheResult){if(E?i&&i.resetCache&&E.removeAll():E=this.cacheFactory.createCache(d,{storageMode:this.cacheFactory.defaults.storageMode,deleteOnExpire:"aggressive"}),S){var f=E.info(S);if(f){var g=E.get(S);g&&(g.cache_status&&g.cache_status.stale||(0,l.default)(g,{cache_status:{stale:f.isExpired}}),g.cache_status.stale?E.remove(S):(c.resolve(g),u=!0,this.$log.debug("CACHE: GET: "+S,g)))}}if(!u){var A=s.cacheStrategy.maxAgeSec;c=new h(this.$log,c,E,S,A,this.SERVICE_REGEX.MAX_AGE),this.$log.debug("CACHE: NO CURRENT DATA FOUND: "+S)}}else r!==this.HTTP_VERBS.GET&&d&&(p=!0);var v=a===this.REQUEST_TYPES.MOCK;if(this._pendingRequests[S]&&!v)return r!==this.HTTP_VERBS.GET&&-1===this._pendingRequestsExcludeList.indexOf(s)?this._processDestructiveDoubleClick(e,t):this._pendingRequests[S].promise;if(v||!u)switch(this._pendingRequests[S]=c,this.Idle.running()&&this.Idle.unwatch(),c.promise.finally((function(){n._pendingRequests[S]=void 0,n.$state.current.name!==n.stateConstants.LOGIN&&n.Idle.watch(),n._onRequestCompleted(T)})),a){case this.REQUEST_TYPES.HTTP:T=this._onRequestStarted(e),this._http(s,r,t,c,o);break;case this.REQUEST_TYPES.WL:T=this._onRequestStarted(e),this._validateTrustedCertificate(e).then((function(){return n._worklight(s,r,t,c)})).catch((function(e){return c.reject(e)}));break;default:this._mockRequest(s,r,t,c)}return c.promise.then((function(e){return!p||t.data&&(t.data.validate_only||t.data.validate_client_eligibility)||i.skipInvalidation||s.cacheStrategy.skipCacheClearing||n._cleanCache(d,s),e}))}},{key:"_isValidResponse",value:function(e){return!e.response_status||this.SUCCESS_STATUS_CODES.indexOf(e.response_status.status_code)>-1}},{key:"_processDestructiveDoubleClick",value:function(e,t){var n="Double click occured for "+e;return this.ErrorService.processError(n,this.errorEvents.DOUBLE_CLICK,n),this.$log.warn(n,t),this.$q.defer().promise}},{key:"_worklight",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],a=e.WL,s=a.method||t;this.$log.debug("WORKLIGHT WORKING FOR 1",a,s,n);var c=void 0,u=a.adapter,d=WLResourceRequest[s]||WLResourceRequest.GET,_=["adapters/",u,"/",a.path].join("");_=this._interpolate(_,n),this.$log.debug("adapterString",_);var E=new WLResourceRequest(_,d);if(n&&(n.urlVars||n.queries)){var h=(0,l.default)({},n.urlVars,n.queries);E.setQueryParameters(h)}var S=n.headers||{};S[this.headerKeys.ACCEPT_LANGUAGE]=this.LocaleService.localeDisplay.toLowerCase(),a.version&&(S[this.headerKeys.API_VERSION]=a.version);var T=this.ShapeSecurityService.getShapeMobileHeaders(a.path),p=!0,f=!1,g=void 0;try{for(var A,v=(0,o.default)(T);!(p=(A=v.next()).done);p=!0){var C=A.value,m=(0,r.default)(C,2),I=m[0],O=m[1];S[I]=O}}catch(e){f=!0,g=e}finally{try{!p&&v.return&&v.return()}finally{if(f)throw g}}this._applyDynaTraceHeaders(S,u+"/"+a.path),E.setHeaders(S),c=n&&n.formBody?E.sendFormParameters(n.formBody):E.send(n&&n.data||null),this.$log.debug("WORKLIGHT WORKING FOR 2:",n," req:",E," headers:",E.getHeaders()),this.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"WL requesting "+_,jstime:window.performance.now()});var N=this;function R(e){N.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"WL loaded "+_,jstime:window.performance.now()}),N.$log.debug("Worklight Success",a,s,n,e),e?(e.responseJSON&&(e.responseJSON.responseHeaders=e.responseHeaders),i.resolve(e.responseJSON)):i.reject(e)}function y(e){N.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"WL error "+_,jstime:window.performance.now()});"UNEXPECTED_ERROR"===e.errorCode&&WL.Device.getNetworkInfo((function(e){"false"!==e.isNetworkConnected||N.EventBusService.publish(N.eventConstants.CONNECTION_LOST)})),N.$log.debug("Worklight Failure",a,s,n,e);var t=e.data?e.data:e;N._processError(t,i)}c.then(R,y)}},{key:"_http",value:function(e,t,n,i,a){var s=this,o=e.HTTP,r=o.method||t,c=void 0;c=o.skipWebApiBaseUrl?o.url:""+(this.WEB_API_BASE_URL+o.url);var u=""+(this.EnvironmentService.getAPIUrl()+c),d=o.timeout||this.defaultConfig.timeout;u=this._interpolate(u,n),this.$log.debug("_http:",r,u);var _=n.headers||{};_[this.headerKeys.WEB_FLAVOUR]="fbe",_[this.headerKeys.TRANSACTION_TOKEN]=this.SessionService.transaction_token,_[this.headerKeys.ACCEPT_LANGUAGE]=this.SessionService.locale,o.version&&(_[this.headerKeys.API_VERSION]=o.version),this._applyDynaTraceHeaders(_,c),r===this.HTTP_VERBS.GET&&(_["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",_["Cache-Control"]="no-cache",_.Pragma="no-cache"),this.lastHttpCall=(new Date).getTime(),this.$log.debug("User has made network request, resetting idle timeout"),this.$http({method:r,url:u,data:n.data,params:n.queries,timeout:d,headers:_,withCredentials:!0}).then((function(e){var t=e.data,n=angular.isFunction(e.headers)?e.headers():{};r===s.HTTP_VERBS.GET&&angular.isDefined(n[s.headerKeys.TRANSACTION_TOKEN])&&s.SessionService.setTransactionToken(n[s.headerKeys.TRANSACTION_TOKEN]),s._notAuthorized(t.http_code)&&(s.$log.warn("Not authorized, redirect to Login"),s._goToLogin()),s._accessDenied(t.http_code)?s._goToComingSoonSite():s._errorRequest(t.http_code)?s._processError(e.data,i,a):(s._isValidResponse(t)||(s.lastError.code=t.response_status.status_code,s.lastError.counter=s.lastError.counter+1,s._processError(e.data,i,a)),i.resolve((0,l.default)(t,{responseHeaders:n})))}),(function(e){s.$log.warn("Service error",r,u,e),s._notAuthorized(e.status)?(s.$log.warn("Not authorized, redirect to Login"),s._goToLogin()):s._accessDenied(e.status)?s._goToComingSoonSite():s._processError(e,i,a)}))}},{key:"_mockRequest",value:function(e,t,n,i){var a=this,s=this.EnvironmentService.isNative(),o=e.MOCK,r=this.defaultConfig.mockBaseURL;s&&r&&(r=r.substring(1));var l=r+o.url,c=o.timeout||this.defaultConfig.timeout;l=this._interpolate(l,n),this._mockGetCache(l,o)?i.resolve(this._mockGetCache(l,o)):(this.$log.debug("_mockRequest",l,t),s&&this.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"HTTP requesting "+l,jstime:window.performance.now()}),this.$http({method:this.HTTP_VERBS.GET,url:l,data:n.data,params:n.queries,timeout:c,headers:n.headers}).success((function(e){var t=e;"default"in e&&(t=e.default),"mockResponse"in n&&e[n.mockResponse]&&(t=e[n.mockResponse]),a._mockIsCacheble(o)&&a._mockAddCache(l,t),i.resolve(t)})).error((function(e,t){i.reject({data:e,status:t})})).finally((function(){a.EnvironmentService.isNative()&&a.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"HTTP loaded "+l,jstime:window.performance.now()})})))}},{key:"_mockIsCacheble",value:function(e){return e&&e.mobileCache&&this.EnvironmentService.isNative()}},{key:"_mockAddCache",value:function(e,t){this._mockCache||(this._mockCache={}),e&&t&&(this._mockCache[e]=t)}},{key:"_mockGetCache",value:function(e,t){if(this._mockIsCacheble(t)&&this._mockCache&&e&&this._mockCache[e])return this._mockCache[e]}},{key:"_mockClearCache",value:function(){this._mockCache=null}},{key:"_goToLogin",value:function(){if(!this.$state.current||this.$state.current.parent!==this.stateConstants.ABSTRACT_GUEST){this.SessionService.destroyCache(),this.SessionService.cleanChallenge(),this.EnvironmentService.isNative()&&this.InsightsSessionService.deleteSession();var e=this.$state.current.data,t=e&&e.requiresAnon,n=this.$rootScope.currentTargetState;n?(delete this.$rootScope.currentTargetState,this.$state.go(this.stateConstants.LOGIN,{skipAnonCheck:!0},{location:!1,custom:{returnTo:n}})):this.$state.go(this.stateConstants.LOGIN,{skipAnonCheck:!0},{location:t})}}},{key:"_goToComingSoonSite",value:function(){this.$state.go(this.stateConstants.ACCESS_DENIED)}},{key:"_notAuthorized",value:function(e){return 401===e}},{key:"_accessDenied",value:function(e){return 403===e}},{key:"_interpolate",value:function(e,t){return t&&"urlVars"in t?(this.$log.debug("interpolating",e,t),this.$interpolate(e)(t.urlVars)):e}},{key:"_errorRequest",value:function(e){return e>=400}},{key:"_processError",value:function(e,t,n){this.ErrorService.processError(e,this.errorEvents.REQUEST_ERROR,"",n).then((function(n){t.reject({data:e.data,status:e.status,errorMessage:n.message})})).catch((function(){t.reject({})}))}},{key:"_getCacheFactoryKey",value:function(e,t){var n="";switch(e){case this.REQUEST_TYPES.HTTP:n=""+(this.WEB_API_BASE_URL+t.HTTP.url);break;case this.REQUEST_TYPES.WL:n=t.WL.path;break;case this.REQUEST_TYPES.MOCK:}return n}},{key:"_generateCacheKey",value:function(e,t){var n=[e];return t&&(t.queries&&n.push(this._flattenObject(t.queries)),t.urlVars&&n.push(this._flattenObject(t.urlVars)),t.data&&n.push(this._flattenObject(t.data)),this.EnvironmentService.isNative()&&this._isLevel2Granted&&n.push("Level2Auth")),n.join(":")}},{key:"_flattenObject",value:function(e){var t={};!function e(n,i){if(Object(n)!==n)t[i]=n;else if(Array.isArray(n))0===n.length?t[i]=[]:n.forEach((function(t,n){e(t,i+"["+n+"]")}));else{var a=!0;(0,c.default)(n).forEach((function(t){a=!1,e(n[t],i?i+"."+t:t)})),a&&i&&(t[i]={})}}(e,"");var n=[];(0,c.default)(t).forEach((function(e){n.push(e)})),n.sort();var i="";return n.forEach((function(e){var n=(0,s.default)(t[e]);i+=e+"="+n+","})),i.slice(0,-1)}},{key:"_cleanCache",value:function(e,t){var n=this;(this.$log.debug("CACHE: CLEARING: current caches: ",this.cacheFactory.keys()),this.CACHE_CLEARING.has(t))&&this.CACHE_CLEARING.get(t).forEach((function(e){n.cacheFactory.destroy(e.cacheFactoryKey),n.$log.debug("CACHE: CLEARING SPECIFIC: destroyed cache: ",e.cacheFactoryKey)}));(0,c.default)(this.CACHE_GROUPS).forEach((function(e){var i=n.CACHE_GROUPS[e];t.cacheStrategy[i.configProperty]&&n._invalidateMatchingCaches(i.searchString)})),this.$log.debug("CACHE: CLEARING: remaining caches: ",this.cacheFactory.keys())}},{key:"_hasPath",value:function(e,t){return e.indexOf("/"+t)>=0}},{key:"_invalidateMatchingCaches",value:function(e){var t=this;this.cacheFactory.keys().forEach((function(n){-1===t.config.groupCacheClearingExclusions.indexOf(n)&&t._hasPath(n,e)&&(t.cacheFactory.destroy(n),t.$log.debug("CACHE: CLEARING: destroyed cache: ",n))})),this.EventBusService.publish(this.DATA_INVALIDATED,e)}},{key:"invalidateCapabilitesCache",value:function(){var e=this.config[this.AVAILABLE_SERVICES.USER_CAPABILITIES].cacheFactoryKey,t=this.config[this.AVAILABLE_SERVICES.USER_CAPABILITIES_NO_QUERY].cacheFactoryKey;this.cacheFactory.destroy(e),this.EventBusService.publish(this.DATA_INVALIDATED,e),this.cacheFactory.destroy(t),this.EventBusService.publish(this.DATA_INVALIDATED,t),this.$log.debug("CACHE: CLEARING CAPABILITIES ONLY: destroyed caches: ",e,t)}},{key:"_onRequestStarted",value:function(e){try{if(this.EnvironmentService.isMock()||!this._dynatrace)return;return this._dynatrace.enterAction(this.analyticEvents.API_REQUEST+"."+e)}catch(e){return}}},{key:"_onRequestCompleted",value:function(e){try{if(this.EnvironmentService.isMock()||!e||!this._dynatrace)return;return this._dynatrace.leaveAction(e)}catch(e){return}}},{key:"_applyDynaTraceHeaders",value:function(e,t){try{var n=t.replace(/((\?|&[\w_]+=)?(\/?)\{\{(\w+)}\})/gi,"");n=n.replace(/{{\s*[\w\.]+\s*}}/g,(function(){return""})).replace("//","/"),e[this.AnalyticsService.DYNATRACE_HEADERS.SERVICE_URL]=n;var i=this.AnalyticsService.getCurrentPageView();i&&(e[this.AnalyticsService.DYNATRACE_HEADERS.PAGE]=i);var a=this.$cookies.get("gtmok");a&&(e[this.AnalyticsService.DYNATRACE_HEADERS.CUSTOMER]=a)}catch(e){}}},{key:"_validateTrustedCertificate",value:function(e){var t=this.config[e];return t&&t.WL&&t.WL.validateCertificate?(this.$log.debug("Verify root cert for request",t.WL.path),this.NativeService.validateTrustedCertificate()):this.$q.when()}},{key:"keepAlive",value:function(){if(!this.EnvironmentService.isNative()){var e=1e3*this.Keepalive._options().interval;if(!isNaN(e))(new Date).getTime()-this.lastHttpCall>=e&&(this.$log.debug("Processing Tpw Keep Alive Request"),this.request(this.AVAILABLE_SERVICES.KEEP_ALIVE,{}))}}},{key:"_hyphenToCamel",value:function(t){return t.replace(e.SPECIAL_CHARS_REGEXP,(function(e,t,n,i){return i?n.toUpperCase():n}))}},{key:"_camelToHyphen",value:function(t){return t.replace(e.SNAKE_CASE_REGEXP,(function(e,t){return(t?"_":"")+e.toLowerCase()}))}},{key:"_renameProperties",value:function(e,t){var n=this;if(null==e)return e;var s=void 0===e?"undefined":(0,a.default)(e);if("object"!==s)return e;if("object"===s&&e instanceof Array)return e.map((function(e){return n._renameProperties(e,t)}));var o={};return(0,i.default)(e).forEach((function(i){var a=(0,r.default)(i,2),s=a[0],l=(a[1],t(s));o[l]=n._renameProperties(e[s],t)})),o}},{key:"decodeServerData",value:function(e){return this._renameProperties(e,this._hyphenToCamel)}},{key:"encodeClientData",value:function(e){return this._renameProperties(e,this._camelToHyphen)}}]),e}();S.SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,S.SNAKE_CASE_REGEXP=/[A-Z]/g,S.$inject=["$http","$log","$state","$q","$interpolate","EnvironmentService","ErrorService","AnalyticsService","serviceConstants","analyticsConstants","errorConstants","stateConstants","Idle","CacheFactory","SessionService","EventBusService","LocaleService","$rootScope","eventConstants","$cookies","NativeService","appStateConstants","Keepalive","buildConstants","ShapeSecurityService"],t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.requesterService=s,this.sessionService=o,this.$q=t,this.$log=n,this.$timeout=a,this.successCodes=["SUCCESS","CREATED","NO_DATA","RATE_HOLDS_NOT_EXIST","RESTRICTIONS"]}return(0,a.default)(e,[{key:"handleNoSession",value:function(){this.sessionService.isAuthenticated()&&this.authService.logout()}},{key:"validResponse",value:function(e){if(!e)return!1;if(!e.response_status)return!1;return"NO_SESSION"===e.response_status.status_code?(this.handleNoSession(),!1):this.successCodes.indexOf(e.response_status.status_code)>=0}},{key:"request",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.requesterService.request(e,n,i).then((function(a){return t.validResponse(a)?t.$q.resolve(a):(t.$log.error("Error response:",e,n,i),t.$q.reject(a))}))}}]),e}();o.$inject=["$q","$log","$timeout","RequesterService","SessionService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(49)),a=r(n(39)),s=r(n(0)),o=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,o,r,l){(0,s.default)(this,e),this.$q=t,this.$log=n,this.$rootScope=i,this.$window=o,this.$timeout=r,this.storageConstants=l,this._isNative="object"===("undefined"==typeof WL?"undefined":(0,a.default)(WL)),this._isMFPSimulator=this._isNative&&WL.StaticAppProps&&"preview"===WL.StaticAppProps.ENVIRONMENT,this._storageService={},this._outstandingPromises={}}return(0,o.default)(e,[{key:"getItem",value:function(e,t){var n=this,i=this.storageConstants.GET+e;if(!e)return this.$q.reject(this.storageConstants.ERRORS.PARAMS);if(this._isNative&&!this._isMFPSimulator){var a=this.$q.defer();return this._outstandingPromises[i]?this._outstandingPromises[i].push(a):(this._outstandingPromises[i]=[a],this.$rootScope.deviceReadyDeferred.promise.then((function(){WL.App.sendActionToNative(n.storageConstants.GET,{key:e,data:t})}))),a.promise}var s=localStorage.getItem(e);return s=s&&JSON.parse(s),this.$q.when(s)}},{key:"setItem",value:function(e,t,n,a){var s=this,o=n||!1,r=this.storageConstants.SET+e;if(!e)return this.$q.reject(this.storageConstants.ERRORS.PARAMS);if(this._isNative&&!this._isMFPSimulator){var l=this.$q.defer();return this._outstandingPromises[r]?this._outstandingPromises[r].push(l):(this._outstandingPromises[r]=[l],this.$rootScope.deviceReadyDeferred.promise.then((function(){WL.App.sendActionToNative(s.storageConstants.SET,{key:e,data:(0,i.default)(t),isSecure:o,authMode:a})}))),l.promise}return localStorage.setItem(e,(0,i.default)(t)),this.$q.when(!0)}},{key:"deleteItem",value:function(e){var t=this,n=this.storageConstants.DEL+e;if(!e)return this.$q.reject(this.storageConstants.ERRORS.PARAMS);if(this._isNative&&!this._isMFPSimulator){var i=this.$q.defer();return this._outstandingPromises[n]?this._outstandingPromises[n].push(i):(this._outstandingPromises[n]=[i],this.$rootScope.deviceReadyDeferred.promise.then((function(){WL.App.sendActionToNative(t.storageConstants.DEL,{key:e})}))),i.promise}return localStorage.setItem(e,null),this.$q.when(!0)}},{key:"addItemToList",value:function(e,t){var n=this,i=this.$q.defer(),a=void 0;return e&&t?(this.getItem(e).then((function(s){a=s||[],angular.isArray(a)||n.$q.reject(n.storageConstants.ERRORS.NOTLIST),a.push(t),n.setItem(e,a).then((function(){i.resolve(!0)}),(function(e){i.reject(e)}))}),(function(){n.setItem(e,[t]).then((function(){i.resolve(!0)}),(function(e){i.reject(e)}))})),i.promise):this.$q.reject(this.storageConstants.ERRORS.PARAMS)}},{key:"removeItemFromList",value:function(e,t){var n=this,i=this.$q.defer(),a=void 0;return e&&t?(this.getItem(e).then((function(s){a=s||[],angular.isArray(a)||n.$q.reject(n.storageConstants.ERRORS.NOTLIST),a=a.filter((function(e){return!angular.equals(t,e)})),n.setItem(e,a).then((function(){i.resolve(!0)}),(function(e){n.$log.debug("NativeError "),n.$log.debug(t),i.reject(e)}))}),(function(){i.reject(n.storageConstants.ERRORS.NOTLIST)})),i.promise):this.$q.reject(this.storageConstants.ERRORS.PARAMS)}},{key:"handleNativeResponse",value:function(e,t){if(this._outstandingPromises[e]&&this._outstandingPromises[e].length){var n=void 0;try{n=JSON.parse(t.data)}catch(e){n=void 0!==t&&void 0!==t.data?t.data:""}t&&"success"===t.status?this._outstandingPromises[e].forEach((function(e){e.resolve(n)})):this._outstandingPromises[e].forEach((function(e){e.reject(n)})),delete this._outstandingPromises[e]}else this.$log.debug("No promise registered for this action",e)}}]),e}();l.$inject=["$q","$log","$rootScope","$window","$timeout","storageConstants"],t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l){(0,i.default)(this,e),this.$log=t,this.$q=n,this.RequesterService=a,this.LocaleService=l,this.serviceConstants=s,this.TYPES=o.TYPES,this.CacheFactory=r,this._init()}return(0,a.default)(e,[{key:"getFromCache",value:function(e){var t=void 0;try{t=this.cache.get(e)}catch(e){this.$log.debug("Cache not available, reinitializing"),this._init()}return t}},{key:"getDataByType",value:function(e){var t=this,n=this.$q.defer(),i=Array.isArray(e)?e:[e],a=[],s={};return i.forEach((function(e){var n=t.getFromCache(e);n?s[e]=n:a.push(e)})),a.length?this._requestReferenceData(a).then((function(e){n.resolve(angular.extend(s,e))})):n.resolve(s),n.promise}},{key:"_init",value:function(){this.requestedTypeCodes=[],this.outstandingRequests={},this.cacheNamespace="referenceData",this.cache=this.CacheFactory.get(this.cacheNamespace),this.cache||(this.cache=this.CacheFactory.createCache(this.cacheNamespace,{deleteOnExpire:"aggressive",recycleFreq:6e4,storageMode:"sessionStorage"}))}},{key:"_requestReferenceData",value:function(e){var t=this,n={};return n.types=Array.isArray(e)?e.join(","):e,this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.REFERENCE_DATA,{queries:n,urlVars:{locale:this.LocaleService.locale}}).then((function(e){t.$log.info("ReferenceData fetched ",e);var n={};return e.reference_data&&e.reference_data.forEach((function(e){n[e.type]=e.data,t.cache.put(e.type,e.data)})),n})).catch((function(e){t.$log.info("ReferenceData fail to retrieve data ",e)}))}}]),e}();o.$inject=["$log","$q","RequesterService","serviceConstants","referenceDataConstants","CacheFactory","LocaleService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(104)),a=l(n(0)),s=l(n(2)),o=l(n(271)),r=l(n(45));function l(e){return e&&e.__esModule?e:{default:e}}n(1225),n(1226);var c={locale:void 0},u=function(){function e(t,n,i,s,o,r,l,u,d,_,E){(0,a.default)(this,e),this.$log=t,this.$q=n,this.$translate=s,this.$rootScope=i,this.$window=o,this.tmhDynamicLocale=r,this.EnvironmentService=d,this.SessionService=l,this.NativeService=u,this.localeConstants=_,this.CurrencyService=E,this.isCallbackSet=!1,c.locale=null}return(0,s.default)(e,[{key:"initLocale",value:function(){var e=this,t=this.$q.defer();return this.isCallbackSet||(this.$rootScope.$on("$translateChangeSuccess",(function(){return e.CurrencyService.initialize()})),this.isCallbackSet=!0),this._retrieveLocale().then((function(n){return e.$log.debug("Setting initial locale to ",n),!e.EnvironmentService.isNative()&&e.SessionService.locale?e.locale=e.SessionService.locale:e.locale=n,e.setMomentLocale(),t.resolve(e.locale)})).catch((function(n){return e.$log.debug("Failed to retrieve local from Native. Rollback to default",n),e.locale=e.localeConstants.DEFAULT,t.resolve(e.locale)})),t.promise}},{key:"_retrieveLocale",value:function(){if(this.EnvironmentService.isNative()){var e=WL.Client.getDeviceLocale();return e?this.$q.when(this._formatNativeLocale(e)):this.$q.reject("Cannot fetch locale")}return this.$q.when(this.localeConstants.DEFAULT)}},{key:"_formatLocale",value:function(e){if((0,o.default)(e))return"";var t=e.replace("-","_").split("_"),n=(0,i.default)(t,2),a=n[0],s=n[1];return a&&s?a+"_"+(s=s.toUpperCase()):e}},{key:"_formatNativeLocale",value:function(e){return(0,o.default)(e)?"":"en"===e.toLowerCase().replace("-","_").split("_")[0]?this.localeConstants.LOCALES.EN_CA:-1!==e.indexOf("fr")?this.localeConstants.LOCALES.FR_CA:this.localeConstants.LOCALES.EN_CA}},{key:"_isSupportedLocale",value:function(e){var t=this.localeConstants.LOCALES;return[t.EN_CA,t.FR_CA].indexOf(e)>=0}},{key:"setMomentLocale",value:function(){r.default.locale(this.isFrench()?"fr-ca":"en-ca")}},{key:"isFrench",value:function(){return this.locale===this.localeConstants.LOCALES.FR_CA}},{key:"isEnglish",value:function(){return this.locale===this.localeConstants.LOCALES.EN_CA}},{key:"locale",set:function(e){var t=this._formatLocale(e);this._isSupportedLocale(t)||(this.$log.info("Failed to set locale as ",e),this.$log.info("Rollback local to ",this.localeConstants.DEFAULT),t=this.localeConstants.DEFAULT),c.locale=t,this.$translate.use(t),this.tmhDynamicLocale.set(t),this.SessionService.saveLocale(t),this.setMomentLocale(),this.CurrencyService.currentLocale=this.localeDisplay,this.$window.MedalliaLanguage=c.locale,this.$log.debug("Locale="+this.locale)},get:function(){return c.locale}},{key:"localeDisplay",get:function(){return c.locale?c.locale.replace("_CA","").toUpperCase():""}},{key:"language",get:function(){return this.isFrench()?this.localeConstants.LANGUAGES.FRENCH:this.localeConstants.LANGUAGES.ENGLISH}},{key:"shortHandLocale",get:function(){return this.localeConstants.SHORTHAND_LOCALE[this.locale]}},{key:"shortHandLocaleUppercase",get:function(){return this.localeConstants.SHORTHAND_LOCALE[this.locale].toUpperCase()}}]),e}();u.$inject=["$log","$q","$rootScope","$translate","$window","tmhDynamicLocale","SessionService","NativeService","EnvironmentService","localeConstants","CurrencyService"],t.default=u,e.exports=t.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$window=t}return(0,a.default)(e,[{key:"guardDialogScroll",value:function(e){if(e&&e.length&&this.$window.MutationObserver){var t=e[0].querySelector(".dialog__content"),n=t.scrollHeight,i=t.scrollTop,a=new this.$window.MutationObserver((function(e){a.disconnect(),e.forEach((function(e){if("childList"===e.type&&e.addedNodes&&Array.prototype.find.call(e.addedNodes,(function(e){return e.classList&&e.classList.contains("js-maintain-scroll")}))){var a=t.scrollHeight,s=t.scrollTop!==i;a>n&&!s&&(t.scrollTop+=a-n)}}))}));a.observe(t,{childList:!0,subtree:!0})}}}]),e}();o.$inject=["$window"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o){(0,a.default)(this,e),this.$q=t,this.RequesterService=n,this.serviceConstants=i,this.NativeService=s,this.SessionService=o,this.deviceModel="",this.deviceManufacturer="",this.init()}return(0,s.default)(e,[{key:"init",value:function(){var e=this;this.NativeService.getDeviceInfo().then((function(t){e.deviceModel=t.deviceModel,e.deviceManufacturer=t.deviceManufacturer}))}},{key:"getAndroidFingerprintIdWhitelistStatus",value:function(){var e={urlVars:{manufacturer:this.deviceManufacturer,model:this.deviceModel}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_ANDROID_FINGERPRINT_ID_WHITELIST_STATUS,e)}},{key:"getDeviceLoginOfferSettings",value:function(){var e=this;return this.SessionService.getDeviceLoginOfferSettings().then((function(t){var n=(0,i.default)({},t);return n.isFingerprintWizardable=n.isFingerprintIdSetupable&&!(t.fingerprintPrompt&&t.fingerprintPrompt.length>0),n.isFingerprintIdSetupable?e.getAndroidFingerprintIdWhitelistStatus().then((function(e){return e&&e.result||(n.isFingerprintIdSetupable=!1),n.isFingerprintIdSetupable&&e.enable_wizard||(n.isFingerprintWizardable=!1),n})):n}))}}]),e}();r.$inject=["$q","RequesterService","serviceConstants","NativeService","SessionService"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(15)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c,u,d){(0,a.default)(this,e),this.$q=n,this.$http=i,this.$log=t,this.$location=s,this.SessionService=l,this.ErrorService=r,this.EnvironmentService=o,this.errorConstants=c,this.authConstants=u,this.loginConstants=d,this.isLogin=!0}return(0,s.default)(e,[{key:"metroPost",value:function(e,t){var n=this,i=t;this.$log.debug("post object"),this.$log.debug(e);var a=this.$q.defer();return this.$http({method:"post",url:this.base+"/Tangerine.html",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","x-web-flavour":"fbe"},data:this.buildParam(e,!0),withCredentials:this.isLogin}).success((function(t){e.acn&&(n.SessionService.clientIdentifier=e.acn),n.handleHTTPSuccess(t,i,a)})).error((function(e){n.processError(e,a)})),a.promise}},{key:"metroGet",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Tangerine.html",s=this.$q.defer();return this.$http({method:"get",url:this.base+"/"+a+"?command="+e+"&device=web",headers:{"x-web-flavour":"fbe"},withCredentials:this.isLogin,params:t}).success((function(e){i.bypassRedirect?s.resolve(e):n.handleHTTPSuccess(e,void 0,s)})).error((function(e){n.processError(e,s)})),s.promise}},{key:"handleHTTPSuccess",value:function(e,t,n){var i=this;this.$log.debug("In _handleHTTPSuccess"),this.$log.debug("data is",e),this.$log.debug("params are",t);var a=void 0;try{if(e.indexOf(this.loginConstants.REDIRECT_PATHS.ERROR_MOBILEPLUS)>-1?(this.$log.debug("error on post"),a=this.errorConstants.LOGIN_ERRORS.LOGIN_MOBILE_PLUS):e.indexOf(this.loginConstants.REDIRECT_PATHS.ERROR_MOBILEPLUS_NATIVE)>-1?a=this.errorConstants.LOGIN_ERRORS.LOGIN_MOBILE_PLUS_NATIVE:e.indexOf(this.loginConstants.REDIRECT_PATHS.ERROR)>-1?a=this.errorConstants.LOGIN_ERRORS.LOGIN_ERROR:e.indexOf(this.loginConstants.REDIRECT_PATHS.TIMEOUT)>-1&&(a=this.errorConstants.LOGIN_ERRORS.LOGIN_TIMEOUT,this.SessionService.isTimeout=!0),a)return this.isLogin&&(this.SessionService.nextStep=this.authConstants.steps.INIT),void this.processError(a,n);if(void 0!==t&&e.indexOf(t.currentCommand)>-1)return this.isLogin&&(this.SessionService.nextStep=this.authConstants.steps.INIT),void this.processError("",n);if(void 0!==t&&t.acceptedCommands.length>0){if(this.$log.debug("determine routing"),t.acceptedCommands[0].callback=!0,!(e.indexOf(t.acceptedCommands[0].command)>-1))return void this._followTPWRedirect(e,n).then((function(e){i.$log.debug("_followTPWRedirect, deferData",e)}));if(this.$log.debug("found match on command: ",t.acceptedCommands[0].command),void 0!==t.acceptedCommands[0].route)return this.$log.debug("routing to ",t.acceptedCommands[0].route),void this.$location.url(t.acceptedCommands[0].route);if(t.acceptedCommands[0].callback)return void this._followTPWRedirect(e,n).then((function(e){n.resolve(e.data)}))}}catch(e){}n.resolve(e)}},{key:"buildParam",value:function(e,t){var n=t,a="",s=void 0;return n=void 0!==n&&!0===n,(0,i.default)(e).forEach((function(t){(s=e[t])instanceof Array?s.forEach((function(i,s){({})[n?t:t+"["+s+"]"]=i,a+=e.innerObj})):s instanceof Object?(0,i.default)(s).forEach((function(i){var o=s[i];({})[n?t:t+"["+i+"]"]=o,a+=e.innerObj})):a+=null!=s?encodeURIComponent(t)+"="+encodeURIComponent(s)+"&":encodeURIComponent(t)+"=&"})),a.length?a.substr(0,a.length-1):a}},{key:"processError",value:function(e,t){var n=e?e.status:"";this.ErrorService.processError(e,this.errorConstants.AVAILABLE_EVENTS.LOGIN_WEB_ERROR).then((function(i){t.reject({data:e,status:n,errorMessage:i.message})})).catch((function(){t.reject({})}))}},{key:"_followTPWRedirect",value:function(e,t){var n=this;if("string"==typeof e){var i=e.match(this.loginConstants.REGEX_REDIRECT)[1].trim();return i=this.base+i,this.$log.debug("following: "+i),this.$http({method:"get",url:i,headers:{"x-web-flavour":"fbe"},withCredentials:this.isLogin}).success((function(e){void 0!==e.MessageHeader&&void 0!==e.MessageHeader.ErrorMessage?(n.isLogin&&n.saveResponseToSession(e),t.reject({errorMessage:e.MessageHeader.ErrorMessage})):(n.$log.debug("_followTPWRedirect, data",e),n.isLogin&&n.saveResponseToSession(e),t.resolve(e))})).error((function(e){n.processError(e,t)}))}return t}},{key:"saveResponseToSession",value:function(e){var t='location.replace("'+this.loginConstants.LOGIN_PATHS.TANG_HTML+"?command="+this.loginConstants.LOGIN_COMMANDS.DISPLAY_ACCOUNT_SUMMARY;if(e&&e.MessageBody){var n=e.MessageBody;switch(this._setSessionProp("device",n.Device),this._setSessionProp("locale",n.Locale),this._setSessionProp("device",n.device),this._setSessionProp("locale",n.locale),this._setSessionProp("nextStep",this._translateTPWViewToCommand(e.MessageHeader.View)),this._setSessionProp("nextCommand",n.Command),this._setSessionProp("clientIdentifier",n.ClientID),this._setSessionProp("securityQuestion",n.Question),this._setSessionProp("showCaptcha",n.ShowCaptcha),this._setSessionProp("isPinLockedInPinPage","true"===n.IsPinLock||n.LockOut),this._setSessionProp("isPinLocked","true"===n.IsPinLock||"IsPinLock"in n&&void 0===n.IsPinLock||n.LockOut),this._setSessionProp("showForgotPinLink","true"===n.ResetPINAvailable),this._setSessionProp("isDeviceBound","true"===n.IsDeviceBound),this._setSessionProp("fido2InitAuth",n.Fido2InitAuth),n.Phrase&&(this.SessionService.passmark=this.SessionService.passmark||{},this.SessionService.passmark.phrase=n.Phrase),this._setSessionProp("firstTime",!!n.LoginEnrollmentInformation),n.ChangePassMarkQuestion&&this._setSessionProp("firstTime",n.ChangePassMarkQuestion),n.Command){case this.loginConstants.LOGIN_COMMANDS.VALIDATE_BUSINESS_CIF:this.SessionService.savedBusinessIds=n.SavedUserId?this._translateTPWSavedIds(n.SavedUserId):[];break;case this.loginConstants.LOGIN_COMMANDS.PERSONALCIF:this.SessionService.savedUserIds=n.SavedUserId?this._translateTPWSavedIds(n.SavedUserId):[];break;case this.loginConstants.LOGIN_COMMANDS.VALIDATE_AICIF:default:this.SessionService.savedAuthorizedIds=n.SavedUserId?this._translateTPWSavedIds(n.SavedUserId):[]}}else e&&"string"==typeof e&&e.indexOf(t)&&(this.SessionService.authenticated=!0)}},{key:"_setSessionProp",value:function(e,t){void 0!==t&&(this.SessionService[e]=t)}},{key:"_translateTPWViewToCommand",value:function(e){var t=this.authConstants.tpwSteps,n=this.authConstants.steps;switch(e){case t.CIF:return n.CIF;case t.AIF:return n.AIF;case t.QUESTION:return n.QUESTION;case t.PIN:return n.PIN;default:return n.CIF}}},{key:"_translateTPWSavedIds",value:function(e){return e||0!==e.length?e.map((function(e){return{rememberMeHash:e.Index,nameToRemember:e.Label,tpwRaw:e}})):[]}},{key:"base",get:function(){return this.EnvironmentService.getAPIUrl()+"/web"}}]),e}();r.$inject=["$log","$q","$http","$location","EnvironmentService","ErrorService","SessionService","errorConstants","authConstants","loginConstants"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s){(0,i.default)(this,e),this.$q=t,this.$rootScope=n,this.RequesterService=a,this.AVAILABLE_SERVICES=s.AVAILABLE_SERVICES,this.configData=null,this.lastRefresh=-1,this.LAST_REFRESH_DELAY=6e4}return(0,a.default)(e,[{key:"_init",value:function(){var e=this,t=this.$q.defer();return this.RequesterService.request(this.AVAILABLE_SERVICES.GET_CONFIGURATION).then((function(n){n||t.reject(),e.configData=n,e._configRootScopeProperties(n),t.resolve(n)})).catch((function(e){t.reject(e)})),t.promise}},{key:"_configRootScopeProperties",value:function(e){e.mevo&&void 0!==e.mevo["mevo.enable"]?this.$rootScope.enableChat=e.mevo["mevo.enable"]:this.$rootScope.enableChat=!0,e.touchId&&void 0!==e.touchId["android.fingerPrint.enabled"]&&void 0!==e.touchId["ios.touchId.enabled"]?(this.$rootScope.android&&"false"===e.touchId["android.fingerPrint.enabled"]||!this.$rootScope.android&&"false"===e.touchId["ios.touchId.enabled"])&&(this.$rootScope.touchIdDisabled=!0):this.$rootScope.touchIdDisabled=!1,e.dynatrace&&void 0!==e.dynatrace["dynatrace.analytics.enabled"]&&(this.$rootScope.dynatraceEnabled=!!e.dynatrace["dynatrace.analytics.enabled"]),e.featureDisable&&void 0!==e.featureDisable["feature.visitor.enroll.disabled"]&&(this.$rootScope.featureDisableVisitorEnroll="true"===e.featureDisable["feature.visitor.enroll.disabled"]),e.featureDisable&&void 0!==e.featureDisable["feature.settings.aboutme.disabled"]&&(this.$rootScope.featureDisableSettingsAboutMe="true"===e.featureDisable["feature.settings.aboutme.disabled"])}},{key:"getConfig",value:function(){var e=this.$q.defer(),t=Date.now();return!this.configData||this.configData&&t-this.lastRefresh<this.LAST_REFRESH_DELAY?(this.lastRefresh=t,this._init().then((function(t){e.resolve(t)}))):e.resolve(this.configData),e.promise}},{key:"getRAF",value:function(){return this.RequesterService.request(this.AVAILABLE_SERVICES.GET_RAF)}}]),e}();o.$inject=["$q","$rootScope","RequesterService","serviceConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r){(0,i.default)(this,e),this.RequesterService=t,this.serviceConstants=n,this.firstLoginConstants=a,this.$q=s,this.$log=o,this.$window=r,this.iovation={ioBb:"",fpBb:""}}return(0,a.default)(e,[{key:"collectIovationData",value:function(){this.$log.debug("IovationService : Retrieving Iovation Data.");try{this.iovation.fpBb=this.$window.fpGetBlackbox().blackbox,this.iovation.ioBb=this.$window.ioGetBlackbox().blackbox}catch(e){this.$log.debug("TPW: collectIovationData failed. Error ",e)}this.$log.debug("fbBB ="+this.iovation.fpBb),this.$log.debug("ioBB ="+this.iovation.ioBb)}},{key:"getBlackBox",value:function(){return[this.iovation.fpBb,this.iovation.ioBb].filter((function(e){return e})).join(";")}}]),e}();o.$inject=["RequesterService","serviceConstants","firstLoginConstants","$q","$log","$window"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(104)),a=l(n(269)),s=l(n(8)),o=l(n(0)),r=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,i,a){(0,o.default)(this,e),(0,s.default)(this,{$log:t,$translate:n,serviceConstants:i,$filter:a}),this.init()}return(0,r.default)(e,[{key:"init",value:function(){this.submitErrors=[]}},{key:"showSubmitErrors",value:function(e){var t=this;e.confirmations&&e.confirmations.length&&(e.confirmations[0].errors||[]).forEach((function(e){t.submitErrors.push(t.$translate.instant("global.errorCodes."+e.code))}));if(this.serviceConstants.RESPONSE_ERRORS.ERROR_MESSAGE in e&&this.submitErrors.push(e.errorMessage),e.response_status&&this.serviceConstants.RESPONSE_ERRORS.DETAILS in e.response_status){var n=new a.default;e.response_status.details.forEach((function(e){e.details_code===t.serviceConstants.STATUS_CODES.PO_BOX_NOT_ALLOWED?n.add(t.$translate.instant("global.errorCodes."+e.details_code)):n.add(e.field_name?t.parseDescription(e):e.technical_description)})),n.forEach((function(e){return t.submitErrors.push(e)}))}0===this.submitErrors.length&&this.serviceConstants.RESPONSE_ERRORS.STATUS_CODE in e.response_status&&-1===this.serviceConstants.SUCCESS_STATUS_CODES.indexOf(e.response_status.status_code)&&this.submitErrors.push(this.$translate.instant("global.errorCodes."+e.response_status.return_code)),this.$log.debug("formatted error:",this.submitErrors)}},{key:"hasErrors",value:function(){return this.submitErrors&&this.submitErrors.length>0}},{key:"resetSubmitErrors",value:function(){this.submitErrors=[]}},{key:"parseDescription",value:function(e){if(-1!==this.serviceConstants.RESPONSE_DETAILS_ERROR_CODES.indexOf(e.details_code))return""+e.technical_description;var t=e.field_name.split(".").slice(-1),n=(0,i.default)(t,1)[0],a=this.$filter("normalizeType")(n);return this.$translate.instant("global.errorCodes."+e.details_code)+": "+a+" - "+e.technical_description}}]),e}();c.$inject=["$log","$translate","serviceConstants","$filter"],t.default=c,e.exports=t.default},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(33)),a=r(n(269)),s=r(n(0)),o=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,a,o,r,l,c,u){(0,s.default)(this,e),this.$log=t,this.RequesterService=n,this.serviceConstants=i,this.OrangeAlertsConstants=a,this.accountHelpersService=o,this.nativeService=l,this.$q=r,this.environmentService=c,this.AnalyticsService=u,this.AVAILABLE_SERVICES=i.AVAILABLE_SERVICES}return(0,o.default)(e,[{key:"initializeCustomerData",value:function(){var e=this;this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_INFO).then((function(t){e._customer={address_list:t.customer.address_list,client_number:t.customer.client_number,email:t.customer.email,phone_list:t.customer.phone_list}}))}},{key:"initializeAccountDict",value:function(){var e=this;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.ACCOUNT_SUMMARY).then((function(t){t.accounts&&(e.accountsDict={},t.accounts.forEach((function(t){e.accountsDict[t.display_name]=t})))}))}},{key:"initialize",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_ORANGE_ALERTS)}},{key:"initializeLtsAlert",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_LTS_STATUS)}},{key:"update",value:function(e,t){var n=this,i=[];if(this._customer.email=t,!t)for(var a=0;a<e.alert_channels.length;a++)e.alert_channels[a].channel_id.toUpperCase().indexOf("EMLP")>=0&&(e.alert_channels[a].active=!1);this.ltsFlag=!1,this.ltsFound=!1;for(var s=0;s<e.alert_notifications.length;s++)"LTS"===e.alert_notifications[s].alert_type&&(this.ltsFlag=e.alert_notifications[s].active,this.ltsFound=!0);this.ltsFound&&i.push(this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.SET_BUDGET_LTS_STATUS,{data:{budget_settings_details:{budget_notification:{over_threshold_enabled:this.ltsFlag}}}}));var o=e.alert_notifications.find((function(e){return"LTS"===e.alert_type}));if(o){var r=e.alert_notifications.indexOf(o);-1!==r&&e.alert_notifications.splice(r,1)}return i.push(this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_ORANGE_ALERTS,{data:{alert_notification_group:e}})),t&&i.push(this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_INFO,{data:{customer:this._customer}})),this.$q.all(i).then((function(e){return n._orangeAlertsPromise=void 0,e.every((function(e){return void 0!==e.response_status?n.OrangeAlertsConstants.API_CALL_RESPONSES.SUCCESS===e.response_status.status_code:n.OrangeAlertsConstants.API_CALL_RESPONSES.SUCCESS===e.status_code}))}))}},{key:"getDeliverAlertsTo",value:function(e){var t=this;return this.initialize().then((function(n){var s,o={destinations:(s={},(0,i.default)(s,t.OrangeAlertsConstants.DELIVER_ALERT_GROUP.EMAIL,new a.default),(0,i.default)(s,t.OrangeAlertsConstants.DELIVER_ALERT_GROUP.ALT_EMAIL,[]),(0,i.default)(s,t.OrangeAlertsConstants.DELIVER_ALERT_GROUP.DEVICES,[]),s),possibleDevices:[]};return e&&o.destinations[t.OrangeAlertsConstants.DELIVER_ALERT_GROUP.EMAIL].add(e),n.alert_notification_group&&n.alert_notification_group.alert_channels&&n.alert_notification_group.alert_channels.forEach((function(e){t.OrangeAlertsConstants.DELIVER_ALERT_CHANNEL.EMLP===e.channel_id&&e.email?o.destinations[t.OrangeAlertsConstants.DELIVER_ALERT_GROUP.EMAIL].add(e.email):t.OrangeAlertsConstants.DELIVER_ALERT_CHANNEL.EMLA===e.channel_id&&e.email?e.active&&o.destinations[t.OrangeAlertsConstants.DELIVER_ALERT_GROUP.ALT_EMAIL].push(e.email):(e.active&&o.destinations[t.OrangeAlertsConstants.DELIVER_ALERT_GROUP.DEVICES].push(e.alias),o.possibleDevices.push(e))})),o}))}},{key:"getCCalerts",value:function(){var e=this;return this.initialize().then((function(t){var n=[];return e._forEachAlertNotification(t,(function(t){t.category===e.OrangeAlertsConstants.ALERT_CATEGORY.CREDITCARD&&n.push(e._addCCAlert(t))})),n}))}},{key:"getDCalerts",value:function(){var e=this;return this.initialize().then((function(t){var n=[];return e._forEachAlertNotification(t,(function(t){e.OrangeAlertsConstants.DEBIT_CARD_ALERTS[t.alert_type]&&n.push(e.addDCAlert(t))})),n}))}},{key:"addDCAlert",value:function(e){var t=this,n=!0,i=void 0;return e.criteria.forEach((function(e){t.accountsDict&&e.account_number&&t.accountHelpersService.getDisplayName(t.accountsDict[e.account_number]).then((function(t){e.accountDisplayName=t})),i=e.threshold,e.active||(n=!1)})),{active:e.active,criteria:e.criteria,key:e.alert_type,nrOfAccounts:n?this.OrangeAlertsConstants.ACCOUNT_AND_CACHE_CATEGORY.FOR_ALL_ACCOUNTS:this.OrangeAlertsConstants.ACCOUNT_AND_CACHE_CATEGORY.FOR_SELECTED_ACCOUNTS,allAccountBoolean:n,value:i}}},{key:"_addCCAlert",value:function(e){return{key:e.alert_type,criteria:e.criteria,value:e.criteria&&e.criteria[0]?e.criteria[0].threshold:void 0,active:e.active}}},{key:"getActiveChequingAndSavingsAccountAlerts",value:function(){var e=this;return this.initialize().then((function(t){var n=[];return e._forEachAlertNotification(t,(function(t){if(e.OrangeAlertsConstants.ACCOUNT_AND_CACHE_CATEGORY[t.alert_type]&&t.criteria){var i=!0,a=void 0;t.criteria.forEach((function(t){e.accountsDict&&t.account_number&&e.accountHelpersService.getDisplayName(e.accountsDict[t.account_number]).then((function(e){t.accountDisplayName=e})),a=t.threshold,t.active||(i=!1)})),n.push({active:t.active,criteria:t.criteria,key:t.alert_type,nrOfAccounts:i?e.OrangeAlertsConstants.ACCOUNT_AND_CACHE_CATEGORY.FOR_ALL_ACCOUNTS:e.OrangeAlertsConstants.ACCOUNT_AND_CACHE_CATEGORY.FOR_SELECTED_ACCOUNTS,allAccountBoolean:i,value:a})}})),n}))}},{key:"getGeneralAlerts",value:function(){var e=this;return this.initialize().then((function(t){var n,a=(n={},(0,i.default)(n,e.OrangeAlertsConstants.GENERAL_ALERTS.SNAPSHOT_ENABLED,!1),(0,i.default)(n,e.OrangeAlertsConstants.GENERAL_ALERTS.ESTMT,!1),n);return t.alert_notification_group&&t.alert_notification_group.snapshot_enabled&&(a[e.OrangeAlertsConstants.GENERAL_ALERTS.SNAPSHOT_ENABLED]=!0),e._forEachAlertNotification(t,(function(t){t.active&&e.OrangeAlertsConstants.GENERAL_ALERTS.ESTMT===t.alert_type&&(a[e.OrangeAlertsConstants.GENERAL_ALERTS.ESTMT]=!0)})),a}))}},{key:"getLtsAlerts",value:function(){var e=this;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_LTS_STATUS).then((function(t){var n,a=(n={},(0,i.default)(n,e.OrangeAlertsConstants.LTS_ALERTS.LTS,!1),(0,i.default)(n,e.OrangeAlertsConstants.LTS_ALERTS.BUDGET_ENABLED,!1),(0,i.default)(n,e.OrangeAlertsConstants.LTS_ALERTS.HAS_ACTIVE_BUDGET,!1),n);return t.budget_settings_details&&t.budget_settings_details.budget_notification&&t.budget_settings_details.budget_notification.over_threshold_enabled&&(a[e.OrangeAlertsConstants.LTS_ALERTS.LTS]=!0),t.budget_settings_details&&(a[e.OrangeAlertsConstants.LTS_ALERTS.BUDGET_ENABLED]=t.budget_settings_details.is_budgets_enabled,a[e.OrangeAlertsConstants.LTS_ALERTS.HAS_ACTIVE_BUDGET]=t.budget_settings_details.has_active_budget),a}))}},{key:"getTLOCalerts",value:function(){var e=this;return this.initialize().then((function(t){var n=[];return e._forEachAlertNotification(t,(function(t){e.OrangeAlertsConstants.TLOC_ALERTS[t.alert_type]&&n.push(e._addTLOCAlert(t))})),n}))}},{key:"_addTLOCAlert",value:function(e){if(e.criteria&&e.criteria[0]){var t=void 0;return e.criteria.forEach((function(e){t=e.threshold})),{active:e.active,criteria:e.criteria,key:e.alert_type,value:t}}return{key:e.alert_type,value:e.criteria&&e.criteria[0]?e.criteria[0].threshold:void 0,active:e.active}}},{key:"_forEachAlertNotification",value:function(e,t){e.alert_notification_group&&e.alert_notification_group.alert_notifications&&e.alert_notification_group.alert_notifications.forEach(t)}},{key:"registerDevice",value:function(){var e=this;this.nativeService.getPushToken().then((function(t){t&&t.model?e._requestRegisterDevice({push_id:t.pushToken,channel_id:e._getChannelId(),device_model:t.model,nickname:t.nickname,device_manufacturer:t.manufacturer}).then((function(t){e.$log.debug("registerDevice success:",t)}),(function(t){e.AnalyticsService.sendAction(e.AnalyticsService.availableEvents.ORANGE_ALERT_REG_ERROR,"server"),e.$log.error("registerDevice error:",t)})):e.AnalyticsService.sendAction(e.AnalyticsService.availableEvents.ORANGE_ALERT_REG_ERROR,"null")}),(function(t){e.$log.error("getPushToken error:",t),e.AnalyticsService.sendAction(e.AnalyticsService.availableEvents.ORANGE_ALERT_REG_ERROR,"native")}))}},{key:"_getChannelId",value:function(){return this.environmentService.isIOS()?this.environmentService.isTablet()?this.OrangeAlertsConstants.DELIVER_ALERT_CHANNEL.IPAD:this.OrangeAlertsConstants.DELIVER_ALERT_CHANNEL.APPLE:this.OrangeAlertsConstants.DELIVER_ALERT_CHANNEL.ANDROID}},{key:"_requestRegisterDevice",value:function(e){return this.RequesterService.request(this.AVAILABLE_SERVICES.REGISTER_DEVICE,{data:e,noError:!0})}}]),e}();l.$inject=["$log","RequesterService","serviceConstants","OrangeAlertsConstants","AccountHelpersService","$q","NativeService","EnvironmentService","AnalyticsService"],t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(68)),a=d(n(104)),s=d(n(8)),o=d(n(0)),r=d(n(2)),l=d(n(271)),c=d(n(116)),u=n(558);function d(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t,n,i,a,s,r,l,c,u,d,_,E){(0,o.default)(this,e),this.$log=t,this.cifTypeService=i,this.RequesterService=n,this.serviceConstants=a,this.customerConstants=s,this.userSettingsConstants=r,this.$q=l,this.accountConstants=c,this.$httpParamSerializer=u,this.API_CONST=this.customerConstants.API,this.ACCOUNT_TYPES=this.accountConstants.ACCOUNT_TYPES,this.DateService=d,this.accountHelpersService=_,this.EnvironmentService=E,this.customerCIF=null}return(0,r.default)(e,[{key:"getStatementAccounts",value:function(){var e=this;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_STATEMENT_ACCOUNTS).then((function(t){var n=[];return(t.fromAccounts||[]).forEach((function(t){e.accountHelpersService.getDisplayName(t).then((function(i){var a=e.EnvironmentService.isPhone()?10:20,o=t.nickname?t.nickname:i;o.length>a&&(o=o.substring(a,0)+"...");var r=e.accountHelpersService.getMaskedAccountNumber(t.display_name);(0,s.default)(t,{label:o+"   "+r,amount:e.accountHelpersService.getAmountDisplay(t.account_balance,t.currency_type)}),n.push(t)}))})),e.$q.resolve(e.updateAccount(t,n))}))}},{key:"getCardFeeAccounts",value:function(){var e=this;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CARD_FEE_ACCOUNTS).then((function(t){var n=[];return(t.fromAccounts||[]).forEach((function(t){e.accountHelpersService.getDisplayName(t).then((function(i){var a=e.EnvironmentService.isPhone()?10:20,o=t.nickname?t.nickname:i;o.length>a&&(o=o.substring(a,0)+"...");var r=e.accountHelpersService.getMaskedAccountNumber(t.display_name);(0,s.default)(t,{label:o+"   "+r,amount:e.accountHelpersService.getAmountDisplay(t.account_balance,t.currency_type)}),n.push(t)}))})),e.$q.resolve(e.updateAccount(t,n))}))}},{key:"updateAccount",value:function(e,t){return e.fromAccounts=t,e}},{key:"getCustomerInfo",value:function(e){var t=this;if(e){var n={urlVars:{}};return e&&e.include_servicing_systems&&(n.urlVars.include_servicing_systems=e.include_servicing_systems),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_INFO_QUERY,n).then((function(e){return e&&e.customer&&(t.customerCIF=e.customer.client_number),e}))}return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_INFO).then((function(e){return e&&e.customer&&(t.customerCIF=e.customer.client_number),e}))}},{key:"isQuebecResident",value:function(){var e=this;return this.getCustomerInfo().then((function(t){return t.customer.address_list&&t.customer.address_list.length>0&&t.customer.address_list.some((function(t){return t.address_type===e.customerConstants.API.ADDRESS_TYPE.HOME&&"QC"===t.province}))})).catch((function(t){return e.$log.error("Failed to determine QC residency",t),!1}))}},{key:"isNonResident",value:function(){var e=this;return this.getCustomerInfo().then((function(t){return t.customer.resident.resident_type===e.customerConstants.API.NON_RESIDENT})).catch((function(t){return e.$log.error("Failed to determine non-residency",t),!0}))}},{key:"getCustomerInfoAI",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_INFO_AI)}},{key:"putCustomerInfo",value:function(e){var t={data:e};return this.$log.debug("PUT Customer Info Payload/Request: ",e),this.cifTypeService.didParentSwitchToChild()?(t.urlVars={id:this.cifTypeService.selectedCif.customerInfo.dependent_id},t.data=e[this.customerConstants.CUSTOMER_JSON_KEY],this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_DEPENDENT,t)):this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_INFO,t)}},{key:"getChildDataAndUpdateDependentInfo",value:function(e){var t=this;return this.getCustomerDependent(e.customerInfo.dependent_id).then((function(n){t.$log.debug("User Settings, DependentInfo: ",n);var i=t.cifTypeService.parentCifOptions.find((function(t){return t.cif===e.cif}));i&&(i.customerInfo=n)})).catch((function(e){t.serviceErrors.push(e),t.$log.error(e)}))}},{key:"getCustomerUsername",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_USERNAME)}},{key:"putCustomerUsername",value:function(e){var t={data:e};return this.$log.debug("PUT Customer Username Payload/Request: ",e),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_USERNAME,t)}},{key:"putCustomerNewPIN",value:function(e){var t={data:{action_code:this.userSettingsConstants.ACTION_CODES.UPDATE_PIN,current_pin:e.currentPIN,new_pin:e.newPIN}};return this.cifTypeService.didParentSwitchToChild()?(t.urlVars={id:this.cifTypeService.selectedCif.customerInfo.dependent_id},this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_NEW_PIN_DEPENDENT,t)):this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_NEW_PIN,t)}},{key:"getCustomerPassmark",value:function(){return this.cifTypeService.didParentSwitchToChild()?this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_PASSMARK_DEPENDENT,{urlVars:{id:this.cifTypeService.selectedCif.customerInfo.dependent_id}}):this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_PASSMARK)}},{key:"getCustomerPassmarkImagesByCategory",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PASSMARK_IMAGES_BY_CATEGORY_UPDATE,{urlVars:{image_category:e,cache_bust:Math.floor(2e3*Math.random()+1)}})}},{key:"putCustomerPassmark",value:function(e){var t={data:{answers_list:this._pruneAnswers(e)}};return e.phrase&&(t.data.phrase=e.phrase),e.image_id&&(t.data.image_id=e.image_id),this.$log.debug("PUT Passmark payload: ",t.data),this.cifTypeService.didParentSwitchToChild()?(t.urlVars={id:this.cifTypeService.selectedCif.customerInfo.dependent_id},this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_PASSMARK_DEPENDENT,t)):this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_PASSMARK,t)}},{key:"putCustomerDevice",value:function(e){var t={data:{action_code:e.action_code}};return e.device_print&&(t.data.device_request={},t.data.device_request.device_print=e.device_print),this.cifTypeService.didParentSwitchToChild()?(t.urlVars={id:this.cifTypeService.selectedCif.customerInfo.dependent_id},this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_NEW_PIN_DEPENDENT,t)):this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_NEW_PIN,t)}},{key:"getCustomerPreferences",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.CUSTOMER_PREFERENCES)}},{key:"putCustomerPreferences",value:function(e){var t={data:{communication:e}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_PREFERENCES,t)}},{key:"getCustomerDependent",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_DEPENDENT,{urlVars:{id:e}})}},{key:"getCustomerCards",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1,s=!1;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.ACCOUNT_SUMMARY).then((function(o){return o.accounts.forEach((function(t){-1!==[e.ACCOUNT_TYPES.CHEQUING,e.ACCOUNT_TYPES.SAVINGS].indexOf(t.type)&&(n=!0),e.ACCOUNT_TYPES.CREDIT_CARD===t.type&&(s=!0)})),n&&s?(e.$log.debug("get debit and credit cards"),e.$q.all([e.getCustomerDebitCards(),e.getCustomerCreditCards(t)]).then((function(e){var t=(0,a.default)(e,2),n=t[0],s=t[1],o=n.cards||[],r=s.cards||[];return{cards:[].concat((0,i.default)(o),(0,i.default)(r))}}))):n?(e.$log.debug("get only debit cards"),e.getCustomerDebitCards().then((function(e){var t=e.cards||[];return{cards:[].concat((0,i.default)(t),[[]])}}))):s?(e.$log.debug("get only credit cards"),e.getCustomerCreditCards(t).then((function(e){var t=e.cards||[];return{cards:[[]].concat((0,i.default)(t))}}))):(e.$log.debug("user has no cards"),{cards:[[],[]]})}))}},{key:"getCustomerDebitCards",value:function(e){var t={type:this.customerConstants.API.CARD.TYPE.DEBIT.KEY,accountHash:e},n={urlVars:{queryString:this.$httpParamSerializer(t)}},i=this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_CARDS;return this.RequesterService.request(i,n)}},{key:"getCustomerCreditCards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={urlVars:{queryString:this.$httpParamSerializer({type:this.customerConstants.API.CARD.TYPE.CREDIT.KEY})}},n=this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_CARDS;return this.RequesterService.request(n,t,e)}},{key:"getCustomerBonusInfo",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.CUSTOMER_BONUS_INFO)}},{key:"getPreApprovedCreditCardOffer",value:function(){var e=this;return this.getCustomerOffers("CCPA",!1,"CBK").then((function(t){e.$log.info("CC response",t);var n=(0,c.default)(t,"response_status.status_code");if(n!==e.serviceConstants.STATUS_CODES.SUCCESS)return e.$log.error("Error getting CC offer",n,t),null;if((0,l.default)(t.offers))return e.$log.debug("No CC offer"),null;var i=t.offers[0];return i.isPreApprovedCreditCard=!0,i.offerExpiryDate=e.DateService.momentToTngDate(e.DateService.serverFormatToMoment(i.credit_card_offer_details.expiry_date)),i})).catch((function(t){throw e.$log.error("Error getting CC offer",t),t}))}},{key:"getSingleActiveCustomerOffer",value:function(e,t){var n=this;return this.getCustomerOffers(e,!1,t).then((function(t){return t&&t.offers&&t.offers.length&&t.offers.find((function(t){return"ACTIV"===t.offer_status&&t.offer_type===e}))||null})).catch((function(e){n.$log.error("Error getting promotional offers: "+e)}))}},{key:"getCustomerOffers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={};return e&&(i["offer-type"]=e),t!==u.isNullOrUndefined&&(i["fetch-all"]=t),n&&(i["product-code"]=n),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.CUSTOMER_OFFERS,{urlVars:{queryString:this.$httpParamSerializer(i)}})}},{key:"updateCustomerOffers",value:function(e,t){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.UPDATE_CUSTOMER_OFFERS,{urlVars:{offerId:t},data:e})}},{key:"getCustomerConsents",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CUSTOMER_CONSENTS)}},{key:"putCustomerConsents",value:function(e){var t={data:e};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_CUSTOMER_CONSENTS,t)}},{key:"getCapabilities",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.USER_CAPABILITIES_NO_QUERY)}},{key:"getPendingTransaction",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PENDING_TRANSACTIONS,{urlVars:{queryString:null}})}},{key:"getAccounts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.$httpParamSerializer(e),n={urlVars:{queryString:t}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.REQUEST_ACCOUNTS,n)}},{key:"_didResponseSucceed",value:function(e){return e.response_status.status_code===this.API_CONST.RESPONSE_CODES.SUCCESS||e.response_status.status_code===this.API_CONST.RESPONSE_CODES.NO_DATA}},{key:"_pruneAnswers",value:function(e){return e.answers_list.map((function(e){var t=e;return delete t.question,t}))}},{key:"getForeignTaxResidencyCertification",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_TAX_RESIDENCY_CERTIFICATION)}},{key:"getChildForeignTaxResidencyCertification",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CHILD_TAX_RESIDENCY_CERTIFICATION,{urlVars:{dependentId:e}})}},{key:"putForeignTaxResidencyCertification",value:function(e){var t=this.serviceConstants.AVAILABLE_SERVICES.PUT_TAX_RESIDENCY_CERTIFICATION,n={data:e};return this.RequesterService.request(t,n)}},{key:"putChildForeignTaxResidencyCertification",value:function(e,t){var n=this.serviceConstants.AVAILABLE_SERVICES.PUT_CHILD_TAX_RESIDENCY_CERTIFICATION,i={data:e};return i.urlVars={dependentId:t},this.RequesterService.request(n,i)}},{key:"deleteAllRememberDevices",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.DELETE_REMEMBER_ME_ALL)}},{key:"createTlocApplication",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.CREATE_TLOC_APPLICATION,{data:e})}},{key:"createTermLoanApplication",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.CREATE_TERMLOAN_APPLICATION,{data:{validate_client_eligibility:e}})}}]),e}();_.$inject=["$log","RequesterService","CifTypeService","serviceConstants","customerConstants","UserSettingsConstants","$q","accountConstants","$httpParamSerializer","DateService","AccountHelpersService","EnvironmentService"],t.default=_,e.exports=t.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r){var l=this;(0,i.default)(this,e),this.$log=t,this.$timeout=n,this.userSettingsConstants=a,this.$rootScope=s,this.EventBusService=o,this.appStateConstants=r,this._init(),this.EventBusService.subscribe(this.$rootScope,this.appStateConstants.APPLICATION_LOGOUT,(function(){return l._init()}))}return(0,a.default)(e,[{key:"_init",value:function(){this.currentCifType=this.userSettingsConstants.CIF_TYPES.NORMAL.KEY,this.isSwitchingCifs=!1,this.selectedCif=!1,this.parentCifOptions=[],this.isKYCPending=!1,this.isAMLHighRisk=!1}},{key:"findCurrentCifType",value:function(e,t){e&&t&&0!==t.length?(this.isKYCPending=-1!==t.indexOf(this.userSettingsConstants.CIF_TYPES.KYC_PENDING.CAPABILITY)||-1!==t.indexOf(this.userSettingsConstants.CIF_TYPES.KYC_ENROLL.CAPABILITY),-1!==t.indexOf(this.userSettingsConstants.CIF_TYPES.AML_HIGH_RISK.KEY)&&!this.isKYCPending&&(this.isAMLHighRisk=!0),-1===t.indexOf(this.userSettingsConstants.CIF_TYPES.CHILD.CAPABILITY)?e.dependent_info&&e.dependent_info.length>0&&-1!==t.indexOf(this.userSettingsConstants.CIF_TYPES.PARENT.CAPABILITY)?this.currentCifType=this.userSettingsConstants.CIF_TYPES.PARENT.KEY:e.servicing_systems&&1===e.servicing_systems.length&&-1!==e.servicing_systems.indexOf(this.userSettingsConstants.CIF_TYPES.MORTGAGE_ONLY.KEY)&&-1!==t.indexOf(this.userSettingsConstants.CIF_TYPES.MORTGAGE_ONLY.CAPABILITY)?this.currentCifType=this.userSettingsConstants.CIF_TYPES.MORTGAGE_ONLY.KEY:-1===t.indexOf(this.userSettingsConstants.CIF_TYPES.BUSINESS.CAPABILITY)&&-1===t.indexOf(this.userSettingsConstants.CIF_TYPES.BUSINESS_ENROLL.CAPABILITY)?-1===t.indexOf(this.userSettingsConstants.CIF_TYPES.CC_AU.CAPABILITY)?(this.currentCifType=this.userSettingsConstants.CIF_TYPES.NORMAL.KEY,this.$log.debug("CURRENT CIF TYPE: ",this.currentCifType)):this.currentCifType=this.userSettingsConstants.CIF_TYPES.CC_AU.KEY:this.currentCifType=this.userSettingsConstants.CIF_TYPES.BUSINESS.KEY:this.currentCifType=this.userSettingsConstants.CIF_TYPES.CHILD.KEY):this.$log.debug("To use cifTypeService, you must first pass in the responses from GET /customers/my, and GET customers/my/capabilities")}},{key:"setCurrentCifType",value:function(e){this.currentCifType=e}},{key:"createCifModel",value:function(e){return{isParent:e.isParent,name:e.name,cif:e.cif,accountNumber:e.accountNumber,customerInfo:e.customerInfo}}},{key:"switchSelectedCif",value:function(e){var t=this;this.isSwitchingCifs=!0,this.selectedCif=this.parentCifOptions.find((function(t){return t.cif===e.cif})),this.$timeout((function(){t.isSwitchingCifs=!1}),200)}},{key:"switchToParentCif",value:function(){if(this.parentCifOptions.length){var e=this.parentCifOptions[0];this.cifModel=e.cif}}},{key:"isNormal",value:function(){return this.currentCifType===this.userSettingsConstants.CIF_TYPES.NORMAL.KEY||this.isParent()&&!this.didParentSwitchToChild()}},{key:"isParent",value:function(){return this.currentCifType===this.userSettingsConstants.CIF_TYPES.PARENT.KEY}},{key:"isNonChild",value:function(){return this.currentCifType!==this.userSettingsConstants.CIF_TYPES.CHILD.KEY}},{key:"isChild",value:function(){return this.currentCifType===this.userSettingsConstants.CIF_TYPES.CHILD.KEY||this.didParentSwitchToChild()}},{key:"didParentSwitchToChild",value:function(){return this.selectedCif&&!this.selectedCif.isParent}},{key:"isMortgageOnly",value:function(){return this.currentCifType===this.userSettingsConstants.CIF_TYPES.MORTGAGE_ONLY.KEY}},{key:"isBusiness",value:function(){return this.currentCifType===this.userSettingsConstants.CIF_TYPES.BUSINESS.KEY}},{key:"isCCAU",value:function(){return this.currentCifType===this.userSettingsConstants.CIF_TYPES.CC_AU.KEY}}]),e}();o.$inject=["$log","$timeout","UserSettingsConstants","$rootScope","EventBusService","appStateConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=g(n(0)),a=g(n(2)),s=g(n(1248)),o=g(n(150)),r=g(n(413)),l=g(n(297)),c=g(n(1249)),u=g(n(46)),d=g(n(298)),_=g(n(1250)),E=g(n(1251)),h=g(n(151)),S=g(n(296)),T=g(n(1252)),p=g(n(215)),f=g(n(1253));function g(e){return e&&e.__esModule?e:{default:e}}var A={commonBundle:s.default,onboardingBundle:o.default,billsBundle:r.default,rdcBundle:l.default,appReviewBundle:c.default,accountDetailsBundle:u.default,mobileTermsConditionsOffersBundle:d.default,contactUsBundle:_.default,eNotificationBundle:E.default,goalsBundle:h.default,recipesBundle:S.default,amlBundle:T.default,financialPlanBundle:p.default,accountAggregationBundle:f.default},v=function(){function e(t,n,a,s,o,r,l,c){(0,i.default)(this,e),this.$q=t,this.$injector=n,this.bundleConstants=a,this.$rootScope=s,this.$log=o,this.$timeout=r,this.EnvironmentService=l,this.buildConstants=c,this.loadedBundles=[]}return(0,a.default)(e,[{key:"ensureModalBundling",value:function(e){var t=this;if(e&&-1===this.loadedBundles.indexOf(e)){var n=this.bundleConstants.MODAL_BUNDLE_DEPENDENCY[e];if(n&&n.length>0){var i=[];return this.EnvironmentService.isNative()&&this.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"Bundle loaded "+e,jstime:window.performance.now()}),n.forEach((function(e){var n=A[e](t.$q,t.ocLazyLoader);i.push(n)})),this.$q.all(i).then((function(){return t.loadedBundles.push(e)})).finally((function(){t.EnvironmentService.isNative()&&t.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"Bundle loaded "+e,jstime:window.performance.now()})}))}}return this.$q.when()}},{key:"loadBundle",value:function(e){var t=this;return-1===this.loadedBundles.indexOf(e)?(this.EnvironmentService.isNative()&&this.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"Bundle loading "+e,jstime:window.performance.now()}),A[e](this.$q,this.ocLazyLoader).then((function(){return t.loadedBundles.push(e),!0})).finally((function(){t.EnvironmentService.isNative()&&t.buildConstants.PERFORMANCE_LOGGING&&WL.App.sendActionToNative("jsLog",{event:"Bundle loaded "+e,jstime:window.performance.now()})}))):this.$q.when(!1)}},{key:"loadCommonBundle",value:function(){var e=this;this.$log.debug("Loading common bundle");var t=(new Date).getTime(),n=this.$q.defer();return this.loadBundle("commonBundle").then((function(){e.$rootScope.deferredBundleLoaded=!0;var i=(new Date).getTime()-t;e.$log.debug("Common bundle loaded after(ms): ",i),e.$timeout((function(){return n.resolve()}),150)})),n.promise}},{key:"ocLazyLoader",get:function(){return this.$ocLazyLoad||(this.$ocLazyLoad=this.$injector.get("$ocLazyLoad")),this.$ocLazyLoad}}]),e}();v.$inject=["$q","$injector","bundleConstants","$rootScope","$log","$timeout","EnvironmentService","buildConstants"],t.default=v,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("common")]).then(function(){var i=n(1861),a=n(1864),s=n(1867),o=n(1868),r=n(1870),l=n(547),c=n(1871),u=n(548),d=n(1873),_=n(1874),E=n(1875),h=n(1877),S=n(1878),T=n(1879),p=n(1880),f=n(1881),g=n(1882),A=n(1883);t.load([{name:i.name},{name:a.name},{name:s.name},{name:o.name},{name:r.name},{name:l.name},{name:c.name},{name:u.name},{name:d.name},{name:_.name},{name:E.name},{name:h.name},{name:S.name},{name:T.name},{name:p.name},{name:f.name},{name:g.name},{name:A.name}]),e([i,a,s,o,r,l,c,u,d,_,E,h,S,T,p,f,g,A])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(t,i){return t((function(t){n.e("appReview").then(function(){(function(e){e=n(1885);i.load({name:e.name}),t([e])}).call(this,n(50)(e))}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("contactUs")]).then(function(){var i=n(1886);t.load({name:i.name}),e([i])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){Promise.all([n.e("vendor"),n.e("eNotification")]).then(function(){var i=n(1892);t.load({name:i.name}),e([i])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){n.e("aml").then(function(){var i=n(1893),a=n(1894);t.load([{name:i.name},{name:a.name}]),e([i,a])}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e((function(e){n.e("accountAggregationBundle").then(function(){var i=n(537);t.load({name:i.name}),e(i)}.bind(null,n)).catch(n.oe)}))}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$q","$ocLazyLoad"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.$sce=n,this.isMobileNative=t.isNative(),this.staticSiteUrl=t.getBaseUrl()}return(0,a.default)(e,[{key:"fixRelativeLink",value:function(e){return this.isMobileNative&&"string"==typeof e&&0===e.indexOf("/")?this.staticSiteUrl+e:e}},{key:"fixTrustHtmlRelativeLinks",value:function(e){if(this.isMobileNative){var t=this.$sce.getTrustedHtml(e);return t=t.replace(/\shref='\//gi,' href="#" tng-absolute-href=\'/').replace(/\shref="\//gi,' href="#" tng-absolute-href="/'),this.$sce.trustAsHtml(t)}return e}}]),e}();o.$inject=["EnvironmentService","$sce"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(8)),a=l(n(0)),s=l(n(2)),o=l(n(116)),r=l(n(268));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,s,o,r,l,c,u,d){(0,a.default)(this,e),(0,i.default)(this,{$log:t,$httpParamSerializer:n,RequesterService:s,serviceConstants:o,tlocConstants:r,CustomersService:l,CustomerInfoService:c,STATUS_CODES:o.STATUS_CODES,accountConstants:u,AccountService:d}),this.ACCOUNT_PPTS=u.ACCOUNT_PPTS}return(0,s.default)(e,[{key:"getOffers",value:function(){var e=this;return this.CustomersService.getCustomerOffers(this.tlocConstants.OFFER_TYPES.TLOCPREAP,!0,this.tlocConstants.PRODUCT_CODES.TLOC).then((function(t){if(e._isResponseSuccessful(t)&&t.offers&&t.offers.length){var n=t.offers,i=n.find((function(t){return t.offer_status===e.tlocConstants.OFFER_STATUS.ACTIVE&&t.offer_type===e.tlocConstants.OFFER_TYPES.TLOCPREAP}));return i?e.marshallOffer(i):e.marshallOffer(n.reverse().find((function(t){return t.offer_type===e.tlocConstants.OFFER_TYPES.TLOCPREAP})))}return null}))}},{key:"marshallOffer",value:function(e){var t=null;return e&&e.tloc_offer_details?((t=(0,i.default)({},{offerId:e.offer_id,offerType:e.offer_type,productType:e.product_type,productTypeNumber:this.stripProductType(e.product_type),offerStatus:e.offer_status},{offerDetails:e.tloc_offer_details})).offerDetails.totalRate=t.offerDetails.primeRate+t.offerDetails.spread,t.offerDetails.validRateDate=moment(t.offerDetails.offerStartDate).format("LL")):this.$log.info("No offers found"),t}},{key:"updateOffer",value:function(e){var t=this,n=this._getOfferId(e),i=this._prepareData(e,this.tlocConstants.OFFER_RESOLUTION.ACCEPTED);return this.CustomersService.updateCustomerOffers(i,n).then((function(e){if(t._isResponseSuccessful(e))return e;throw e}))}},{key:"closeOffer",value:function(e){var t=this,n=this._getOfferId(e),i=this._prepareData(e,this.tlocConstants.OFFER_RESOLUTION.EVALCLOSING);return this.CustomersService.updateCustomerOffers(i,n).then((function(e){if(t._isResponseSuccessful(e))return e;throw e}))}},{key:"isHighRiskOffer",value:function(e){return e&&this.accountConstants.ACCOUNT_PPTS.TLOC_INTEREST_BAL===e.productTypeNumber}},{key:"_isResponseSuccessful",value:function(e){return!(!e||!e.response_status||e.response_status.status_code!==this.serviceConstants.STATUS_CODES.SUCCESS)}},{key:"stripProductType",value:function(e){return e?e.substring(5):e}},{key:"getTlocSourceAccountsData",value:function(){var e=this;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.TLOC_FUND_SOURCE_ACCOUNTS,{urlVars:{queryString:this.$httpParamSerializer({validatedExtAcctsOnly:"YES"})}}).then((function(t){if(e._isResponseSuccessful(t))return t;throw t}))}},{key:"getCustomerInfo",value:function(){return this.CustomerInfoService.get()}},{key:"convertTlocAccountInfo",value:function(e){var t=[];return e&&angular.forEach(e,(function(e){e.accountBalance&&(e.account_balance=e.accountBalance),t.push(e)})),t}},{key:"isPromoClient",value:function(e){return!(!e||!e.offerDetails||0!==e.offerDetails.promoRate&&!e.offerDetails.promoRate)}},{key:"_getOfferId",value:function(e){return(0,o.default)(e.stateData,"account.tlocOffer.offerId")}},{key:"_prepareData",value:function(e,t){var n={offer:{offer_status:t,offer_type:e.stateData.account.tlocOffer.offerType,product_type:e.stateData.account.tlocOffer.productType,tloc_offer_details:{creditLimit:e.stateData.account.tlocOffer.offerDetails.creditLimit,spread:e.stateData.account.tlocOffer.offerDetails.spread,primeRate:e.stateData.account.tlocOffer.offerDetails.primeRate,tlocAdjuHistId:e.stateData.account.tlocOffer.offerDetails.tlocAdjuHistId,tlocPreapprovalInfo:{creditLimitFinal:e.stateData.account.tlocOffer.selectedLimit}}}};e.stateData.customer&&(n.offer.tloc_offer_details.tlocPreapprovalInfo.applicant=(0,i.default)({},{title:e.stateData.customer.title,first_name:e.stateData.customer.first_name,middle_initial:e.stateData.customer.middle_initial,address_list:e.stateData.customer.address_list,phone_list:e.stateData.customer.phone_list,email:e.stateData.customer.email,sin:e.stateData.customer.sin,birth_date:e.stateData.customer.birth_date,pin:e.stateData.customer.pin,social_accounts:e.stateData.customer.social_accounts,annual_income:e.stateData.customer.annual_income,kyc_method:e.stateData.customer.kyc_method,employment_status:e.stateData.customer.employmentStatus.code}),this._isRequiredToSetEmployment(e)&&(this._setStreetNameInEmployerAddress(e),(0,i.default)(n.offer.tloc_offer_details.tlocPreapprovalInfo.applicant,{occupation:{industry_code:(0,o.default)(e.stateData.customer,"employmentIndustry.code"),occupation_code:(0,o.default)(e.stateData.customer,"employmentOccupation.code")},employer:{company_name:e.stateData.customer.employer.company_name,address:e.stateData.customer.employer.company_address}}))),e.stateData.showTpiForm&&e.stateData.account.third_party_info&&(n.offer.tloc_offer_details.tlocPreapprovalInfo.thirdPartyInfo=(0,i.default)({},{},e.stateData.account.third_party_info));var a=(0,o.default)(e.stateData.account,"fromAccount");if(a&&a[0]){(0,i.default)(n.offer.tloc_offer_details.tlocPreapprovalInfo,{scoAcctNum:a[0].accountNumber});var s=a[0].bankNumber;s&&(0,i.default)(n.offer.tloc_offer_details.tlocPreapprovalInfo,{scoBankNum:s});var r=a[0].transitNumber;r&&(0,i.default)(n.offer.tloc_offer_details.tlocPreapprovalInfo,{scoTransitNum:r})}return(0,i.default)(n.offer.tloc_offer_details.tlocPreapprovalInfo,{intendedAccountUse:e.stateData.account.intendedUse}),this.accountConstants.INTENDED_USE_OTHER===e.stateData.account.intendedUse&&(0,i.default)(n.offer.tloc_offer_details.tlocPreapprovalInfo,{otherIntendedUse:e.stateData.account.otherIntendedUse}),n}},{key:"_isRequiredToSetEmployment",value:function(e){return!!(0,o.default)(e,"stateData.customer.employmentStatus.require_employment_details")}},{key:"_setStreetNameInEmployerAddress",value:function(e){if((0,o.default)(e,"stateData.customer.employer.company_address")){var t=angular.copy(e.stateData.customer.employer.company_address);t.address_line1&&(t.street_name=angular.copy(t.address_line1),delete t.address_line1,t=r.default.extractEmployerAddressStreetNumber(t)),t=r.default.removeEmptyAddressFields(t),(0,i.default)(e.stateData.customer.employer.company_address,t)}}},{key:"createTlocApplication",value:function(e){return e.account.scoProduct&&!e.isKycPending?this._openChqTlocAccounts(e):this._openTlocAccount(e)}},{key:"_openTlocAccount",value:function(e){var t=this;return this.CustomersService.createTlocApplication(this._prepareTlocAppInfo(e)).then((function(e){if(t._isResponseSuccessful(e))return e;throw e}))}},{key:"_openChqTlocAccounts",value:function(e){var t=this;return e.account.scoProduct.profile_product_type=this.ACCOUNT_PPTS.CHEQUING,this.AccountService.openAccount(e.account.scoProduct,!1).then((function(n){return e.account.scoProduct.accountNumber=n.confirmation.new_account_number,e.account.fromAccount&&e.account.fromAccount.length>0&&(e.account.fromAccount[0].accountNumber=e.account.scoProduct.accountNumber,e.account.fromAccount[0].account_balance=0,e.account.fromAccount[0].bankNumber="",e.account.fromAccount[0].transitNumber="",e.account.fromAccount[0].confirmation=n.confirmation),t._openTlocAccount(e)})).catch((function(e){throw e}))}},{key:"_prepareTlocAppInfo",value:function(e){return e.firstSubmit?this._prepareFirstSubmitTlocAppInfo(e):this._prepareFinalSubmitTlocAppInfo(e)}},{key:"_prepareFirstSubmitTlocAppInfo",value:function(e){var t={};return e&&(t.createTLOCAccount=!1,t.validate_client_eligibility=!1,t.adjudicate=!0,t.application={},t.industry_and_occupation={},t.employer={},e.customer&&e.incomeExpense&&(t.application.incomeAnnualMain=e.incomeExpense.annualGrossIncome,t.application.incomeAnnualOther=e.incomeExpense.otherSourceIncome,t.application.yearsOfEmp=e.incomeExpense.yearsOfEmp,t.application.monthsOfEmp=e.incomeExpense.monthsOfEmp),t.application.liabilities=[],e.account.liabilities&&e.account.liabilities.forEach((function(e){var n={};n.type=e.type.code,n.monthly_payment=e.amount,t.application.liabilities.push(n)})),e.isKycPending&&e.customer.employmentStatus&&(t.employmentStatus=e.customer.employmentStatus.code,(0,i.default)(t,{industry_and_occupation:{industry_code:e.customer.employmentIndustry.code,occupation_code:e.customer.employmentOccupation.code},employer:{company_name:e.customer.employer.company_name,address:e.customer.employer.company_address}})),t.legal_instructions={},e.showTpiForm?t.legal_instructions.third_party=!0:t.legal_instructions.third_party=!1,e.account.third_party_info&&(t.legal_instructions.third_party_info=(0,i.default)({},{},e.account.third_party_info)),(0,i.default)(t.legal_instructions,{intended_account_use:e.account.intendedUse}),(0,i.default)(t.legal_instructions,{other_intended_use:e.account.otherIntendedUse})),t}},{key:"_prepareFinalSubmitTlocAppInfo",value:function(e){var t={createTLOCAccount:!0,validate_client_eligibility:!1,adjudicate:!1};return t.primeRate=e.account.tlocAccount.primeRate,t.application={},e&&(e.isKycPending?(t.application.deal_id=e.account.tlocAccount.dealId,t.application.creditLimitFinal=e.account.tlocAccount.selectedLimit,t.legal_instructions={},t.legal_instructions.third_party=e.account.scoProduct.third_party,e.account.scoProduct.third_party_info&&(t.legal_instructions.third_party_info=(0,i.default)({},{},e.account.scoProduct.third_party_info)),(0,i.default)(t.legal_instructions,{intended_account_use:e.account.scoProduct.intendedUse}),(0,i.default)(t.legal_instructions,{other_intended_use:e.account.scoProduct.otherIntendedUse})):(t.application.deal_id=e.account.tlocAccount.dealId,t.application.scoAcctNum=e.account.fromAccount[0].accountNumber,t.application.scoBankNum=e.account.fromAccount[0].bankNumber,t.application.scoTransitNum=e.account.fromAccount[0].transitNumber,t.application.creditLimitFinal=e.account.tlocAccount.selectedLimit)),t}},{key:"getPendingTlocApplication",value:function(e){var t=this,n=this.serviceConstants.AVAILABLE_SERVICES.GET_PENDING_TLOC_APPLICATION,i={urlVars:{dealId:e}};return this.RequesterService.request(n,i).then((function(e){if(t._isResponseSuccessful(e))return e;throw e}))}}]),e}();c.$inject=["$log","$httpParamSerializer","RequesterService","serviceConstants","tlocConstants","CustomersService","CustomerInfoService","accountConstants","AccountService"],t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.$log=t,this.AnalyticsService=n,this._dynatrace=this.AnalyticsService.getDynaTrace(),this.timerActionMap={};this.EVENTS={LOGOUT:"dyn.perf.logout",SUBMIT_CIF:"dyn.perf.submitCif",SUBMIT_PASSMARK:"dyn.perf.submitPassmark",SUBMIT_PIN:"dyn.perf.submitPin",SUBMIT_TOUCH_ID:"dyn.perf.submitTouchId",SUBMIT_QUICK_VIEW:"dyn.perf.submitQuickView",SUBMIT_MOVE_MONEY:"dyn.perf.submitMoveMoney",SUBMIT_EMT:"dyn.perf.submitEMT",SUBMIT_BILL_PAY:"dyn.perf.submitBillPay",SUBMIT_FINANCIAL_INFO:"dyn.perf.submitFinancialInfo",VIEW_PROFILE_SETTINGS:"dyn.perf.viewProfileSettings",VIEW_TRANSACTIONS:"dyn.perf.viewTransactions",VIEW_CHEQUING_ACCOUNT:"dyn.perf.viewChequingAccount",VIEW_SAVING_ACCOUNT:"dyn.perf.viewSavingAccount",VIEW_GOAL_ACCOUNT:"dyn.perf.viewGoalAccount"},this.EVENTS.SUBMIT_LOGIN_EVENTS=[this.EVENTS.SUBMIT_PIN,this.EVENTS.SUBMIT_TOUCH_ID,this.EVENTS.SUBMIT_QUICK_VIEW],this.EVENTS.VIEW_ACCOUNT_DETAILS=[this.EVENTS.VIEW_CHEQUING_ACCOUNT,this.EVENTS.VIEW_SAVING_ACCOUNT,this.EVENTS.VIEW_GOAL_ACCOUNT]}return(0,a.default)(e,[{key:"reset",value:function(){this.$log.debug("Resetting active performance timers"),this.timerActionMap={}}},{key:"startTimerForAction",value:function(e){try{this.timerActionMap[e]={start:(new Date).getTime()},this.timerActionMap[e].actionId=this._onStartAction(e)}catch(e){this.$log.debug(e)}}},{key:"_onStartAction",value:function(e){try{if(this.$log.debug("Timer action start:",e),!e||!this._dynatrace)return;return this._dynatrace.enterAction(e)}catch(e){return}}},{key:"endTimersForActions",value:function(e){var t=this;e.forEach((function(e){return t.endTimerForAction(e)}))}},{key:"endTimerForAction",value:function(e){try{var t=this.timerActionMap[e];if(!t||void 0===t.actionId)return;var n=(new Date).getTime()-t.start,i=this._formatDuration(n);this.$log.debug("Timer action end:",e,n,i),this._onEndAction(t.actionId),delete this.timerActionMap[e]}catch(e){this.$log.debug(e)}}},{key:"_onEndAction",value:function(e){try{return this._dynatrace.leaveAction(e)}catch(e){return}}},{key:"cancelTimerForAction",value:function(e){this.$log.debug("Timer action cancelled:",e),delete this.timerActionMap[e]}},{key:"_formatDuration",value:function(e){return 500*Math.round(e/500)}}]),e}();o.$inject=["$log","AnalyticsService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t,this._enabled=!1,this.primaryContentTemplate=null,this._primaryContentTemplates=[]}return(0,a.default)(e,[{key:"setupHooks",value:function(e){var t=e.visibility,n=e.gotoPreviousState,i=e.gotoNextState,a=e.onButtonClick,s=e.flowService;this.visibility=t,this.gotoPreviousState=n,this.gotoNextState=i,this.onButtonClick=a||angular.noop,this.flowService=s}},{key:"disable",value:function(){this._enabled=!1,this.$log.debug("hiding flow footer")}},{key:"enable",value:function(){this._enabled=!0,this.$log.debug("enabling flow footer")}},{key:"clearAgreements",value:function(){this.agreements=null,this.account=null,this.agreementsChanged=null}},{key:"pushView",value:function(e){this.primaryContentTemplate=e,this._primaryContentTemplates.push(e)}},{key:"popView",value:function(){this._primaryContentTemplates.pop(),this._primaryContentTemplates.length?this.primaryContentTemplate=this._primaryContentTemplates[this._primaryContentTemplates.length-1]:this.primaryContentTemplate=null}},{key:"isVisible",get:function(){return this._enabled&&this.visibility()}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d){(0,i.default)(this,e),this.$log=t,this.$state=n,this.$q=a,this.$window=s,this.SessionService=o,this.UserService=l,this.MenuService=c,this.stateConstants=u,this.menuConstants=d,this.isNative=r.isNative(),this.mobileFooterException=[this.stateConstants.LOGIN,this.stateConstants.ABM_LOCATIONS,this.stateConstants.BUDGET_TOOL,this.stateConstants.FINANCIAL_PLAN],this.desktopFooterException=[this.stateConstants.KYC,this.stateConstants.NEW_CLIENT_ENROLLMENT,this.stateConstants.JOINT_ENROLLMENT_VALIDATION,this.stateConstants.JOINT_ENROLLMENT_ACCEPT_OR_DECLINE,this.stateConstants.OVERDRAFT_PRE_APPROVAL],this.laptopResolution=this.menuConstants.MENU_TYPES.LAPTOP_RESOLUTION}return(0,a.default)(e,[{key:"isFooterNotificationVisible",value:function(){return this.SessionService.isAuthenticated()&&this.$state.current.showFooterNotifications}},{key:"isDesktopFooterVisible",value:function(){return!this.isNative&&(-1===this.desktopFooterException.indexOf(this.$state.current.name)&&this.$window.innerWidth>this.laptopResolution)}},{key:"isMobileFooterVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e instanceof Array&&0!==e.length&&(!this.isDesktopFooterVisible()&&(!!this.SessionService.isAuthenticated()&&(-1===this.mobileFooterException.indexOf(this.$state.current.name)&&(!t&&(!!this.isNative||this.$window.innerWidth<=this.laptopResolution)))))}},{key:"getFooterItems",value:function(){var e=this,t=this.$q.defer();return null!==this.UserService.userCapabilities?this.$q.when(this._fetchMenuItems()):(this.UserService.getCapabilities().then((function(){t.resolve(e._fetchMenuItems())})),t.promise)}},{key:"_fetchMenuItems",value:function(){var e=this.menuConstants,t=this.MenuService;return{DESKTOP:t.getMenuItems(e.MENU_TYPES.PRIMARY_FOOTER),MOBILE:t.getMenuItems(e.MENU_TYPES.FOOTER_ACTIONS),MOBILE_POPUP:t.getMenuItems(e.MENU_TYPES.MOBILE_POPUP_ACTIONS)}}}]),e}();o.$inject=["$log","$state","$q","$window","SessionService","EnvironmentService","UserService","MenuService","stateConstants","menuConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.$rootScope=t,this.$timeout=n,this.EventBusService=a,this.loginConstants=s,this.eventConstants=o,this.loginTimerPromise=null,this.wlInitTimeout=3e4}return(0,a.default)(e,[{key:"invokeTimer",value:function(){this.revokeTimer(),this.loginTimerPromise||(this.loginTimerPromise=this._invokeTimeoutPromise())}},{key:"revokeTimer",value:function(){this.loginTimerPromise&&this._cancelTimeoutPromise()}},{key:"triggerLoginTimeoutEvent",value:function(){this.revokeTimer(),this.EventBusService.publish(this.loginConstants.LOGIN_TIMEOUT.INVOKE_LOGIN_TIMEOUT)}},{key:"subscribe",value:function(e){var t=this;this.EventBusService.subscribe(this.$rootScope,this.loginConstants.LOGIN_TIMEOUT.INVOKE_LOGIN_TIMEOUT,(function(){t._cancelTimeoutPromise(),e()}))}},{key:"unsubscribe",value:function(){this.revokeTimer()}},{key:"_invokeTimeoutPromise",value:function(){var e=this;return this.$timeout((function(){e.loginTimerPromise&&e.triggerLoginTimeoutEvent()}),this.wlInitTimeout)}},{key:"_cancelTimeoutPromise",value:function(){this.$timeout.cancel(this.loginTimerPromise),this.loginTimerPromise=null}}]),e}();o.$inject=["$rootScope","$timeout","EventBusService","loginConstants","eventConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$log=t,this.RequesterService=n,this.serviceConstants=a}return(0,a.default)(e,[{key:"getLifeGoalById",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.LIFE_GOAL,{urlVars:{queryString:"lifeGoalId="+e}})}}]),e}();o.$inject=["$log","RequesterService","serviceConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.$document=t,this.$log=n}return(0,a.default)(e,[{key:"loadScript",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/javascript",a=this.$document[0].getElementsByTagName("head");if(!angular.isDefined(a)||!a.length)return this.$log.error("No Head element, load script failed."),!1;var s=a[0],o=this.$document[0].createElement("script");return o.setAttribute("id",e),o.setAttribute("src",t),o.setAttribute("type",i),n&&o.setAttribute("defer",""),s.appendChild(o),this.$log.info("script "+e+" "+t+" loaded"),!0}}]),e}();o.$inject=["$document","$log"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.RequesterService=t,this.serviceConstants=n,this.$log=a,this.isEnglish=!0}return(0,a.default)(e,[{key:"$onInit",value:function(){this.LocaleService.language===this.localeConstants.LANGUAGES.ENGLISH?this.isEnglish=!0:this.isEnglish=!1}},{key:"getIsEnglish",value:function(){return this.English}},{key:"getBudgetIncome",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_INCOME)}},{key:"getBudgetExpense",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_EXPENSE)}},{key:"getBudgetSavings",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_SAVINGS)}},{key:"getCurrentBudget",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_CURRENT_BUDGET)}},{key:"getBudgetFeatureFlag",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_CAPABILITIES)}},{key:"getAccounts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.ACCOUNT_SUMMARY,e,t)}},{key:"recalculateBudgetDetails",value:function(e){var t=this,n={data:{budget_details:e}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.RECALCULATE_BUDGET_DETAILS,n).then((function(e){return t.$log.debug("LTS Budget  was recalculated successfully",e),e})).catch((function(e){throw t.$log.error("Recalculate LTS Budget  application error:",e),e}))}},{key:"resetBudgetDetails",value:function(){var e=this;return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.RESET_BUDGET).then((function(t){return e.$log.debug("LTS Budget  was reset successfully",t),t})).catch((function(t){throw e.$log.error("Reset LTS Budget application error:",t),t}))}},{key:"saveBudgetDetails",value:function(e){var t=this,n={data:{budget_details:e}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.CREATE_BUDGET_DETAILS,n).then((function(e){return t.$log.debug("LTS Budget  was created successfully",e),e})).catch((function(e){throw t.$log.error("Create LTS Budget  application error:",e),e}))}},{key:"getBudgetTransactions",value:function(e){var t={urlVars:{categoryId:e}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_TRANSACTIONS,t)}},{key:"getBudgetCategory",value:function(e){var t={data:{budget_details:e}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_CATEGORY,t)}},{key:"updateBudgetCategory",value:function(e){var t={data:{amount:e.budgetAmount,category_id:e.categoryId}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.UPDATE_CATEGORY,t)}}]),e}();o.$inject=["RequesterService","serviceConstants","$log"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.RequesterService=t,this.serviceConstants=n,this.$log=a}return(0,a.default)(e,[{key:"getLtsOverviewTransactions",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_LTS_OVERVIEW_TRANSACTIONS)}},{key:"getLtsBudget",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_LTS_BUDGET,{urlVars:{queryString:"show-message=true"}})}},{key:"setBudgetLtsStatus",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.SET_BUDGET_LTS_STATUS,{data:{budget_settings_details:{is_budgets_enabled:e}}})}},{key:"setBudgetLtsWidget",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.SET_BUDGET_LTS_STATUS,{data:{budget_settings_details:{is_show_widget:e}}})}},{key:"getBudgetLtsStatus",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_LTS_STATUS)}},{key:"putExcludeLtsTransaction",value:function(e){var t={urlVars:{transactionId:e,flagValue:!0},data:{}};return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.PUT_EXCLUDE_LTS_TRANSACTION,t)}},{key:"getBudgetLtsSettings",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_LTS_STATUS)}},{key:"getBudgetLtsTrends",value:function(){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_BUDGET_TRENDS)}}]),e}();o.$inject=["RequesterService","serviceConstants","$log"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(68)),a=r(n(8)),s=r(n(0)),o=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,a,o,r,l,c,u){(0,s.default)(this,e),this.$q=t,this.$log=n,this.$httpParamSerializer=i,this.RequesterService=a,this.AccountDetailsService=u,this.serviceConstants=o,this.MODAL_TYPES=r.MODAL_TYPES,this.ACTION_CODES=r.ACTION_CODES,this.USER_CAPABILITIES=l.USER.CAPABILITIES,this.ACCOUNT_TYPES=c.ACCOUNT_TYPES,this.ACCOUNT_DESCRIPTIONS=r.ACCOUNT_DESCRIPTIONS,this.CURRENCY_TYPES=c.CURRENCY_TYPES,this.userCapabilities=[]}return(0,o.default)(e,[{key:"canMoveMoney",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getAccounts(this.MODAL_TYPES.DEFAULT).then((function(){var n=e.ACTION_CODES.MOVE_MONEY,i=e.loadedAccounts[n];return!(i&&i.fromAccounts&&i.toAccounts&&(0===i.fromAccounts.length||0===i.toAccounts.length||1===i.fromAccounts.length&&1===i.toAccounts.length&&i.fromAccounts[0].number===i.toAccounts[0].number&&!t))}))}},{key:"getFromAccounts",value:function(){var e=this;return this.getAccounts(this.MODAL_TYPES.DEFAULT).then((function(){var t=e.loadedAccounts[e.ACTION_CODES.MOVE_MONEY];return t&&t.fromAccounts?t.fromAccounts:[]}))}},{key:"getAccounts",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=n?n.number:null;return this._loadInitialAccounts(e,i).then((function(){return{fromAccounts:t._getFromAccounts(e,n),fromWithdrawalAccounts:t._getFromWithdrawalAccounts(e),toAccounts:t._getAllToAccounts(e,n)}}))}},{key:"getAccountDetails",value:function(e){return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.ACCOUNT_DETAILS,e)}},{key:"getToAccounts",value:function(e,t){var n=this;return this._getEnabledToAccounts(e,t.number).then((function(){return n._getAllToAccounts(e,t)}))}},{key:"_getFromAccounts",value:function(e,t){var n=void 0;switch(e){case this.MODAL_TYPES.INVESTMENTS_BUY:return this.loadedAccounts[this.ACTION_CODES.MF_FROM_CASH_ACCOUNTS].filter((function(e){return!1===e.registered||!0===e.tax_free}));case this.MODAL_TYPES.RSP_RIF_SAVING_WITHDRAWAL:case this.MODAL_TYPES.INVESTMENTS_WITHDRAWAL:case this.MODAL_TYPES.INVESTMENTS_SELL:if(t.type===this.ACCOUNT_TYPES.MUTUAL_FUND){var s=this.loadedAccounts[this.ACTION_CODES.MF_FUND_ACCOUNTS];if(Array.isArray(s)){var o=s.find((function(e){return e.number===t.number}));if(o)return[(0,a.default)({},o,t)]}}return[t];case this.MODAL_TYPES.EDIT:return n=(n=(n=[].concat((0,i.default)(this.loadedAccounts[this.ACTION_CODES.MOVE_MONEY].fromAccounts))).concat(this.loadedAccounts[this.ACTION_CODES.RSP_WITHDRAW].fromAccounts)).concat(this._getMutualFundSellAccounts()),this.$log.debug("_getFromAccounts accounts: ",n),n;default:return n=(n=(n=[].concat((0,i.default)(this.loadedAccounts[this.ACTION_CODES.MOVE_MONEY].fromAccounts))).concat(this._getMutualFundSellAccounts())).filter((function(e){return!1===e.registered||!0===e.tax_free}))}}},{key:"_getFromWithdrawalAccounts",value:function(e){switch(e){case this.MODAL_TYPES.INVESTMENTS_BUY:return this.loadedAccounts[this.ACTION_CODES.MF_FROM_CASH_ACCOUNTS].filter((function(e){return!0===e.registered&&!1===e.tax_free}));case this.MODAL_TYPES.RSP_RIF_SAVING_WITHDRAWAL:case this.MODAL_TYPES.INVESTMENTS_WITHDRAWAL:case this.MODAL_TYPES.INVESTMENTS_SELL:return[];default:var t=[].concat((0,i.default)(this.loadedAccounts[this.ACTION_CODES.RSP_WITHDRAW].fromAccounts));return t=(t=t.concat(this._getMutualFundSellAccounts())).filter((function(e){return!0===e.registered&&!1===e.tax_free&&!e.GIC}))}}},{key:"_getMutualFundSellAccounts",value:function(){return this._canSellMutualFunds()?[].concat((0,i.default)(this.loadedAccounts[this.ACTION_CODES.MF_FUND_ACCOUNTS])):[]}},{key:"_getMutualFundBuyAccounts",value:function(){return this._canBuyMutualFunds()?[].concat((0,i.default)(this.loadedAccounts[this.ACTION_CODES.MF_FUND_ACCOUNTS])):[]}},{key:"_getEnabledToAccounts",value:function(e,t){var n=this;switch(e){case this.MODAL_TYPES.INVESTMENTS_SELL:return this._loadMutualFundsOperationAccounts(this.ACTION_CODES.MF_TO_CASH_ACCOUNTS,t);default:return this._loadAccountsFromApi(this.ACTION_CODES.MOVE_MONEY_TO_ACCOUNTS,t).then((function(e){return Array.isArray(e.toAccounts)?e.toAccounts:n.$q.reject(e)}))}}},{key:"_getAllToAccounts",value:function(e,t){var n=this._setToAccounts(e);switch(e){case this.MODAL_TYPES.INVESTMENTS_SELL:return this._markEnabledToAccounts(n,this.loadedAccounts[this.ACTION_CODES.MF_TO_CASH_ACCOUNTS],t);case this.MODAL_TYPES.INVESTMENTS_BUY:return[t];case this.MODAL_TYPES.RSP_RIF_SAVING_WITHDRAWAL:return this._markEnabledToAccounts(n,this.loadedAccounts[this.ACTION_CODES.MOVE_MONEY_TO_ACCOUNTS].toAccounts,t);default:return this.loadedAccounts[this.ACTION_CODES.MOVE_MONEY_TO_ACCOUNTS]?this._markEnabledToAccounts(n,this.loadedAccounts[this.ACTION_CODES.MOVE_MONEY_TO_ACCOUNTS].toAccounts,t):[]}}},{key:"isCreditToCredit",value:function(e,t){return!(!e||!t)&&!(e.type!==this.ACCOUNT_TYPES.CREDIT_CARD&&e.type!==this.ACCOUNT_TYPES.LOAN||t.type!==this.ACCOUNT_TYPES.CREDIT_CARD&&t.type!==this.ACCOUNT_TYPES.LOAN)}},{key:"isRIFtoRSP",value:function(e,t){var n=this.AccountDetailsService.isRIF(e),i=this.AccountDetailsService.isRSP(t);return n&&i}},{key:"isToTLOC",value:function(e){return this.AccountDetailsService.isTloc(e)}},{key:"_markEnabledToAccounts",value:function(e,t,n){var i=this;return e.map((function(e){return(0,a.default)(e,{isEnabledAsToAccount:!!t.find((function(t){return!(t.number!==e.number||i.isCreditToCredit(n,e)||n.type===i.ACCOUNT_TYPES.CREDIT_CARD&&(n.type!==i.ACCOUNT_TYPES.CREDIT_CARD||-1===[i.ACCOUNT_TYPES.CHEQUING,i.ACCOUNT_TYPES.SAVINGS].indexOf(e.type)||e.tax_free||e.registered||e.description===i.ACCOUNT_DESCRIPTIONS.CSA)||n.type===i.ACCOUNT_TYPES.MUTUAL_FUND&&(n.type!==i.ACCOUNT_TYPES.MUTUAL_FUND||e.currency_type!==i.CURRENCY_TYPES.CAD)||i.isRIFtoRSP(n,e)||e.type===i.ACCOUNT_TYPES.EXT&&(n.type===i.ACCOUNT_TYPES.EXT||n.currency_type!==e.currency_type)||n.type===i.ACCOUNT_TYPES.EXT&&n.currency_type!==e.currency_type||e.type===i.ACCOUNT_TYPES.CREDIT_CARD&&(n.tax_free&&n.type===i.ACCOUNT_TYPES.SAVINGS||n.description===i.ACCOUNT_DESCRIPTIONS.CSA))}))}),e}))}},{key:"_loadInitialAccounts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];switch(this.loadedAccounts={},e){case this.MODAL_TYPES.INVESTMENTS_BUY:n.push(this._loadMutualFundsOperationAccounts(this.ACTION_CODES.MF_FROM_CASH_ACCOUNTS,t));break;case this.MODAL_TYPES.RSP_RIF_SAVING_WITHDRAWAL:case this.MODAL_TYPES.INVESTMENTS_WITHDRAWAL:case this.MODAL_TYPES.INVESTMENTS_SELL:n.push(this._loadAccountsFromApi(this.ACTION_CODES.MOVE_MONEY),this._loadAccountsFromApi(this.ACTION_CODES.RSP_WITHDRAW),this._loadInvestmentsAccounts(),this._getEnabledToAccounts(e,t));break;default:n.push(this._loadAccountsFromApi(this.ACTION_CODES.MOVE_MONEY),this._loadAccountsFromApi(this.ACTION_CODES.RSP_WITHDRAW),this._loadInvestmentsAccounts())}return this.$q.all(n)}},{key:"_loadAccountsFromApi",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i={actionCode:e};null!==n&&(i.accNum=n);var a={mockResponse:e,urlVars:{queryString:this.$httpParamSerializer(i)}};this.loadedAccounts[e]=[];var s=[this.serviceConstants.STATUS_CODES.SUCCESS,this.serviceConstants.STATUS_CODES.NO_DATA];return this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.MOVE_MONEY,a).then((function(i){return i.response_status&&-1!==s.indexOf(i.response_status.status_code)||t.$log.error("_loadAccountsFromApi: Failed actionCode:",e),t.loadedAccounts[e]=i,t.$log.debug("Accounts returned by API, actionCode: "+e+", accNum: "+n,i),i}))}},{key:"_loadInvestmentsAccounts",value:function(){var e=this;return this._canBuyMutualFunds()||this._canSellMutualFunds()?this._loadAccountsFromApi(this.ACTION_CODES.MF_FUND_ACCOUNTS).then((function(t){return Array.isArray(t.mutualFundAccounts)?(e.loadedAccounts[e.ACTION_CODES.MF_FUND_ACCOUNTS]=t.mutualFundAccounts,t.mutualFundAccounts):(e.$log.error("_loadInvestmentsAccounts: Failed MF_FUND_ACCOUNTSS:"),null)})):(this.loadedAccounts[this.ACTION_CODES.MF_FUND_ACCOUNTS]=[],this.$q.resolve())}},{key:"_loadMutualFundsOperationAccounts",value:function(e,t){var n=this;return this._loadAccountsFromApi(e,t).then((function(t){return Array.isArray(t.cashFundAccounts)?(n.loadedAccounts[e]=t.cashFundAccounts,t.cashFundAccounts):n.$q.reject(t)}))}},{key:"setUserCapabilities",value:function(e){this.userCapabilities=e}},{key:"_canBuyMutualFunds",value:function(){return this.userCapabilities.indexOf(this.USER_CAPABILITIES.MUTUALFUND_TRANSACT_BUY)>=0}},{key:"_canSellMutualFunds",value:function(){return this.userCapabilities.indexOf(this.USER_CAPABILITIES.MUTUALFUND_TRANSACT_SELL)>=0}},{key:"_setToAccounts",value:function(e){switch(e){case this.MODAL_TYPES.INVESTMENTS_SELL:return this.loadedAccounts[this.ACTION_CODES.MOVE_MONEY].toAccounts.concat(this.loadedAccounts[this.ACTION_CODES.MF_FUND_ACCOUNTS]);case this.MODAL_TYPES.INVESTMENTS_BUY:return[];case this.MODAL_TYPES.RSP_RIF_SAVING_WITHDRAWAL:return this.loadedAccounts[this.ACTION_CODES.RSP_WITHDRAW].toAccounts.concat(this.loadedAccounts[this.ACTION_CODES.MF_FUND_ACCOUNTS]);default:if(this.loadedAccounts[this.ACTION_CODES.MOVE_MONEY_TO_ACCOUNTS]){var t=this.loadedAccounts[this.ACTION_CODES.MOVE_MONEY].toAccounts;return t=t.concat(this._getMutualFundBuyAccounts())}return[]}}}]),e}();l.$inject=["$q","$log","$httpParamSerializer","RequesterService","serviceConstants","moveMoneyConstants","userConstants","accountConstants","AccountDetailsService"],t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.$log=t}return(0,a.default)(e,[{key:"calculateMonthlyInterest",value:function(e){return Math.pow(1+e/100,1/12)}},{key:"calculateSavingsTillRetirement",value:function(e,t,n,i){return 1===n?e+t*i:e*Math.pow(n,i)+t*((Math.pow(n,i+1)-n)/(n-1))}},{key:"calculateRequiredSavingsForRetirement",value:function(e,t,n,i,a){if(1===n)return 1===a?12*(e-t)*i:12*(e-t)*((Math.pow(a,i)-1)/(a-1));var s=1/Math.pow(n,11),o=(Math.pow(n,12)-1)/(n-1),r=a/Math.pow(n,12);return(e-t)*s*o*((Math.pow(r,i)-1)/(r-1))}},{key:"calculateRequiredMonthlySavings",value:function(e,t,n,i){return 1===n?(e-t)/i:(e-t*Math.pow(n,i))*((n-1)/(Math.pow(n,i+1)-n))}},{key:"calculateMonthlyIncomeInRetirement",value:function(e,t,n,i,a){if(1===n)return 1===a?e+t/i/12:e+t*((a-1)/(Math.pow(a,i)-1))/12;var s=Math.pow(n,11),o=(n-1)/(Math.pow(n,12)-1),r=a/Math.pow(n,12);return e+t*s*o*((r-1)/(Math.pow(r,i)-1))}},{key:"caluclateMonthsTillRetirement",value:function(e,t,n,i,a){var s=a*(n+i),o=(a-1)*t,r=(a-1)*e;return Math.log((s+o)/(s+r))/Math.log(a)}},{key:"calculateWithInflation",value:function(e,t,n){return e*Math.pow(t,n)}},{key:"calculateRemovingInflation",value:function(e,t,n){return e/Math.pow(t,n)}}]),e}();o.$inject=["$log"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c){var u=this;(0,i.default)(this,e),this.$rootScope=t,this.$window=n,this.$document=a,this.$timeout=s,this.EventBusService=o,this.EnvironmentService=r,this.ModalDialogConstants=l,this.$log=c,this.mainStateStack=[],this.pageViewUpdateFinished=null,this.$rootScope.$on("$stateChangeSuccess",(function(e,t){u.setCurrentPage(t.name),u.mainStateStack.pop(),u.mainStateStack.push(t.name),u.$log.debug("CurrentStateService: angular state change triggered")})),this.$window.currentStatePageChangeCb=function(e){u.setCurrentPage(e),u.$log.debug("CurrentStateService: page flow state change triggered")}}return(0,a.default)(e,[{key:"modalClose",value:function(){this.mainStateStack.pop(),this.mainStateStack[this.mainStateStack.length-1]&&this.setCurrentPage(this.mainStateStack[this.mainStateStack.length-1]),this.$log.debug("CurrentStateService: modalClose() called")}},{key:"modalOpen",value:function(){-1===this.mainStateStack.indexOf(this.currentPage)&&this.mainStateStack.push(this.currentPage),this.$log.debug("CurrentStateService: modalOpen() called.")}},{key:"setCurrentPage",value:function(e){this.$window.currentPage!==e&&(this.$window.currentPage=e,this._updateMedalliaPageView())}},{key:"_updateMedalliaPageView",value:function(){var e=this;!0!==this.$window.disableMedalliaUpdatePageView&&this.$window.KAMPYLE_ONSITE_SDK&&"function"==typeof this.$window.KAMPYLE_ONSITE_SDK.updatePageView&&(this.pageViewUpdateFinished&&this.$timeout.cancel(this.pageViewUpdateFinished),this.pageViewUpdateFinished=this.$timeout((function(){e.EnvironmentService.isNativeIOS()?e.$log.debug("CurrentStateService: Skipped Medallia updatePageView() for active input element"):("function"!=typeof e.$window.KAMPYLE_ONSITE_SDK.isSurveyDisplayed||e.$window.KAMPYLE_ONSITE_SDK.isSurveyDisplayed()||(e.$log.debug("CurrentStateService: Medallia updatePageView() triggered"),e.$window.KAMPYLE_ONSITE_SDK.updatePageView()),e.pageViewUpdateFinished=null)}),400))}},{key:"currentPage",get:function(){return this.$window.currentPage}}]),e}();o.$inject=["$rootScope","$window","$document","$timeout","EventBusService","EnvironmentService","modalDialogConstants","$log"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(49)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r){(0,a.default)(this,e),this.EnvironmentService=n,this.AnalyticsService=i,this.EventBusService=o,this.chatbotConstants=s,this.$log=t,this.passmarkFailedTries=0,this.pinFailedTries=0,this.GA_EVENTS=s.GA_EVENTS,this.WYSDOM_INTENT=s.WYSDOM_INTENT,this.passmarkFailsBeforeHelp=2,this.pinFailsBeforeHelp=2,this.pinFailsBeforeResetHelp=3,this.$http=r,this.openAccountButtons=["Products we offer","Products we offer","Can I open an Account for my child, grandchild, nephew etc.?","How do I open a Tangerine Children's Savings Account?","Can I make an appointment to open an Account at a Tangerine Location?","Can I open an Account for my child, grandchild, nephew etc.?","Business Accounts","Les produits que nous offrons","Les produits que nous offrons","Est-ce que je peux ouvrir un Compte pour mon enfant, mon petit enfant, mon neveu, etc. ?","Comptes affaires","Comptes affaires","Faut-il prendre rendez-vous pour ouvrir un Compte à un emplacement Tangerine ?"]}return(0,s.default)(e,[{key:"destroySession",value:function(){this.EnvironmentService.isNative()||(sessionStorage.removeItem("vaMessages"),sessionStorage.removeItem("vaUserToken"),sessionStorage.removeItem("vaMinimized"),sessionStorage.removeItem("vaFirstLoadAnimation"),sessionStorage.removeItem("vaPromotionMode"))}},{key:"getChatAvailability",value:function(e,t){e=e.toUpperCase();var n=this.EnvironmentService.get("genesys"),i=(n.chat.real?n.chat.real:n.chat)+"/"+n.serviceAvailabilityEnv+"/v1/general/service-availability?appId="+n.serviceAvailabilityEnvAppId+"&language="+e+"&is-logged-in="+t;return this.$http.get(i)}},{key:"isOpenAccountButton",value:function(e){return!!(e&&e.length>0)&&e[0].name===this.WYSDOM_INTENT.OPEN_ACCOUNT}},{key:"setChatHistory",value:function(e){sessionStorage.setItem("vaMessages",(0,i.default)(e))}},{key:"getChatHistory",value:function(){return JSON.parse(sessionStorage.getItem("vaMessages"))}},{key:"clearChatHistory",value:function(){sessionStorage.removeItem("vaMessages")}},{key:"setUserToken",value:function(e){sessionStorage.setItem("vaUserToken",(0,i.default)(e))}},{key:"setPassmarkFailedTries",value:function(e,t){this.passmarkFailedTries=e,this.sendChatbotAnalytics(this.GA_EVENTS.PASSMARK_FAIL+" "+e),t?this.followupHelp(this.chatbotConstants.PROACTIVE_TOPICS.PASSMARK_RESET):this.passmarkFailedTries===this.passmarkFailsBeforeHelp&&this.proactiveHelp(this.chatbotConstants.PROACTIVE_TOPICS.PASSMARK)}},{key:"getPassmarkFailedTries",value:function(){return this.passmarkFailedTries}},{key:"passmarkSuccess",value:function(){this.passmarkFailedTries>0&&(this.sendChatbotAnalytics(this.GA_EVENTS.PASSMARK_SUCCESS+" after "+this.passmarkFailedTries+" fails"),this.clearPassmarkFailedTries())}},{key:"passmarkContactUs",value:function(){this.passmarkFailedTries>0&&this.sendChatbotAnalytics(this.GA_EVENTS.PASSMARK_CONTACT+" after "+this.passmarkFailedTries+" fails")}},{key:"clearPassmarkFailedTries",value:function(){this.passmarkFailedTries=0}},{key:"setVaMinimized",value:function(e){sessionStorage.setItem("vaMinimized",(0,i.default)(e))}},{key:"getVaMinimized",value:function(){return!sessionStorage.getItem("vaMinimized")||JSON.parse(sessionStorage.getItem("vaMinimized"))}},{key:"setPromotionMode",value:function(e){sessionStorage.setItem("vaPromotionMode",(0,i.default)(e))}},{key:"getPromotionMode",value:function(){return!sessionStorage.getItem("vaPromotionMode")||JSON.parse(sessionStorage.getItem("vaPromotionMode"))}},{key:"determineFirstLoadAnimation",value:function(){var e=this.getFirstLoadAnimation();return e&&this.setFirstLoadAnimation(!1),e}},{key:"getFirstLoadAnimation",value:function(){return!sessionStorage.getItem("vaFirstLoadAnimation")||JSON.parse(sessionStorage.getItem("vaFirstLoadAnimation"))}},{key:"setFirstLoadAnimation",value:function(e){sessionStorage.setItem("vaFirstLoadAnimation",(0,i.default)(e))}},{key:"setVaLiveAgentChat",value:function(e){sessionStorage.setItem("vaLiveAgentChat",(0,i.default)(e))}},{key:"getVaLiveAgentChat",value:function(){return!!sessionStorage.getItem("vaLiveAgentChat")&&JSON.parse(sessionStorage.getItem("vaLiveAgentChat"))}},{key:"getUserToken",value:function(){return JSON.parse(sessionStorage.getItem("vaUserToken"))}},{key:"clearUserToken",value:function(){sessionStorage.removeItem("vaUserToken")}},{key:"sendChatbotAnalytics",value:function(e){this.AnalyticsService.sendAction(this.AnalyticsService.availableEvents.CUSTOM_EVENT,e,{label:"",category:"Chatbot",value:""})}},{key:"setPinFailedAttempt",value:function(e,t){this.pinFailedTries=e,this.sendChatbotAnalytics(this.GA_EVENTS.PIN_FAIL+" "+this.pinFailedTries),this.pinFailedTries!==this.pinFailsBeforeHelp||t?(this.pinFailedTries===this.pinFailsBeforeResetHelp||t)&&this.followupHelp(this.chatbotConstants.PROACTIVE_TOPICS.PIN_RESET):this.proactiveHelp(this.chatbotConstants.PROACTIVE_TOPICS.PIN)}},{key:"getPinFailedAttempt",value:function(){return this.pinFailedTries}},{key:"clearPinFailedAttempt",value:function(){this.pinFailedTries=0}},{key:"pinSuccess",value:function(){this.pinFailedTries>0&&(this.sendChatbotAnalytics(this.GA_EVENTS.PIN_SUCCESS+" after "+this.pinFailedTries+" fails"),this.clearPinFailedAttempt())}},{key:"pinContactUs",value:function(){this.pinFailedTries>0&&this.sendChatbotAnalytics(this.GA_EVENTS.PIN_CONTACT_US+" after "+this.pinFailedTries+" fails")}},{key:"pinReset",value:function(){this.pinFailedTries>0&&(this.sendChatbotAnalytics(this.GA_EVENTS.PIN_RESET+" after "+this.pinFailedTries+" fails"),this.clearPinFailedAttempt())}},{key:"proactiveHelp",value:function(e){(e!==this.chatbotConstants.PROACTIVE_TOPICS.PASSMARK&&e!==this.chatbotConstants.PROACTIVE_TOPICS.PASSMARK_RESET||!this.chatbotConstants.FEATURE_FLAGS.PROACTIVE_LOGIN_PASSMARK)&&(e!==this.chatbotConstants.PROACTIVE_TOPICS.PIN&&e!==this.chatbotConstants.PROACTIVE_TOPICS.PIN_RESET||!this.chatbotConstants.FEATURE_FLAGS.PROACTIVE_LOGIN_PIN)||this.openChatbot(e)}},{key:"followupHelp",value:function(e){(e!==this.chatbotConstants.PROACTIVE_TOPICS.PASSMARK&&e!==this.chatbotConstants.PROACTIVE_TOPICS.PASSMARK_RESET||!this.chatbotConstants.FEATURE_FLAGS.PROACTIVE_LOGIN_PASSMARK)&&(e!==this.chatbotConstants.PROACTIVE_TOPICS.PIN&&e!==this.chatbotConstants.PROACTIVE_TOPICS.PIN_RESET||!this.chatbotConstants.FEATURE_FLAGS.PROACTIVE_LOGIN_PIN)||this.sendChatbotMessage(e)}},{key:"openChatbot",value:function(e){this.EventBusService.publish(this.chatbotConstants.EVENTS.OPEN_CHATBOT,{helpWith:e})}},{key:"openChatbotFromContactUs",value:function(){this.sendChatbotAnalytics(this.GA_EVENTS.CHATBOT_OPEN_FROM_CONTACT_US_FOOTER),this.EventBusService.publish(this.chatbotConstants.EVENTS.OPEN_CHATBOT_CONTACT_US)}},{key:"sendChatbotMessage",value:function(e){this.EventBusService.publish(this.chatbotConstants.EVENTS.SEND_CHATBOT_MESSAGE,{helpWith:e})}}]),e}();r.$inject=["$log","EnvironmentService","AnalyticsService","chatbotConstants","EventBusService","$http"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(33)),a=l(n(15)),s=l(n(8)),o=l(n(0)),r=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,i,a){(0,o.default)(this,e),(0,s.default)(this,{$q:t,StorageService:n,$injector:i,$log:a}),this._activeTest=null,this._cachedPercentages={}}return(0,r.default)(e,[{key:"test",value:function(e){var t=this;return!this._getConfig(e)||!this._getConfig(e).enabled||this.EnvironmentService.isNative()?this.$q.when(!1):(this._activeTest&&e!==this._activeTest?this.$log.error("A maximum of one A/B test can be enabled cross the application at this time."):this.setActiveTest(e),this.getUserPercentage(e).then((function(n){return t.isTreatmentGroup(e,n)})))}},{key:"testPathAndGenerateAnalyticsUrl",value:function(e){var t=this;if(!this._initTestConfig())return this.$q.when(e);var n=(0,a.default)(this._initTestConfig()).filter((function(e){var n=t._getConfig(e);return n.enabled&&"path"===n.analyticsType&&!!n.relevantPath}))[0];if(!n)return this.$q.when(e);var i=this._getConfig(n),s=i.relevantPath,o=i.pathDescription;return s===e?this.test(n).then((function(t){return t?e+"-"+o:e})):this.$q.when(e)}},{key:"getUserPercentage",value:function(e){var t=this;return this._cachedPercentages.name?this.$q.when(this._cachedPercentages.name):this.StorageService.getItem("abTest."+e).then((function(n){return null==n||""===n?t._setRandomPercentage(e):((0,s.default)(t._cachedPercentages,(0,i.default)({},e,n)),n)}))}},{key:"_setRandomPercentage",value:function(e){var t=this,n=Math.floor(100*Math.random()),a="abTest."+e;return this.StorageService.setItem(a,n).then((function(){return(0,s.default)(t._cachedPercentages,(0,i.default)({},e,n)),n}))}},{key:"isTreatmentGroup",value:function(e,t){return t>parseInt(this._config[e].controlGroupPercentage,10)}},{key:"_initTestConfig",value:function(){return this._config||(this.EnvironmentService=this.$injector.get("EnvironmentService"),this._config=this.EnvironmentService.get("abTestConfigs")),this._config}},{key:"_getConfig",value:function(e){return this._initTestConfig()?this._initTestConfig()[e]:{}}},{key:"setActiveTest",value:function(e){this._activeTest=e}},{key:"getActiveTest",value:function(){return this._activeTest}},{key:"setControlGroup",value:function(e){var t="abTest."+e;this.StorageService.setItem(t,0)}},{key:"setTreatmentGroup",value:function(e){var t="abTest."+e;this.StorageService.setItem(t,99)}}]),e}();c.$inject=["$q","StorageService","$injector","$log"],t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(270)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i){(0,a.default)(this,e),this.$log=t;var s=n.SERVICE_CONFIG,o=n.AVAILABLE_SERVICES;this.servicePathList=["ChallengeAPI",s[o.ENROLLMENT_NEW_USER].WL.path,s[o.FORGOT_PIN].WL.path,s[o.RESET_PIN].WL.path,s[o.FORGOT_CIF].WL.path],this.isMock=i.isMock()}return(0,s.default)(e,[{key:"getShapeMobileHeaders",value:function(e){var t=[];return this.isMock||-1===this.servicePathList.indexOf(e)||"function"==typeof window.__xr_tangerine&&(t=window.__xr_tangerine()),(0,i.default)(t)}}]),e}();r.$inject=["$log","serviceConstants","EnvironmentService"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,s,o,r,l,c,u,d){(0,a.default)(this,e),(0,i.default)(this,{$log:t,$httpParamSerializer:n,RequesterService:s,serviceConstants:o,termLoanConstants:r,CustomersService:l,CustomerInfoService:c,STATUS_CODES:o.STATUS_CODES,accountConstants:u,AccountService:d}),this.ACCOUNT_PPTS=u.ACCOUNT_PPTS}return(0,s.default)(e,[{key:"createTermLoanApplication",value:function(e){var t=this;return this.CustomersService.createTermLoanApplication(e).then((function(e){if(t._isResponseSuccessful(e))return e;throw e}))}},{key:"_isResponseSuccessful",value:function(e){return!(!e||!e.response_status||e.response_status.status_code!==this.serviceConstants.STATUS_CODES.SUCCESS)}}]),e}();r.$inject=["$log","$httpParamSerializer","RequesterService","serviceConstants","termLoanConstants","CustomersService","CustomerInfoService","accountConstants","AccountService"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=A(n(272)),a=A(n(1272)),s=A(n(1273)),o=A(n(1274)),r=A(n(1275)),l=A(n(1276)),c=A(n(1277)),u=A(n(1278)),d=A(n(1279)),_=A(n(1280)),E=A(n(1281)),h=A(n(1282)),S=A(n(1283)),T=A(n(1284)),p=A(n(1285)),f=A(n(1286)),g=A(n(1287));function A(e){return e&&e.__esModule?e:{default:e}}var v=angular.module("tangerine.app.core.filters",[]).filter("boldifyString",a.default).filter("normalizeType",s.default).filter("camelCaseType",o.default).filter("maskNumber",r.default).filter("maskCCNumber",l.default).filter("yearsAndMonths",c.default).filter("blankIfNotFoundTranslate",u.default).filter("firstLetter",d.default).filter("momentDate",_.default).filter("firstLetterCapitalize",E.default).filter("firstDayOfMonth",h.default).filter("numberPercentage",S.default).filter("absoluteHref",T.default).filter("absoluteNumber",p.default).filter("tngCurrency",f.default).filter("tngCurrencySign",g.default).constant("AccountConstants",i.default);t.default=v,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){return"string"==typeof e?e.replace(/\*b\*/g,"<strong>").replace(/\*\/b\*/g,"</strong>"):e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t="";return"string"==typeof e?(e.split("_").forEach((function(e){t+=" "+(e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())})),t.trim()):e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t="";return"string"==typeof e?(e.split(" ").forEach((function(e){t+=" "+(e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())})),t.trim()):e}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return function(t){return"string"==typeof t?e.getMaskedAccountNumber(t):t}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["AccountHelpersService"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){return function(t){return"string"==typeof t?e.getMaskedCCNumber(t):t}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["AccountHelpersService"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){return function(t){if("number"==typeof t){var n=t%12,i=Math.floor(t/12),a=e("translate");return((o=i)>0?o+"  "+a(o>1?"global.years":"global.year"):"")+(n>0&&i>0?", ":"")+((s=n)>0?s+" "+a(s>1?"global.months":"global.month"):"")}var s,o;return t}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$filter"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){return function(t){var n=e.instant(t);return n===t?"":n}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$translate"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){return"string"==typeof e?e.substring(0,1).toUpperCase()+".":e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return function(t,n){var i=e.DATETIME_FORMATS["moment"+n];return i||(i=n),moment(t).locale(e.id).format(i).toString()}};i.$inject=["$locale"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){return"string"==typeof e?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t=e;return"string"==typeof e&&e.startsWith("1 ")&&(t=e.charAt(0).concat("<sup>er</sup>").concat(e.substr(1))),t}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return function(t,n){var i=e("translate");return e("number")(t,n)+i("global.percentage")}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$filter"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=e.isNative(),n=e.getBaseUrl();return function(e,i){if(t&&"string"==typeof e){var a=void 0===i?"resource":i.toLowerCase();if("resource"===a){for(var s=e,o=/<a\s*href=["|']\/(.*?)["|']/gi,r=void 0;null!==(r=o.exec(s));){var l="/"+r[1],c=s.substring(r.index).replace(l,""+n+l);s=s.substring(0,r.index)+c}return s}if("url"===a&&0===e.indexOf("/"))return n+e}return e}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["EnvironmentService"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(){return function(e){return Math.abs(e)}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=[],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n,i){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.CURRENCY_TYPES.CAD,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=2;(null==o||"string"!=typeof o&&"boolean"!=typeof o)&&(i.warn("Invalid displayCadCurrency "+o+" parameter , defaulting to false"),o=!1),("string"!=typeof a&&"number"!=typeof a||null===a)&&(i.warn('Invalid "amount" '+a+"  parameter , defaulting to 0"),a=0),"string"==typeof s&&null!==s||(i.warn('Invalid "currencyTypeParam" '+s+" parameter , defaulting to CAD "),s=n.CURRENCY_TYPES.CAD);var l=s===n.CURRENCY_TYPES.CAD||s===n.CURRENCY_TYPES.USD?s:n.CURRENCY_TYPES.CAD,c=void 0,u=e("currency")(a,c,r);return t.isCanadian(l)?!0!==o&&"true"!==o||(u=u+" "+t.translateCurrency(n.CURRENCY_TYPES.CAD)):u=u+" "+t.translateCurrency(l),u}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$filter","CurrencyService","AccountConstants","$log"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.CURRENCY_TYPES.CAD,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof i&&null!==i||(n.warn('Invalid "currencyTypeParam" parameter , defaulting to CAD '+i),i=t.CURRENCY_TYPES.CAD),(null===a||"string"!=typeof a&&"boolean"!=typeof a)&&(n.warn("Invalid displayCadCurrency "+a+" parameter , defaulting to false"),a=!1);var s=i===t.CURRENCY_TYPES.CAD||i===t.CURRENCY_TYPES.USD?i:t.CURRENCY_TYPES.CAD,o="";return e.isCanadian(s)?!0!==a&&"true"!==a||(o=""+e.translateCurrency(t.CURRENCY_TYPES.CAD)):o=""+e.translateCurrency(s),o}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["CurrencyService","AccountConstants","$log"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=ie(n(272)),a=ie(n(1289)),s=ie(n(1290)),o=ie(n(1291)),r=ie(n(1292)),l=ie(n(1293)),c=ie(n(1294)),u=ie(n(1295)),d=ie(n(199)),_=ie(n(1296)),E=ie(n(1297)),h=ie(n(1298)),S=ie(n(1299)),T=ie(n(563)),p=ie(n(1300)),f=ie(n(1306)),g=ie(n(1307)),A=ie(n(1308)),v=ie(n(1309)),C=ie(n(1310)),m=ie(n(564)),I=ie(n(463)),O=ie(n(464)),N=ie(n(1311)),R=ie(n(1312)),y=ie(n(1313)),L=ie(n(531)),M=ie(n(1314)),D=ie(n(1315)),P=ie(n(1316)),b=ie(n(179)),U=ie(n(1317)),$=ie(n(1318)),F=ie(n(1319)),k=ie(n(1320)),B=ie(n(1321)),G=ie(n(1322)),w=ie(n(1323)),H=ie(n(1324)),V=ie(n(1325)),Y=ie(n(565)),x=ie(n(1326)),W=ie(n(1327)),K=ie(n(1328)),q=ie(n(1329)),j=ie(n(566)),z=ie(n(462)),Q=ie(n(1330)),X=ie(n(1331)),J=ie(n(1332)),Z=ie(n(1333)),ee=ie(n(1334)),te=ie(n(1335)),ne=ie(n(1336));function ie(e){return e&&e.__esModule?e:{default:e}}var ae=angular.module("tangerine.app.core.constants",[]).constant("accountConstants",i.default).constant("analyticsConstants",a.default).constant("appStateConstants",s.default).constant("authConstants",o.default).constant("autoFocusConstants",r.default).constant("buildConstants",l.default).constant("backButtonConstants",c.default).constant("ccIncomeVerificationConstants",u.default).constant("customerConstants",d.default).constant("emtConstants",E.default).constant("errorConstants",h.default).constant("authConstants",o.default).constant("documentConstants",_.default).constant("localeConstants",S.default).constant("serviceConstants",p.default).constant("storageConstants",f.default).constant("pageFlowConstants",T.default).constant("transactionConstants",g.default).constant("stateConstants",b.default).constant("categoryConstants",A.default).constant("menuConstants",v.default).constant("moveMoneyConstants",C.default).constant("userConstants",m.default).constant("UserSettingsConstants",I.default).constant("analyticsConstants",a.default).constant("errorConstants",h.default).constant("localeConstants",S.default).constant("referenceDataConstants",R.default).constant("standardFeesConstants",y.default).constant("employmentStatusConstants",L.default).constant("overdraftConstants",M.default).constant("infoDeliveryConstants",D.default).constant("investmentConstants",P.default).constant("globalModalsConstants",O.default).constant("cardsConstants",U.default).constant("nativeConstants",N.default).constant("timeStateConstants",$.default).constant("referFriendConstants",F.default).constant("nativeConstants",N.default).constant("messageTemplatesConstants",k.default).constant("colorConstants",B.default).constant("momentConstants",G.default).constant("dropOffConstants",H.default).constant("iovationConstants",w.default).constant("eventConstants",Y.default).constant("OrangeAlertsConstants",V.default).constant("PDFRequestConfig",x.default).constant("bundleConstants",W.default).constant("billPayConstants",K.default).constant("tlocConstants",q.default).constant("eNotificationConstants",j.default).constant("ratesConstants",z.default).constant("cdicConstants",Q.default).constant("GoalsConstants",X.default).constant("mortgageConstants",J.default).constant("intendedUseTpiReviewConstants",Z.default).constant("chatbotConstants",ee.default).constant("eTransferDialogConstants",te.default).constant("InvestmentFundConstants",ne.default);t.default=ae,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n(33),o=(i=s)&&i.__esModule?i:{default:i};var r={CERT_CHECK_START:"certCheckStart",CERT_CHECK_END:"certCheckEnd",CHALLENGE_HANDLER_CHECK:"challengeHandler",FORCED_LOGIN_TIMEOUT:"forcedLoginTimeout",API_REQUEST:"apiRequest",STATE_CHANGE_START:"stateChangeStart",STATE_CHANGE_SUCCESS:"stateChangeSuccess",STATE_CHANGE_ERROR:"stateChangeError",WL_CONNECTION_SUCCESS:"wlConnectionSuccess",PROMOTION_VIEW:"promotionView",PROMOTION_CLICK:"promotionClick",BASKET_ADD_TO_CART:"basketAddToCart",BASKET_REMOVE_FROM_CART:"basketRemoveFromCart",BASKET_CHECKOUT_STEP:"basketCheckoutStep",BASKET_CONFIRMATION:"basketConfirmation",FLOW_STATE_CHANGE:"flowStateChange",MODAL_SHOW:"modalShow",CUSTOM_EVENT:"customEvent",VIRTUAL_PAGEVIEW:"virtualPageview",ACCOUNT_AGGREGATION_EVENT:"plaidLinkExit",NEW_CLIENT_ENROLLMENT:"newClientEnrollment",WL_DEVICE_GET_NETWORK_INFO:"wlDeviceGetNetworkInfo",WL_SUBMIT_CIF_ERROR:"wlSubmitCifError",WL_LOGINOPTION_ERROR:"wlLoginOptionError",MOBILE_METRICS:"mobileMetrics",FINGER_PRINT_ENROLL:"fingerprintEnroll",FINGER_PRINT_ENROLL_ERROR:"fingerprintEnrollError",THIS_DEVICE_NOT_DISPLAYED:"thisDeviceNotDisplayed",FINGER_PRRINT_LOGIN:"fingerprintLogin",ORANGE_ALERT_REG_ERROR:"orangeAlertRegistrationError",ZONB_ROADBLOCK_DOCUMENT_UPLOAD:"zonbUpload",ZONB_ROADBLOCK_DOCUMENT_CLICK:"zonbUploadClick",MORTGAGE_APP_HELP_ARTICLES_AND_TOOLS:"mortgageAppHelpArticlesAndTools",MORTGAGE_APP_HELP_SHOW_FEEDBACK:"mortgageAppHelpShowFeedback",MORTGAGE_APP_LOCKED_MID_FLOW:"mortgageAppLockedMidFlow",MORTGAGE_APP_PENDING_RESUME_SUCCESS:"mortgageAppPendingResumeSuccess",MORTGAGE_APP_PENDING_RESUME_CALL_IN:"mortgageAppPendingResumeCallIn",MORTGAGE_APP_TRACKER_OPENED:"mortgageAppTrackerOpened",MORTGAGE_DOC_UPLOAD_TOO_MANY_FILES:"mortgageDocUploadTooManyFiles",MORTGAGE_DOC_UPLOAD_UNSUPPORTED_TYPE:"mortgageDocUploadUnsupportedType",MORTGAGE_DOC_UPLOAD_UNSUPPORTED_FILENAME:"mortgageDocUploadUnsupportedFileName",MORTGAGE_DOC_UPLOAD_FILE_TOO_LARGE:"mortgageDocUploadFileTooLarge",MORTGAGE_DOC_UPLOAD_PDF_FILE_COUNT_VIOLATION:"mortgageDocUploadPdfFileCountViolation",MORTGAGE_DOC_UPLOAD_SERVICE_SUCCESS:"mortgageDocUploadServiceSuccess",MORTGAGE_DOC_UPLOAD_SERVICE_FAILURE:"mortgageDocUploadServiceFailure",MORTGAGE_APP_SERVICE_ERROR:"mortgageAppServiceError",JOINT_ENROLLMENT_VALIDATION:"jointEnrollmentValidation",JOINT_ENROLLMENT_ACCEPTANCE:"jointEnrollmentAcceptance",ERROR_EVENT:"errorEvent",UPGRADE_CREDIT_CARD_CLICK:"upgradeCreditCardClick",OVERDRAFT_PREAPPROVAL_FLOW_STARTED:"overdraftPreapprovalFlowStarted",OVERDRAFT_PREAPPROVAL_FLOW_SUBMITTED:"overdraftPreapprovalSubmitted",OVERDRAFT_PREAPPROVAL_FLOW_LIMIT_LOWERED:"overdraftPreapprovalLimitLowered",OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_SUCCESS:"overdraftPreapprovalServiceSuccess",OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_REJECTED:"overdraftPreapprovalServiceRejected",OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_ERROR:"overdraftPreapprovalServiceError",OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_PENDING:"overdraftPreapprovalServicePending"},l=(a={},(0,o.default)(a,r.API_REQUEST,{dynatrace:!0}),(0,o.default)(a,r.CERT_CHECK_START,{dynatrace:!0}),(0,o.default)(a,r.CERT_CHECK_END,{dynatrace:!0}),(0,o.default)(a,r.CHALLENGE_HANDLER_CHECK,{dynatrace:!0}),(0,o.default)(a,r.FORCED_LOGIN_TIMEOUT,{dynatrace:!0}),(0,o.default)(a,r.STATE_CHANGE_START,{dynatrace:!1}),(0,o.default)(a,r.STATE_CHANGE_SUCCESS,{dynatrace:!1,gtm:!0}),(0,o.default)(a,r.STATE_CHANGE_ERROR,{dynatrace:!0}),(0,o.default)(a,r.WL_CONNECTION_SUCCESS,{dynatrace:!0}),(0,o.default)(a,r.PROMOTION_VIEW,{gtm:!0}),(0,o.default)(a,r.PROMOTION_CLICK,{gtm:!0}),(0,o.default)(a,r.BASKET_ADD_TO_CART,{gtm:!0}),(0,o.default)(a,r.BASKET_REMOVE_FROM_CART,{gtm:!0}),(0,o.default)(a,r.BASKET_CHECKOUT_STEP,{gtm:!0}),(0,o.default)(a,r.BASKET_CONFIRMATION,{gtm:!0}),(0,o.default)(a,r.FLOW_STATE_CHANGE,{dynatrace:!1,gtm:!0}),(0,o.default)(a,r.MODAL_SHOW,{dynatrace:!1,gtm:!0}),(0,o.default)(a,r.WL_DEVICE_GET_NETWORK_INFO,{dynatrace:!0}),(0,o.default)(a,r.CUSTOM_EVENT,{gtm:!0}),(0,o.default)(a,r.VIRTUAL_PAGEVIEW,{gtm:!0}),(0,o.default)(a,r.ACCOUNT_AGGREGATION_EVENT,{gtm:!0}),(0,o.default)(a,r.NEW_CLIENT_ENROLLMENT,{gtm:!0}),(0,o.default)(a,r.WL_SUBMIT_CIF_ERROR,{dynatrace:!0}),(0,o.default)(a,r.WL_LOGINOPTION_ERROR,{dynatrace:!0}),(0,o.default)(a,r.MOBILE_METRICS,{gtm:!0}),(0,o.default)(a,r.FINGER_PRINT_ENROLL,{dynatrace:!0}),(0,o.default)(a,r.FINGER_PRINT_ENROLL_ERROR,{dynatrace:!0}),(0,o.default)(a,r.THIS_DEVICE_NOT_DISPLAYED,{dynatrace:!0}),(0,o.default)(a,r.FINGER_PRRINT_LOGIN,{dynatrace:!0}),(0,o.default)(a,r.ORANGE_ALERT_REG_ERROR,{dynatrace:!0}),(0,o.default)(a,r.ZONB_ROADBLOCK_DOCUMENT_UPLOAD,{dynatrace:!0,gtm:!0}),(0,o.default)(a,r.ZONB_ROADBLOCK_DOCUMENT_CLICK,{dynatrace:!1,gtm:!0}),(0,o.default)(a,r.MORTGAGE_APP_HELP_ARTICLES_AND_TOOLS,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_APP_HELP_SHOW_FEEDBACK,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_APP_LOCKED_MID_FLOW,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_APP_PENDING_RESUME_SUCCESS,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_APP_PENDING_RESUME_CALL_IN,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_APP_TRACKER_OPENED,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_DOC_UPLOAD_TOO_MANY_FILES,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_DOC_UPLOAD_PDF_FILE_COUNT_VIOLATION,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_DOC_UPLOAD_UNSUPPORTED_TYPE,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_DOC_UPLOAD_UNSUPPORTED_FILENAME,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_DOC_UPLOAD_FILE_TOO_LARGE,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_DOC_UPLOAD_SERVICE_SUCCESS,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_DOC_UPLOAD_SERVICE_FAILURE,{gtm:!0}),(0,o.default)(a,r.MORTGAGE_APP_SERVICE_ERROR,{gtm:!0}),(0,o.default)(a,r.JOINT_ENROLLMENT_VALIDATION,{gtm:!0}),(0,o.default)(a,r.JOINT_ENROLLMENT_ACCEPTANCE,{gtm:!0}),(0,o.default)(a,r.ERROR_EVENT,{gtm:!0}),(0,o.default)(a,r.UPGRADE_CREDIT_CARD_CLICK,{gtm:!0}),(0,o.default)(a,r.OVERDRAFT_PREAPPROVAL_FLOW_STARTED,{gtm:!0}),(0,o.default)(a,r.OVERDRAFT_PREAPPROVAL_FLOW_SUBMITTED,{gtm:!0}),(0,o.default)(a,r.OVERDRAFT_PREAPPROVAL_FLOW_LIMIT_LOWERED,{gtm:!0}),(0,o.default)(a,r.OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_SUCCESS,{gtm:!0}),(0,o.default)(a,r.OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_REJECTED,{gtm:!0}),(0,o.default)(a,r.OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_ERROR,{gtm:!0}),(0,o.default)(a,r.OVERDRAFT_PREAPPROVAL_FLOW_SERVICE_PENDING,{gtm:!0}),a);t.default={CONFIG:l,AVAILABLE_EVENTS:r,ANALYTICS_COOKIES:{GTMOK:"gtmok",GTMCSD:"gtmcsd"},DYNATRACE_HEADERS:{SERVICE_URL:"x-dynatrace-service",PAGE:"x-dynatrace-page",CUSTOMER:"x-dynatrace-customer"},BASKET_CHECKOUT_STEPS:{START_APPLICATION:1,SUBMIT_APPLICATION:2},IGNORE_PAGES:{CONTACT:"/contact"},EVENT_CATEGORY:{MAIN_MENU:"menu - main",FOOTER_MENU:"menu - footer",SUB_MENU:"menu - secondary",LOGIN_PAGE:"login page",ONBOARDING:"onboarding",INSIGHTS:"insights"},MENU_ACTION_LABLES:[{value:"logout",label:"Log Out"},{value:"loginPage",label:"Log Me In"},{value:"accountSummary",label:"Overview"},{value:"insights",label:"Insights"},{value:"transactionsPage",label:"Transactions"},{value:"budgetLtsPage",label:"Left to Spend"},{value:"financialPlanArchetypes",label:"Goals"},{value:"recipes",label:"Recipes"},{value:"navigation",label:"Profile settings"},{value:"abmLocations",label:"ABM Locator"},{value:"displayContactUsMenu",label:"Contact Us"},{value:"openFeedback",label:"Feedback"},{value:"inbox",label:"Inbox"},{value:"/{{locale}}/products",label:"Products"},{value:"/{{locale}}/rates",label:"Rates"},{value:"/{{locale}}/faq",label:"FAQ"},{value:"openRdc",label:"Remote Deposit"},{value:"openMoveMoney",label:"Move Money"},{value:"openBillPay",label:"Pay Bills"},{value:"openEmt",label:"Email Money"},{value:"devices",label:"Devices"},{value:"accountDocuments",label:"Documents"},{value:"forms",label:"Forms"},{value:"/{{locale}}/accessibility",label:"Accessibility"},{value:"/{{locale}}/security",label:"Security"},{value:"/{{locale}}/legal",label:"Legal"},{value:"/{{locale}}/privacy",label:"Privacy"},{value:"/{{locale}}/about-us/careers",label:"Careers"},{value:"/{{locale}}/about-us",label:"About Us"}]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={APPLICATION_INIT:"applicationInit",APPLICATION_LOGOUT:"applicationLogout",MOBILE_CHALLENGEAPI_INIT:"challengeApiInit",MOBILE_MAINTENANCE:"mobileMaintenance",KEEP_ALIVE:"keepAlive",TPW_KEEP_ALIVE:"tpwKeepAlive"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={level1Realm:"Level1Realm",level2Realm:"Level2Realm",authCifUri:"security/login/cif",authAifUri:"security/login/aif",authPassmarkUri:"security/authentication-step/passmark",authPinUri:"security/authentication-step/pin",authDeferPin:"security/passes/defer_pin",authTouchId:"security/passes/touch_id",authFaceId:"security/passes/face_id",authFingerprintId:"security/passes/fingerprint_id",authFlavour:"fbe",challengeReject:"Cancelled login from challenge.",tokens:{deferPin:"DEFER_PIN",touchId:"TOUCH_ID",fingerprintId:"FINGERPRINT_ID",remember:"REMEMBER"},steps:{INIT:"init",CIF:"cif",AIF:"aif",QUESTION:"security_question",PIN:"pin",PASSMARK:"passmark"},tpwSteps:{CIF:"ValidatePersonalCIF",AIF:"ValidateAICIF",QUESTION:"ChallengeQuestion",PIN:"PINPage"},status:{REQUIRED:"required",COMPLETE:"complete",INVALID_TOKEN:"invalid_token",PASSMARK_LOCKED:"passmark_locked",PASSMARK_INVALID:"passmark_invalid",PIN_LOCKED:"pin_locked"},emailTypes:{touch:"TOUCH_ID_LOGIN_FAILED",face:"TOUCH_ID_LOGIN_FAILED",fingerprintId:"FINGERPRINT_ID_LOGIN_FAILED"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MOBILE_ONLY:"MOBILE_ONLY",DESKTOP_ONLY:"DESKTOP_ONLY",ALL:"ALL",NONE:"NONE"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(39),s=(i=a)&&i.__esModule?i:{default:i};var o={DEBUG_ENV:!1,CONFIG:window.tngConfig&&"object"===(0,s.default)(window.tngConfig)?window.tngConfig:{apiUrl:"https://secure.tangerine.ca",marketingResourcesUrl:"https://www.tangerine.ca",blogSignupUrl:"https://www.tangerine.ca/NewsletterSubmission/submissionservice.asmx/Submit",googleMapKeyWeb:"AIzaSyBsY4_Ts1jN7kq3n1B8vInQfsTQlcOHi9U",googleMapKeyAndroid:"AIzaSyCNa6z8dqyhpPTVAKoJcUulNewT9f12rSM",googleMapKeyIOS:"AIzaSyCEaw7Gz7u7SMp3GIE-LlaulobQ2rfm1uQ",googleTagManagerKey:"GTM-PN6BP5",googleTagManagerKeyMobile:"GTM-TK4LGF4",facebookAppId:"137600782927194",chatSurvey:{isEnabled:!0},activeOfferCode:"",userhashVersioningEnabled:!1,trustedCertificateValidation:!0,genesys:{chat:"https://api.tangerine.ca",cobrowse:"https://share.tangerine.ca",env:"PROD",serviceAvailabilityEnv:"prd",serviceAvailabilityEnvAppId:"1c5e09e3-8d70-458f-bcd2-8d364ab4764e",agentIdEnv:"prd",agentIdEnvAppId:"61e5fffd-530e-4918-b821-cc5024f4f8b4"},insights:{apiUrl:"https://api.tangerine.ca/mkt",appId:"aae06631-1eca-4268-a8f1-2426ff7d4e39",channel:"FBEWeb",staticBaseUrl:"https://www.tangerine.ca"},siteSearch:{apiUrl:"https://api.tangerine.ca/mkt",appId:"61e5fffd-530e-4918-b821-cc5024f4f8b4"},esignLive:{pdfUrl:"https://apps.e-signlive.ca/access?sessionToken="},iovation:{thirdPartyScript:"https://mpsnare.iesnare.com/snare.js",firstPartyScriptDynamic:"https://secure.tangerine.ca/iojs/latest/dyn_wdp.js",firstPartyScriptStatic:"https://secure.tangerine.ca/iojs/latest/static_wdp.js"},ofx:{url:"https://ofx.tangerine.ca/",ofxOrgId:"061400152",qfxOrgId:"10951",sessionId:"tng",institutionNumber:"0614"},emtSHA2Enabled:!0,amlKYCRefresh:!0,preApprovalEnabled:!1,enableFinancialPlan:!0,goalHomeDownpaymentEnabled:!0,magicSwitchFundsUpgraded:!0,canadaPostStrike:!1,fileUploadUrl:"https://upload.tangerine.ca/FileUpload/GENERAL/ZONB_UPLOAD",fileUploadTimeout:6e4,enableDocumentUpload:!0,taxBanner:!0,enableTFSAContributionDetails:!0,enableRSPContributionDetails:!0,taxReceiptsV2Enabled:!0,wysdomEnv:"PROD",mfpServerUrl:"https://mgateway.tangerine.ca:443/tangerine_proj",CC4PercentPromoEnableDate:"2019-04-22T00:00:00",enableTLOCApplicationFlow:!0,kycDssCodeWalletPass:{googleUrl:"https://api.tangerine.ca/prd/v1/wallets/google/canada-post?token=",appleUrl:"https://api.tangerine.ca/prd/v1/wallets/apple/canada-post?token=",appId:"0G7C6FdcTGVwxsUzFY7aa7pUO9mrKxGL"},signMeUpPath:"/app/#/enroll",abTestConfigs:{onboardingRequirement:{enabled:!1,controlGroupPercentage:"55",analyticsType:"path",relevantPath:"/newclientenrollment/requirements",pathDescription:"noOrangeKey"}},plaid:{apiVersion:"v2",clientName:"Tangerine",env:"production",product:["transactions"],isEnabled:!0,isAccountSummaryEnabled:!0,publicKey:"9f360be6b850200ecdefeb9dbb9b22",countryCodes:["CA"]},showViewToggle:!1,billPayV2RecurringCharges:!1,virtualAssistant:!0,mortgageDocumentUploadUrl:"https://upload.tangerine.ca/FileUpload/GENERAL/MTG_APPL_UPLOAD",mortgageTrackerNativeEnabled:!0,mortgageTrackerUpgradedEffectiveDate:"2020-02-15",mortgageTrackerUpgraded:!0,interacFeeEffectiveDate:"28-11-2019",overdraftPreapprovalEnabled:!0,verifiedMe:{apiUrl:"https://api.tangerine.ca/prd",appId:""},personalInsights:{channel:"TANGERINE_LIVE"},enableExpressSignUp:!1,cdicChangeEnableDate:"2020-04-30 00:01:00"},MOCK_ENV:!1,PLATFORM:"web",DYNAMIC_ENV:!1,DEFAULT_ENVIRONMENT:"production",AVAILABLE_ENVIRONMENTS:[],BUILD_TIME:"2020-03-05T11:42:05.439Z",PERFORMANCE_LOGGING:!1,IN_DEV_POD:!1,APP_ENV:"production",POD_HOSTNAME:void 0};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={PRIORITY:{IS_MODAL:3,IS_HAMBURGER_MENU:3,HIGH:3,MEDIUM:2,LOW:1},EVENTS:{CONFIRM_EXIT:"onAppExitConfirmation"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n(33),o=(i=s)&&i.__esModule?i:{default:i};var r={code:"RETIRED",name:"Retired"},l={code:"STUDENT",name:"Student"},c={code:"HOMEMAKER",name:"Homemaker"},u={code:"EMPLOYED",name:"Employed"},d={code:"SELF_EMPLOYED",name:"Self-employed"},_={code:"UNEMPLOYED",name:"Unemployed"},E=[r,l,c,u,d,_],h=(a={},(0,o.default)(a,r.code,!1),(0,o.default)(a,l.code,!1),(0,o.default)(a,c.code,!1),(0,o.default)(a,"NOT_WORKING",!1),(0,o.default)(a,u.code,!0),(0,o.default)(a,"EMPLOYED_PART_TIME",!0),(0,o.default)(a,"EMPLOYED_FULL_TIME",!0),(0,o.default)(a,d.code,!0),(0,o.default)(a,_.code,!1),(0,o.default)(a,"OTHER",!1),(0,o.default)(a,"SEASONAL",!0),(0,o.default)(a,"CHILD_PRE_SCHOOL",!1),a);t.default={EMPLOYMENT_STATUSES:E,MAX_NUM_TIMES_POLL:3,POLL_INTERVAL_MS:2e4,UPDATE_SYNC_POLL_INTERVAL_MS:2e4,REQUIRES_OCCUPATION:h},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={DOCUMENT_TYPES:{BSTMT:"BSTMT",CHQ:"CHQ",SLC:"SLC",CCSTMT:"CCSTMT",MFSTMT:"MFSTMT",TLOCSTMT:"TLOCSTMT"},DOCUMENT_MAP:{BSTMT:"SAVINGS",CHQ:"CHEQUING",SLC:"LOAN",CCSTMT:"CREDIT_CARD",MFSTMT:"MUTUAL_FUND",TLOCSTMT:"LINE_OF_CREDIT"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={FORM_TYPE:{EDIT:"EDIT",NEW:"NEW"},TRANSFER_TYPE:{TANGERINE_EMT:"TANGERINE_EMT",INTERAC_EMT:"INTERAC_EMT",INTERAC:"INTERAC",INTERAC_AUTODEP:"INTERAC_AUTODEP",INTERAC_MONEYRQ:"INTERAC_MONEYRQ"},WHEN_SEND:{NOW:"NOW",LATER:"LATER"},WHEN_TILES:{NOW:{header:"emt.emailMoney.now"},LATER:{header:"emt.emailMoney.later",subHeader:"emt.emailMoney.scheduleTransfer"}},EMT_AVAILABLE_ACTIONS:{EDIT:"EDIT",RESEND:"RESEND",CANCEL:"CANCEL",RECLAIM:"RECLAIM"},RECLAIM_RETURN_CODES:{DISABLE_RECLAIM:"IEMT_CP901",NOT_RECLAIMABLE:"IEMT_CP999"},EMT_VALIDATION_LIMIT:{MD5_FUZZY_VERSION:2,EMAIL_QUESTION_INTERAC_LENGTH_LIMIT:40}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={AVAILABLE_EVENTS:{REQUEST_ERROR:"requestError",LOGIN_WEB_ERROR:"loginWebError",LOGIN_MOBILE_ERROR:"loginMobileError",STATE_CHANGE_ERROR:"stateChangeError",WL_CONNECTION_FAILURE:"wlConnectionFailure",WL_CONNECTION_LOST:"wlConnectionLost",DOUBLE_CLICK:"doubleClick"},LOGIN_ERRORS:{LOGIN_MOBILE_PLUS:"LOGIN_MOBILE_PLUS",LOGIN_MOBILE_PLUS_NATIVE:"LOGIN_MOBILE_PLUS_NATIVE",LOGIN_ERROR:"LOGIN_ERROR",LOGIN_TIMEOUT:"SESSION_TIMEOUT",LOGOUT_ERROR:"7"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n(33),o=(i=s)&&i.__esModule?i:{default:i};var r={EN_CA:"en_CA",FR_CA:"fr_CA"},l={LOCALES:r,SHORTHAND_LOCALE:(a={},(0,o.default)(a,r.EN_CA,"en"),(0,o.default)(a,r.FR_CA,"fr"),a),DEFAULT:r.EN_CA,LOCALE_EVENTS:{LOCALE_CHANGED:"localeChanged"},LANGUAGES:{ENGLISH:"ENGLISH",FRENCH:"FRENCH"}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_ENDPOINTS=void 0;var i,a=n(528),s=(i=a)&&i.__esModule?i:{default:i};var o={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"},r=t.ROOT_ENDPOINTS={ACCOUNTS:"accounts",CUSTOMERS:"customers",CARDS:"cards",GENERAL:"general",PFM:"pfm",GOALS:"goals",AGGREGATED_ACCOUNTS:"aggregatedAccounts"},l={timeout:2e4,mockBaseURL:"/assets/res/mock",webApiBaseUrl:"/web/rest"},c={defaults:l,accountServicesByPPT:{3e3:"OPEN_SAVINGS",3010:"OPEN_SAVINGS",3100:"OPEN_SAVINGS_RSP",3400:"OPEN_SAVINGS_RIF",3200:"OPEN_SAVINGS_TFSA",3201:"OPEN_SAVINGS_TFSA_KS",4e3:"OPEN_CHEQUING",1100:"OPEN_CREDIT_CARD",1200:"OPEN_CREDIT_CARD",3300:"OPEN_CSA",3500:"OPEN_GIC",3510:"OPEN_GIC",3514:"OPEN_GIC",3600:"OPEN_GIC_RSP",3800:"OPEN_GIC_TFSA",3900:"OPEN_GIC_RIF",2e3:"OPEN_MUTUAL_FUND_ELIGIBILITY",2100:"OPEN_MUTUAL_FUND_ELIGIBILITY",2200:"OPEN_MUTUAL_FUND_ELIGIBILITY",2300:"OPEN_MUTUAL_FUND_ELIGIBILITY",3333:"OPEN_BUSINESS_SAVINGS",3343:"OPEN_BUSINESS_US_SAVINGS",3533:"OPEN_BUSINESS_GIC",3543:"BUSINESS_GIC_USD",5100:"OPEN_RSP_LOAN_ELIGIBILITY",6800:"OPEN_TLOC_INTEREST",6900:"OPEN_TLOC_INTEREST",7e3:"OPEN_MORTGAGE",7910:"OPEN_MORTGAGE"},exchangeRates:{method:o.GET,HTTP:{url:"/v1/general/exchange-rates"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/exchange-rates "},MOCK:{url:"/exchangeRates.json"}},referenceData:{method:o.GET,HTTP:{url:"/v1/general/reference-data?locale={{locale}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/reference-data"},MOCK:{url:"/reference_data_all.json"}},accountsRates:{method:o.GET,HTTP:{url:"/v1/products/rates?locale={{locale}}"},WL:{adapter:"ProductsAdapterFBE",path:"v1/products/rates"},MOCK:{url:"/accountsRates.json"}},passmarkSetup:{method:o.GET,HTTP:{url:"/v1/customers/my/passmark?action=SETUP"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/passmark?action=SETUP"},MOCK:{url:"/passmark.json"},cacheStrategy:{cacheResult:!1}},passmarkImagesByCategory:{method:o.GET,HTTP:{url:"/v1/customers/my/passmark?action=SETUP&image_category={{image_category}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/passmark?action=SETUP"},MOCK:{url:"/passmark.json"},cacheStrategy:{cacheResult:!1}},passmarkImagesByCategoryUpdate:{method:o.GET,HTTP:{url:"/v1/customers/my/passmark?action=UPDATE&image_category={{image_category}}&cache_bust={{cache_bust}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/passmark?action=UPDATE"},MOCK:{url:"/passmark.json"},cacheStrategy:{cacheResult:!1}},getPassmark:{method:o.GET,HTTP:{url:"/v1/customers/my/passmark"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/passmark"},MOCK:{url:"/getPassmark.json"},cacheStrategy:{cacheResult:!1}},putPassmark:{method:o.PUT,HTTP:{url:"/v1/customers/my/passmark"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/passmark"},MOCK:{url:"/passmark.json"},cacheStrategy:{cacheResult:!1}},postPassmark:{method:o.POST,HTTP:{url:"/v1/customers/my/passmark"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/passmark"},MOCK:{url:"/passmark.json"},cacheStrategy:{cacheResult:!1}},getPassmarkDependent:{method:o.GET,HTTP:{url:"/v1/customers/my/dependents/{{id}}/passmark"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id/passmark"},MOCK:{url:"/getPassmark.json"}},putPassmarkDependent:{method:o.PUT,HTTP:{url:"/v1/customers/my/dependents/{{id}}/passmark"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id/passmark"},MOCK:{url:"/getPassmark.json"}},getCustomerInfo:{method:o.GET,HTTP:{url:"/v1/customers/my",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my"},MOCK:{url:"/getCustomerInfo.json"},cacheStrategy:{cacheResult:!1}},getCustomerInfoAI:{method:o.GET,HTTP:{url:"/v1/customers/my"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my"},MOCK:{url:"/getCustomerInfo.json",mobileCache:!0}},getCustomerInfoQuery:{method:o.GET,HTTP:{url:"/v1/customers/my?include-servicing-systems={{include_servicing_systems}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my"},MOCK:{url:"/getCustomerInfo.json",mobileCache:!0}},getCustomerInfoDocList:{method:o.GET,HTTP:{url:"/v1/customers/my?onboarding-doc-list-query-only=true"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my?onboarding-doc-list-query-only=true"},MOCK:{url:"/getCustomerInfoDocList.json"}},getCustomerInfoIntendedUseList:{method:o.GET,HTTP:{url:"/v1/customers/my?include-intended-use=true"},WL:{adapter:"CustomersAdapterFBE",path:"/v1/customers/my?include-intended-use=true"},MOCK:{url:"/getCustomerInfoIntendedUseList.json"},cacheStrategy:{cacheResult:!1}},putCustomerInfo:{method:o.PUT,HTTP:{url:"/v1/customers/my",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my"},MOCK:{url:"/putCustomerInfo.json"}},putCustomerNewPIN:{method:o.PUT,HTTP:{url:"/v1/customers/my/security"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/security"},MOCK:{url:"putCustomerNewPIN.json"}},putCustomerNewPINDependent:{method:o.PUT,HTTP:{url:"/v1/customers/my/dependents/{{id}}/security"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id/security"},MOCK:{url:"putCustomerNewPIN.json"}},getCustomerUsername:{method:o.GET,HTTP:{url:"/v1/customers/my/username"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/username"},MOCK:{url:"/getCustomerUsername.json"}},putCustomerUsername:{method:o.PUT,HTTP:{url:"/v1/customers/my/username"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/username"},MOCK:{url:"/putCustomerUsername.json"}},customerPreferences:{method:o.GET,HTTP:{url:"/v1/customers/my/preferences"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/preferences"},MOCK:{url:"/customerPreferences.json"}},putCustomerPreferences:{method:o.PUT,HTTP:{url:"/v1/customers/my/preferences"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/preferences"},MOCK:{url:"/putCustomerPreferences.json"}},getCustomerDependent:{method:o.GET,HTTP:{url:"/v1/customers/my/dependents/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id"},MOCK:{url:"/customerDependents.json"}},putCustomerDependent:{method:o.PUT,HTTP:{url:"/v1/customers/my/dependents/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id"},MOCK:{url:"/customerDependents.json"}},getCustomerCards:{method:o.GET,HTTP:{url:"/v1/customers/my/cards?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/cards"},MOCK:{url:"/getCustomerCards.json"},cacheStrategy:{cacheResult:!1}},putCustomerCards:{method:o.PUT,HTTP:{url:"/v1/customers/my/cards"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/cards"},MOCK:{url:"/putCustomerCards.json"}},replaceCustomerCards:{method:o.POST,HTTP:{url:"/v1/customers/my/cards"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/cards"},MOCK:{url:"/putCustomerCards.json"}},getPersonalInsightsCapability:{method:o.GET,HTTP:{url:"/v1/campaign/customer-insight/capability",version:"1.0.0"},WL:{adapter:"CampaignAdapterFBE",path:"v1/campaign/customer-insight/capability",version:"1.0.0"},MOCK:{url:"/getPersonalInsightsCapability.json"}},getPersonalInsights:{method:o.GET,HTTP:{url:"/v1/campaign/customer-insight/insights?channel={{channel}}"},WL:{adapter:"CampaignAdapterFBE",path:"v1/campaign/customer-insight/insights"},MOCK:{url:"/getPersonalInsights.json"}},postPersonalInsightEvents:{method:o.POST,HTTP:{url:"/v1/campaign/customer-insight/general-events?channel={{channel}}"},WL:{adapter:"CampaignAdapterFBE",path:"v1/campaign/customer-insight/general-events?channel={{channel}}"},MOCK:{url:"/getPersonalInsights.json"}},getCard:{method:o.GET,HTTP:{url:"/v1/cards/{{id}}"},WL:{adapter:"CardsAdapterFBE",path:"v1/cards"},MOCK:{url:"/getCard.json"}},updateCard:{method:o.PUT,HTTP:{url:"/v1/cards/{{id}}"},WL:{adapter:"CardsAdapterFBE",path:"v1/cards/id"},MOCK:{url:"/putCard.json"}},updateCreditCardLimit:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/creditlimit"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/creditlimit"},MOCK:{url:"/putCreditCardLimit.json"}},updateLoanCreditCardLimit:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/loans/creditlimit"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/loans/creditlimit"},MOCK:{url:"/putCreditCardLimit.json"}},loanPayments:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/loan-payments"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/loan-payments"},MOCK:{url:"/loanPayments.json"}},creditLimitIncreaseRequest:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/creditlimit-increase-request"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/creditlimit-increase-request"},MOCK:{url:"/creditLimitIncreaseRequest.json"}},customerBonusInfo:{method:o.GET,HTTP:{url:"/v1/customers/my/contests-bonuses",version:"1.0.0"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/contests-bonuses",version:"1.0.0"},MOCK:{url:"/getCustomerBonusInfo.json"}},customerOffers:{method:o.GET,HTTP:{url:"/v1/customers/my/offers?{{queryString}}",version:"2.0.0"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/offers",version:"2.0.0"},MOCK:{url:"/getCustomerOffers.json"}},updateCustomerOffers:{method:o.PUT,HTTP:{url:"/v1/customers/my/offers/{{offerId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/offers"},MOCK:{url:"/updateCustomerOffers.json"}},activateCustomerOffers:{method:o.PUT,HTTP:{url:"/v1/customers/my/offers/{{offerId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/offers"},cacheStrategy:{cacheResult:!1}},customerOfferEligibility:{method:o.POST,HTTP:{url:"/v1/customers/my/offers"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/offers"},MOCK:{url:"/customerOffersEligibility.json"},cacheStrategy:{cacheResult:!1}},openChequing:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/chequing"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/chequing"},MOCK:{url:"/canOpenSavingsAccount.json"}},openBusinessSavings:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/isa"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/isa"},MOCK:{url:"/openBusinessSavingsAccount.json"}},openBusinessUsSavings:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/isa"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/isa"},MOCK:{url:"/openBusinessAccount.json"}},openBusinessGic:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/gic"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/gic"},MOCK:{url:"/openBusinessAccount.json"}},openBusinessGicUsd:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/gic"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/gic"},MOCK:{url:"/openBusinessAccount.json"}},openSavings:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/isa"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/isa"},MOCK:{url:"/canOpenChequingAccount.json"}},updateCCEmploymentInformation:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards"},MOCK:{url:"/updateCCEmploymentInformation.json"}},openCreditCard:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/creditcards",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/creditcards"},MOCK:{url:"/openCreditCard.json"}},openSavingsRSP:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/isa/rsp"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/isa/rsp"},MOCK:{url:"/canOpenSavingsRSPAccount.json"}},openSavingsTFSA:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/isa/tfsa"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/isa/tfsa"},MOCK:{url:"/canOpenChequingAccount.json"}},openSavingsTFSAKS:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/isa/pre-tfsa"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/isa/pre-tfsa"},MOCK:{url:"/canOpenChequingAccount.json"}},openSavingsRIF:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/isa/rif"},WL:{adapter:"CustomersAdapterFBE",path:"/v1/customers/my/accounts/savings/isa/rif"},MOCK:{url:"/canOpenSavingsRIFAccount.json"}},openCSA:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/csa"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/csa"},MOCK:{url:"/canOpenCSAAccount.json"}},openGIC:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/gic"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/gic"},MOCK:{url:"/canOpenGICAccount.json"}},openGICRSP:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/gic/rsp"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/gic/rsp"},MOCK:{url:"/canOpenGICAccount.json"}},openGICTFSA:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/gic/tfsa"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/gic/tfsa"},MOCK:{url:"/canOpenGICAccount.json"}},openGICRIF:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/gic/rif"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/gic/rif"},MOCK:{url:"/canOpenGICAccount.json"}},openRIFISA:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/savings/isa/rif"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/isa/rif"},MOCK:{url:"/convertToRifIsa.json"}},openTlocInterest:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/tloc"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/tloc"},MOCK:{url:"/canOpenTlocAccount.json"}},createTlocApplication:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/tloc",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/tloc"},MOCK:{url:"/tloc_create_application.json"}},createTermLoanApplication:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/termloan",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/termloan"},MOCK:{url:""}},orderAccounts:{method:o.POST,HTTP:{url:"/v1/customers/my/order",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/order",timeout:6*l.timeout},MOCK:{url:"/order_accounts.json"},cacheStrategy:{skipCacheClearing:!0}},migrateCustomer:{method:o.PUT,HTTP:{url:"/v1/customers/my/migration"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/migration"},MOCK:{url:"/order_accounts.json"}},creditCardRates:{method:o.GET,HTTP:{url:"/v1/products/creditcards?prodcode={{productCode}}"},WL:{adapter:"ProductsAdapterFBE",path:"v1/products/creditcards?prodcode={{productCode}}"},MOCK:{url:"/creditCardRates.json"}},creditLimit:{method:o.GET,HTTP:{url:"/v1/customers/my/offers?product-code={{productCode}}&offer-type=CCPA&fetch-all=false"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/offers?product-code={{productCode}}&offer-type=CCPA&fetch-all=false"},MOCK:{url:"/customerOffers.json"}},convertOffer:{method:o.GET,HTTP:{url:"/v1/customers/my/offers?product-code=CBK&offer-type=CCMW&fetch-all=false"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/offers?product-code=CBK&offer-type=CCMW&fetch-all=false"},MOCK:{url:"/creditcardConversionOffer.json"}},creditCardCampaigns:{method:o.GET,HTTP:{url:"/v1/ccCampaign/?offerType={{offerType}}&productCode={{productCode}}"},WL:{adapter:"ProductsAdapterFBE",path:"v1/ccCampaign/?offerType={{offerType}}&productCode={{productCode}}"},MOCK:{url:"/creditCardCampaigns.json"}},creditApplicationStatus:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/{{dealId}}",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/dealId"},MOCK:{url:"/ccApplicationStatus.json"}},creditRewardAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=CREDIT_CARD_REWARD_ACCOUNTS"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=CREDIT_CARD_REWARD_ACCOUNTS"},MOCK:{url:"/creditRewardAccounts.json"}},gicFundSourceAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts"},MOCK:{url:"/gicFundSourceAccounts.json"}},bisaFundSourceAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=OPEN_ACCOUNT&currency={{currency}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/customers/my/accounts?actionCode=OPEN_ACCOUNT&currency={{currency}}"},MOCK:{url:"/bisaFundSourceAccounts.json"}},creditApplicationUpdateWithGet:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/{{dealId}}",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/dealId",timeout:3*l.timeout},MOCK:{url:"/tsysRewards.json"}},creditApplicationUpdate:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/{{dealId}}",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/dealId",timeout:3*l.timeout},MOCK:{url:"/tsysRewards.json"}},getKBAQuestions:{method:o.POST,HTTP:{url:"/v1/customers/my/knowledge-based-authentication",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/knowledge-based-authentication",timeout:10*l.timeout},MOCK:{url:"/ccKbaQuestions.json"}},updateKBAQuestions:{method:o.PUT,HTTP:{url:"/v1/customers/my/knowledge-based-authentication",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/knowledge-based-authentication",timeout:10*l.timeout},MOCK:{url:"/ccKBAResponses.json"}},getEnrollKBAQuestions:{method:o.POST,HTTP:{url:"/v1/general/enrollments/{{id}}/knowledge-based-authentication",timeout:10*l.timeout},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/enrollments/id/knowledge-based-authentication",timeout:10*l.timeout},MOCK:{url:"/ccKbaQuestions.json"}},updateEnrollKBAQuestions:{method:o.PUT,HTTP:{url:"/v1/general/enrollments/{{id}}/knowledge-based-authentication",timeout:10*l.timeout},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/enrollments/id/knowledge-based-authentication",timeout:10*l.timeout},MOCK:{url:"/ccKBAResponses.json"}},getMutualFundDetails:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/mutual-funds/{{dealId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/mutual-funds/dealId"},MOCK:{url:"/mutual_fund_details.json"}},infoDelivery:{method:o.POST,HTTP:{url:"/v1/customers/my/info-delivery"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/info-delivery"},MOCK:{url:"/info_delivery.json"}},accountSummary:{method:o.GET,HTTP:{url:"/pfm/v1/accounts",timeout:10*l.timeout},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/accounts",timeout:2e4},MOCK:{url:"/accounts.json",mobileCache:!0}},accountDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}?include-available-actions=true"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id?include-available-actions=true"},MOCK:{url:"/account_details.json"}},saveAccountDetails:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id"},MOCK:{url:"/posted_savings_account.json"}},closeAccount:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=CLOSE_ACCOUNT&{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=CLOSE_ACCOUNT&{{queryString}}"},MOCK:{url:"/close_account.json"}},closeAccountSubmit:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/movemoney?trasferType=CLOSE_ACCOUNT"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/movemoney?trasferType=CLOSE_ACCOUNT"},MOCK:{url:"/submit_close_account.json"}},accountDetailsSavings:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}?include-available-actions=true"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id?include-available-actions=true"},MOCK:{url:"/savings_account.json"}},accountSummarySavings:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?type=SAVINGS"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?type=SAVINGS",timeout:1e4},MOCK:{url:"/accounts_details.json"}},accountSummaryChequing:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?type=CHEQUING"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?type=CHEQUING",timeout:1e4},MOCK:{url:"/chequing_accounts.json"}},savingsAccountWithoutRif:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=CREDIT_CARD_REWARD_ACCOUNTS"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=CREDIT_CARD_REWARD_ACCOUNTS",timeout:1e4},MOCK:{url:"/savings_accounts_without_rif.json"}},accountDetailsChequing:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id?include-available-actions=true"},MOCK:{url:"/chequing_account.json",mobileCache:!0}},accountDetailsCreditCard:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}?include-available-actions=true&pu-emp-details=true&billing-cycle-ranges=true"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id?include-available-actions=true&pu-emp-details=true&billing-cycle-ranges=true"},MOCK:{url:"/credit_card_account.json",mobileCache:!0}},accountDetailsMortgage:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}?include-available-actions=true"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id?include-available-actions=true"},MOCK:{url:"/mortgage_account.json"}},accountDetailsLoan:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}?include-available-actions=true"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id?include-available-actions=true"},MOCK:{url:"/loan_account.json"}},accountDetailsMutualFund:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}?include-available-actions=true",timeout:2e5},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id?include-available-actions=true"},MOCK:{url:"/investmentFund/investment_account.json"}},accountStatements:{method:o.GET,HTTP:{url:"/v1/customers/my/documents/statements?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/statements"},MOCK:{url:"/account_statements.json"}},taxReceipts:{method:o.GET,HTTP:{url:"/v1/customers/my/documents/tax-receipts?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/tax-receipts"},MOCK:{url:"/tax_receipts.json"}},updateTaxReceipt:{method:o.PUT,HTTP:{url:"/v1/customers/my/documents/tax-receipts"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/tax-receipts"},MOCK:{url:"/update_tax_receipt.json"}},accountInvestmentReports:{method:o.GET,HTTP:{url:"/v1/customers/my/documents/investment-reports"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/investment-reports"},MOCK:{url:"/investment_reports.json"}},otherDocuments:{method:o.GET,HTTP:{url:"/v1/customers/my/documents/other-documents"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/other-documents"},MOCK:{url:"/other_documents.json"}},deleteOtherDocument:{method:o.DELETE,HTTP:{url:"/v1/customers/my/documents/other-documents/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/other-documents/id"},MOCK:{url:"/delete_other_document.json"}},moveMoney:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?{{queryString}}",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?{{queryString}}"},MOCK:{url:"/move_money_accounts.json"}},moveMoneySubmit:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/movemoney"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/movemoney"},MOCK:{url:"/move_money_submit.json"}},moveMoneyEdit:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/movemoney/{{seqNum}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/movemoney/seqNum"},MOCK:{url:"/move_money_submit.json"}},mutualFundsSubmit:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/mutual-funds"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/mutual-funds"},MOCK:{url:"/mutual-funds_submit.json"}},mutualFundsEdit:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/mutual-funds/{{seqNum}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/mutual-funds/seqNum"},MOCK:{url:"/mutual-funds_submit.json"}},accountByType:{method:o.GET,HTTP:{url:"/v1/accounts?type={{type}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?type=type"},MOCK:{}},accountHolds:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/holds"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/holds "},MOCK:{url:"/accounts_holds.json"}},getHolds:{method:o.GET,HTTP:{url:"/v1/customers/my/holds"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/holds "},MOCK:{url:"/gets_holds.json"},cacheStrategy:{cacheResult:!1}},transactionHistory:{method:o.GET,HTTP:{url:"/pfm/v1/transactions?{{queryString}}"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions"},MOCK:{url:"/chequing_account_transaction_history.json"}},legacyTransactionHistory:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions"},MOCK:{url:"/legacy_account_transaction_history.json"}},cards:{method:o.GET,HTTP:{url:"/v1/customers/my/cards"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/cards"},MOCK:{url:"/customers_cards.json"},cacheStrategy:{cacheResult:!0}},availableActions:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}?include-available-actions=true"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id?include-available-actions=true "},MOCK:{url:"/available_actions.json"}},billPostedPayments:{method:o.GET,HTTP:{url:"/pfm/v1/transactions?{{queryString}}"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions"},MOCK:{url:"/posted_payments.json"}},accountUsageTypes:{method:o.GET,HTTP:{url:"/v1/general/reference-data?types=int_use_acct&locale={{locale}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/reference-data?types=int_use_acct"},MOCK:{url:"/reference-data_int_use_acct.json"}},bankInfo:{method:o.GET,HTTP:{url:"/v1/general/reference-data?types=bank_info&locale={{locale}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/reference-data?types=bank_info"},MOCK:{url:"/reference-data_bank_info.json"}},taxReceiptAvailableDates:{method:o.GET,HTTP:{url:"/v1/general/reference-data?types=tax_receipt_available_dates&locale={{locale}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/reference-data?types=tax_receipt_available_dates"},MOCK:{url:"/reference-data_tax_receipt_available_dates.json"}},userCapabilities:{method:o.GET,HTTP:{url:"/v1/customers/my/capabilities?{{queryString}}",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/capabilities"},MOCK:{url:"/capabilities.json",mobileCache:!0},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:900}},financialInstitutions:{method:o.GET,HTTP:{url:"/v1/general/reference-data?types=financial_institutions&locale={{locale}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/reference-data?types=financial_institutions"},MOCK:{url:"/reference-data_financial_institutions.json"}},userCapabilitiesNoQuery:{method:o.GET,HTTP:{url:"/v1/customers/my/capabilities"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/capabilities"},MOCK:{url:"/capabilities.json",mobileCache:!0},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:900}},sanctionedCountries:{method:o.GET,HTTP:{url:"/v1/general/reference-data?types=sanc_co"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/reference-data?types=sanc_co"},MOCK:{url:"/reference-data_sanc_co.json"}},pendingTransactions:{method:o.GET,HTTP:{url:"/v1/customers/my/pending-transactions?{{queryString}}",timeout:4e5},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/pending-transactions",timeout:4e5},MOCK:{url:"/chequinq_pending_transactions.json"},cacheStrategy:{cacheResult:!1}},payeePendingTransactions:{method:o.GET,HTTP:{url:"/v1/customers/my/pending-transactions"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/pending-transactions"},MOCK:{url:"/chequinq_pending_transactions.json"}},getTransactionSplit:{method:o.GET,HTTP:{url:"/pfm/v1/transactions/{{id}}/split"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions/id/split"},MOCK:{url:"/transactions_split.json"}},putTransactionSplit:{method:o.PUT,HTTP:{url:"/pfm/v1/transactions/{{id}}/split"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions/id/split"},MOCK:{url:"/transactions_split.json"}},addTransactionNote:{method:o.POST,HTTP:{url:"/pfm/v1/transactions/{{id}}/comments"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions/id/comments"}},amendTransactionNote:{method:o.PUT,HTTP:{url:"/pfm/v1/transactions/{{id}}/comments/{{commentId}}"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions/id/comments/commentId"}},aggregatedTransactions:{method:o.POST,HTTP:{url:"/pfm/v1/transactions/series"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions/series"},MOCK:{url:"/transactions_chart_top_level_categories.json"},cacheStrategy:{cacheResult:!0}},updateTransaction:{method:o.PUT,HTTP:{url:"/pfm/v1/transactions/{{id}}"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions/id"},MOCK:{url:"/update_transaction.json"}},bulkUpdateTransactions:{method:o.PUT,HTTP:{url:"/pfm/v1/transactions?{{queryString}}"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions"},MOCK:{url:"/update_transaction.json"}},deleteChildTransaction:{method:o.DELETE,HTTP:{url:"/pfm/v1/transactions/{{id}}"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions/id"},MOCK:{url:"/update_transaction.json"}},overdraftDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/overdraft"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/overdraft"},MOCK:{url:"/overdraft_details.json"}},overdraftProtectionCancelation:{method:o.DELETE,HTTP:{url:"/v1/accounts/{{accountHash}}/overdraft"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/overdraft"},MOCK:{url:"/overdraft_protection_cancelation.json"}},overdraftProtectionApply:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/overdraft"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/overdraft"},MOCK:{url:"/overdraft_protection_apply.json"}},overdraftProtectionDecreaseLimit:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/overdraft"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/overdraft"},MOCK:{url:"/overdraft_protection_decrease_limit.json"}},overdraftProtectionInvitationDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/overdraft-invitation"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/overdraft-invitation"},MOCK:{url:"/overdraft_protection_invitation_details.json"}},overdraftProtectionInvitationResponse:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/overdraft-invitation/{{dealId}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/overdraft-invitation/dealId"},MOCK:{url:"/overdraft_protection_invitation_response.json"}},overdraftProtectionPayFullBalanceAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=OVERDRAFT_PAYMENT"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=OVERDRAFT_PAYMENT"},MOCK:{url:"/overdraft_protection_payfull_balance_accounts.json"}},overdraftProtectionPreApprovedAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/overdraft-preapproval&return-pending-overdraft=true"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/overdraft-preapproval&return-pending-overdraft=true"},MOCK:{url:"/overdraft_protection_preapproved_accounts.json"}},standardFees:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/fees?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/fees"},MOCK:{url:"/standard_fees.json"}},getEmtRecipients:{method:o.GET,HTTP:{url:"/v1/customers/my/emt-recipients"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-recipients"},MOCK:{url:"/emtRecipients.json"},cacheStrategy:{cacheResult:!1}},addEmtRecipient:{method:o.POST,HTTP:{url:"/v1/customers/my/emt-recipients?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-recipients"},MOCK:{url:"/emtRecipients.json"},cacheStrategy:{isCustomersCall:!1}},editEmtRecipient:{method:o.PUT,HTTP:{url:"/v1/customers/my/emt-recipients/{{id}}",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-recipients/id",timeout:10*l.timeout},MOCK:{url:"/emtRecipients.json"},cacheStrategy:{isCustomersCall:!1}},deleteEmtRecipient:{method:o.DELETE,HTTP:{url:"/v1/customers/my/emt-recipients/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-recipients/id"},MOCK:{url:"/emtRecipients.json"}},getEmtAutoSenders:{method:o.GET,HTTP:{url:"/v1/customers/my/emt-senders-auto"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-senders-auto"},MOCK:{url:"/emtSendersAuto.json"}},editEmtAutoSenders:{method:o.PUT,HTTP:{url:"/v1/customers/my/emt-senders-auto/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-senders-auto/id"},MOCK:{url:"/emtSendersAuto.json"}},deleteEmtAutoSenders:{method:o.DELETE,HTTP:{url:"/v1/customers/my/emt-senders-auto/{{id}}?actionCode=EMAIL_TRANSFER"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-senders-auto/id?actionCode=EMAIL_TRANSFER"},MOCK:{url:"/emtSendersAuto.json"}},moveMoneyEmailTransfer:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=EMAIL_TRANSFER"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=EMAIL_TRANSFER"},MOCK:{url:"/moveMoneyEmailTransfer.json"}},addressAutocomplete:{method:o.POST,HTTP:{url:"/v1/general/addresses"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/addresses"},MOCK:{url:"/addressAutocomplete.json"},cacheStrategy:{cacheResult:!0,maxAgeSec:900}},customerConsents:{method:o.GET,HTTP:{url:"/v1/customers/my/consents"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/consents"},MOCK:{url:"/customerConsents.json"}},putCustomerConsents:{method:o.PUT,HTTP:{url:"/v1/customers/my/consents"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/consents"},MOCK:{url:"/putCustomerConsents.json"}},registeredPayees:{method:o.GET,HTTP:{url:"/v1/general/registered-payees?{{queryString}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/registered-payees"},MOCK:{url:"/payeeSearch.json"}},addRegisteredPayees:{method:o.POST,HTTP:{url:"/v1/customers/my/payees"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/payees"},MOCK:{url:"/addPayee.json"},cacheStrategy:{isGoalsCall:!0}},billPayTransaction:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/bill-payments",timeout:10*l.timeout},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/bill-payments",timeout:10*l.timeout},MOCK:{url:"/billPayTransaction.json"}},updateBillPayTransaction:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/bill-payments/{{seqNum}}",timeout:25e3},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/bill-payments/seqNum",timeout:25e3},MOCK:{url:"/billPayTransaction.json"}},payeeList:{method:o.GET,HTTP:{url:"/v1/customers/my/payees"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/payees"},MOCK:{url:"/payeeList.json"}},padList:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/pads"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/pads"},MOCK:{url:"/padList.json"}},stopPadList:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/stop-pads"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/stop-pads"},MOCK:{url:"/stopPadList.json"}},stopPadRequest:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/stop-pads"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/stop-pads"},MOCK:{url:"/stopPadList.json"}},editPayee:{method:o.PUT,HTTP:{url:"/v1/customers/my/payees/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/payees/id",timeout:2e4},MOCK:{url:"/emptyResponse.json"},cacheStrategy:{isGoalsCall:!0}},deletePayee:{method:o.DELETE,HTTP:{url:"/v1/customers/my/payees/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/payees/id",timeout:2e4},MOCK:{url:"/emptyResponse.json"},cacheStrategy:{isGoalsCall:!0}},billPayAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=BILL_PAYMENT"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=BILL_PAYMENT"},MOCK:{url:"/billPayAccounts.json"}},directDepositAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=DIRECT_DEPOSIT_ACCOUNTS"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=DIRECT_DEPOSIT_ACCOUNTS"},MOCK:{url:"/directDepositAccounts.json"}},rifPaymentAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=RIF_PAYMENT_ACCOUNTS"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=RIF_PAYMENT_ACCOUNTS"},MOCK:{url:"/accounts.json"}},rifFromAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=OPEN_ACCOUNT&type=SAVINGS&planType=RIF"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=OPEN_ACCOUNT&type=SAVINGS&planType=RIF"},MOCK:{url:"/rif_isa_get_from_accounts.json"}},sendMoneyEmailTransfer:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/emts",timeout:10*l.timeout},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/emts",timeout:10*l.timeout},MOCK:{url:"/sendMoneyEmailTransfer.json"}},accountsForReceiveEmailMoney:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=EMAIL_TRANSFER"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=EMAIL_TRANSFER"},MOCK:{url:"/moveMoneyEmailTransfer.json"}},recommendPayee:{method:o.POST,HTTP:{url:"/v1/general/registered-payees/recommendations"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/registered-payees/recommendations"},MOCK:{url:"/recommendPayee.json"}},getTravelNotices:{method:o.GET,HTTP:{url:"/v1/customers/my/travel-notifications"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/travel-notifications"},MOCK:{url:"/travelNotice_Get.json"}},addTravelNotice:{method:o.POST,HTTP:{url:"/v1/customers/my/travel-notifications"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/travel-notifications"},MOCK:{url:"/travelNotice_Add.json"}},editTravelNotice:{method:o.PUT,HTTP:{url:"/v1/customers/my/travel-notifications"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/travel-notifications"},MOCK:{url:"/travelNotice_Edit.json"}},deleteTravelNotice:{method:o.DELETE,HTTP:{url:"/v1/customers/my/travel-notifications"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/travel-notifications"},MOCK:{url:"/travelNotice_Delete.json"}},ob2CCConfirmEligibility:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/creditcards",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/creditcards"},MOCK:{url:"/ob2CCConfirmEligibility.json"}},ob2CCValidateClientData:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/creditcards",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/creditcards"},MOCK:{url:"/ob2CCValidateClientData.json"}},ob2CCEnrollClient:{method:o.POST,HTTP:{url:"/v1/customers/my/accounts/creditcards",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/creditcards"},MOCK:{url:"/ob2CCEnrollClientResponse.json"}},validateEmtAnswer:{method:o.POST,HTTP:{url:"/v1/customers/my/emt-accept/{{transferId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-accept/transfer-id"},MOCK:{url:"/acceptEmt.json"}},emtGetTransferDetails:{method:o.GET,HTTP:{url:"/v1/customers/my/emt-accept?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-accept"},MOCK:{url:"/emtTransferDetails.json"}},standardEmtGetTransferDetails:{method:o.GET,HTTP:{url:"/v1/general/emt/emt-accept?{{queryString}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/emt/emt-accept"},MOCK:{url:"/emtTransferDetails.json"}},validateFinancialInstitution:{method:o.GET,HTTP:{url:"/v1/general/financial-institutions?transit-number={{transitNumber}}&institutionId={{institutionId}}&locale={{locale}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/financial-institutions"},MOCK:{url:"/validateFinancialInstitution.json"}},acceptEmt:{method:o.POST,HTTP:{url:"/v1/general/emt/emt-accept/{{transferId}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/emt/emt-accept/id"},MOCK:{url:"/acceptEmt.json"}},acceptClientEmt:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/emt-accept/{{transferId}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/emt-accept/transferId"},MOCK:{url:"/acceptEmt.json"}},declineEmt:{method:o.DELETE,HTTP:{url:"/v1/general/emt/emt-decline/{{transferId}}?answer={{answer}}",timeout:6e4},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/emt/emt-decline/id"},MOCK:{url:"/declineEmt.json"}},declineClientEmt:{method:o.DELETE,HTTP:{url:"/v1/customers/my/emt-decline/{{transferId}}?{{queryString}}",timeout:6e4},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/emt-decline/id"},MOCK:{url:"/declineEmt.json"}},createPayee:{method:o.POST,HTTP:{url:"/v1/customers/my/payees"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/payees"},MOCK:{url:"/createPayee.json"}},limits:{method:o.GET,HTTP:{url:"/v1/customers/my/limits"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/limits"},MOCK:{url:"/limits.json"}},insightsSession:{method:o.PUT,HTTP:{url:"/v1/campaign/session"},WL:{adapter:"CampaignAdapterFBE",method:o.POST,path:"v1/campaign/session"},MOCK:{url:"/insights/session_put.json"}},inboxAllMessages:{method:o.GET,HTTP:{url:"/v1/customers/my/e-messages?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/e-messages"},MOCK:{url:"/inboxMessages.json"},cacheStrategy:{cacheResult:!1}},inboxSingleMessage:{method:o.GET,HTTP:{url:"/v1/customers/my/e-messages/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/e-messages/id"},MOCK:{url:"/inboxSingleMessage.json"}},inboxUpdateStatus:{method:o.PUT,HTTP:{url:"/v1/customers/my/e-messages/"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/e-messages"},MOCK:{url:"/inboxMessages.json"}},inboxNewMessageCount:{method:o.GET,HTTP:{url:"/v1/customers/my/e-messages?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/e-messages"},MOCK:{url:"/inboxMessageCount.json",mobileCache:!0},cacheStrategy:{cacheResult:!1}},donationAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=DONATIONS_FROM_ACCOUNTS"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=DONATIONS_FROM_ACCOUNTS"},MOCK:{url:"/donationAccounts.json"}},statementAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=STATEMENT"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=STATEMENT"},MOCK:{url:"/statementPaperAccounts.json"}},cardFeeAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=CARD_FEE"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=CARD_FEE"},MOCK:{url:"/cardFeeAccounts.json"}},createDonation:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/donations"},WL:{adapter:"CustomersAdapterFBE",path:"v1/accounts/id/transactions/donations"},MOCK:{url:"/createDonation.json"}},getDonations:{method:o.GET,HTTP:{url:"/v1/customers/my/donations?retrieveTotal=true"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/id/donations?retrieveTotal=true"},MOCK:{url:"/donations.json"}},getExternalAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/external-links"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/external-links"},MOCK:{url:"/getExternalAccounts.json"}},getExternalAccountsDependent:{method:o.GET,HTTP:{url:"/v1/customers/my/dependents/{{id}}/externallinks"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id/externallinks"},MOCK:{url:"/getExternalAccounts.json"}},addExternalAccount:{method:o.POST,HTTP:{url:"/v1/customers/my/external-links",timeout:2e4},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/external-links"},MOCK:{url:"/externalAccountsCreated.json"}},addExternalAccountDependent:{method:o.POST,HTTP:{url:"/v1/customers/my/dependents/{{id}}/externallinks",timeout:2e4},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id/externallinks"},MOCK:{url:"/externalAccountsCreated.json"}},verifyExternalLinkAccount:{method:o.PUT,HTTP:{url:"/v1/customers/my/external-links/{{dealId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/external-links/dealId"},MOCK:{url:"/verifyExternalLinkAccount.json"}},verifyExternalLinkAccountDependent:{method:o.PUT,HTTP:{url:"/v1/customers/my/dependents/{{id}}/externallinks"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id/externallinks"},MOCK:{url:"/verifyExternalLinkAccount.json"}},deleteExternalAccount:{method:o.DELETE,HTTP:{url:"/v1/customers/my/external-links/{{id}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/external-links/id"},MOCK:{url:"/deleteExternalAccount.json"}},deleteExternalAccountDependent:{method:o.DELETE,HTTP:{url:"/v1/customers/my/dependents/{{id}}/externallinks/{{lookupId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id/externallinks/lookupId"},MOCK:{url:"/deleteExternalAccount.json"}},getFinancialInstitution:{method:o.GET,HTTP:{url:"/v1/general/financial-institutions?transit-number={{transit_number}}&institutionId={{institutionId}}&locale={{locale}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/financial-institutions"},MOCK:{url:"/getFinancialInstitution.json"}},checkPendingTransactions:{method:o.GET,HTTP:{url:"/v1/customers/my/pending-transactions?ext-link-seq-num={{external_link_seq_number}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/financial-institutions"},MOCK:{url:"/checkPendingTransactions.json"}},setCreditCardBalanceProtectionInsurance:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/balance-protection"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/balance-protection"},MOCK:{url:"/updateCreditCardBalanceProtectionInsurance.json"}},cancelCreditCardBalanceProtectionInsurance:{method:o.DELETE,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/balance-protection"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/balance-protection"},MOCK:{url:"/updateCreditCardBalanceProtectionInsurance.json"}},getJointAccountHolders:{method:o.GET,HTTP:{url:"/v1/customers/my/joint-account-holders"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/joint-account-holders"},MOCK:{url:"/getJointAccountHolders.json"}},getJointAccountInvitations:{method:o.GET,HTTP:{url:"/v1/customers/my/invitations"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/invitations"},MOCK:{url:"/jointEnrollment/pending_invitations.json"}},createJointEnrollmentInvitation:{method:o.POST,HTTP:{url:"/v1/customers/my/invitations"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/invitations"},MOCK:{url:"/jointEnrollment/create_invitation.json"}},cancelJointEnrollmentInvitation:{method:o.DELETE,HTTP:{url:"/v1/customers/my/invitations/{{invitationKey}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/invitations"},MOCK:{url:"/jointEnrollment/cancel_invitation.json"}},createMortgageJointEnrollmentInvitation:{method:o.POST,HTTP:{url:"/v1/customers/my/invitations"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/invitations"},MOCK:{url:"/jointEnrollment/create_mortgage_invitation.json"}},getJointInvitationSummary:{method:o.GET,HTTP:{url:"/v1/general/invitations/{{invitationKey}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/invitations"},MOCK:{url:"/jointEnrollment/invitation_summary.json"}},validateJointInvitation:{method:o.PUT,HTTP:{url:"/v1/general/invitations/{{invitationKey}}?{{queryString}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/invitations"},MOCK:{url:"/jointEnrollment/validate_invitation.json"}},acceptJointEnrollmentInvitation:{method:o.PUT,HTTP:{url:"/v1/customers/my/invitations/{{invitationKey}}?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/invitations"},MOCK:{url:"/jointEnrollment/accept_invitation.json"}},declineJointEnrollmentInvitation:{method:o.DELETE,HTTP:{url:"/v1/customers/my/invitations/{{invitationKey}}?{{queryString}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/customers/my/invitations"},MOCK:{url:"/jointEnrollment/decline_invitation.json"}},addAuthorizedUser:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/authorized-users?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/authorized-users"},MOCK:{url:"/addAuthorizedUser.json"}},deleteAuthorizedUser:{method:o.DELETE,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/authorized-users"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/authorized-users"},MOCK:{url:"/removeAuthorizedUser.json"}},getAuthorizedUsers:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/authorized-users"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/authorized-users"},MOCK:{url:"/getAuthorizedUsers.json"}},getContributions:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/contributions"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/contributions"},MOCK:{url:"/contributions.json"}},getContributionDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{account_id}}/contribution-details"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/contribution-details"},MOCK:{url:"/contributionDetails.json"}},getContributionsSummaryByAccountId:{method:o.GET,HTTP:{url:"/registered-accounts/{{account_id}}/contributions-summary"},WL:{adapter:"ContributionsAdapterFBE",path:"/registered-accounts/id/contributions-summary"},MOCK:{url:"/contributionsSummary.json"}},getContributionsSummaryByAccountType:{method:o.GET,HTTP:{url:"/registered-accounts/contributions-summary?accountType={{accountType}}"},WL:{adapter:"ContributionsAdapterFBE",path:"/registered-accounts/contributions-summary"},MOCK:{url:"/contributionsSummary.json"}},getDistributions:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/distributions"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/distributions"},MOCK:{url:"/distributions.json"}},putDistributions:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/distributions"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/distributions"},MOCK:{url:"/putDistributions.json"}},getOrangeAlerts:{method:o.GET,HTTP:{url:"/v1/customers/my/orange-alerts-preferences"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/orange-alerts-preferences"},MOCK:{url:"/getCustomerOrangeAlerts.json"}},putOrangeAlerts:{method:o.PUT,HTTP:{url:"/v1/customers/my/orange-alerts-preferences"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/orange-alerts-preferences"},MOCK:{url:"/putCustomerOrangeAlerts.json"}},forgotCif:{method:o.POST,WL:{adapter:"SecurityAdapterFBE",path:"v1/security/login-retrieval"}},forgotPin:{method:o.POST,WL:{adapter:"SecurityAdapterFBE",path:"v1/security/reset-pin"}},resetPin:{method:o.POST,WL:{adapter:"AuthenticationAdapterFBE",path:"security/reset-pin/verify"}},updatePin:{method:o.PUT,HTTP:{url:"/v1/customers/my/security"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/security"}},deleteAllRememberDevice:{method:o.DELETE,HTTP:{url:"/v1/customers/my/remember-me/ALL"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/remember-me/ALL"},MOCK:{url:"/emptyResponse.json"}},abmLocations:{method:o.GET,HTTP:{url:"/v1/general/abm-locations?{{queryString}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/abm-locations"},MOCK:{url:"/abmData.json"}},getRewardsPreference:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/rewards-preference"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/rewards-preference"},MOCK:{url:"/rewardsPreference.json"}},getRewards:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/rewards?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/rewards?{{queryString}}"},MOCK:{url:"/rewards.json"}},addRewards:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/rewards-preference"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/rewards-preference"},MOCK:{url:"/addRewards.json"}},uncategorizedTransactions:{method:o.GET,HTTP:{url:"/pfm/v1/transactions?categoryIds={{categoryIds}}&periodTo={{periodTo}}&periodFrom={{periodFrom}}"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions?categoryIds=112"},MOCK:{url:"/chequing_account_transaction_history.json"}},unconfirmedTransactions:{method:o.GET,HTTP:{url:"/pfm/v1/transactions?onlyUncertain=true&periodTo={{periodTo}}&periodFrom={{periodFrom}}"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/transactions?onlyUncertain=true"},MOCK:{url:"/chequing_account_transaction_history.json"}},getEmtTransactionDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/emts/{{transferId}}?include-available-actions=true"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/emts/transfer-id?include-available-actions=true"},MOCK:{url:"/get_emt_details.json"}},deletePendingEmt:{method:o.DELETE,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/emts/{{transferId}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/emts/transfer-id"},MOCK:{url:"/get_emt_details.json"}},reclaimEmt:{method:o.POST,HTTP:{url:"/v1/customers/my/emt-reclaim/{{transferId}}"},WL:{adapter:"CustomersAdapterFBE",path:"/v1/customers/my/emt-reclaim/id"},MOCK:{url:"/reclaim_emt_post_result.json"},cacheStrategy:{isAccountsCall:!0,isTransactionsCall:!0}},getReclaimEmt:{method:o.GET,HTTP:{url:"/v1/customers/my/emt-reclaim/{{transferId}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/customers/id/emt-reclaim/"},MOCK:{url:"/reclaim_emt.json"}},resendPendingEmt:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/emts/{{transferId}}/notification"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/emts/transfer-id/notification"},MOCK:{url:"/resend_pending_emt.json"}},deleteBillPayment:{method:o.DELETE,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/bill-payments/{{seqNum}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/bill-payments/seqNum"},MOCK:{url:"/delete_bill_payment.json"}},skipBillPayment:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/bill-payments/{{seqNum}}",timeout:3e4},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/bill-payments/seqNum"},MOCK:{url:"/skip_bill_payment.json"}},enrollmentNewUser:{method:o.POST,HTTP:{url:"/v1/customers",timeout:6e4},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers",timeout:6e4},MOCK:{url:"/enrollment_new_user.json"}},postChequeOrders:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/cheque-orders"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/cheque-orders"},MOCK:{url:"/chequeOrdersPost.json"}},postDraftOrder:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/draft-order"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/draft-order"},MOCK:{url:"/draftOrdersPost.json"}},skipMoveMoney:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/movemoney/{{seqNum}}",timeout:3e4},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/movemoney/seqNum"},MOCK:{url:"/skip_movemoney.json"}},deleteMoveMoney:{method:o.DELETE,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/movemoney/{{seqNum}}",timeout:3e4},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/movemoney/seqNum"},MOCK:{url:"/delete_move_money.json"}},validateSignature:{method:o.POST,HTTP:{url:"/v1/general/enrollments/{{id}}/e-signature",timeout:2e4},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/enrollments/id/e-signature"},MOCK:{url:"/eSignature.json"}},addKycSignature:{method:o.POST,HTTP:{url:"/v1/customers/my/e-signature"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/e-signature"},MOCK:{url:"/addKycSignature.json"}},requestBalanceTransfer:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/creditcards/balance-transfer",timeout:3e4},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/creditcards/balance-transfer"},MOCK:{url:"/request_balance_transfer.json"}},getMortgagePrepaymentDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CHANGE_ADDITIONAL_PAYMENT"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CHANGE_ADDITIONAL_PAYMENT"},MOCK:{url:"/mortgage_prepayment_details.json"}},getMortgageConvertToFixedDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CONVERT_TO_FIXED_RATE&{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CONVERT_TO_FIXED_RATE"},MOCK:{url:"/mortgage_fixed_details.json"}},submitMortgagePrepayment:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CHANGE_ADDITIONAL_PAYMENT"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CHANGE_ADDITIONAL_PAYMENT"},MOCK:{url:"/mortgage_prepayment_schedule.json"}},submitMortgageConvertToFixed:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CONVERT_TO_FIXED_RATE"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CONVERT_TO_FIXED_RATE"},MOCK:{url:"/mortgage_fixed_submit.json"}},mortgageScheduleCall:{method:o.POST,HTTP:{url:"/v1/customers/my/call-schedule"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/call-schedule"},MOCK:{url:"/mortgage_schedule_call.json"}},mortgageRenewalCalculator:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages/renewal-calculator?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages/renewal-calculator"},MOCK:{url:"/mortgage_renewal_calculator.json"}},mortgageRenewalPaymentDates:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages/renewals/payment-dates"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages/renewals/payment-dates"},MOCK:{url:"/mortgage_renewal_payment_dates.json"}},mortgageRenewalSubmit:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages/renewals"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages/renewals"},MOCK:{url:"/mortgage_renewal_submit.json"}},mortgageRequestToChangePaymentDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CHANGE_PAYMENT_AMOUNT"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CHANGE_PAYMENT_AMOUNT"},MOCK:{url:"/mortgage_req_change_payment_details.json"}},mortgageRequestToChangePaymentSubmit:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CHANGE_PAYMENT_AMOUNT"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CHANGE_PAYMENT_AMOUNT"},MOCK:{url:"/mortgage_req_change_payment_submit.json"}},mortgageRequestToChangeFrequencyDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CHANGE_PAYMENT_SCHEDULE&{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CHANGE_PAYMENT_SCHEDULE"},MOCK:{url:"/mortgage_req_change_frequency_details.json"}},mortgageRequestToChangeFrequencySubmit:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CHANGE_PAYMENT_SCHEDULE"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CHANGE_PAYMENT_SCHEDULE"},MOCK:{url:"/mortgage_req_change_frequency_submit.json"}},mortgageRequestToChangeAccountDetails:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CHANGE_ACCOUNT"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CHANGE_ACCOUNT"},MOCK:{url:"/mortgage_req_change_account_details.json"}},mortgageRequestToChangeAccountSubmit:{method:o.PUT,HTTP:{url:"/v1/accounts/{{accountHash}}/mortgages?action-code=CHANGE_ACCOUNT"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/mortgages?action-code=CHANGE_ACCOUNT"},MOCK:{url:"/mortgage_req_change_account_submit.json"}},validateOrangeKey:{method:o.GET,HTTP:{url:"/v1/general/promotions/{{id}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/promotions/id"},MOCK:{url:"/orange_key.json"}},getSecurityPasses:{method:o.GET,HTTP:{url:"/v1/security/passes"},WL:{adapter:"SecurityAdapterFBE",path:"v1/security/passes"},MOCK:{url:"/get_security_passes.json"},cacheStrategy:{cacheResult:!1}},deleteSecurityPasses:{method:o.DELETE,HTTP:{url:"/v1/security/passes?seq={{seq}}"},WL:{adapter:"SecurityAdapterFBE",path:"v1/security/passes"},MOCK:{url:"/delete_security_passes.json"}},getReferFriendInfo:{method:o.GET,HTTP:{url:"/v1/customers/my/raf-info"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/raf-info"},MOCK:{url:"/raf-info-get.json"}},referFriend:{method:o.POST,HTTP:{url:"/v1/customers/my/refer-a-friend"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/refer-a-friend"},MOCK:{url:"/raf.json"}},getMessageTemplates:{method:o.GET,HTTP:{url:"/v1/general/message-templates?templateId={{templateId}}&locale={{locale}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/message-templates"},MOCK:{url:"/message-template-raf-bonus-info.json"}},getWithholdingTaxRates:{method:o.GET,HTTP:{url:"/v1/customers/my/withholding-tax-rates?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/withholding-tax-rates"},MOCK:{url:"/withholding_tax_rates.json"}},getAccountFees:{method:o.GET,HTTP:{url:"/v1/accounts/{{accountHash}}/fees"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/fees "},MOCK:{url:"/account_fees.json"}},getDependentsInfo:{method:o.GET,HTTP:{url:"/v1/customers/my/dependents/{{dependentId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/id"},MOCK:{url:"/dependents.json"}},csaConversion:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/csa-conversion/{{dealId}}?actionCode={{actionCode}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/csa-conversion"},MOCK:{url:"/csa_conversion.json"}},csaPostConversion:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/csa-conversion/{{dealId}}?actionCode=ACCEPT"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/savings/csa-confirmation"},MOCK:{url:"/csa_conversion.json"}},getCSAConversionApplication:{method:o.GET,HTTP:{url:"/v1/customers/my/applications?type=CSA_CONVERSION&status=WAIT_FOR_INSTRUCTION"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications?type=CSA_CONVERSION&status=WAIT_FOR_INSTRUCTION"},MOCK:{url:"/csa_conversion_account.json"}},getRoadblocks:{method:o.GET,HTTP:{url:"/v1/customers/my/roadblocks",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/roadblocks"},MOCK:{url:"/roadblocksGet.json"}},getAMLRoadblocks:{method:o.GET,HTTP:{url:"/v1/customers/my/roadblocks?aml-missing-info-only=true",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/roadblocks?aml-missing-info-only=true"},MOCK:{url:"/roadblocksGet.json"},cacheStrategy:{cacheResult:!1}},putRoadblocks:{method:o.PUT,HTTP:{url:"/v1/customers/my/roadblocks"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/roadblocks"},MOCK:{url:"/roadblocksPut.json"}},putKYCMethod:{method:o.PUT,HTTP:{url:"/v1/customers/my/kyc-method",timeout:4*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/kyc-method"},MOCK:{url:"/putKYCMethod.json"}},getTaxResidencyCountryList:{method:o.GET,HTTP:{url:"/v1/general/foreign-tax-residency-countries"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/foreign-tax-residency-countries"},MOCK:{url:"/foreignTaxResidencyCountries.json"}},getFatcaRoadblocks:{method:o.GET,HTTP:{url:"/v1/customers/my/foreign-tax-roadblocks"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/foreign-tax-roadblocks"},MOCK:{url:"/roadblockFactaGet.json"}},putFatcaRoadblocks:{method:o.POST,HTTP:{url:"/v1/customers/my/foreign-tax-self-certification/"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/foreign-tax-self-certification"},MOCK:{url:"/roadblocksFatcaPut.json"}},putFatcaDependentRoadblocks:{method:o.POST,HTTP:{url:"/v1/customers/my/dependents/{{dependentId}}/foreign-tax-self-certification"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/dependentId/foreign-tax-self-certification"},MOCK:{url:"/roadblocksFatcaPut.json"}},getPendingApplications:{method:o.GET,HTTP:{url:"/v1/customers/my/applications?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications"},MOCK:{url:"/magic_switch_pending_apps.json",mobileCache:!0}},magicSwitchGetApplication:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/magic-switch/{{dealId}}",timeout:3*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/magic-switch/dealId",timeout:3*l.timeout},MOCK:{url:"/magic_switch_pending_app.json"}},magicSwitchSubmit:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/magic-switch",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/magic-switch",timeout:10*l.timeout},MOCK:{url:"/magic_switch_submit.json"}},magicSwitchUpdate:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/magic-switch/{{dealId}}",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/magic-switch/dealId",timeout:10*l.timeout},MOCK:{url:"/magic_switch_submit.json"}},requestMenigaCategories:{method:o.GET,HTTP:{url:"/pfm/v1/categories"},WL:{adapter:"PFMAdapterFBE",path:"pfm/v1/categories"},MOCK:{url:"/meniga_categories.json"}},getContactSecurityToken:{method:o.GET,HTTP:{skipWebApiBaseUrl:!0,url:"/web/getSecurityPass?PassType=SECURE_CHAT"},WL:{method:o.POST,adapter:"AuthenticationAdapterFBE",path:"security/passes/secure_chat/enroll"},MOCK:{url:"/getSecurityPass.json"}},getRegisteredBeneficiaryPlans:{method:o.GET,HTTP:{url:"/v1/customers/my/registered-plans"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/registered-plans"},MOCK:{url:"/beneficiaries.json"},cacheStrategy:{maxAgeSec:3600}},generateBeneficiaryPDF:{method:o.POST,HTTP:{url:"/v1/customers/my/beneficiaries"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/beneficiaries"},MOCK:{url:"/documents/beneficiary_form.json"}},updateBeneficiaries:{method:o.PUT,HTTP:{url:"/v1/customers/my/beneficiaries",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/beneficiaries"},MOCK:{url:"/beneficiaries_update.json"},cacheStrategy:{isAccountsCall:!0}},getTaxResidencyCertification:{method:o.GET,HTTP:{url:"/v1/customers/my/foreign-tax-self-certification",timeout:3e4},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/foreign-tax-self-certification"},MOCK:{url:"/foreign_tax_residency_certification.json"}},getChildTaxResidencyCertification:{method:o.GET,HTTP:{url:"/v1/customers/my/dependents/{{dependentId}}/foreign-tax-self-certification",timeout:3e4},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/dependentId/foreign-tax-self-certification"},MOCK:{url:"/foreign_tax_residency_certification.json"}},putTaxResidencyCertification:{method:o.PUT,HTTP:{url:"/v1/customers/my/foreign-tax-self-certification/tin",timeout:3e4},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/foreign-tax-self-certification/tin"},MOCK:{url:"/foreign_tax_residency_certification.json"}},putChildTaxResidencyCertification:{method:o.PUT,HTTP:{url:"/v1/customers/my/dependents/{{dependentId}}/foreign-tax-self-certification/tin",timeout:3e4},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/dependents/dependentId/foreign-tax-self-certification/tin"},MOCK:{url:"/foreign_tax_residency_certification.json"}},paymentCalculator:{method:o.GET,HTTP:{url:"/v1/products/loans/heloc/payment-calculator?{{queryString}}"},WL:{adapter:"ProductsAdapterFBE",path:"v1/products/loans/heloc/payment-calculator"},MOCK:{url:"/paymentCalculator.json"}},requestAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts"},MOCK:{url:"/moveMoneyEmailTransfer.json"}},requestAccountById:{method:o.GET,HTTP:{url:"/v1/customers/{{accountHash}}/accounts?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/{id}/accounts"},MOCK:{url:"/requestAccountById.json"}},openMutualFundEligibility:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/mutual-funds/"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/mutual-funds/"},MOCK:{url:"/mutual_fund_application_eligibility.json"}},openMortgage:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/mortgages",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"/v1/customers/my/applications/mortgages",timeout:6*l.timeout},MOCK:{url:"/mortgage_application_open.json"}},mutualFundProfileSubmit:{method:o.POST,HTTP:{url:"/v1/products/mutual-funds/portfolio-selector"},WL:{adapter:"ProductsAdapterFBE",path:"v1/products/mutual-funds/portfolio-selector"},MOCK:{url:"/mutual_fund_profile_submit.json"}},getMutualFundFromAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=OPEN_ACCOUNT&investmentType=MF&planType={{planType}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=OPEN_ACCOUNT&investmentType=MF"},MOCK:{url:"/mutual_fund_from_accounts.json"}},getMutualFundAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=MF_FUND_ACCOUNTS&investmentType=MF"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=MF_FUND_ACCOUNTS&investmentType=MF"},MOCK:{url:"/mutual_fund_accounts.json"}},createMutualFundApplication:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/mutual-funds/",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/mutual-funds/"},MOCK:{url:"/mutual_fund_application_create.json"}},updateMutualFundApplication:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/mutual-funds/{{dealId}}",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/mutual-funds/dealId"},MOCK:{url:"/mutual_fund_application_update.json"}},getMutualFundApplication:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/mutual-funds/{{dealId}}",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/mutual-funds/dealId"},MOCK:{url:"/mutual_fund_application_get.json"}},sendJointAccountHolderInvitation:{method:o.POST,HTTP:{url:"/v1/customers/my/invitations"},WL:{adapter:"CustomersAdapterFBE",path:"customers/my/invitations"},MOCK:{url:"/mutual_fund_joint_invitation.json"}},magicSwitchEsignature:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/magic-switch/{{dealId}}",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/magic-switch/dealId",timeout:10*l.timeout},MOCK:{url:"/magic_switch_esignature.json"}},getListOfTelusBillers:{method:"GET",HTTP:{url:"/v1/general/registered-payees?type=CREDITCARD"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/registered-payees"}},getFooterNotifications:{method:o.GET,HTTP:{url:"/v1/customers/my/notification-banners"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/notification-banners"},MOCK:{url:"/footer_notifications.json"}},deletePendingMF:{method:o.DELETE,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/mutual-funds/{{seqNum}}",timeout:3e4},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/mutual-funds/seqNum"},MOCK:{url:"/delete_move_money.json"}},createDownloadTransactionsToken:{method:o.GET,HTTP:{url:"/v1/customers/my/security/transaction-download-token"},WL:{adapter:"",path:""},MOCK:{url:"/transaction_download_token.json"}},getCanadaPostLocations:{method:o.GET,HTTP:{url:"/v1/general/enrollments/poi-locations?postal-code={{postalCode}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/enrollments/poi-locations"},MOCK:{url:"/canada_post_locations.json"}},getIdentificationLocations:{method:o.GET,HTTP:{url:"/v1/general/enrollments/poi-locations?{{queryString}}"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/enrollments/poi-locations"},MOCK:{url:"/identificationLocations.json"}},getRestrictedWords:{method:o.GET,WL:{adapter:"GeneralAdapterFBE",path:"v1/general/restricted-words"},MOCK:{url:"/statusCodeSuccess.json"}},enrollTouchId:{method:o.POST,WL:{adapter:"AuthenticationAdapterFBE",path:"security/passes/touch_id/enroll"},MOCK:{url:"/statusCodeSystemError.json"}},enrollFaceId:{method:"POST",WL:{adapter:"AuthenticationAdapterFBE",path:"security/passes/face_id/enroll"},MOCK:{url:"/statusCodeSystemError.json"}},enrollDeferPin:{method:o.POST,WL:{adapter:"AuthenticationAdapterFBE",path:"security/passes/defer_pin/enroll"},MOCK:{url:"/statusCodeSuccess.json"}},enrollFingerprintId:{method:o.POST,WL:{adapter:"AuthenticationAdapterFBE",path:"security/passes/fingerprint_id/enroll"},MOCK:{url:"/statusCodeSystemError.json"}},getAndroidFingerprintIdWhitelistStatus:{method:o.GET,WL:{adapter:"DeviceCapabilityAdapterFBE",path:"v1/device/fingerprint"},MOCK:{url:"/androidFingerprintIdWhitelistStatus.json"}},getAppReviewStatus:{method:o.GET,WL:{adapter:"DeviceCapabilityAdapterFBE",path:"v1/device/appreview"},MOCK:{url:"/appReviewStatus.json"}},getAppCCEnrollment:{method:o.GET,WL:{adapter:"DeviceCapabilityAdapterFBE",path:"v1/device/cc-enrollment"},MOCK:{url:"/appCCEnrollment.json"}},getCardsForMobilePay:{method:o.GET,WL:{adapter:"MobilePayAdapterFBE",path:"mobilepay/cards"},MOCK:{url:"/getCardsForMobilePay.json"}},ccVerifyForMobilePay:{method:o.PUT,WL:{adapter:"MobilePayAdapterFBE",path:"mobilepay/mobilepayverification"},MOCK:{url:"/statusCodeSystemError.json"}},generateMsmOtp:{method:o.POST,WL:{adapter:"MobilePayAdapterFBE",path:"mobilepay/generatemsmotp"},MOCK:{url:"/generateMsmOtp.json"}},sendEmail:{method:o.POST,WL:{adapter:"SecurityAdapterFBE",path:"v1/security/email-delivery"},MOCK:{url:""}},initRemoteChequeDeposit:{method:o.GET,WL:{adapter:"RDCAdapterFBE",path:"accounts/transactions/remote-deposit-cheque/init"},MOCK:{url:"/initRemoteChequeDeposit.json"}},getTokenForRemoteChequeDeposit:{method:o.GET,WL:{adapter:"RDCAdapterFBE",path:"accounts/transactions/remote-deposit-cheque/token?accountNumber={{accountNumber}}"},MOCK:{url:"/getTokenForRemoteChequeDeposit.json"}},getFileUploadToken:{method:o.POST,HTTP:{url:"/v1/customers/my/file-upload-token"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/file-upload-token"},MOCK:{url:"/getFileUploadToken.json"}},verifyRemoteChequeDeposit:{method:o.POST,WL:{adapter:"RDCAdapterFBE",path:"accounts/transactions/remote-deposit-cheque/verify",timeout:3e4},MOCK:{url:"/verifyRemoteChequeDeposit.json"}},testLevel2Authorization:{method:o.GET,WL:{adapter:"AuthenticationAdapterFBE",path:"authentication/level2"}},confirmRemoteChequeDeposit:{method:o.POST,WL:{adapter:"RDCAdapterFBE",path:"accounts/transactions/remote-deposit-cheque/confirm",timeout:3e4},MOCK:{url:"/confirmRemoteChequeDeposit.json"}},getConfiguration:{method:o.GET,WL:{adapter:"InitializationAdapterFBE",path:"init/configuration"},MOCK:{url:"/configuration.json"}},registerDevice:{method:o.POST,WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/orange-alerts-preferences"},MOCK:{url:"/statusCodeSuccess.json"}},getRAF:{method:o.GET,WL:{adapter:"InitializationAdapterFBE",path:"init/raf"},MOCK:{url:"/configuration.json"}},sendAnalyticsInfo:{method:o.POST,WL:{adapter:"AuthenticationAdapterFBE",path:"security/analytics-info"},MOCK:{url:"/statusCodeSuccess.json"}},getBudgetIncome:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/income"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/income"},MOCK:{url:"/budgetIncome.json"}},getBudgetExpense:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/expense"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/expense"},MOCK:{url:"/budgetExpense.json"}},getBudgetSavings:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/savings"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/savings"},MOCK:{url:"/budgetSavings.json"}},getCurrentBudget:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/current"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/current"},MOCK:{url:"/currentBudget.json"}},getLtsBudget:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/summary?{{queryString}}"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/summary"},MOCK:{url:"/LtsBudget.json"},cacheStrategy:{cacheResult:!1}},setBudgetLtsStatus:{method:o.POST,HTTP:{url:"/pfm/v1/budgets/settings"},WL:{adapter:"BudgetAdapterFBE",path:"/pfm/v1/budgets/settings"},MOCK:{url:"/LtsBudgetsSettings.json"},cacheStrategy:{cacheResult:!1}},getBudgetLtsStatus:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/settings"},WL:{adapter:"BudgetAdapterFBE",path:"/pfm/v1/budgets/settings"},MOCK:{url:"/LtsBudgetsSettings.json"},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:900}},getBudgetCapabilities:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/capabilities"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/capabilities"},MOCK:{url:"/LtsBudgetCapabilities.json",mobileCache:!0},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:900}},recalculateBudgetDetails:{method:o.POST,HTTP:{url:"/pfm/v1/budgets/recalculate"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/recalculate"},MOCK:{url:"/recalculateBudget.json"}},createBudgetDetails:{method:o.POST,HTTP:{url:"/pfm/v1/budgets/create"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/create"},MOCK:{url:"/createBudget.json"}},getBudgetTransactions:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/transactions?categoryId={{categoryId}}"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/transactions"},MOCK:{url:"/budgetTransactions.json"},cacheStrategy:{cacheResult:!1}},putExcludeLtsTransaction:{method:o.PUT,HTTP:{url:"/pfm/v1/budgets/transactions?transactionId={{transactionId}}&flagValue={{flagValue}}"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/transactions"},MOCK:{url:"/budgetTransactions.json"},cacheStrategy:{cacheResult:!1}},getLtsOverviewTransactions:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/lts-transactions"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/lts-transactions"},MOCK:{url:"/LtsOverviewTransaction.json"},cacheStrategy:{cacheResult:!1}},getBudgetCategory:{method:o.POST,HTTP:{url:"/pfm/v1/budgets/categories"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/categories"},MOCK:{url:"/budgetCategory.json"},cacheStrategy:{cacheResult:!1}},updateCategory:{method:o.POST,HTTP:{url:"/pfm/v1/budgets/update-category"},WL:{adapter:"BudgetAdapterFBE",path:"/pfm/v1/budgets/update-category"},MOCK:{url:"/update-category.json"},cacheStrategy:{cacheResult:!1}},getResetBudget:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/reset"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/reset"},cacheStrategy:{cacheResult:!1}},getLtsTrends:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/trends-report"},WL:{adapter:"BudgetAdapterFBE",path:"pfm/v1/budgets/trends-report"},MOCK:{url:"/LtsTrends.json"},cacheStrategy:{cacheResult:!1}},saveGoal:{method:o.POST,HTTP:{url:"/pfm/v1/goals",timeout:42e3,version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals",timeout:42e3,version:"1.0.0"},MOCK:{url:"/saveGoal.json"},cacheStrategy:{isAccountsCall:!0}},editGoal:{method:o.PUT,HTTP:{url:"/pfm/v1/goals/goal",timeout:42e3,version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/goal",timeout:42e3,version:"1.0.0"},MOCK:{url:"/editGoal.json"},cacheStrategy:{isAccountsCall:!0,isGoalsCall:!0}},deleteGoal:{method:o.DELETE,HTTP:{url:"/pfm/v1/goals/{{id}}",timeout:42e3,version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/id",timeout:42e3,version:"1.0.0"},MOCK:{url:"/deleteGoal.json"},cacheStrategy:{isGoalsCall:!1}},deleteRetirementGoalWithAccounts:{method:o.PUT,HTTP:{url:"/pfm/v1/goals",timeout:42e3,version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals",timeout:42e3,version:"1.0.0"},MOCK:{url:"/deleteRetirementGoalWithAccounts.json"},cacheStrategy:{isAccountsCall:!0}},lifeGoals:{method:o.GET,HTTP:{url:"/pfm/v1/goals",timeout:42e3,version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals",timeout:42e3,version:"1.0.0"},MOCK:{url:"/lifeGoals.json"},cacheStrategy:{cacheResult:!1}},lifeGoal:{method:o.GET,HTTP:{url:"/pfm/v1/goals/goal?{{queryString}}",timeout:42e3,version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/goal",timeout:42e3,version:"1.0.0"},MOCK:{url:"/lifeGoal.json"}},goalCategories:{method:o.GET,HTTP:{url:"/pfm/v1/goals/categories",version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/categories",version:"1.0.0"},MOCK:{url:"/goalCategories.json"},cacheStrategy:{skipCacheClearing:!0}},goalImages:{method:o.GET,HTTP:{url:"/pfm/v1/goals/images",version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/images",version:"1.0.0"},MOCK:{url:"/goalImages.json"},cacheStrategy:{skipCacheClearing:!0}},goalCapabilities:{method:o.GET,HTTP:{url:"/pfm/v1/goals/capabilities",version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/capabilities",version:"1.0.0"},MOCK:{url:"/goalCapabilities.json",mobileCache:!0}},goalProfanityChecker:{method:o.POST,HTTP:{url:"/pfm/v1/goals/profanity-checker",version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/profanity-checker",version:"1.0.0"},MOCK:{url:"/profanityChecker.json"},cacheStrategy:{isGoalsCall:!1}},goalValidate:{method:o.POST,HTTP:{url:"/pfm/v1/goals/validate",version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/validate",version:"1.0.0"},MOCK:{url:"/goalValidate.json"}},goalEligibility:{method:o.GET,HTTP:{url:"/pfm/v1/goals/eligibility",version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/eligibility",version:"1.0.0"},MOCK:{url:"/goalEligibility.json"}},goalPayees:{method:o.GET,HTTP:{url:"/pfm/v1/goals/payees",version:"1.0.0"},WL:{adapter:"GoalsAdapterFBE",path:"pfm/v1/goals/payees",version:"1.0.0"},MOCK:{url:"/goalPayees.json"}},tlocFundSourceAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts/tloc/scoaccts?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts/tloc/scoaccts"},MOCK:{url:"/tlocFundSourceAccounts.json"}},rspLoanPaymentCalculator:{method:o.GET,HTTP:{url:"/v1/products/loans/rsp/payment-calculator?{{queryString}}"},WL:{adapter:"ProductsAdapterFBE",path:"v1/products/loans/rsp/payment-calculator"},MOCK:{url:"/rspLoanPaymentCalculator.json"}},getAvailableRspLoanPAL:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/availablersppal",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/availablersppal",timeout:6*l.timeout},MOCK:{url:"/rsp_loan_get_available_pal.json"},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:900}},getRspLoanApplication:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/rsploan/{{dealId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/rsploan/dealId"},MOCK:{url:"/rsp_loan_application_get.json"}},createRspLoanApplication:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/rsploan",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"/v1/customers/my/applications/rsploan"},MOCK:{url:"/rsp_loan_application_create.json"}},updateRspLoanApplication:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/rsploan/{{dealId}}",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/rsploan/dealId"},MOCK:{url:"/rsp_loan_application_update.json"}},getRspPalApplication:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/rsppal/{{dealId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/rsppal/dealId"},MOCK:{url:"/rsp_loan_pal_get.json"}},submitRspPalApplication:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/rsppal/{{dealId}}",timeout:6*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/rsppal/dealId"},MOCK:{url:"/rsp_loan_pal_submit.json"}},getRspLoanPaymentFromAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=RSP_LOAN_PAYMENT"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=RSP_LOAN_PAYMENT"},MOCK:{url:"/mutual_fund_from_accounts.json"}},getInternalCustomerAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts"},WL:{adapter:"CustomersAdapterFBE",path:"/web/rest/v1/customers/my/accounts"},MOCK:{url:"/internal_customer_accounts.json"}},getRspLoanAllowedDestAccounts:{method:o.GET,HTTP:{url:"/v1/customers/my/accounts?actionCode=RSP_LOAN_PAYOUT"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/accounts?actionCode=RSP_LOAN_PAYOUT"},MOCK:{url:"/rsp_loan_allowed_allocation_accounts.json"}},openRspLoanEligibility:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/rsploan/"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/rsploan/"},MOCK:{url:"/rsp_loan_application_eligibility.json"}},getFullAssetLiabilityTypes:{method:o.GET,HTTP:{url:"/v1/general/reference-data?types=assets,liabilities&incl_tng_resources=true"},WL:{adapter:"GeneralAdapterFBE",path:"v1/general/reference-data?types=assets,liabilities&incl_tng_resources=true"},MOCK:{url:"/reference-data_full_asset_liability_types.json"},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:3600}},putMedalliaFeedBack:{method:o.PUT,HTTP:{url:"/v1/survey-manager/my/feedback"},WL:{adapter:"SurveyManagerAdapterFBE",path:"v1/survey-manager/my/feedback"},MOCK:{url:"/put_medallia_feedBack.json"},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:3600}},getAgentId:{method:o.GET,HTTP:{url:"/v1/survey-manager/chat/{{interactionId}}",timeout:l.timeout/2},WL:{adapter:"SurveyManagerAdapterFBE",path:"v1/survey-manager/chat/id"},MOCK:{url:"/get_agent_id.json"},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:3600}},putMonthlyFees:{method:o.PUT,HTTP:{url:"/v1/customers/my/monthly-fee"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/monthly-fee"},MOCK:{url:""}},keepAlive:{method:o.GET,HTTP:{url:"/keep-alive"},WL:{adapter:"",path:""},MOCK:{url:"/keepAlive.json"}},postFinancialPlanRequest:{method:o.POST,HTTP:{url:"/pfm/v1/financialplan/recommendations?{{queryString}}"},WL:{adapter:"FinancialPlanAdapterFBE",path:"pfm/v1/financialplan/recommendations"},MOCK:{url:"/financialRecommendation.json"}},getFinancialPlan:{method:o.GET,HTTP:{url:"/pfm/v1/financialplan/plans?{{queryString}}"},WL:{adapter:"FinancialPlanAdapterFBE",path:"pfm/v1/financialplan/plans"},MOCK:{url:"/financialRecommendation.json"}},deleteFinancialPlan:{method:o.DELETE,HTTP:{url:"/pfm/v1/financialplan/plans?{{queryString}}"},WL:{adapter:"FinancialPlanAdapterFBE",path:"pfm/v1/financialplan/plans"},MOCK:{url:"/deleteFinancialPlan.json"}},fpRecommendProducts:{method:o.POST,HTTP:{url:"/pfm/v1/financialplan/recommendations/product"},WL:{adapter:"FinancialPlanAdapterFBE",path:"pfm/v1/financialplan/recommendations/product"},MOCK:{url:""}},postFinancialPlanArchetypeStatus:{method:o.POST,HTTP:{url:"/pfm/v1/financialplan/plan/{{id}}/item-status"},WL:{adapter:"FinancialPlanAdapterFBE",path:"pfm/v1/financialplan/plan/id/item-status"},MOCK:{url:""}},postFinancialPlanArchetypeGoalId:{method:o.POST,HTTP:{url:"/pfm/v1/financialplan/plans/item-goal"},WL:{adapter:"FinancialPlanAdapterFBE",path:"/pfm/v1/financialplan/plans/item-goal"},MOCK:{url:""}},postAccountAggregationAuthorization:{method:o.POST,HTTP:{url:"/v1/customers/my/account-aggregation/external-fi",timeout:12e4},WL:{adapter:"AccountAggregationAdapterFBE",path:"v1/customers/my/account-aggregation/external-fi",timeout:12e4},MOCK:{url:""}},getAccountAggregationSummary:{method:o.GET,HTTP:{url:"/v1/customers/my/account-aggregation/accounts?{{queryString}}",timeout:18e4,version:"2.0.0"},WL:{adapter:"AccountAggregationAdapterFBE",path:"v1/customers/my/account-aggregation/accounts",timeout:18e4,version:"2.0.0"},MOCK:{url:"/getAccountAggregationSummary.json"}},getIsAccountAggregationAvailable:{method:o.GET,HTTP:{url:"/v1/account-aggregation/service-state"},WL:{adapter:"AccountAggregationAdapterFBE",path:"v1/account-aggregation/service-state"},MOCK:{url:""}},getAccountSummaryAggregationCapability:{method:o.GET,HTTP:{url:"/v1/customers/my/account-aggregation/capability"},WL:{adapter:"AccountAggregationAdapterFBE",path:"v1/customers/my/account-aggregation/capability"},MOCK:{url:""}},getAccountAggregationPublicToken:{method:o.GET,HTTP:{url:"/v1/customers/my/account-aggregation/public-token?{{queryString}}"},WL:{adapter:"AccountAggregationAdapterFBE",path:"v1/customers/my/account-aggregation/public-token"},MOCK:{url:""}},deleteAccountAggregationClient:{method:o.DELETE,HTTP:{url:"/v1/customers/my/account-aggregation/external-fi?{{queryString}}",version:"1.0.0"},WL:{adapter:"AccountAggregationAdapterFBE",path:"v1/customers/my/account-aggregation/external-fi",version:"1.0.0"},MOCK:{url:""}},postAccountAggregationSelectedAccounts:{method:o.POST,HTTP:{url:"/v1/customers/my/account-aggregation/accounts/internal-consent",version:"1.0.0"},WL:{adapter:"AccountAggregationAdapterFBE",path:"v1/customers/my/account-aggregation/accounts/internal-consent",version:"1.0.0"},MOCK:{url:""}},getFinancialPlanBudgetLts:{method:o.GET,HTTP:{url:"/pfm/v1/budgets/current/financial-plan"},WL:{adapter:"BudgetAdapterFBE",path:"/pfm/v1/budgets/current/financial-plan"},MOCK:{url:"/getFinancialPlanBudgetLts.json"}},putMortgageInfo:{method:o.PUT,HTTP:{url:"/v1/customers/my/additional-profile-details"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/additional-profile-details"},MOCK:{url:""}},getFinancialPlanCapabilities:{method:o.GET,HTTP:{url:"/pfm/v1/financialplan/capabilities"},WL:{adapter:"FinancialPlanAdapterFBE",path:"pfm/v1/financialplan/capabilities"},MOCK:{url:"/financialPlanCapabilities.json"}},emtGetRequestFulfill:{method:o.GET,HTTP:{url:"/v1/customers/my/money-request-fulfill/{{transferId}}"},WL:{adapter:"CustomersAdapterFBE",path:"/v1/customers/my/money-request-fulfill/transfer-id"},MOCK:{url:"/emtGetRequestFulfill.json"}},emtRequestFulfill:{method:o.POST,HTTP:{url:"/v1/accounts/{{accountHash}}/transactions/money-requests/{{transferId}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/transactions/money-requests/transferId"},MOCK:{url:"/emtRequestFulfill.json"}},emtDeclineRequestFulfill:{method:o.POST,HTTP:{url:"/v1/customers/my/money-request-decline/{{transferId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/money-request-decline/transfer-id"},MOCK:{url:"/emtDeclineRequestFulfill.json"}},getAvailableRecipes:{method:o.GET,HTTP:{url:"/pfm/v1/recipes/available-recipes"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/available-recipes"},MOCK:{url:"/availableRecipesMock.json"}},getCurrentRecipes:{method:o.GET,HTTP:{url:"/pfm/v1/recipes/myrecipes"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/myrecipes"},MOCK:{url:"/myrecipesRecipesMock.json"}},getRecipesCapabilities:{method:o.GET,HTTP:{url:"/pfm/v1/recipes/capabilities"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/capabilities"},MOCK:{url:"/recipesCapabilitiesMock.json",mobileCache:!0},cacheStrategy:{groupClearingExcluded:!0,maxAgeSec:900}},getRecipesAccounts:{method:o.GET,HTTP:{url:"/pfm/v1/recipes/accounts?recipe-type={{recipeType}}&recipe-client-config-id={{clientConfigId}}"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/accounts?recipe-type={{recipeType}}&recipe-client-config-id={{clientConfigId}}"},MOCK:{url:"/recipesAccountsMock.json"}},getAvailableCategory:{method:o.GET,HTTP:{url:"/pfm/v1/recipes/categories?recipe-type={{recipeType}}"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/categories?recipe-type={{recipeType}}"},MOCK:{url:"/availableCategoriesMock.json"}},getSportsRecipeData:{method:o.GET,HTTP:{url:"/pfm/v1/recipes/sports/teams"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/sports/teams"},MOCK:{url:"/availableCategoriesMock.json"}},saveRecipes:{method:o.POST,HTTP:{url:"/pfm/v1/recipes/save-recipes"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/save-recipes"},MOCK:{url:"/saveRecipesMock.json"}},editRecipes:{method:o.POST,HTTP:{url:"/pfm/v1/recipes/edit-recipes"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/edit-recipes"},MOCK:{url:"/editRecipesMock.json"}},deleteRecipes:{method:o.PUT,HTTP:{url:"/pfm/v1/recipes/delete-recipes"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/delete-recipes"},MOCK:{url:"/deleteRecipesMock.json"}},pauseRecipe:{method:o.PUT,HTTP:{url:"/pfm/v1/recipes/pause-recipe"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/pause-recipe"},MOCK:{url:"/stopRecipesMock.json"}},resumeRecipe:{method:o.PUT,HTTP:{url:"/pfm/v1/recipes/resume-recipe"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/resume-recipe"},MOCK:{url:"/resumeRecipesMock.json"}},getRecipesTransactions:{method:o.GET,HTTP:{url:"/pfm/v1/recipes/recipes-transactions?recipe-client-config-id={{recipeId}}"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/recipes-transactions?recipe-client-config-id={{recipeId}}"},MOCK:{url:"/availableCategoriesMock.json"}},getRecipesTransactionBreakdown:{method:o.GET,HTTP:{url:"/pfm/v1/recipes/recipes-transaction-breakdown?recipe-batch-detail-id={{batchId}}"},WL:{adapter:"RecipesAdapterFBE",path:"pfm/v1/recipes/recipes-transaction-breakdown?recipe-batch-detail-id={{batchId}}"},MOCK:{url:"/availableCategoriesMock.json"}},getAutoDepositDetails:{method:o.GET,HTTP:{url:"/e-transfers/profile"},WL:{adapter:"CustomersAdapterFBE",path:"e-transfers/profile"},MOCK:{url:"/getAutoDepositDetails.json"}},addAutoDepositRegistration:{method:o.POST,HTTP:{url:"/e-transfers/profile/auto-deposit"},WL:{adapter:"CustomersAdapterFBE",path:"e-transfers/profile/auto-deposit"},MOCK:{url:"/addAutoDepositRegistration.json"}},updateAutoDepositRegistration:{method:o.POST,HTTP:{url:"/e-transfers/profile/auto-deposit/{{deposit_id}}"},WL:{adapter:"CustomersAdapterFBE",path:"e-transfers/profile/auto-deposit/deposit_id"},MOCK:{url:"/updateAutoDepositRegistration.json"}},deleteAutoDepositRegistration:{method:o.DELETE,HTTP:{url:"/e-transfers/profile/auto-deposit/{{deposit_id}}"},WL:{adapter:"CustomersAdapterFBE",path:"e-transfers/profile/auto-deposit/deposit_id"},MOCK:{url:"/deleteAutoDepositRegistration.json"}},getCollateralLendingGroupInfo:{method:o.GET,HTTP:{url:"/v1/customers/my/collateral-lendinggroup-info"},WL:{adapter:"CustomerAdapterFBE",path:"/v1/customers/my/collateral-lendinggroup-info"},MOCK:{url:"/getCollateralLendingGroupInfo.json"}},getMortgageCalculation:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/mortgages/mortgage-calculator"},WL:{adapter:"CustomerAdapterFBE",path:"/v1/customers/my/applications/mortgages/mortgage-calculator"},MOCK:{url:"/mortgage_calculations.json"}},requestRateHold:{method:o.POST,HTTP:{url:"/v1/customers/my/rate-holds"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/rate-holds"},MOCK:{url:"/rate_holds_post.json"}},getRateHold:{method:o.GET,HTTP:{url:"/v1/customers/my/rate-holds"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/rate-holds"},MOCK:{url:"/rate_holds_get.json"}},getMutualFundKyc:{method:o.GET,HTTP:{url:"/v1/kycupdate/my/{{accountHash}}/kyc"},WL:{adapter:"MutualFundKycAdapterFBE",path:"v1/kycupdate/my/accountHash/kyc"},MOCK:{url:"mutual_fund_kyc_get.json"}},getMortgageApplication:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/mortgages/{{dealId}}",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/mortgages/dealId",timeout:10*l.timeout},MOCK:{url:"/mortgage_application_get.json"}},getMortgageTracker:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/mortgages/tracker/{{dealId}}",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/mortgages/tracker/dealId",timeout:10*l.timeout},MOCK:{url:"/mortgage_tracker_get.json"},cacheStrategy:{cacheResult:!1}},createMortgageApplication:{method:o.POST,HTTP:{url:"/v1/customers/my/applications/mortgages",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"/v1/customers/my/applications/mortgages",timeout:10*l.timeout},MOCK:{url:"/mortgage_application_create.json"}},updateMortgageApplication:{method:o.PUT,HTTP:{url:"/v1/customers/my/applications/mortgages/{{dealId}}",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/mortgages/dealId",timeout:10*l.timeout},MOCK:{url:"/mortgage_application_update.json"}},postSearchAnalytics:{method:o.POST,HTTP:{url:"/v1/faq/log"},WL:{adapter:"CustomersAdapterFBE",path:"/v1/faq/log"},MOCK:{url:""}},getDeviceList:{method:o.GET,HTTP:{url:"/v1/customers/my/devices",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices"},MOCK:{url:"/devices/deviceList.json"},cacheStrategy:{cacheResult:!1}},updateDeivce:{method:o.PUT,HTTP:{url:"/v1/customers/my/devices",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices"},MOCK:{url:"/devices/updateResult.json"}},deleteDevice:{method:o.DELETE,HTTP:{url:"/v1/customers/my/devices/{{seqnum}}",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices/seqnum"},MOCK:{url:"/devices/deleteResult.json"}},getFIDO2Device:{method:o.GET,HTTP:{url:"/v2/security/login/registrations",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices"},MOCK:{url:"/devices/deviceList.json"},cacheStrategy:{cacheResult:!1}},getFIDO2DeviceOpen:{method:o.GET,HTTP:{url:"/v2/security/login/open-registrations",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices"},MOCK:{url:"/devices/deviceList.json"},cacheStrategy:{cacheResult:!1}},initRegisterFIDO2Device:{method:o.GET,HTTP:{url:"/v2/security/login/register",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices"},MOCK:{url:"/devices/deviceList.json"},cacheStrategy:{cacheResult:!1}},completeRegisterFIDO2Device:{method:o.POST,HTTP:{url:"/v2/security/login/complete-registration",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices"},MOCK:{url:"/devices/deviceList.json"},cacheStrategy:{cacheResult:!1}},initRegisterFIDO2DeviceOpen:{method:o.GET,HTTP:{url:"/v2/security/login/open-register",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices"},MOCK:{url:"/devices/deviceList.json"},cacheStrategy:{cacheResult:!1}},completeRegisterFIDO2DeviceOpen:{method:o.POST,HTTP:{url:"/v2/security/login/open-complete-registration",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/devices"},MOCK:{url:"/devices/deviceList.json"},cacheStrategy:{cacheResult:!1}},getChatbotAvailable:{method:o.GET,HTTP:{url:"/v1/chatbot/availability?orangeKey={{orangeKey}}",timeout:10*l.timeout},WL:{adapter:"",path:""},MOCK:{url:"/getChatbotAvailable.json"}},endChatbotSession:{method:o.POST,HTTP:{url:"/v1/chatbot/dialogue/end-chat-session",timeout:10*l.timeout},WL:{adapter:"",path:""},MOCK:{url:""}},sendChatbotMessage:{method:o.POST,HTTP:{url:"/v1/chatbot/dialogue/message",timeout:10*l.timeout},WL:{adapter:"",path:""},MOCK:{url:""}},getDateProperties:{method:o.GET,HTTP:{url:"/v1/general/date-properties"},WL:{adapter:"GeneralAdapterFBE",path:"/v1/general/date-properties"},MOCK:{url:"/get_date_properties.json"}},getUserToken:{method:o.GET,HTTP:{url:"/v1/chatbot/user-token"},WL:{adapter:"",path:""},MOCK:{url:""}},getInvestmentFundCapabilities:{method:o.GET,HTTP:{url:"/v1/investment/capabilities"},WL:{adapter:"InvestmentProfileManagementAdapterFBE",path:"v1/investment/capabilities"},MOCK:{url:"/getInvestmentFundCapabilities.json"},cacheStrategy:{cacheResult:!0}},postInvestmentFundRecommendation:{method:o.POST,HTTP:{url:"/v1/investment/portfolio-selector",timeout:42e3,version:"1.0.0"},WL:{adapter:"InvestmentProfileManagementAdapterFBE",path:"v1/investment/portfolio-selector",timeout:42e3,version:"1.0.0"},MOCK:{url:"/postInvestmentFundRecommendation.json"}},getInvestmentSwitchEligibility:{method:o.GET,HTTP:{url:"/v1/investment/switch-eligibility",version:"1.0.0"},WL:{adapter:"InvestmentProfileManagementAdapterFBE",path:"v1/investment/switch-eligibility",version:"1.0.0"},MOCK:{url:""}},getInvestmentBeneficiary:{method:o.GET,HTTP:{url:"/v1/investment/beneficiary/{{planId}}"},WL:{adapter:"InvestmentProfileManagementAdapterFBE",path:"v1/investment/beneficiary/planId"},MOCK:{url:"/get_investment_beneficiary.json"}},getPendingTlocApplication:{method:o.GET,HTTP:{url:"/v1/customers/my/applications/tloc/{{dealId}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/tloc/dealId"},MOCK:{url:"/tloc_pending_application.json"}},postDigitalKyc:{method:o.GET,HTTP:{url:"/v1/general/enrollments/{{dealId}}/verify-fi-link/{{publicToken}}",timeout:12*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/kyc-method"},MOCK:{url:"/post_digital_kyc.json"}},updateUploadHistory:{method:o.PUT,HTTP:{url:"/v1/customers/my/upload-history",timeout:10*l.timeout},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/upload-history",timeout:10*l.timeout},MOCK:{url:"/upload_history_update.json"}}},u=new s.default([[c.submitRspPalApplication,[c.getAvailableRspLoanPAL,c.getCustomerInfo,c.getCustomerInfoAI,c.getCustomerInfoQuery]],[c.updateRspLoanApplication,[c.getCustomerInfo,c.getCustomerInfoAI,c.getCustomerInfoQuery]],[c.billPayTransaction,[c.pendingTransactions]],[c.sendMoneyEmailTransfer,[c.pendingTransactions,c.getEmtRecipients]],[c.overdraftProtectionInvitationResponse,[c.getFooterNotifications]],[c.moveMoneySubmit,[c.pendingTransactions]],[c.moveMoneyEdit,[c.pendingTransactions]],[c.deleteMoveMoney,[c.pendingTransactions]],[c.deletePendingEmt,[c.pendingTransactions]],[c.deletePendingMF,[c.pendingTransactions]],[c.deleteBillPayment,[c.pendingTransactions]],[c.saveAccountDetails,[c.cards]],[c.addAutoDepositRegistration,[c.getAutoDepositDetails]],[c.updateAutoDepositRegistration,[c.getAutoDepositDetails]],[c.deleteAutoDepositRegistration,[c.getAutoDepositDetails]],[c.setBudgetLtsStatus,[c.getBudgetLtsStatus]],[c.createBudgetDetails,[c.getBudgetLtsStatus]],[c.saveGoal,[c.payeeList]],[c.deleteGoal,[c.payeeList]],[c.updateCard,[c.accountSummary]],[c.createTlocApplication,[c.userCapabilities]],[c.createTermLoanApplication,[c.userCapabilities]],[c.updateCustomerOffers,[c.accountDetailsChequing]]]);t.default={HTTP_VERBS:o,STATUS_CODES:{SUCCESS:"SUCCESS",CREATED:"CREATED",MAX_ACCOUNT_LIMIT_REACHED:"MAX_ACCOUNT_LIMIT_REACHED",VALIDATION_ERROR:"VALIDATION_ERROR",BAD_REQUEST:"BAD_REQUEST",RESOURCE_NOT_FOUND:"RESOURCE_NOT_FOUND",ONLY_ONE_SINGLE_CHEQUING_ACCOUNT_ALLOWED:"ONLY_ONE_SINGLE_CHEQUING_ACCOUNT_ALLOWED",SYSTEM_ERROR:"SYSTEM_ERROR",INVALID_INVITE:"INVALID_INVITE",INVALID_PROFANITY:"INVALID_PROFANITY",INVDISCID:"INVDISCID",NO_DATA:"NO_DATA",INVALID_REQUEST_BODY:"INVALID_REQUEST_BODY",NOT_APPLICABLE:"NOT_APPLICABLE",NOT_ELIGIBLE_FOR_ENROLL:"NOT_ELIGIBLE_FOR_ENROLL",NO_ENROLL_CAPBILITY:"NO_ENROLL_CAPBILITY",RANGE:"RANGE",TSYSERROR:"TSYSERROR",OPEN_CC_ACCOUNT_EXCEPTION:"OPEN_CC_ACCOUNT_EXCEPTION",MISSING_REQUIRED_FIELD:"MISSING_REQUIRED_FIELD",INVALID:"INVALID",CLIENT_ALREADY_PREAPPROVED:"CLIENT_ALREADY_PREAPPROVED",RESTRICT:"RESTRICT",RESTRICT_CO:"RESTRICT_CO",PO_BOX_NOT_ALLOWED:"PO_BOX_NOT_ALLOWED",RESPONSE_STATUS_MATURITY_DATE:"MESSAGE_25070",NOFD:"NOFD",MM_OVER_PAYMENT:"MM_OVER_PAYMENT",AVLBAL:"AVLBAL",AVLBALHLD:"AVLBALHLD"},SUCCESS_STATUS_CODES:["SUCCESS","CREATED","NO_DATA"],REQUEST_TYPES:{HTTP:"HTTP",WL:"WL",MOCK:"MOCK"},SERVICE_CONFIG:c,AVAILABLE_SERVICES:{ADDRESS_AUTOCOMPLETE:"addressAutocomplete",EXCHANGE_RATES:"exchangeRates",ACCOUNT_SUMMARY:"accountSummary",GET_CUSTOMER_INFO:"getCustomerInfo",GET_CUSTOMER_INFO_AI:"getCustomerInfoAI",GET_CUSTOMER_INFO_QUERY:"getCustomerInfoQuery",GET_CUSTOMER_INFO_DOC_LIST:"getCustomerInfoDocList",GET_CUSTOMER_INFO_INTENDED_USE_LIST:"getCustomerInfoIntendedUseList",PUT_CUSTOMER_INFO:"putCustomerInfo",GET_CUSTOMER_USERNAME:"getCustomerUsername",PUT_CUSTOMER_USERNAME:"putCustomerUsername",PUT_CUSTOMER_NEW_PIN:"putCustomerNewPIN",PUT_CUSTOMER_NEW_PIN_DEPENDENT:"putCustomerNewPINDependent",GET_CUSTOMER_CONSENTS:"customerConsents",PUT_CUSTOMER_CONSENTS:"putCustomerConsents",CUSTOMER_PREFERENCES:"customerPreferences",PUT_CUSTOMER_PREFERENCES:"putCustomerPreferences",GET_CUSTOMER_DEPENDENT:"getCustomerDependent",PUT_CUSTOMER_DEPENDENT:"putCustomerDependent",GET_CUSTOMER_CARDS:"getCustomerCards",PUT_CUSTOMER_CARDS:"putCustomerCards",REPLACE_CUSTOMER_CARDS:"replaceCustomerCards",GET_PERSONAL_INSIGHTS_CAPABILITY:"getPersonalInsightsCapability",GET_PERSONAL_INSIGHTS:"getPersonalInsights",POST_PERSONAL_INSIGHT_EVENTS:"postPersonalInsightEvents",GET_CARD:"getCard",UPDATE_CARD:"updateCard",UPDATE_CREDIT_CARD_LIMIT:"updateCreditCardLimit",UPDATE_LOAN_CREDIT_CARD_LIMIT:"updateLoanCreditCardLimit",LOAN_PAYMENTS:"loanPayments",CREDIT_LIMIT_INCREASE_REQUEST:"creditLimitIncreaseRequest",CUSTOMER_BONUS_INFO:"customerBonusInfo",CUSTOMER_OFFERS:"customerOffers",UPDATE_CUSTOMER_OFFERS:"updateCustomerOffers",ACTIVATE_CUSTOMER_OFFERS:"activateCustomerOffers",CUSTOMER_OFFER_ELIGIBILITY:"customerOfferEligibility",ACCOUNT_SUMMARY_SAVINGS:"accountSummarySavings",ACCOUNT_SUMMARY_CHEQUING:"accountSummaryChequing",SAVINGS_ACCOUNT_WITHOUT_RIF:"savingsAccountWithoutRif",REFERENCE_DATA:"referenceData",ACCOUNTS_RATES:"accountsRates",SETUP_PASSMARK:"passmarkSetup",PASSMARK_IMAGES_BY_CATEGORY:"passmarkImagesByCategory",PASSMARK_IMAGES_BY_CATEGORY_UPDATE:"passmarkImagesByCategoryUpdate",GET_PASSMARK:"getPassmark",PUT_PASSMARK:"putPassmark",POST_PASSMARK:"postPassmark",GET_PASSMARK_DEPENDENT:"getPassmarkDependent",PUT_PASSMARK_DEPENDENT:"putPassmarkDependent",INFO_DELIVERY:"infoDelivery",OPEN_CHEQUING:"openChequing",OPEN_SAVINGS:"openSavings",UPDATE_CC_EMPLOYMENT_INFORMATION:"updateCCEmploymentInformation",OPEN_CREDIT_CARD:"openCreditCard",CC_RATES:"creditCardRates",CC_LIMIT:"creditLimit",CC_CONVERT_OFFER:"convertOffer",CC_APPLICATION_STATUS:"creditApplicationStatus",CC_REWARD_ACCOUNTS:"creditRewardAccounts",CC_CAMPAIGNS:"creditCardCampaigns",GIC_FUND_SOURCE_ACCOUNTS:"gicFundSourceAccounts",BISA_FUND_SOURCE_ACCOUNTS:"bisaFundSourceAccounts",CC_APPLICATION_UPDATE_WITH_GET:"creditApplicationUpdateWithGet",CC_APPLICATION_UPDATE:"creditApplicationUpdate",CC_GET_KBA_QUESTIONS:"getKBAQuestions",CC_UPDATE_KBA_QUESTIONS:"updateKBAQuestions",CC_CONFIRM_ELIG:"ob2CCConfirmEligibility",CC_VALIDATE_CLIENT:"ob2CCValidateClientData",CC_ENROLL_CLIENT:"ob2CCEnrollClient",ENROLL_GET_KBA_QUESTIONS:"getEnrollKBAQuestions",ENROLL_UPDATE_KBA_QUESTIONS:"updateEnrollKBAQuestions",GET_MUTUAL_FUND_DETAILS:"getMutualFundDetails",OPEN_SAVINGS_RSP:"openSavingsRSP",OPEN_SAVINGS_TFSA:"openSavingsTFSA",OPEN_SAVINGS_TFSA_KS:"openSavingsTFSAKS",OPEN_SAVINGS_RIF:"openSavingsRIF",OPEN_CSA:"openCSA",OPEN_GIC:"openGIC",OPEN_GIC_RSP:"openGICRSP",OPEN_GIC_TFSA:"openGICTFSA",OPEN_GIC_RIF:"openGICRIF",OPEN_RIF_ISA:"openRIFISA",OPEN_TLOC_INTEREST:"openTlocInterest",ORDER_ACCOUNTS:"orderAccounts",SUBMIT_CONVERT_TO_RIF_ISA:"submitConvertToRifIsa",MIGRATE_CUSTOMER:"migrateCustomer",ACCOUNT_DETAILS_SAVINGS:"accountDetailsSavings",ACCOUNT_DETAILS_CHEQUING:"accountDetailsChequing",ACCOUNT_DETAILS_CREDIT_CARD:"accountDetailsCreditCard",ACCOUNT_DETAILS_MUTUAL_FUND:"accountDetailsMutualFund",ACCOUNT_DETAILS_MORTGAGE:"accountDetailsMortgage",ACCOUNT_DETAILS_LOAN:"accountDetailsLoan",ACCOUNT_STATEMENTS:"accountStatements",VIEW_ACCOUNT_STATEMENT:"viewAccountStatement",TAX_RECEIPTS:"taxReceipts",VIEW_TAX_RECEIPT:"viewTaxReceipt",UPDATE_TAX_RECEIPT:"updateTaxReceipt",INVESTMENT_REPORTS:"accountInvestmentReports",VIEW_INVESTMENT_REPORT:"viewInvestmentReport",OTHER_DOCUMENTS:"otherDocuments",DELETE_OTHER_DOCUMENT:"deleteOtherDocument",ACCOUNT_DETAILS:"accountDetails",PUT_ACCOUNT_DETAILS:"saveAccountDetails",MOVE_MONEY:"moveMoney",MOVE_MONEY_SUBMIT:"moveMoneySubmit",MOVE_MONEY_EDIT:"moveMoneyEdit",MUTUAL_FUNDS_SUBMIT:"mutualFundsSubmit",MUTUAL_FUNDS_EDIT:"mutualFundsEdit",PAYEE_LIST:"payeeList",PAD_LIST:"padList",STOP_PAD_LIST:"stopPadList",STOP_PAD_REQUEST:"stopPadRequest",EDIT_PAYEE:"editPayee",DELETE_PAYEE:"deletePayee",BILL_PAY_ACCOUNTS:"billPayAccounts",DIRECT_DEPOSIT_ACCOUNTS:"directDepositAccounts",RIF_PAYMENT_ACCOUNTS:"rifPaymentAccounts",RIF_FROM_ACCOUNTS:"rifFromAccounts",BILL_PAY_TRANSACTION:"billPayTransaction",UPDATE_BILL_PAY_TRANSACTION:"updateBillPayTransaction",ADD_REGISTERED_PAYEES:"addRegisteredPayees",REGISTERED_PAYEES:"registeredPayees",GET_EMT_RECIPIENTS:"getEmtRecipients",ADD_EMT_RECIPIENT:"addEmtRecipient",EDIT_EMT_RECIPIENT:"editEmtRecipient",DELETE_EMT_RECIPIENT:"deleteEmtRecipient",MOVE_MONEY_EMAIL_TRANSFER:"moveMoneyEmailTransfer",SEND_MONEY_EMAIL_TRANSFER:"sendMoneyEmailTransfer",ACCOUNT_HOLDS:"accountHolds",GET_HOLDS:"getHolds",ACCOUNT_BY_TYPE:"accountByType",TRANSACTION_HISTORY:"transactionHistory",LEGACY_TRANSACTION_HISTORY:"legacyTransactionHistory",CARDS:"cards",AVAILABLE_ACTIONS:"availableActions",ACCOUNT_USAGE_TYPES:"accountUsageTypes",PENDING_TRANSACTIONS:"pendingTransactions",PAYEE_PENDING_TRANSACTIONS:"payeePendingTransactions",BILL_POSTED_PAYMENTS:"billPostedPayments",BANK_INFO:"bankInfo",TAX_RECEIPT_AVAILABLE_DATES:"taxReceiptAvailableDates",USER_CAPABILITIES:"userCapabilities",USER_CAPABILITIES_NO_QUERY:"userCapabilitiesNoQuery",FINANCIAL_INSTITUTIONS:"financialInstitutions",SANCTIONED_COUNTRIES:"sanctionedCountries",OVERDRAFT_DETAILS:"overdraftDetails",OVERDRAFT_PROTECTION_CANCELATION:"overdraftProtectionCancelation",OVERDRAFT_PROTECTION_APPLY:"overdraftProtectionApply",OVERDRAFT_PROTECTION_DECREASE_LIMIT:"overdraftProtectionDecreaseLimit",OVERDRAFT_PROTECTION_INVITATION_DETAILS:"overdraftProtectionInvitationDetails",OVERDRAFT_PROTECTION_INVITATION_RESPONSE:"overdraftProtectionInvitationResponse",OVERDRAFT_PROTECTION_PAY_FULL_BALANCE_ACCOUNTS:"overdraftProtectionPayFullBalanceAccounts",OVERDRAFT_PROTECTION_PREAPPROVED_ACCOUNTS:"overdraftProtectionPreApprovedAccounts",STANDARD_FEES:"standardFees",GET_TRANSACTION_SPLIT:"getTransactionSplit",PUT_TRANSACTION_SPLIT:"putTransactionSplit",ADD_TRANSACTION_NOTE:"addTransactionNote",AMEND_TRANSACTION_NOTE:"amendTransactionNote",AGGREGATED_TRANSACTIONS:"aggregatedTransactions",UPDATE_TRANSACTION:"updateTransaction",BULK_UPDATE_TRANSACTIONS:"bulkUpdateTransactions",DELETE_CHILD_TRANSACTION:"deleteChildTransaction",GET_SIMILAR_TRANSACTIONS:"getSimilarTransactions",GET_EMT_AUTO_SENDERS:"getEmtAutoSenders",EDIT_EMT_AUTO_SENDERS:"editEmtAutoSenders",DELETE_EMT_AUTO_SENDERS:"deleteEmtAutoSenders",RECOMMEND_PAYEE:"recommendPayee",GET_TRAVEL_NOTICES:"getTravelNotices",ADD_TRAVEL_NOTICE:"addTravelNotice",EDIT_TRAVEL_NOTICE:"editTravelNotice",DELETE_TRAVEL_NOTICE:"deleteTravelNotice",ACCOUNTS_FOR_RECEIVE_EMAIL_MONEY:"accountsForReceiveEmailMoney",EMT_GET_TRANSFER_DETAILS:"emtGetTransferDetails",STANDARD_EMT_GET_TRANSFER_DETAILS:"standardEmtGetTransferDetails",VALIDATE_FINANCIAL_INSTITUTION:"validateFinancialInstitution",VALIDATE_EMT_ANSWER:"validateEmtAnswer",ACCEPT_EMT:"acceptEmt",ACCEPT_CLIENT_EMT:"acceptClientEmt",DECLINE_CLIENT_EMT:"declineClientEmt",DECLINE_EMT:"declineEmt",CREATE_PAYEE:"createPayee",GET_EXTERNAL_ACCOUNTS:"getExternalAccounts",GET_EXTERNAL_ACCOUNTS_DEPENDENT:"getExternalAccountsDependent",ADD_EXTERNAL_ACCOUNT:"addExternalAccount",ADD_EXTERNAL_ACCOUNT_DEPENDENT:"addExternalAccountDependent",DELETE_EXTERNAL_ACCOUNT:"deleteExternalAccount",DELETE_EXTERNAL_ACCOUNT_DEPENDENT:"deleteExternalAccountDependent",GET_FINANCIAL_INSTITUTION:"getFinancialInstitution",VERIFY_EXTERNAL_LINK_ACCOUNT:"verifyExternalLinkAccount",VERIFY_EXTERNAL_LINK_ACCOUNT_DEPENDENT:"verifyExternalLinkAccountDependent",CHECK_PENDING_TRANSACTIONS:"checkPendingTransactions",GET_CONTRIBUTIONS:"getContributions",GET_CONTRIBUTION_DETAILS:"getContributionDetails",GET_CONTRIBUTIONS_SUMMARY_BY_ACCOUNT_ID:"getContributionsSummaryByAccountId",GET_CONTRIBUTIONS_SUMMARY_BY_ACCOUNT_TYPE:"getContributionsSummaryByAccountType",GET_DISTRIBUTIONS:"getDistributions",PUT_DISTRIBUTIONS:"putDistributions",CLOSE_ACCOUNT:"closeAccount",CLOSE_ACCOUNT_SUBMIT:"closeAccountSubmit",LIMITS:"limits",GET_ORANGE_ALERTS:"getOrangeAlerts",PUT_ORANGE_ALERTS:"putOrangeAlerts",FORGOT_CIF:"forgotCif",FORGOT_PIN:"forgotPin",RESET_PIN:"resetPin",UPDATE_PIN:"updatePin",DELETE_REMEMBER_ME_ALL:"deleteAllRememberDevice",SET_CREDIT_CARD_BALANCE_PROTECTION_INSURANCE:"setCreditCardBalanceProtectionInsurance",CANCEL_CREDIT_CARD_BALANCE_PROTECTION_INSURANCE:"cancelCreditCardBalanceProtectionInsurance",GET_JOINT_ACCOUNT_HOLDERS:"getJointAccountHolders",GET_JOINT_ACCOUNT_INVITATIONS:"getJointAccountInvitations",CREATE_JOINT_ENROLLMENT_INVITATION:"createJointEnrollmentInvitation",CANCEL_JOINT_ENROLLMENT_INVITATION:"cancelJointEnrollmentInvitation",CREATE_MORTGAGE_JOINT_ENROLLMENT_INVITATION:"createMortgageJointEnrollmentInvitation",GET_JOINT_INVITATION_SUMMARY:"getJointInvitationSummary",VALIDATE_JOINT_INVITATION:"validateJointInvitation",ACCEPT_JOINT_ENROLLMENT_INVITATION:"acceptJointEnrollmentInvitation",DECLINE_JOINT_ENROLLMENT_INVITATION:"declineJointEnrollmentInvitation",ADD_AUTHORIZED_USER:"addAuthorizedUser",DELETE_AUTHORIZED_USER:"deleteAuthorizedUser",GET_AUTHORIZED_USERS:"getAuthorizedUsers",INSIGHTS_SESSION:"insightsSession",INBOX_ALL_MESSAGES:"inboxAllMessages",INBOX_SINGLE_MESSAGE:"inboxSingleMessage",INBOX_UPDATE_STATUS:"inboxUpdateStatus",INBOX_NEW_MESSAGE_COUNT:"inboxNewMessageCount",GET_REWARDS_PREFERENCE:"getRewardsPreference",GET_REWARDS:"getRewards",ADD_REWARDS:"addRewards",UNCATEGORIZED_TRANSACTIONS:"uncategorizedTransactions",UNCONFIRMED_TRANSACTIONS:"unconfirmedTransactions",GET_EMT_TRANSACTION_DETAILS:"getEmtTransactionDetails",DELETE_PENDING_EMT:"deletePendingEmt",RECLAIM_EMT:"reclaimEmt",GET_RECLAIM_EMT:"getReclaimEmt",RESEND_PENDING_EMT:"resendPendingEmt",DELETE_BILL_PAYMENT:"deleteBillPayment",SKIP_BILL_PAYMENT:"skipBillPayment",ENROLLMENT_NEW_USER:"enrollmentNewUser",ABM_LOCATIONS:"abmLocations",POST_CHEQUE_ORDERS:"postChequeOrders",POST_DRAFT_ORDERS:"postDraftOrder",DELETE_MOVE_MONEY:"deleteMoveMoney",SKIP_MOVE_MONEY:"skipMoveMoney",VALIDATE_SIGNATURE:"validateSignature",ADD_KYC_SIGNATURE:"addKycSignature",REQUEST_BALANCE_TRANSFER:"requestBalanceTransfer",MORTGAGE_PREPAYMENT_DETAILS:"getMortgagePrepaymentDetails",MORTGAGE_CONVERT_TO_FIXED_DETAILS:"getMortgageConvertToFixedDetails",MORTGAGE_PREPAYMENT_SUBMIT:"submitMortgagePrepayment",MORTGAGE_SCHEDULE_CALL:"mortgageScheduleCall",MORTGAGE_COVERT_TO_FIXED_SUBMIT:"submitMortgageConvertToFixed",MORTGAGE_RENEWAL_PAYMENT_DATES:"mortgageRenewalPaymentDates",MORTGAGE_RENEWAL_CALCULATOR:"mortgageRenewalCalculator",MORTGAGE_RENEWAL_SUBMIT:"mortgageRenewalSubmit",MORTGAGE_CHANGE_PAYMENT_DETAILS:"mortgageRequestToChangePaymentDetails",MORTGAGE_CHANGE_PAYMENT_SUBMIT:"mortgageRequestToChangePaymentSubmit",MORTGAGE_CHANGE_FREQUENCY_DETAILS:"mortgageRequestToChangeFrequencyDetails",MORTGAGE_CHANGE_FREQUENCY_SUBMIT:"mortgageRequestToChangeFrequencySubmit",MORTGAGE_CHANGE_ACCOUNT_DETAILS:"mortgageRequestToChangeAccountDetails",MORTGAGE_CHANGE_ACCOUNT_SUBMIT:"mortgageRequestToChangeAccountSubmit",VALIDATE_ORANGE_KEY:"validateOrangeKey",GET_SECURITY_PASSES:"getSecurityPasses",DELETE_SECURITY_PASS:"deleteSecurityPasses",GET_DONATION_ACCOUNTS:"donationAccounts",GET_STATEMENT_ACCOUNTS:"statementAccounts",GET_CARD_FEE_ACCOUNTS:"cardFeeAccounts",CREATE_DONATION:"createDonation",GET_DONATIONS:"getDonations",GET_REFER_FRIEND_INFO:"getReferFriendInfo",GET_MESSAGE_TEMPLATES:"getMessageTemplates",REFER_FRIEND:"referFriend",GET_WITHHOLDING_TAX_RATES:"getWithholdingTaxRates",GET_ACCOUNT_FEES:"getAccountFees",OPEN_BUSINESS_SAVINGS:"openBusinessSavings",OPEN_BUSINESS_US_SAVINGS:"openBusinessUsSavings",OPEN_BUSINESS_GIC:"openBusinessGic",BUSINESS_GIC_USD:"openBusinessGicUsd",GET_DEPENDENTS_INFO:"getDependentsInfo",CSA_CONVERSION:"csaConversion",CSA_POST_CONVERSION:"csaPostConversion",GET_CSA_CONVERSION_APPLICATION:"getCSAConversionApplication",GET_ROADBLOCKS:"getRoadblocks",GET_AML_ROADBLOCKS:"getAMLRoadblocks",PUT_ROADBLOCKS:"putRoadblocks",GET_PENDING_APPS:"getPendingApplications",MAGIC_SWITCH_SUBMIT:"magicSwitchSubmit",OPEN_MUTUAL_FUND_ELIGIBILITY:"openMutualFundEligibility",OPEN_MORTGAGE:"openMortgage",MUTUAL_FUND_PROFILE_SUBMIT:"mutualFundProfileSubmit",MUTUAL_FUND_FROM_ACCOUNTS:"getMutualFundFromAccounts",MUTUAL_FUND_ACCOUNTS:"getMutualFundAccounts",CREATE_MUTUAL_FUND_APPLICATION:"createMutualFundApplication",UPDATE_MUTUAL_FUND_APPLICATION:"updateMutualFundApplication",PUT_KYC_METHOD:"putKYCMethod",GET_TAX_RESIDENCY_COUNTRY_LIST:"getTaxResidencyCountryList",GET_FATCA_ROADBLOCKS:"getFatcaRoadblocks",PUT_FATCA_ROADBLOCKS:"putFatcaRoadblocks",PUT_FATCA_DEPENDENT_ROADBLOCKS:"putFatcaDependentRoadblocks",GET_CONTACT_SECURITY_TOKEN:"getContactSecurityToken",MAGIC_SWITCH_UPDATE:"magicSwitchUpdate",MAGIC_SWITCH_ESIGNATURE:"magicSwitchEsignature",MAGIC_SWITCH_GET_APPLICATION:"magicSwitchGetApplication",GET_REGISTERED_BENEFICIARY_PLANS:"getRegisteredBeneficiaryPlans",GENERATE_BENEFICIARY_PDF:"generateBeneficiaryPDF",UPDATE_BENEFICIARIES:"updateBeneficiaries",PAYMENT_CALCULATOR:"paymentCalculator",REQUEST_ACCOUNTS:"requestAccounts",REQUEST_ACCOUNT_BY_ID:"requestAccountById",GET_MUTUAL_FUND_APPLICATION:"getMutualFundApplication",SEND_JOINT_ACCOUNT_HOLDER_INVITATION:"sendJointAccountHolderInvitation",GET_LIST_OF_TELUS_BILLERS:"getListOfTelusBillers",GET_TAX_RESIDENCY_CERTIFICATION:"getTaxResidencyCertification",GET_CHILD_TAX_RESIDENCY_CERTIFICATION:"getChildTaxResidencyCertification",PUT_TAX_RESIDENCY_CERTIFICATION:"putTaxResidencyCertification",PUT_CHILD_TAX_RESIDENCY_CERTIFICATION:"putChildTaxResidencyCertification",SEND_EMAIL:"sendEmail",TEST_LEVEL2_AUTHORIZATION:"testLevel2Authorization",RDC_INIT:"initRemoteChequeDeposit",FILE_UPLOAD_GET_TOKEN:"getFileUploadToken",RDC_GET_TOKEN:"getTokenForRemoteChequeDeposit",RDC_VERIFY:"verifyRemoteChequeDeposit",RDC_CONFIRM:"confirmRemoteChequeDeposit",GET_CONFIGURATION:"getConfiguration",GET_RAF:"getRAF",FOOTER_NOTIFICATIONS:"getFooterNotifications",DELETE_PENDING_MF:"deletePendingMF",REQUEST_MENIGA_CATEGORIES:"requestMenigaCategories",GET_DOWNLOAD_TRANSACTIONS_TOKEN:"createDownloadTransactionsToken",GET_CANADA_POST_LOCATIONS:"getCanadaPostLocations",GET_IDENTIFICATION_LOCATIONS:"getIdentificationLocations",GET_RESTRICTED_WORDS:"getRestrictedWords",REGISTER_DEVICE:"registerDevice",SEND_ANALYTICS_INFO:"sendAnalyticsInfo",GET_BUDGET_INCOME:"getBudgetIncome",GET_BUDGET_EXPENSE:"getBudgetExpense",GET_BUDGET_SAVINGS:"getBudgetSavings",GET_CURRENT_BUDGET:"getCurrentBudget",RECALCULATE_BUDGET_DETAILS:"recalculateBudgetDetails",CREATE_BUDGET_DETAILS:"createBudgetDetails",RESET_BUDGET:"getResetBudget",GET_BUDGET_TRENDS:"getLtsTrends",SAVE_GOAL:"saveGoal",EDIT_GOAL:"editGoal",DELETE_GOAL:"deleteGoal",DELETE_RETIREMENT_GOAL_WITH_ACCOUNTS:"deleteRetirementGoalWithAccounts",LIFE_GOALS:"lifeGoals",LIFE_GOAL:"lifeGoal",GOAL_CATEGORIES:"goalCategories",GOAL_IMAGES:"goalImages",GOAL_CAPABILITIES:"goalCapabilities",GOAL_PROFANITY_CHECKER:"goalProfanityChecker",GOAL_VALIDATE:"goalValidate",GOAL_ELIGIBILITY:"goalEligibility",GOAL_PAYEES:"goalPayees",TLOC_FUND_SOURCE_ACCOUNTS:"tlocFundSourceAccounts",RSP_LOAN_PAYMENT_CALCULATOR:"rspLoanPaymentCalculator",CREATE_RSP_LOAN_APPLICATION:"createRspLoanApplication",UPDATE_RSP_LOAN_APPLICATION:"updateRspLoanApplication",GET_RSP_LOAN_APPLICATION:"getRspLoanApplication",GET_RSP_LOAN_AVAILABLE_PAL:"getAvailableRspLoanPAL",GET_RSP_LOAN_PAYMENT_FROM_ACCOUNTS:"getRspLoanPaymentFromAccounts",GET_INTERNAL_CUSTOMER_ACCOUNTS:"getInternalCustomerAccounts",GET_RSP_LOAN_ALLOWED_ALLOCATION_ACCOUNTS:"getRspLoanAllowedDestAccounts",OPEN_RSP_LOAN_ELIGIBILITY:"openRspLoanEligibility",GET_RSP_PAL_APPLICATION:"getRspPalApplication",SUBMIT_RSP_PAL_APPLICATION:"submitRspPalApplication",GET_FULL_ASSET_LIABILITY_TYPES:"getFullAssetLiabilityTypes",GET_LTS_BUDGET:"getLtsBudget",GET_BUDGET_CAPABILITIES:"getBudgetCapabilities",GET_BUDGET_TRANSACTIONS:"getBudgetTransactions",PUT_EXCLUDE_LTS_TRANSACTION:"putExcludeLtsTransaction",GET_LTS_OVERVIEW_TRANSACTIONS:"getLtsOverviewTransactions",SET_BUDGET_LTS_STATUS:"setBudgetLtsStatus",GET_BUDGET_LTS_STATUS:"getBudgetLtsStatus",GET_BUDGET_CATEGORY:"getBudgetCategory",UPDATE_CATEGORY:"updateCategory",PUT_MEDALLIA_FEEDBACK:"putMedalliaFeedBack",GET_AGENTID:"getAgentId",PUT_MONTHLY_FEES:"putMonthlyFees",KEEP_ALIVE:"keepAlive",POST_FINANCIAL_PLAN_REQUEST:"postFinancialPlanRequest",POST_FINANCIAL_PLAN_ARCHETYPE_STATUS:"postFinancialPlanArchetypeStatus",POST_FINANCIAL_PLAN_ARCHETYPE_GOAL_ID:"postFinancialPlanArchetypeGoalId",FP_RECOMMEND_PRODUCTS:"fpRecommendProducts",GET_FINANCIAL_PLAN:"getFinancialPlan",DELETE_FINANCIAL_PLAN:"deleteFinancialPlan",GET_IS_ACCOUNT_AGGREGATION_AVAILABLE:"getIsAccountAggregationAvailable",GET_ACCOUNT_SUMMARY_AGGREGATION_CAPABILITY:"getAccountSummaryAggregationCapability",DELETE_ACCOUNT_AGGREGATION_CLIENT:"deleteAccountAggregationClient",REFRESH_ACCOUNT_AGGREGATION_CLIENT:"refreshAccountAggregationClient",GET_ACCOUNT_AGGREGATION_TOKEN:"getAccountAggregationPublicToken",POST_ACCOUNT_AGGREGATION_SELECTED_ACCOUNTS:"postAccountAggregationSelectedAccounts",PUT_MORTGAGE_INFO:"putMortgageInfo",GET_FINANCIAL_PLAN_CAPABILITIES:"getFinancialPlanCapabilities",GET_FINANCIAL_PLAN_BUDGET_LTS:"getFinancialPlanBudgetLts",POST_ACCOUNT_AGGREGATION_AUTHORIZATION:"postAccountAggregationAuthorization",PUT_ACCOUNT_AGGREGATION_SUMMARY:"putAccountAggregationSummary",GET_ACCOUNT_AGGREGATION_SUMMARY:"getAccountAggregationSummary",EMT_GET_REQUEST_FULFILL:"emtGetRequestFulfill",EMT_REQUEST_FULFILL:"emtRequestFulfill",EMT_DECLINE_REQUEST_FULFILL:"emtDeclineRequestFulfill",GET_AVAILABLE_RECIPES:"getAvailableRecipes",GET_SPORTS_RECIPE_DATA:"getSportsRecipeData",GET_CURRENT_RECIPES:"getCurrentRecipes",GET_RECIPES_CAPABILITIES:"getRecipesCapabilities",GET_RECIPES_ACCOUNTS:"getRecipesAccounts",GET_RECIPES_CATEGORIES:"getAvailableCategory",SAVE_RECIPES:"saveRecipes",EDIT_RECIPES:"editRecipes",DELETE_RECIPES:"deleteRecipes",PAUSE_RECIPE:"pauseRecipe",RESUME_RECIPE:"resumeRecipe",GET_RECIPES_TRANSACTIONS:"getRecipesTransactions",GET_RECIPES_TRANSACTION_BREAKDOWN:"getRecipesTransactionBreakdown",GET_AUTO_DEPOSIT_DETAILS:"getAutoDepositDetails",ADD_AUTO_DEPOSIT_REGISTRATION:"addAutoDepositRegistration",UPDATE_AUTO_DEPOSIT_REGISTRATION:"updateAutoDepositRegistration",DELETE_AUTO_DEPOSIT_REGISTRATION:"deleteAutoDepositRegistration",GET_COLLATERAL_LENDINGGROUP_INFO:"getCollateralLendingGroupInfo",GET_MORTGAGE_CALCULATION:"getMortgageCalculation",GET_RATE_HOLD:"getRateHold",REQUEST_RATE_HOLD:"requestRateHold",GET_MUTUAL_FUND_KYC:"getMutualFundKyc",CREATE_MORTGAGE_APPLICATION:"createMortgageApplication",UPDATE_MORTGAGE_APPLICATION:"updateMortgageApplication",GET_MORTGAGE_APPLICATION:"getMortgageApplication",POST_SEARCH_ANALYTICS:"postSearchAnalytics",GET_DEVICE_LIST:"getDeviceList",UPDATE_DEVICE:"updateDeivce",DELETE_DEVICE:"deleteDevice",GET_FIDO2_DEVICE:"getFIDO2Device",GET_FIDO2_DEVICE_OPEN:"getFIDO2DeviceOpen",INIT_REGISTER_FIDO2_DEVICE:"initRegisterFIDO2Device",COMPLETE_REGISTER_FIDO2_DEVICE:"completeRegisterFIDO2Device",INIT_REGISTER_FIDO2_DEVICE_OPEN:"initRegisterFIDO2DeviceOpen",COMPLETE_REGISTER_FIDO2_DEVICE_OPEN:"completeRegisterFIDO2DeviceOpen",GET_ANDROID_FINGERPRINT_ID_WHITELIST_STATUS:"getAndroidFingerprintIdWhitelistStatus",GET_APP_REVIEW_STATUS:"getAppReviewStatus",GET_APP_CC_ENROLLMENT:"getAppCCEnrollment",GET_CHATBOT_AVAILABLE:"getChatbotAvailable",END_CHATBOT_SESSION:"endChatbotSession",SEND_CHATBOT_MESSAGE:"sendChatbotMessage",CHATBOT_USER_TOKEN:"getUserToken",CREATE_TLOC_APPLICATION:"createTlocApplication",CREATE_TERMLOAN_APPLICATION:"createTermLoanApplication",GET_MORTGAGE_TRACKER:"getMortgageTracker",GET_DATE_PROPERTIES:"getDateProperties",GET_INVESTMENT_FUND_CAPABILITIES:"getInvestmentFundCapabilities",POST_INVESTMENT_FUND_RECOMMENDATION:"postInvestmentFundRecommendation",GET_INVESTMENT_SWITCH_ELIGIBILITY:"getInvestmentSwitchEligibility",GET_PENDING_TLOC_APPLICATION:"getPendingTlocApplication",POST_DIGITAL_KYC:"postDigitalKyc",GET_INVESTMENT_BENEFICIARY:"getInvestmentBeneficiary",UPDATE_UPLOAD_HISTORY:"updateUploadHistory"},RESPONSE_ERRORS:{ERROR_MESSAGE:"errorMessage",DETAILS:"details",STATUS_CODE:"status_code"},CACHE_KEY_ACCOUNTS:"accounts",DATA_INVALIDATED:"DATA_INVALIDATED",ROOT_ENDPOINTS:r,RESPONSE_DETAILS_ERROR_CODES:["EMPTY","INVALID_EXPRESSION","INVALID"],CACHE_CLEARING:u,CACHE_GROUPS:{accounts:{configProperty:"isAccountsCall",searchString:"accounts",maxAgeSec:300},transactions:{configProperty:"isTransactionsCall",searchString:"transactions",maxAgeSec:300},customers:{configProperty:"isCustomersCall",searchString:"customers",maxAgeSec:900},goals:{configProperty:"isGoalsCall",searchString:"goals",maxAgeSec:300},lts:{configProperty:"isLtsSummaryCall",searchString:"summary",maxAgeSec:300}},SERVICE_REGEX:{MAX_AGE:/max-age=([0-9]+)/}}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={GET:"cmdGetItem",SET:"cmdSetItem",DEL:"cmdDeleteItem",ERRORS:{IN_PROG:"IN_PROGRESS",FAIL:"BAD_RESPONSE",PARAMS:"BAD_PARAMS",NOTLIST:"NOT_LIST"},KEYS:{SESSION:"tangerine.app.SESSION",CHAT_SESSION:"tangerine.app.CHAT_SESSION",HOLDS_SESSION:"tangerine.app.HOLDS_SESSION",SURVEY_MOVEMONEY:"tangerine.app.SURVEY_MOVEMONEY",SURVEY_BILLPAY:"tangerine.app.SURVEY_BILLPAY",SURVEY_EMT:"tangerine.app.SURVEY_EMT",ANALYTICS_ID:"tangerine.app.ANALYTICS_ID",USERHASH_UPGRADED:"com.tangerine.USERHASH_UPGRADED",LAST_USER:"com.tangerine.LAST_USER",REMEMBER:"com.tangerine.REMEMBERED_ACCOUNT",REMEMBER_BIZ:"com.tangerine.REMEMBERED_BIZ_ACCOUNT",REMEMBER_AIF:"com.tangerine.REMEMBERED_ACCOUNT_AIF",TOUCHID:"com.tangerine.TOUCH_ID_DISPLAY",TOUCHID_TOKEN:"com.tangerine.TOUCH_ID_TOKEN",ANDROID_FINGERPRINT_ID_DISPLAY:"com.tangerine.ANDROID_FINGERPRINT_ID_DISPLAY",ANDROID_FINGERPRINT_ID_TOKEN:"com.tangerine.ANDROID_FINGERPRINT_ID_TOKEN",DEFER:"com.tangerine.DEFFERED_PIN",OPT_IN:"com.tangerine.OPT_IN",TOS:"com.tangerine.TOS",SHAKE_ENABLED:"com.tangerine.SHAKE_ENABLED",RDC_TOOL_TIP:"com.tangerine.RDC_TOOL_TIP",TUTORIAL_SEEN:"com.tangerine.TUTORIAL_VERSION",DEVICE_REGISTER:"com.tangerine.DEVICE_REGISTER",PENDING_DISABLED_LOGIN_OPTION:"com.tangerine.DISABLED_LOGIN_OPTION",CAPABILITIES:{DEPOSIT_TRANSACT:"tangerine.app.cp.m",BILLPAY_TRANSACT:"tangerine.app.cp.b",EMT_TRANSACT:"tangerine.app.cp.e"},ABM_NOTE_CLEARED:"tangerine.app.ABM_NOTE_CLEARED",SECRET_QUESTION_STATE:"tangerine.app.SECRET_QUESTION_STATE",HIDE_CANADA_POST_STRIKE:"tangerine.app.HIDE_CANADA_POST_STRIKE",FINGER_PRINT_PROMPT:"com.tangerine.FINGER_PRINT_PROMPT",APP_REVIEW_DATA:"com.tangerine.APP_REVIEW_DATA"},COOKIES:{LANG_PREF:"langpref"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a,s,o,r,l,c=_(n(15)),u=_(n(33)),d=_(n(272));function _(e){return e&&e.__esModule?e:{default:e}}var E={CREDIT_CARD:"CREDIT_CARD",BILL_HISTORY:"BILL_HISTORY",CHEQUING:"CHEQUING",LOAN:"LOAN",ALL:"ALL",RECATEGORIZATION:"RECATEGORIZATION",REWARDS:"REWARDS",UNCATEGORIZED_TRANSACTIONS:"UNCATEGORIZED_TRANSACTIONS",UNCONFIRMED_TRANSACTIONS:"UNCONFIRMED_TRANSACTIONS",SAVINGS:"SAVINGS",GOALS:"GOALS",CREDIT_CARD_GOAL:"CREDIT_CARD_GOAL",RETIREMENT_GOAL:"RETIREMENT_GOAL",MUTUAL_FUND:"MUTUAL_FUND",RECIPES:"RECIPES"},h={allTransactions:"allTransactions",interest:"interest",cc_interest:"cc_interest",pointOfSale:"pointOfSale",anyPurchase:"anyPurchase",billPayment:"billPayment",CCBillPayment:"CCBillPayment",emailMoneyTransfer:"emailMoneyTransfer",emailMoneyPending:"emailMoneyPending",deposit:"deposit",withdrawal:"withdrawal",reversal:"reversal",fee:"fee",cc_fee:"cc_fee",purchase:"purchase",payment:"payment",depositPayment:"depositPayment",cashAdvance:"cashAdvance",balanceTransfer:"balanceTransfer",rewards:"rewards",other:"other",automaticSavingProgram:"automaticSavingProgram",electronicFundTransfer:"electronicFundTransfer",loanPayment:"loanPayment",all_interest:"all_interest",all_purchase:"all_purchase",all_payment:"all_payment",redemption:"redemption",transfer:"transfer"},S=(i={},(0,u.default)(i,E.CREDIT_CARD,[h.allTransactions,h.cc_interest,h.purchase,h.payment,h.cashAdvance,h.balanceTransfer,h.cc_fee,h.rewards]),(0,u.default)(i,E.ALL,[h.allTransactions,h.all_interest,h.all_purchase,h.all_payment,h.emailMoneyTransfer,h.deposit,h.withdrawal,h.cashAdvance,h.balanceTransfer,h.reversal,h.cc_fee,h.rewards]),(0,u.default)(i,E.CHEQUING,[h.allTransactions,h.interest,h.pointOfSale,h.billPayment,h.emailMoneyTransfer,h.deposit,h.withdrawal,h.reversal]),(0,u.default)(i,E.SAVINGS,[h.allTransactions,h.interest,h.deposit,h.withdrawal,h.reversal]),(0,u.default)(i,E.GOALS,[h.allTransactions,h.interest,h.deposit,h.withdrawal,h.reversal]),(0,u.default)(i,E.CREDIT_CARD_GOAL,[h.payment]),(0,u.default)(i,E.RETIREMENT_GOAL,[h.allTransactions,h.interest,h.deposit,h.withdrawal,h.reversal]),(0,u.default)(i,E.LOAN,[h.allTransactions,h.interest,h.depositPayment,h.withdrawal,h.reversal,h.fee,h.anyPurchase]),i),T={tangerineInvestment:"TNG_investmentfunds",csafunds:"CSA_Funds"},p=(0,c.default)(T).map((function(e){return T[e]})),f={last30Days:"last30Days",last60Days:"last60Days",last90Days:"last90Days",last12months:"last12months",currentMonth:"currentMonth",allDates:"allDates"},g=(0,c.default)(f).map((function(e){return f[e]})),A={last30Days:"last30Days",last60Days:"last60Days",last90Days:"last90Days",last12months:"last12months"},v=(0,c.default)(A).map((function(e){return A[e]})),C={range30Days:"range30Days",range60Days:"range60Days",range90Days:"range90Days",range12months:"range12months"},m=(0,c.default)(C).map((function(e){return C[e]})),I={DATE:"DATE",REWARDS_DATE:"REWARDS_DATE",TIMELINE_DATE:"TIMELINE_DATE",CARD:"CARD",TEXT:"TEXT",TYPE:"TYPE",ACCOUNT:"ACCOUNT",CATEGORY:"CATEGORY",RANGE:"RANGE",CSA:"CSA"},O=(a={},(0,u.default)(a,h.allTransactions,null),(0,u.default)(a,h.transfer,"TF"),(0,u.default)(a,h.interest,"IN"),(0,u.default)(a,h.pointOfSale,"PS"),(0,u.default)(a,h.billPayment,"BP"),(0,u.default)(a,h.CCBillPayment,"CC_BP"),(0,u.default)(a,h.emailMoneyTransfer,"EM"),(0,u.default)(a,h.deposit,"DP"),(0,u.default)(a,h.withdrawal,"WD"),(0,u.default)(a,h.reversal,"RV"),(0,u.default)(a,h.fee,"FEE"),(0,u.default)(a,h.emailMoneyPending,"EMP"),(0,u.default)(a,h.automaticSavingProgram,"ASP"),(0,u.default)(a,h.electronicFundTransfer,"EFT"),(0,u.default)(a,h.loanPayment,"LP"),a),N=(s={},(0,u.default)(s,h.allTransactions,null),(0,u.default)(s,h.interest,"INTEREST"),(0,u.default)(s,h.pointOfSale,"POINT_OF_SALE"),(0,u.default)(s,h.anyPurchase,"POINT_OF_SALE"),(0,u.default)(s,h.billPayment,"BILL_PAYMENT"),(0,u.default)(s,h.emailMoneyTransfer,"EMAIL_MONEY_TRANSFER"),(0,u.default)(s,h.deposit,"DEPOSIT"),(0,u.default)(s,h.withdrawal,"WITHDRAWAL"),(0,u.default)(s,h.fee,"FEE"),(0,u.default)(s,h.reversal,"REVERSAL"),(0,u.default)(s,h.cc_interest,"CC_IN"),(0,u.default)(s,h.purchase,"CC_PS"),(0,u.default)(s,h.payment,"CC_BP"),(0,u.default)(s,h.depositPayment,"DEPOSIT"),(0,u.default)(s,h.cashAdvance,"CC_CA"),(0,u.default)(s,h.balanceTransfer,"CC_BT"),(0,u.default)(s,h.cc_fee,"CC_FEE"),(0,u.default)(s,h.rewards,"CC_RE"),(0,u.default)(s,h.other,"CC_OTH"),(0,u.default)(s,h.all_interest,"CC_IN,INTEREST"),(0,u.default)(s,h.all_purchase,"CC_PS,POINT_OF_SALE"),(0,u.default)(s,h.all_payment,"CC_BP,BILL_PAYMENT,DEPOSIT"),s),R={BILL_PAYMENT:"BILL_PAYMENT",ELECTRONIC_FUND_TRANSFER:"ELECTRONIC_FUND_TRANSFER",INTEREST:"INTEREST",DEPOSIT:"DEPOSIT",EMAIL_MONEY_TRANSFER:"EMAIL_MONEY_TRANSFER",WITHDRAWAL:"WITHDRAWAL"},y=(o={},(0,u.default)(o,R.BILL_PAYMENT,"billPayment"),(0,u.default)(o,R.ELECTRONIC_FUND_TRANSFER,"electronicFundTransfer"),(0,u.default)(o,R.INTEREST,"interest"),(0,u.default)(o,R.DEPOSIT,"deposit"),(0,u.default)(o,R.EMAIL_MONEY_TRANSFER,"emailMoneyTransfer"),o),L=(r={},(0,u.default)(r,E.ALL,{pendingTransactionsHeader:{date:"scheduledTransactionDate",transaction:"destination",account:"account",amount:"amount"},postedTransactionsHeader:{date:"date",transactionCC:"transaction",account:"account",amount:"amount"}}),(0,u.default)(r,E.CHEQUING,{pendingTransactionsHeader:{date:"scheduledTransactionDate",transaction:"destination",amount:"amount"},postedTransactionsHeader:{date:"date",transaction:"transaction",amount:"amount",balance:"balance"}}),(0,u.default)(r,E.LOAN,{pendingTransactionsHeader:{date:"date",transaction:"transaction",amount:"amount"},postedTransactionsHeader:{date:"date",transaction:"transaction",amount:"amount",balance:"balance"}}),(0,u.default)(r,E.SAVINGS,{pendingTransactionsHeader:{date:"scheduledTransactionDate",transaction:"destination",amount:"amount"},postedTransactionsHeader:{date:"date",transaction:"transaction",amount:"amount",balance:"balance"}}),(0,u.default)(r,E.GOALS,{pendingTransactionsHeader:{date:"scheduledTransactionDate",transaction:"destination",account:"account",amount:"amount"},postedTransactionsHeader:{date:"date",transaction:"transaction",amount:"amount",balance:"balance"}}),(0,u.default)(r,E.CREDIT_CARD_GOAL,{pendingTransactionsHeader:{date:"date",transactionCC:"transaction",card:"cardNumber",amount:"pendingAmount"},postedTransactionsHeader:{date:"date",transactionCC:"transaction",card:"cardNumber",amount:"amount"}}),(0,u.default)(r,E.RETIREMENT_GOAL,{pendingTransactionsHeader:{date:"scheduledTransactionDate",transaction:"destination",account:"account",amount:"amount"},postedTransactionsHeader:{date:"date",transactionCC:"transaction",account:"account",amount:"amount"}}),(0,u.default)(r,E.BUDGET_LTS,{postedTransactionsHeader:{date:"date",transaction:"transaction",account:"account",amount:"amount"}}),(0,u.default)(r,E.CREDIT_CARD,{pendingTransactionsHeader:{date:"date",transactionCC:"transaction",card:"cardNumber",amount:"pendingAmount"},postedTransactionsHeader:{date:"date",transactionCC:"transaction",card:"cardNumber",amount:"amount"}}),(0,u.default)(r,E.RECATEGORIZATION,{header:{date:"date",transaction:"transaction",account:"account",amount:"amount"}}),(0,u.default)(r,E.REWARDS,{postedTransactionsHeader:{date:"date",transaction:"transaction",account:"cardNumber",amount:"rewardAmount"}}),(0,u.default)(r,E.BILL_HISTORY,{pendingTransactionsHeader:{date:"scheduledNextPayment",transaction:"transaction",amount:"amount"},postedTransactionsHeader:{date:"date",transaction:"transaction",amount:"amount"}}),(0,u.default)(r,E.UNCATEGORIZED_TRANSACTIONS,{postedTransactionsHeader:{date:"date",transaction:"transaction",account:"account",amount:"amount"}}),(0,u.default)(r,E.UNCONFIRMED_TRANSACTIONS,{postedTransactionsHeader:{date:"date",transaction:"transaction",account:"account",amount:"amount"}}),(0,u.default)(r,E.MUTUAL_FUND,{pendingTransactionsHeader:{date:"tradeDate",transaction:"transactionType",amount:"amount"},postedTransactionsHeader:{date:"settlementDate",transactionInvestment:"transactionType",units:"units",unitPrice:"unitPrice",amountSettled:"amount"}}),(0,u.default)(r,E.RECIPES,{pendingTransactionsHeader:{date:"tradeDate",transaction:"transactionType",amount:"amount"},postedTransactionsHeader:{date:"settlementDate",transactionInvestment:"transactionType",units:"units",unitPrice:"unitPrice",amountSettled:"amount"}}),r),M=(l={},(0,u.default)(l,E.CREDIT_CARD,[I.TEXT,I.DATE,I.CARD,I.TYPE]),(0,u.default)(l,E.CHEQUING,[I.TEXT,I.DATE,I.TYPE]),(0,u.default)(l,E.LOAN,[I.TEXT,I.DATE,I.TYPE]),(0,u.default)(l,E.BILL_HISTORY,[I.TEXT,I.DATE]),(0,u.default)(l,E.ALL,[I.TEXT,I.ACCOUNT,I.DATE,I.TYPE]),(0,u.default)(l,E.REWARDS,[I.REWARDS_DATE,I.RANGE]),(0,u.default)(l,E.SAVINGS,[I.TEXT,I.DATE,I.TYPE]),(0,u.default)(l,E.GOALS,[I.TEXT,I.DATE,I.TYPE]),(0,u.default)(l,E.CREDIT_CARD_GOAL,[I.TEXT,I.DATE]),(0,u.default)(l,E.RETIREMENT_GOAL,[I.TEXT,I.ACCOUNT,I.DATE,I.TYPE]),(0,u.default)(l,E.MUTUAL_FUND,[I.TEXT,I.DATE,I.CSA]),l),D=["Scheduled","Prévu"],P=["Pending","En attente"].concat(D);t.default={TRANSACTION_STOP_PADS:{PAD_PREFIX_EAF:"EFT TO ",PAD_PREFIX_VEF:"VEF AU ",PAD_PREFIX_EAF_WITHDRAWAL:"EFT WITHDRAWAL TO ",PAD_PREFIX_VEF_RETRAIT:"VEF RETRAIT - ",PAD_ACTIVE_STATUS:"ACTIVE"},TRANSACTION_TYPE_FILTERS:S,TRANSACTION_TYPE_FILTER_MAP:h,TRANSACTION_CSA_TYPE_FILTER:p,TRANSACTION_CSA_TYPE_FILTER_MAP:T,TRANSACTION_DATE_FILTER:g,TRANSACTION_DATE_FILTER_MAP:f,TRANSACTION_RANGE_DATE_FILTER:v,TRANSACTION_RANGE_DATE_FILTER_MAP:A,REWARDS_RANGE_DATE_FILTER:m,REWARDS_RANGE_DATE_FILTER_MAP:C,TRANSACTION_TYPE_CODE_MAP:y,TRANSACTION_TABLE_HEADER:L,TRANSACTION_CARD_FILTER:["allCardholders"],TRANSACTION_STATUS_CODES:["SUCCESS","CREATED","DUPLICATE_TRANSACTION"],TRANSACTION_TYPE_TO_CODE:O,TRANSACTION_FREQUENCY:{DAILY:"global.datePicker.frequencies.daily",WEEKLY:"global.datePicker.frequencies.weekly",BIWEEKLY:"global.datePicker.frequencies.biWeekly",MONTHLY:"global.datePicker.frequencies.monthly",YEARLY:"global.datePicker.frequencies.yearly"},TRANSACTION_TIME_RESOLUTION:{MONTH:"Month",NONE:"None"},TRANSACTION_FILTER_TYPES:I,TRANSACTION_FILTERS:M,TRANSACTION_VIEWS:E,TRANSACTION_POPUP_STATES:{VIEW:"VIEW",EDIT:"EDIT",STOP_PAD:"STOP_PAD",STOP_PAD_CONFIRM:"STOP_PAD_CONFIRM",RECATEGORIZATION:"RECATEGORIZATION",QUICK_RECATEGORIZATION:"QUICK_RECATEGORIZATION",DELETE_EMT:"DELETE_EMT",SKIP_NEXT_PAYMENT:"SKIP_NEXT_PAYMENT",DELETE_BILL_PAY:"DELETE_BILL_PAY",RECALL_BILL_PAY:"RECALL_BILL_PAY",EDIT_BILL_PAY:"EDIT_BILL_PAY",EDIT_MOVE_MONEY:"EDIT_MOVE_MONEY",DELETE_MOVE_MONEY:"DELETE_MOVE_MONEY",SKIP_MOVE_MONEY:"SKIP_MOVE_MONEY",DELETE_LOAN:"DELETE_LOAN",RESEND_EMT:"RESEND_EMT",EDIT_EMT:"EDIT_EMT",RECLAIM_EMT:"RECLAIM_EMT",LTS_EXCLUDE:"LTS_EXCLUDE"},TRANSACTION_TYPES:R,TRANSACTION_CHART_REQUEST_TYPE:{TOP_LEVEL:"TOP_LEVEL",LOW_LEVEL:"LOW_LEVEL"},SOURCE_OF_TRANSACTIONS:{MENIGA:"MENIGA",NON_MENIGA:"NON_MENIGA"},TRANSACTION_TYPE_TO_MENIGA_ENDPOINT_TYPE:N,TYPE_OF_CATEGORY_TIMELINE_REQUEST:{SINGLE:"SINGLE",AGGREGATED:"AGGREGATED"},TRANSACTION_LIST_EVENTS:{RELAYOUT:"RELAYOUT"},CURRENCY_TYPES:d.default.CURRENCY_TYPES,ACCOUNT_TYPES:d.default.ACCOUNT_TYPES,EMT_PENDING_STATUSES:P,EMT_SCHEDULED_STATUSES:D,TRANSACTION_STATUSES:{AUTHORIZED:"AUTHORIZED",POSTED:"POSTED",DUPLICATE_TRANSACTION:"DUPLICATE_TRANSACTION"},DESCRIPTION_STRINGS:{FROM_USER:"Tangerine Email Money Transfer From: ",FROM_SPLIT:"From: ",FR_FROM_SPLIT:/de ?: /i,TANGERINE:"Tangerine",TANGERINE_EMT:"TANGERINE_EMT",INTERAC_EMT:"INTERAC_EMT"},API:{RESPONSE_CODES:{SUCCESS:"SUCCESS",INVALID_HTTP_SERVER_CODE:"INVALID_HTTP_SERVER_CODE"}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(15),s=(i=a)&&i.__esModule?i:{default:i};var o={1:{id:1,icon:"icon-income",key:"income",parentCategoryId:null,color:"#b8dc19"},2:{id:2,icon:"icon-cheque",key:"payrollorEmploymentIncome",parentCategoryId:1},4:{id:4,icon:"icon-interest",key:"interestCapitalIncome",parentCategoryId:1},5:{id:5,icon:"icon-income-tax-94",key:"taxRefund",parentCategoryId:1},13:{id:13,icon:"icon-home",key:"home",parentCategoryId:null,color:"#26cd8b"},14:{id:14,icon:"icon-shopping-cart",key:"groceries",parentCategoryId:116},16:{id:16,icon:"icon-lightbulb",key:"electricityHeatingUtilities",parentCategoryId:13},17:{id:17,icon:"icon-home-insurance",key:"homeInsurancePremiums",parentCategoryId:307},18:{id:18,icon:"icon-tv",key:"tVPhoneInternet",parentCategoryId:13},20:{id:20,icon:"icon-cleaning",key:"homeCleaning",parentCategoryId:13},21:{id:21,icon:"icon-rent-paid",key:"rentPaid",parentCategoryId:13},23:{id:23,icon:"icon-furniture",key:"furnishingsAppliancesDécor",parentCategoryId:13},24:{id:24,icon:"icon-art",key:"flowersCandlesArtSmallItems",parentCategoryId:64},27:{id:27,icon:"icon-mortgage",key:"mortgage",parentCategoryId:13},28:{id:28,icon:"icon-property-taxes",key:"propertyTaxes",parentCategoryId:13},29:{id:29,icon:"icon-hammer",key:"homeImprovementsRepairs",parentCategoryId:13},32:{id:32,icon:"icon-car",key:"carsTransportation",parentCategoryId:null,color:"#5987be"},33:{id:33,icon:"icon-auto-insurance",key:"autoInsurancePremiums",parentCategoryId:307},35:{id:35,icon:"icon-car",key:"parking",parentCategoryId:32},36:{id:36,icon:"icon-gas",key:"gasFuel",parentCategoryId:32},37:{id:37,icon:"icon-wrench",key:"autoMaintenanceExpenses",parentCategoryId:32},38:{id:38,icon:"icon-auto-loan",key:"autoLoanLeasePayment",parentCategoryId:32},39:{id:39,icon:"icon-bus",key:"taxisPublicTransportation",parentCategoryId:32},40:{id:40,icon:"icon-family",key:"family",parentCategoryId:null,color:"#96c818"},41:{id:41,icon:"icon-baby",key:"childcare",parentCategoryId:40},42:{id:42,icon:"icon-childrens-clothes",key:"children'sClothing",parentCategoryId:40},43:{id:43,icon:"icon-childrens-toys",key:"children'sToys",parentCategoryId:40},46:{id:46,icon:"icon-paddleball",key:"children'sRecreationalActivities",parentCategoryId:40},48:{id:48,icon:"icon-health-and-beauty",key:"healthBeauty",parentCategoryId:null,color:"#89d7e0"},49:{id:49,icon:"icon-pharmacy",key:"drugStoresandPharmacies",parentCategoryId:48},50:{id:50,icon:"icon-health-insurance",key:"lifeHealthInsurancePremiums",parentCategoryId:307},51:{id:51,icon:"icon-bandaid",key:"doctorsHealthcare",parentCategoryId:48},52:{id:52,icon:"icon-sports",key:"sports",parentCategoryId:70},54:{id:54,icon:"icon-loans-taxes-fines",key:"loansTaxesandFines",parentCategoryId:null,color:"#89b0e0"},55:{id:55,icon:"icon-fines",key:"fines",parentCategoryId:54},59:{id:59,icon:"icon-bank-fees",key:"bankFeesServiceFees",parentCategoryId:54},61:{id:61,icon:"icon-media",key:"subscriptionsMedia",parentCategoryId:64},64:{id:64,icon:"icon-shopping",key:"shoppingServices",parentCategoryId:null,color:"#1eabef"},65:{id:65,icon:"icon-clothing",key:"clothingShoes",parentCategoryId:64},66:{id:66,icon:"icon-heart",key:"beautyProducts",parentCategoryId:48},67:{id:67,icon:"icon-scissors",key:"barberHairdressingSalon",parentCategoryId:48},69:{id:69,icon:"icon-iron",key:"dryCleaningClothingRepairs",parentCategoryId:64},70:{id:70,icon:"icon-leisure",key:"leisure",parentCategoryId:null,color:"#ea40b7"},71:{id:71,icon:"icon-fast-food",key:"fastFoodQuickService",parentCategoryId:116},72:{id:72,icon:"icon-spa",key:"spaMassagePersonalCare",parentCategoryId:48},76:{id:76,icon:"icon-membership",key:"memberships",parentCategoryId:70},79:{id:79,icon:"icon-beer",key:"barsPubsNightclubs",parentCategoryId:70},81:{id:81,icon:"icon-martini",key:"alcoholBars",parentCategoryId:116},82:{id:82,icon:"icon-champagne",key:"tobaccoAlcohol",parentCategoryId:64},84:{id:84,icon:"icon-restaurant",key:"restaurants",parentCategoryId:116},86:{id:86,icon:"icon-education",key:"education",parentCategoryId:null,color:"#4374d2"},87:{id:87,icon:"icon-student-loans",key:"studentLoanPayment",parentCategoryId:86},88:{id:88,icon:"icon-graduation",key:"tuitionCourses",parentCategoryId:86},89:{id:89,icon:"icon-papers",key:"schoolBooksMaterialsStationery",parentCategoryId:86},91:{id:91,icon:"icon-gift",key:"gifts",parentCategoryId:64},95:{id:95,icon:"icon-party",key:"partiesCelebrations",parentCategoryId:64},96:{id:96,icon:"icon-plane",key:"vacationTravel",parentCategoryId:null,color:"#fda1b4"},97:{id:97,icon:"icon-train",key:"transportationCarRental",parentCategoryId:96},98:{id:98,icon:"icon-hotel",key:"hotelsAccommodation",parentCategoryId:96},99:{id:99,icon:"icon-surfboard",key:"recreationEntertainmentonVacation",parentCategoryId:96},100:{id:100,icon:"icon-alcoholic-drink",key:"foodLivingExpensesonVacation",parentCategoryId:96},101:{id:101,icon:"icon-savings",key:"investmentsSavings",parentCategoryId:null,color:"#6fe1b4"},102:{id:102,icon:"icon-regular-savings",key:"regularSavings",parentCategoryId:101},104:{id:104,icon:"icon-donations-and-charities",key:"charityDonations",parentCategoryId:null,color:"#bc2e8d"},105:{id:105,icon:"icon-pets",key:"pets",parentCategoryId:40},106:{id:106,icon:"icon-trailer",key:"summerHome/Cottage/Trailer",parentCategoryId:13},828:{id:828,icon:"icon-condo-fees",key:"condoFees",parentCategoryId:13},830:{id:830,icon:"icon-tangerine-rewards",key:"tangerineMoneyBackRewards",parentCategoryId:1},831:{id:831,icon:"icon-uncategorized-expenses",key:"uncategorizedExpenses",parentCategoryId:null,color:"#7b7b7b"},832:{id:832,icon:"icon-regular-savings",key:"goalSavings",parentCategoryId:101},833:{id:833,icon:"icon-regular-savings",key:"recipes",parentCategoryId:101},113:{id:113,icon:"icon-computer",key:"electronicsComputers",parentCategoryId:64},114:{id:114,icon:"icon-jewelry",key:"jewelleryAccessories",parentCategoryId:64},115:{id:115,icon:"icon-toll",key:"tolls",parentCategoryId:32},116:{id:116,icon:"icon-food-and-dining",key:"foodDining",parentCategoryId:null,color:"#c666e7"},117:{id:117,icon:"icon-carwash",key:"carCleaning",parentCategoryId:32},118:{id:118,icon:"icon-rattle",key:"supportPayment",parentCategoryId:40},121:{id:121,icon:"icon-sin",key:"socialInsurance",parentCategoryId:1},124:{id:124,icon:"icon-loan",key:"loanPayments",parentCategoryId:54},129:{id:129,icon:"icon-pacifier",key:"childcareProducts",parentCategoryId:40},131:{id:131,icon:"icon-emergency-savings",key:"emergencyFund",parentCategoryId:101},143:{id:143,icon:"icon-other-pension",key:"otherPension",parentCategoryId:1},145:{id:145,icon:"icon-rental-income",key:"rentalIncome",parentCategoryId:1},199:{id:199,icon:"icon-compass",key:"outdoorActivities",parentCategoryId:70},202:{id:202,icon:"icon-paintbrush",key:"artsCraftsMusic",parentCategoryId:70},210:{id:210,icon:"icon-exclude-from-budget",key:"excludefromBudget",parentCategoryId:null,color:"#9b53cb"},211:{id:211,icon:"icon-credit-card-payment",key:"creditCardPayments",parentCategoryId:210},212:{id:212,icon:"icon-transfers",key:"transfersBetweenownAccounts",parentCategoryId:210},216:{id:216,icon:"icon-cash-withdrawal",key:"aBMOtherCashWithdrawals",parentCategoryId:831},258:{id:258,icon:"icon-dice",key:"lotteriesGambling",parentCategoryId:70},259:{id:259,icon:"icon-glasses",key:"eyeCare",parentCategoryId:48},268:{id:268,icon:"icon-uncategorized-income",key:"uncategorizedIncome",parentCategoryId:1},283:{id:283,icon:"icon-income-tax-89",key:"incomeTaxPaid",parentCategoryId:54},289:{id:289,icon:"icon-headphones",key:"musicandApps",parentCategoryId:64},292:{id:292,icon:"icon-savings-transfers",key:"savingsAccountTransactions",parentCategoryId:210},298:{id:298,icon:"icon-pocket-money",key:"allowancePocketMoneyEtc",parentCategoryId:40},307:{id:307,icon:"icon-insurance",key:"insurance",parentCategoryId:null,color:"#f9a1fd"},315:{id:315,icon:"icon-retirement-savings",key:"retirementSavings",parentCategoryId:101},801:{id:801,icon:"icon-support-income",key:"supportIncome",parentCategoryId:1},802:{id:802,icon:"icon-coffee",key:"coffeeShops",parentCategoryId:116},803:{id:803,icon:"icon-desk-1",key:"homeOffice",parentCategoryId:13},804:{id:804,icon:"icon-dependants",key:"dependants",parentCategoryId:40},805:{id:805,icon:"icon-tooth",key:"dental",parentCategoryId:48},806:{id:806,icon:"icon-bottle",key:"nursingCareFacilities",parentCategoryId:48},807:{id:807,icon:"icon-sports-apparel",key:"sportsApparel",parentCategoryId:64},808:{id:808,icon:"icon-pens",key:"schoolSupplies",parentCategoryId:64},809:{id:809,icon:"icon-entertainment",key:"entertainment",parentCategoryId:70},810:{id:810,icon:"icon-school-bus",key:"fieldtripsMiscellaneousExpenses",parentCategoryId:86},811:{id:811,icon:"icon-alcoholic-drink",key:"travelAgenciesTourOperators",parentCategoryId:96},812:{id:812,icon:"icon-signpost",key:"souvenirsGifts",parentCategoryId:96},813:{id:813,icon:"icon-securities",key:"securities",parentCategoryId:101},814:{id:814,icon:"icon-retirement-savings",key:"rRSPs/RSPs",parentCategoryId:101},815:{id:815,icon:"icon-savings",key:"tFSAs",parentCategoryId:101},816:{id:816,icon:"icon-trust-fund",key:"trustFund",parentCategoryId:101},817:{id:817,icon:"icon-education",key:"rESPs",parentCategoryId:101},818:{id:818,icon:"icon-travel-insurance",key:"travelInsurancePremiums",parentCategoryId:307},819:{id:819,icon:"icon-marine-insurance",key:"marineInsurancePremiums",parentCategoryId:307},820:{id:820,icon:"icon-pet-insurance",key:"petInsurancePremiums",parentCategoryId:307},821:{id:821,icon:"icon-charities",key:"charities",parentCategoryId:104},822:{id:822,icon:"icon-donations",key:"donations",parentCategoryId:104},823:{id:823,icon:"icon-credit-card-other",key:"nonTangerineCreditCardPayments",parentCategoryId:831},824:{id:824,icon:"icon-weights",key:"gymSports",parentCategoryId:48},826:{id:826,icon:"icon-tangerine-loan-payment",key:"tangerineLoanPayments",parentCategoryId:210},827:{id:827,icon:"icon-tangerine-mortgage-payment",key:"tangerineMortgagePayments",parentCategoryId:210},829:{id:829,icon:"icon-interest-charge",key:"interestCharge",parentCategoryId:54},112:{id:112,icon:"icon-question2",key:"uncategorized",parentCategoryId:null,color:"#7b7b7b"}},r={O:{vendor_code:"O",name:"Groceries",code:"GROC",icon:"icon-shopping-cart"},F:{vendor_code:"F",name:"Furniture",code:"FURN",icon:"icon-furniture"},R:{vendor_code:"R",name:"Restaurants",code:"RSTRNT",icon:"icon-food-and-dining"},H:{vendor_code:"H",name:"Hotel",code:"HO",icon:"icon-hotel"},G:{vendor_code:"G",name:"Gas",code:"GAS",icon:"icon-gas"},B:{vendor_code:"B",name:"Bill Payment",code:"BILLP",icon:"icon-recurring-bills"},D:{vendor_code:"D",name:"Drug Store",code:"DRUG",icon:"icon-pharmacy"},I:{vendor_code:"I",name:"Home Improvement",code:"HOIMP",icon:"icon-hammer"},E:{vendor_code:"E",name:"Entertainment",code:"ENTR",icon:"icon-entertainment"},P:{vendor_code:"P",name:"Parking",code:"PARK",icon:"icon-parking"},Z:{vendor_code:"z",name:"Other",code:"OTHER",icon:"icon-other"}},l={36:r.G.code,14:r.O.code,35:r.P.code,99:r.E.code,23:r.F.code,29:r.I.code,49:r.D.code,28:r.B.code,118:r.B.code,98:r.H.code,84:r.R.code,143:r.Z.code},c={},u={};(0,s.default)(o).filter((function(e){return!o[e].parentCategoryId})).forEach((function(e){c[e]=o[e]})),(0,s.default)(o).filter((function(e){return!!o[e].parentCategoryId})).forEach((function(e){u[e]=o[e]})),t.default={ID_TO_CATEGORY:o,REWARDS_CATEGORY:{G:{vendor_code:"G",name:"Gas",code:"GAS",icon:"icon-gas",id:36,color:"#5987be"},O:{vendor_code:"O",name:"Groceries",code:"GROC",icon:"icon-shopping-cart",id:14,color:"#c666e7"},H:{vendor_code:"H",name:"Hotel",code:"HO",icon:"icon-hotel",id:98,color:"#fda1b4"},I:{vendor_code:"I",name:"Home Improvement",code:"HOIMP",icon:"icon-hammer",id:29,color:"#26cd8b"},R:{vendor_code:"R",name:"Restaurants",code:"RSTRNT",icon:"icon-food-and-dining",id:84,color:"#c666e7"},F:{vendor_code:"F",name:"Furniture",code:"FURN",icon:"icon-furniture",id:23,color:"#26cd8b"},D:{vendor_code:"D",name:"Drug Store",code:"DRUG",icon:"icon-pharmacy",id:49,color:"#89d7e0"},P:{vendor_code:"P",name:"Parking",code:"PARK",icon:"icon-parking",id:35,color:"#5987be"},E:{vendor_code:"E",name:"Entertainment",code:"ENTR",icon:"icon-entertainment",id:99,color:"#ea40b7"},B:{vendor_code:"B",name:"Bill Payment",code:"BILLP",icon:"icon-recurring-bills",id:118,color:"#89b0e0"},Z:{vendor_code:"Z",name:"Other",code:"OTHER",icon:"icon-other-pension",id:143,color:"#38629c"}},REWARDS_SELECT_CATEGORIES:r,TOP_LEVEL_ID_TO_CATEGORY:c,LOW_LEVEL_ID_TO_CATEGORY:u,UNCATEGORIZED_CATEGORY_ID:112,UNCATEGORIZED_TRANSACTION_COLOR:"#7b7b7b",FOLDABLE_CATEGORY_LIST_STYLES:{DEFAULT:"DEFAULT",LARGE:"LARGE"},CATEGORY_RANK:{NOT_USEFUL:"NotUseful",PRETTY_USEFUL:"PrettyUseful",VERY_USEFUL:"VeryUseful"},MENIGA_TO_TSYS_CATEGORIES_MAP:l},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(179),s=(i=a)&&i.__esModule?i:{default:i};var o={DEPOSIT_VIEW:"DEPOSIT_VIEW",DEPOSIT_TRANSACT:"DEPOSIT_TRANSACT",DEPOSIT_CATEGORIZE:"DEPOSIT_CATEGORIZE",DEPOSIT_ENROLL:"DEPOSIT_ENROLL",BUSINESS_ENROLL:"BUSINESS_ENROLL",PRE_TFSA_ENROLL:"PRE_TFSA_ENROLL",MUTUALFUND_VIEW:"MUTUALFUND_VIEW",MUTUALFUND_ENROLL:"MUTUALFUND_ENROLL",MUTUALFUND_TRANSACT_BUY:"MUTUALFUND_TRANSACT_BUY",MUTUALFUND_TRANSACT_SELL:"MUTUALFUND_TRANSACT_SELL",LENDING_VIEW:"LENDING_VIEW",LENDING_TRANSACT:"LENDING_TRANSACT",LENDING_ENROLL:"LENDING_ENROLL",CC_VIEW:"CC_VIEW",CC_TRANSACT:"CC_TRANSACT",CC_ENROLL:"CC_ENROLL",BUSINESS_UPDATE_FULL:"BUSINESS_UPDATE_FULL",PERSON_UPDATE_BASIC:"PERSON_UPDATE_BASIC",PERSON_UPDATE_MINIMUM:"PERSON_UPDATE_MINIMUM",PERSON_UPDATE_FULL:"PERSON_UPDATE_FULL",PERSON_UPDATE_PARTIAL:"PERSON_UPDATE_PARTIAL",PERSON_UPDATE_LIMITED:"PERSON_UPDATE_LIMITED",EMT_TRANSACT:"EMT_TRANSACT",BILLPAY_TRANSACT:"BILLPAY_TRANSACT",EDOCS_PREFERENCE_UPDATE:"EDOCS_PREFERENCE_UPDATE",EDOCS_PREFERENCE_DISPLAY:"EDOCS_PREFERENCE_DISPLAY",KYC_ENROLL:"KYC_ENROLL",KYC_PENDING:"KYC_PENDING",BUDGET_OPEN_ACCOUNT:"BUDGET_OPEN_ACCOUNT",BUDGET_SETTINGS:"BUDGET_SETTINGS",BUDGET_CREATE:"BUDGET_CREATE",BUDGET_RETRIEVE:"BUDGET_RETRIEVE",BUDGET_UPDATE:"BUDGET_UPDATE",BUDGET_DELETE:"BUDGET_DELETE",BUDGET_RESET:"BUDGET_RESET",RECIPES_CREATE:"RECIPES_CREATE",RECIPES_RETRIEVE:"RECIPES_RETRIEVE",RECIPES_UPDATE:"RECIPES_UPDATE",RECIPES_DELETE:"RECIPES_DELETE"},r={DISPLAY_CONTACT_US_MENU:"displayContactUsMenu",OPEN_MOVE_MONEY:"openMoveMoney",OPEN_BILL_PAY:"openBillPay",OPEN_ASP:"openAsp",OPEN_RDC:"openRdc",OPEN_ETRANSFER:"openEtransfer",OPEN_EMT:"openEmt",OPEN_DDF:"openDirectDepositForm",LOGOUT:"logout",GO_TO_BLOG:"goToBlog",OPEN_FEEDBACK:"openFeedback",EXIT_NAVIGATION_MENU:"exitNavigationMenu",GO_BACK:"goBack"},l={INTERNAL_LINK:"internalLink",EXTERNAL_LINK:"externalLink",ROUTE:"route",METHOD:"method"},c={ACCOUNTS:"accountSummary",BUDGET_LTS_OVERVIEW:"budgetLtsPage",BILLS:"billPay",INSIGHTS:"insights",TRANSACTIONS:"transactionsPage",RECIPES:"recipes"},u={primary:{default:{items:[{displayName:"global.menu.header.home",type:l.INTERNAL_LINK,action:"/{{locale}}/index.html",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[],activeOn:[],id:"home"},{displayName:"global.menu.header.myTangerine",type:l.ROUTE,action:s.default.ACCOUNT_SUMMARY,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[],activeOn:[c.ACCOUNTS,c.BUDGET_LTS_OVERVIEW,c.INSIGHTS,c.TRANSACTIONS,c.BILLS,c.RECIPES],id:"myTangerine"},{displayName:"global.menu.header.products",type:l.INTERNAL_LINK,action:"/{{locale}}/products",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[],activeOn:[],id:"products"},{displayName:"global.menu.header.waysToBank",type:l.INTERNAL_LINK,action:"/{{locale}}/ways-to-bank/",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[],activeOn:[],id:"waysToBank"},{displayName:"global.menu.header.ourBlog",type:l.METHOD,action:r.GO_TO_BLOG,authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[],activeOn:[],id:"ourBlog"},{displayName:"global.menu.header.aboutUs",type:l.INTERNAL_LINK,action:"/{{locale}}/about-us",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[],activeOn:[],id:"aboutUs"}]}},secondary:{accountSummaryMenu:{availableOn:[s.default.ACCOUNT_SUMMARY,s.default.BUDGET_LTS_OVERVIEW,s.default.ACCOUNT_DETAILS_CHEQUING,s.default.ACCOUNT_DETAILS_CREDIT_CARD,s.default.ACCOUNT_DETAILS_SAVINGS,s.default.ACCOUNT_DETAILS_INVESTMENT,s.default.INSIGHTS,s.default.TRANSACTIONS,s.default.BILL_PAY,s.default.BILL_PAY_HISTORY,s.default.ACCOUNT_DETAILS_MORTGAGE,s.default.ACCOUNT_DETAILS_LOAN,s.default.EXISTING_CLIENT_ONBOARDING,s.default.MOVE_MONEY_MODAL,s.default.SEND_ETRANSFER_MODAL,s.default.EMT_MODAL,s.default.PAY_BILLS_MODAL,s.default.FINANCIAL_PLAN_ARCHETYPES,s.default.RECIPES],items:[{displayName:"global.menu.header.overview",type:l.ROUTE,action:s.default.ACCOUNT_SUMMARY,authRequired:!0,onlyNative:!1,onlyWeb:!1,hideForCapabilities:[],capabilities:[]},{displayName:"global.menu.header.insights",type:l.ROUTE,action:s.default.INSIGHTS,authRequired:!0,onlyNative:!1,onlyWeb:!1,hideForCapabilities:[],capabilities:[]},{displayName:"global.menu.header.transactions",type:l.ROUTE,action:s.default.TRANSACTIONS,authRequired:!0,onlyNative:!1,onlyWeb:!1,hideForCapabilities:[],capabilities:[]},{displayName:"global.menu.header.lts",type:l.ROUTE,action:s.default.BUDGET_LTS_OVERVIEW,authRequired:!0,onlyNative:!1,onlyWeb:!1,hideForCapabilities:[o.BUSINESS_UPDATE_FULL,o.BUSINESS_ENROLL],capabilities:[o.BUDGET_OPEN_ACCOUNT,o.BUDGET_SETTINGS,o.BUDGET_CREATE,o.BUDGET_RETRIEVE,o.BUDGET_UPDATE,o.BUDGET_DELETE,o.BUDGET_RESET]},{displayName:"global.menu.header.goals",type:l.ROUTE,action:s.default.FINANCIAL_PLAN_ARCHETYPES,authRequired:!0,onlyNative:!1,onlyWeb:!1,hideForCapabilities:[o.BUSINESS_UPDATE_FULL,o.BUSINESS_ENROLL],capabilities:[]},{displayName:"global.menu.header.recipes",type:l.ROUTE,action:s.default.RECIPES,authRequired:!0,onlyNative:!1,onlyWeb:!1,hideForCapabilities:[o.BUSINESS_UPDATE_FULL,o.BUSINESS_ENROLL],capabilities:[o.RECIPES_CREATE,o.RECIPES_RETRIEVE,o.RECIPES_UPDATE,o.RECIPES_DELETE]}]},productMenu:{availableOn:["foo","products"],items:[{displayName:"Link 1",type:l.ROUTE,action:"foo",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"Link 2",type:l.ROUTE,action:"bar",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]}]},waysToBankMenu:{availableOn:["moo","cow"],items:[{displayName:"Other Link 1",type:l.ROUTE,action:"moo",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"Other Link 2",type:l.ROUTE,action:"cow",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]}]},loginMenu:{availableOn:[s.default.USER_SETTINGS_GENERAL,s.default.ACCOUNT_DOCUMENTS,s.default.ACCOUNT_DOCUMENTS_INVESTMENTS,s.default.ACCOUNT_DOCUMENTS_OTHER,s.default.ACCOUNT_DOCUMENTS_STATEMENTS,s.default.ACCOUNT_DOCUMENTS_TAX_RECEIPTS,s.default.DEVICES,s.default.DEVICES_SECURITY,s.default.DEVICES_ORANGE_SNAPSHOTS,s.default.FORMS,s.default.FORMS_BANKING,s.default.FORMS_INVESTMENT,s.default.INBOX,s.default.USER_SETTINGS,s.default.USER_SETTINGS_ASP,s.default.USER_SETTINGS_CONTEST_BONUSES,s.default.USER_SETTINGS_EXTERNAL_ACCOUNTS,s.default.USER_SETTINGS_GENERAL,s.default.USER_SETTINGS_ORANGE_ALERTS,s.default.USER_SETTINGS_MONEY_TRANSFER],items:[{displayName:"global.menu.login.profile",type:l.ROUTE,action:s.default.USER_SETTINGS,notifications:!1,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.login.devices",type:l.ROUTE,action:s.default.DEVICES,notifications:!1,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.login.documents",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS,notifications:!1,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.login.inbox",type:l.ROUTE,action:s.default.INBOX,notifications:!0,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.login.forms",type:l.ROUTE,action:s.default.FORMS,notifications:!1,authRequired:!0,capabilities:[]},{displayName:"global.menu.login.logOut",type:l.METHOD,action:r.LOGOUT,notifications:!1,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]}]},abmMenu:{availableOn:[s.default.ABM_LOCATIONS,s.default.ABM_ACCESS],items:[{displayName:"global.menu.header.abmLocations",type:l.ROUTE,action:s.default.ABM_LOCATIONS,authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.header.abmAccess",type:l.ROUTE,action:s.default.ABM_ACCESS,authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]}]}},secondary_action:{default:{items:[{displayName:"global.menu.header.deposit",type:l.METHOD,action:r.OPEN_RDC,icon:"icon-camera",authRequired:!0,onlyNative:!0,onlyWeb:!1,capabilities:[o.DEPOSIT_TRANSACT]},{displayName:"global.menu.header.moveMoney",type:l.METHOD,action:r.OPEN_MOVE_MONEY,icon:"icon-dollar",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[o.DEPOSIT_TRANSACT]},{displayName:"global.menu.header.payBill",type:l.METHOD,action:r.OPEN_BILL_PAY,icon:"icon-check2",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[o.BILLPAY_TRANSACT]},{displayName:"global.menu.header.emailMoney",type:l.METHOD,action:r.OPEN_EMT,icon:"icon-paperplane",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[o.EMT_TRANSACT]}]}},utility:{default:{items:[{displayName:"global.menu.header.products",type:l.INTERNAL_LINK,action:"/{{locale}}/products",icon:"icon-download",authRequired:!1,visitorOnly:!0,onlyNative:!0,onlyWeb:!1,onlyKycComplete:!1,capabilities:[]},{displayName:"global.menu.utility.abmLocator",type:l.ROUTE,action:s.default.ABM_LOCATIONS,icon:"icon-location",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.utility.contactUs",type:l.METHOD,action:r.DISPLAY_CONTACT_US_MENU,icon:"icon-chat",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.utility.rates",type:l.INTERNAL_LINK,action:"/{{locale}}/rates",icon:"icon-star",authRequired:!1,capabilities:[]},{displayName:"global.menu.utility.faq",type:l.INTERNAL_LINK,action:"/{{locale}}/faq",icon:"icon-help",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.utility.appFeedback",type:l.METHOD,action:r.OPEN_FEEDBACK,icon:"icon-loading",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.utility.help",type:l.INTERNAL_LINK,action:"/{{locale}}/faq",icon:"icon-question",authRequired:!1,onlyNative:!1,onlyWeb:!0,capabilities:[]}]}},login:{default:{items:[{displayName:"global.menu.login.profile",type:l.ROUTE,action:s.default.USER_SETTINGS,notifications:!1,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.login.devices",type:l.ROUTE,action:s.default.DEVICES,notifications:!1,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.login.documents",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS,notifications:!1,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.login.forms",type:l.ROUTE,action:s.default.FORMS,notifications:!1,authRequired:!0,capabilities:[]},{displayName:"global.menu.login.logOut",type:l.METHOD,action:r.LOGOUT,notifications:!1,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]}]}},desktop_primary_footer:{default:{items:[{displayName:"global.menu.footer.rates",type:l.INTERNAL_LINK,action:"/{{locale}}/rates",icon:"",showDropDown:!1,authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.footer.faq",type:l.INTERNAL_LINK,action:"/{{locale}}/faq",icon:"",showDropDown:!1,authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[],htmlId:"footer_faq"},{displayName:"global.menu.footer.careers",type:l.INTERNAL_LINK,action:"/{{locale}}/about-us/careers",icon:"",authRequired:!1,showDropDown:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.footer.privacy",type:l.INTERNAL_LINK,action:"/{{locale}}/privacy",icon:"",authRequired:!1,showDropDown:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.footer.legal",type:l.INTERNAL_LINK,action:"/{{locale}}/legal",icon:"",authRequired:!1,showDropDown:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.footer.security",type:l.INTERNAL_LINK,action:"/{{locale}}/security",icon:"",authRequired:!1,showDropDown:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.footer.accessibility",type:l.INTERNAL_LINK,action:"/{{locale}}/accessibility",icon:"",authRequired:!1,showDropDown:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.footer.abmLocator",type:l.ROUTE,action:s.default.ABM_LOCATIONS,icon:"",authRequired:!1,showDropDown:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.footer.contactUs",type:l.METHOD,action:r.DISPLAY_CONTACT_US_MENU,icon:"icon-uparrow",authRequired:!1,showDropDown:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]}]}},mobile_primary_footer:{default:{items:[{displayName:"global.menu.header.overview",type:l.ROUTE,action:s.default.ACCOUNT_SUMMARY,icon:"icon-home-overview",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.header.transactions",type:l.ROUTE,action:s.default.TRANSACTIONS,icon:"icon-transactions",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.header.abmLocations",type:l.ROUTE,action:s.default.ABM_LOCATIONS,icon:"icon-abm-locator-filled",authRequired:!1,onlyNative:!1,onlyWeb:!1,capabilities:[]},{displayName:"global.menu.login.inbox",type:l.ROUTE,action:s.default.INBOX,icon:"icon-inbox-filled",notifications:!0,authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[]}]}},mobile_popup_actions:{default:{items:[{displayName:"global.menu.header.deposit",ariaName:"global.menu.header.depositAria",type:l.METHOD,action:r.OPEN_RDC,icon:"icon-camera",authRequired:!0,onlyNative:!0,onlyWeb:!1,capabilities:[o.DEPOSIT_TRANSACT]},{displayName:"global.menu.header.moveMoney",ariaName:"global.menu.header.moveMoneyAria",type:l.METHOD,action:r.OPEN_MOVE_MONEY,icon:"icon-dollar",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[o.DEPOSIT_TRANSACT]},{displayName:"global.menu.header.payBill",ariaName:"global.menu.header.payBillAria",type:l.METHOD,action:r.OPEN_BILL_PAY,icon:"icon-check2",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[o.BILLPAY_TRANSACT]},{displayName:"global.menu.header.emailMoney",ariaName:"global.menu.header.emailMoneyAria",type:l.METHOD,action:r.OPEN_EMT,icon:"icon-paperplane",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[o.EMT_TRANSACT]},{displayName:"global.menu.header.etransfer",ariaName:"global.menu.header.etransfer",type:l.METHOD,action:r.OPEN_ETRANSFER,icon:"icon-paperplane",authRequired:!0,onlyNative:!1,onlyWeb:!1,capabilities:[o.EMT_TRANSACT]}]}},tertiary:{forms:{availableOn:[s.default.FORMS],items:[{displayName:"forms.menu.banking",type:l.ROUTE,action:s.default.FORMS_BANKING,authRequired:!0,capabilities:[]},{displayName:"forms.menu.investment",type:l.ROUTE,action:s.default.FORMS_INVESTMENT,authRequired:!0,capabilities:[]}]},documents:{availableOn:[s.default.ACCOUNT_DOCUMENTS],items:[{displayName:"accountDocuments.menu.statements",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_STATEMENTS,authRequired:!0,capabilities:[]},{displayName:"accountDocuments.menu.taxReceipts",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_TAX_RECEIPTS,authRequired:!0,capabilities:[]},{displayName:"accountDocuments.menu.investmentReports",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_INVESTMENTS,authRequired:!0,capabilities:[o.MUTUALFUND_VIEW]},{displayName:"accountDocuments.menu.other",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_OTHER,authRequired:!0,capabilities:[]}]}},mobile_navigation:{default:{items:[{displayName:"userSettings.nav.general",type:l.ROUTE,action:s.default.USER_SETTINGS_GENERAL,authRequired:!0,capabilities:[]},{displayName:"userSettings.nav.login_options",type:l.ROUTE,action:s.default.DEVICES_LOGIN_OPTIONS,authRequired:!0,onlyKycComplete:!0,onlyPersonal:!0,capabilities:[]},{displayName:"userSettings.nav.orange_alerts",type:l.ROUTE,action:s.default.USER_SETTINGS_ORANGE_ALERTS,onlyKycComplete:!0,authRequired:!0,capabilities:[]},{displayName:"userSettings.nav.external_accounts",type:l.ROUTE,action:s.default.USER_SETTINGS_EXTERNAL_ACCOUNTS,authRequired:!0,capabilities:[o.PERSON_UPDATE_LIMITED,o.PERSON_UPDATE_FULL,o.BUSINESS_UPDATE_FULL]},{displayName:"userSettings.nav.money_transfer",type:l.ROUTE,action:s.default.USER_SETTINGS_MONEY_TRANSFER,authRequired:!0,onlyKycComplete:!0,capabilities:[]},{displayName:"userSettings.nav.contest_bonuses",type:l.ROUTE,action:s.default.USER_SETTINGS_CONTEST_BONUSES,authRequired:!0,capabilities:[]},{displayName:"userSettings.security.nav.devices",type:l.ROUTE,action:s.default.DEVICES_DEVICE_LIST,authRequired:!0,capabilities:[]},{displayName:"global.menu.login.documents",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_STATEMENTS,authRequired:!0,capabilities:[]},{displayName:"global.menu.login.forms",type:l.ROUTE,action:s.default.FORMS,authRequired:!0,capabilities:[]}]}},mobile_navigation_child:{default:{items:[{displayName:"userSettings.nav.general",type:l.ROUTE,action:s.default.USER_SETTINGS_GENERAL,authRequired:!0,capabilities:[]},{displayName:"userSettings.nav.external_accounts",type:l.ROUTE,action:s.default.USER_SETTINGS_EXTERNAL_ACCOUNTS,authRequired:!0,capabilities:[]},{displayName:"userSettings.nav.automatic_savings_program",type:l.ROUTE,action:s.default.USER_SETTINGS_ASP,authRequired:!0,capabilities:[]},{displayName:"global.menu.login.documents",type:l.ROUTE,action:s.default.MOBILE_NAVIGATION_DOCUMENTS,authRequired:!0,capabilities:[]},{displayName:"global.menu.login.forms",type:l.ROUTE,action:s.default.FORMS,authRequired:!0,capabilities:[]}]}},mobile_navigation_documents:{default:{items:[{displayName:"accountDocuments.menu.statements",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_STATEMENTS,authRequired:!0,capabilities:[]},{displayName:"accountDocuments.menu.taxReceipts",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_TAX_RECEIPTS,authRequired:!0,capabilities:[]},{displayName:"accountDocuments.menu.investmentReports",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_INVESTMENTS,authRequired:!0,capabilities:[o.MUTUALFUND_VIEW]},{displayName:"accountDocuments.menu.other",type:l.ROUTE,action:s.default.ACCOUNT_DOCUMENTS_OTHER,authRequired:!0,capabilities:[]}]}}};t.default={MENU_TYPES:{PRIMARY:"primary",PRIMARY_FOOTER:"desktop_primary_footer",SECONDARY:"secondary",SECONDARY_ACTIONS:"secondary_action",TERTIARY:"tertiary",FOOTER_ACTIONS:"mobile_primary_footer",MOBILE_POPUP_ACTIONS:"mobile_popup_actions",UTILITY:"utility",LOGIN:"login",DOCUMENTS:"documents",MOBILE_NAVIGATION:"mobile_navigation",MOBILE_NAVIGATION_CHILD:"mobile_navigation_child",MOBILE_NAVIGATION_DOCUMENTS:"mobile_navigation_documents",LAPTOP_RESOLUTION:1190},CAPABILITIES:o,ACTION_METHODS:r,LINK_TYPES:l,EVENTS:{SETUP:"setup",RESET_LOGIN:"resetLogin",REDIRECT_AFTER_RESET_PIN:"redirectAfterResetPINSuccess",ON_INBOX_MESSAGE_COUNT_CHANGE:"onInboxMessageCountChange"},ACTIVE_ON_PAGES:c,menuConfig:u,FEES_SAVED:{FEES:"feesSaved"},SUBMENU_ID:{OPENEMT:"submenu_openEmt"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(462);var s={RATES:((i=a)&&i.__esModule?i:{default:i}).default.URLS.RATES,FORMS:"#/forms/banking",BASKET:"#/open-account?products=3201"},o={ONCE:"ONCE",DAILY:"DAILY",WEEKLY:"WEEKLY",BIWEEKLY:"BIWEEKLY",MONTHLY:"MONTHLY",YEARLY:"YEARLY"},r={ONGOING_PURCHASE:"ONGOING_PURCHASE",ONGOING_WITHDRAWAL:"ONGOING_WITHDRAWAL"},l={TECHNICAL_DESCRIPTIONS:{MISSING_OWNERSHIP:"265"},TIME_STATES:{WHEN:{NOW:"NOW",LATER:"LATER",ONGOING:"ONGOING"},FREQUENCY:o,MF_FREQUENCY:{Once:o.ONCE,Daily:o.DAILY,Weekly:o.WEEKLY,Biweekly:o.BIWEEKLY,Monthly:o.MONTHLY,Yearly:o.YEARLY,Quarterly:o.QUARTERLY,"Une fois":o.ONCE,Quotidienne:o.DAILY,Hebdomadaire:o.WEEKLY,"Aux deux semaines":o.BIWEEKLY,Mensuelle:o.MONTHLY,Annuellement:o.YEARLY,Trimestriel:o.QUARTERLY}},RSP_AMOUNT_TYPES:{GROSS:"GROSS",NET:"NET"},PAYMENT_INDICATOR:{MINIMUM_PAYMENT:"M",FULL_BALANCE:"F"},AMOUNT_TYPE:{EMPTY_SCO_TRANS:"4"},RECURRING_CC_BUTTONS:{FULL:{header:"moveMoney.recurringCCButtons.full",subHeader:"moveMoney.recurringCCButtons.fullDescription"},MINIMUM:{header:"moveMoney.recurringCCButtons.minimum",subHeader:"moveMoney.recurringCCButtons.minimumDescription"}},MODAL_TYPES:{DEFAULT:"default",CCFULLPAY:"creditCardPayFull",EDIT:"edit",INVESTMENTS_BUY:"investmentsBuy",INVESTMENTS_SELL:"investmentsSell",INVESTMENTS_WITHDRAWAL:"investmentsWithdrawal",CC_MAKE_PAYMENT:"ccMakePayment",LOAN_MAKE_PAYMENT:"loanMakePayment",RSP_RIF_SAVING_WITHDRAWAL:"rspRifSavingWithdrawal",CC_ONGOING:"creditCardOngoing",CHEQUING_CC:"chequingCreditCard"},TRANSFER_TYPE:{OVERDRAFT_FULL_PAYMENT:"OVERDRAFT_FULL_PAYMENT",CLOSE_ACCOUNT:"CLOSE_ACCOUNT"},URLS:s,ERROR_MESSAGES:{MINAMT:"global.errorCodes.MFVM12",NON_BUSINESS_START_DATE:"global.errorCodes.225",MISSING_OWNERSHIP:"global.errorCodes.265"},ACTION_CODES:{MOVE_MONEY:"MOVE_MONEY",MOVE_MONEY_TO_ACCOUNTS:"MOVE_MONEY_TO_ACCOUNTS",OPEN_ACCOUNT:"OPEN_ACCOUNT",EMAIL_TRANSFER:"EMAIL_TRANSFER",BILL_PAYMENT:"BILL_PAYMENT",PENDING_ACCOUNTS:"PENDING_ACCOUNTS",MF_FUND_ACCOUNTS:"MF_FUND_ACCOUNTS",MF_FROM_CASH_ACCOUNTS:"MF_FROM_CASH_ACCOUNTS",MF_TO_CASH_ACCOUNTS:"MF_TO_CASH_ACCOUNTS",MF_FROM_ASP_ACCOUNTS:"MF_FROM_ASP_ACCOUNTS",REMOTE_DEPOSIT_CHEQUE:"REMOTE_DEPOSIT_CHEQUE",RSP_WITHDRAW:"RSP_WITHDRAW",OVERDRAFT_PAYMENT:"OVERDRAFT_PAYMENT",CLOSE_ACCOUNT:"CLOSE_ACCOUNT",RIF_PAYMENT_ACCOUNTS:"RIF_PAYMENT_ACCOUNTS",DONATIONS_FROM_ACCOUNTS:"DONATIONS_FROM_ACCOUNTS",DIRECT_DEPOSIT_ACCOUNTS:"DIRECT_DEPOSIT_ACCOUNTS",ASP_ACCOUNTS:"ASP_ACCOUNTS",EXTERNAL_ACCOUNTS:"EXTERNAL_ACCOUNTS"},TRANSACTION_CODE:{LINE_OF_CREDIT_REQUEST:"RPOO",FULL_RSP_LOAN_PAYMENT:"LPO",FULL_TERM_LOAN_PAYMENT:"LPO"},CREDIT_PAYMENT_OPTION:{FULL:"1",INITIAL:"0"},STATUS_CODES:{ACC_TRANSACTION_MINAMT:"ACC_TRANSACTION_MINAMT",DUPTRAN:"DUPTRAN",DUPLICATE_TRANSACTION:"DUPLICATE_TRANSACTION",VALIDATION_ERROR:"VALIDATION_ERROR",AVLBAL:"AVLBAL-PO",NON_BUSINESS_START_DATE:"MF_TRADE_INVALID_START_DATE_NON_BUSINESS",RESTRICTION:"RESTRICT",CARD_PAUSED:"CARD_PAUSED",TSYS_GENERIC_ERROR:"TSYS_GENERIC_ERROR"},DETAIL_CODES:{MESSAGE_33944:"MESSAGE_33944",START_DATE_IN_THE_PAST:"START_DATE_IN_THE_PAST",INVALID:"INVALID"},MUTUAL_FUND_TRANSACTION_TYPES:r,MUTUAL_FUND_TRANSACTION_LOCALIZED_TYPES:{"Ongoing Purchase":r.ONGOING_PURCHASE,"Achat périodique":r.ONGOING_PURCHASE,"Ongoing Withdrawal":r.ONGOING_WITHDRAWAL,"Retrait périodique":r.ONGOING_WITHDRAWAL},AVAILABLE_ACTIONS:{EDIT:"EDIT",CANCEL:"CANCEL"},MF_PENDING_SETTLEMENT_KEYS:["Pending","En cours"],SELL_FUNDS_OPTION:{CUSTOM:0,FULL_BALANCE:1},ACCOUNT_DESCRIPTIONS:{CSA:"Tangerine Children's Savings Account"},BUY_FUNDS_DATE_RESTRICTIONS:{MIN:2},BORROWED_MONEY_FROM:{LINE_OF_CREDIT:"LOC",CREDIT_CARD:"CC",MORTGAGE_TERM_LOAN:"MORTGAGE_TERM",RRSP_LOAN:"RRSP",BORROWED_FROM_FAMILY_FRIENDS:"BORROWED_FROM_FAMILY_FRIENDS"}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CMD_REQUEST_PERMISSION:"cmdRequestPermission",CMD_REQUEST_PERMISSION_LOCATION:"cmdRequestPermissionLocation",NATIVE_ANALYTICS:"nativeAnalytics",IS_CAFE_APP:"IS_CAFE_APP",BLACKBOX:"obtainBlackBox",CHECK_CAMERA_RESTRICTION:"cmdCheckCameraRestricted",CAMERA_PROMPT_SETTINGS:"cmdPromptForCameraSettings",OPEN_CHEQUE:"openChequePage",OPEN_CHEQUE_MANUAL_MODE:"1",OPEN_CHEQUE_AUTOMATIC_MODE:"0",OPEN_CHEQUE_PHOTO_TYPE_FRONT:"front",OPEN_CHEQUE_PHOTO_TYPE_BACK:"back",OPEN_PDF:"cmdOpenPDF",OPEN_PDF_URL:"cmdOpenPDFURL",CMD_CLEAR_APP_DATA:"cmdClearAppData",CMD_RELOAD_WEB_VIEW:"cmdReloadWebView",CMD_CLOSE_APP:"cmdCloseApp",CMD_GET_LOCALE:"cmdGetLocale",CMD_WEBVIEW_EVENT:"cmdWebViewEvent",CMD_UPDATE_BADGE:"cmdUpdateBadge",CMD_OPEN_URL:"cmdOpenURL",CMD_LOG_ERROR:"cmdLogError",CMD_SECURE_APP:"cmdSecureApp",TOUCH_ID:"touchId",FINGERPRINT_ID_SIGN_UP:"fingerprintIdSignUp",FINGERPRINT_ID_LOGIN:"fingerprintIdLogin",CMD_TURN_ON_LOCATION_SERVICE:"cmdTurnOnLocationService",CMD_AUTHENTICATE_WITH_AUTH_TYPE:"cmdAuthenticateWithAuthType",CMD_IS_FACE_ID_AVAILABLE:"cmdIsFaceIDAvailable",CMD_GET_PASSES_PENDING:"getPassesPending",CMD_ACTIVATE_CARD:"activatePaymentPass",CMD_WALLET_PASSES:"walletPasses",CMD_ADD_PAYMENT_PASS:"addPaymentPass",CMD_ADD_PAYMENT_PASS_GENERATE_REQUEST:"addPaymentPassGenerateRequest",CMD_ADD_PAYMENT_PASS_REQUEST:"addPaymentPassRequest",CMD_USER_LOGOUT:"userLogOut",CMD_HYBRID_LOADED:"hybridLoaded",CMD_APP_REVIEW:"cmdAppReview",CMD_RDC_STATS:"cmdRdcStats",DEFAULT_VALUES:"cmdDefaultValues",CMD_CHECK_TRUSTED_CERTIFICATE:"cmdCheckTrustedCertificate",CERT_CHECK_THRESHOLD:20,errors:{IN_PROG:"IN_PROGRESS",NOT_SUPPORTED:"NOT_SUPPORTED",MOBILE_PAY_ERROR:"mobilePayError"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={INTENDED_USE_CODES:{MORT_WEB:"MORT_WEB",LOAN:"LOAN",DEBT_CONSOLIDATION:"DCNSL"},TYPES:{INTENDED_USE_ACCOUNT:"int_use_acct",TPI_INDIVIDUAL_RELATIONSHIPS:"tpi_ind_rel",TPI_INDIVIDUAL_INDUSTRIES:"tpi_ind_occ",TPI_BUSINESS_RELATIONSHIPS:"tpi_bus_rel",TPI_BUSINESS_TYPES:"tpi_bus_type",TPI_BUSINESS_INDUSTRIES:"bus_ind_occ",TPI_INCORPORATION_PLACES:"tpi_inc_place",PROVINCES:"prov",STATES:"state",COUNTRIES:"co",RELATIONSHIP_STATUS:"rel_status",BENEFICIARY_RELATIONSHIP_STATUS:"benef_rel",EMPLOYMENT_STATUSES:"emp",INDUSTRY_OCCUPATIONS:"ind_occ",EMPLOYMENT_OCCUPATION:"occ",BANK_INFO:"bank_info",TAX_RECEIPT_AVAILABLE_DATES:"tax_receipt_available_dates",FINANCIAL_INSTITUTIONS:"financial_institutions",CAFE_LOCATIONS:"cafe_location",CC_REWARD_CATS:"cc_reward_cats",TIN_REASON:"tin_reasons",US_REASONABILITY:"us_person_sev",CRS_PERSON_STATUS:"crs_person_status",US_PERSON_STATUS:"us_person_status",MORTGAGE_PREPAYMENT_MIN:"mortgage_prepayment_minimums",ASSETS:"assets",LIABILITIES:"liabilities",INCOME:"income",INCOME_MORTGAGE:"mortgage_income",INCOME_FREQUENCY:"income_frequency",MARITAL_STATUS:"marital_status",ADDRESS_STATUS:"address_status",CDIC_ELIGIBLE_PRODUCTS:"cdic_eligible_products"},MARITAL_STATUS_CODES:{DIVORCED:"D",MARRIED:"M",COMMON_LAW:"CL",SINGLE:"S",SEPARATED:"SP",WIDOW:"W",UNKNOWN:"X"},MARITAL_STATUS_CODES_SORT_ORDER:{S:1,M:2,CL:3,X:4},PRODUCT_TYPE_SORT_ORDER:{RSP:1,TFSA:2,RIF:3},BENEFICIARY_RELATIONSHIP_STATUS_SORT_ORDER:{SP:1,CL:2,D:3,S:4,P:5,SB:6,EST:7,OTH:8,NR:9}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TYPES:{ALL:"ALL",OVERDRAFT:"OVERDRAFT",CHEQUE_ORDER:"CHEQUE_ORDER",DRAFT:"DRAFT",INTERAC_EMT:"INTERAC_EMT"},NAMES:{STANDARD:"Standard"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={OUTCOME_STATUSES:{TRANSUNION_DOWN:"TUDWN",WAITING:"WFJNT",DECLINED:"DEC",APPROVED:"APP",REVIEW:"REVW"},INVITATION_RESPONSES:{ACCEPTED:"ACCEPTED",REJECTED:"REJECTED"},MIN_PROTECTION_VALUE:250,MAX_AMOUNT:9999999.99},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CHANNELS:{MAIL:"MAIL",EMAIL:"EMAIL",FAX:"FAX"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TRANSACTION_TYPE:{BUY:"BUY",SELL:"SELL",RSPWITHDRAWAL:"RSPWITHDRAWAL",REDEMPTION:"Redemption",PURCHASE:"Purchase"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CARDS_API_ACTIONS:{ACTIVATE:"ACTIVATE",RESET_PIN:"RESET_PIN",UPDATE_PIN:"UPDATE_PIN",UNBLOCK_PIN:"UNBLOCK_PIN",UPDATE_STATUS:"UPDATE_STATUS",UPDATE_EMPLOYMENT:"UPDATE_EMPLOYMENT"},UPDATE_CC_STATUS_TYPE:{SUSPEND:"SUSPEND",REACTIVATE:"REACTIVATE"},ERRORS:{INVALID_ACCOUNT_API_RESPONSE:"INVALID_ACCOUNT_API_RESPONSE",INVALID_SAVE_CALL:"INVALID_SAVE_CALL",INVALID_CARDS_API_RESPONSE:"INVALID_CARDS_API_RESPONSE"},ASSIGNABLE_ACCOUNT_TYPES:{CHEQUING:"chequing",SAVINGS:"savings",OTHER:"other"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={WHEN:{NOW:"NOW",LATER:"LATER",ONGOING:"ONGOING"},FREQUENCY:{ONCE:"ONCE",DAILY:"DAILY",WEEKLY:"WEEKLY",BIWEEKLY:"BIWEEKLY",MONTHLY:"MONTHLY"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={MODAL_TYPES:{SHARED_KEY:"SHARED_KEY",REVIEW:"REVIEW"},SHARE_KEY:{FACEBOOK:{PICTURE:"https://www.tangerine.ca/images/secure-site-raf-menu-key.png",CAPTION:"https://www.tangerine.ca"}}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TYPES:{RAF_BONUS_INFO:"RAF_BONUS_INFO",RAF_EMAIL:"RAF_EMAIL"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={COLOR_WARNING:"#fc123e",COLOR_GREY:"#d8d8d8",COLOR_DUSTY_ORANGE:"#f58426",COLOR_WHITE:"#fff",COLOR_WHITE_TWO:"#d8d8d8",COLOR_LIGHT_ORANGE:"#f6b177",COLOR_GRAY_LIGHT:"#c1c1c2"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={DATE_MANIPULATION:{DAY:"day",DAYS:"days",WEEKS:"weeks",MONTHS:"months",YEAR:"year",YEARS:"years"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CALL_SOURCES:{FBE_LOGIN_WEB:"4",FBE_ENROLL_WEB:"5",FBE_LOGIN_MOBILE:"6",FBE_ENROLL_MOBILE:"7"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(179),s=(i=a)&&i.__esModule?i:{default:i};var o={BASKET_PAGE:s.default.EXISTING_CLIENT_ONBOARDING,ACCOUNT_OVERVIEW:s.default.ACCOUNT_SUMMARY,ACCOUNT_OVERVIEW_LOCKED:"accountSummaryLocked",PENDING_APPLICATIONS:"pendingApplicationsModal",EMT_RECLAIM_MONEY:"emtReclaimMoney",BENEFICIARIES:"beneficiariesModal"};t.default={OUTFLOW_STATES:o},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={DELIVER_ALERT_GROUP:{EMAIL:"EMAIL",DEVICES:"DEVICES",ALT_EMAIL:"ALT_EMAIL"},DELIVER_ALERT_CHANNEL:{EMLP:"EMLP",EMLA:"EMLA",FACEBOOK:"FACEBOOK",TWITTER:"TWITTER",BEAM:"BEAM",APPLE:"APPLE",IPAD:"IPAD",ANDROID:"ANDROID",ANDROIDTAB:"ANDROIDTAB",WINDOWS:"WINDOWS",BLACKBERRY:"BLACKBERRY",SMS:"SMS",MSGB:"MSGB",MPTF:"MPTF",FAX:"FAX"},ALERT_CATEGORY:{CREDITCARD:"CREDITCARD",DEPOSIT:"DEPOSIT"},ACCOUNT_AND_CACHE_CATEGORY:{BALANCE_UNDER:"BALANCE_UNDER",BALANCE_OVER:"BALANCE_OVER",DEPOSIT_OVER:"DEPOSIT_OVER",WITHDRAWAL_OVER:"WITHDRAWAL_OVER",FOR_SELECTED_ACCOUNTS:"FOR_SELECTED_ACCOUNTS",FOR_ALL_ACCOUNTS:"FOR_ALL_ACCOUNTS"},DEPOSIT_ALERTS:{DIRECT_DEPOSIT:"DIRECT_DEPOSIT"},GENERAL_ALERTS:{SNAPSHOT_ENABLED:"snapshot_enabled",ESTMT:"ESTMT"},LTS_ALERTS:{LTS:"LTS",BUDGET_ENABLED:"BUDGET_ENABLED",HAS_ACTIVE_BUDGET:"HAS_ACTIVE_BUDGET"},DEBIT_CARD_ALERTS:{DEBIT_TRANSACTION_OVER:"DEBIT_TRANSACTION_OVER",DEBIT_PAYMENT_FAILED:"DEBIT_PAYMENT_FAILED",DEBIT_PAYMENT:"DEBIT_PAYMENT",DIRECT_DEPOSIT:"DIRECT_DEPOSIT"},API_CALL_RESPONSES:{INVALID:"INVALID",SUCCESS:"SUCCESS"},TLOC_ALERTS:{TLOC_WITHDRAWAL_OVER:"TLOC_WITHDRAWAL_OVER",TLOC_PAYMENT_RECEIVED:"TLOC_PAYMENT_RECEIVED",TLOC_PAYMENT_DUE:"TLOC_PAYMENT_DUE"},VALIDATION_LEVEL:{COMPONENT:"component",MODAL:"modal"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={AVAILABLE_SERVICES:{ACCOUNT_STATEMENT:"accountStatement",INVESTMENT_REPORT:"investmentReport",OTHER_DOCUMENT:"otherDocument",TAX_RECEIPT:"taxReceipt",VIEW_CHEQUE:"viewCheque",MAGIC_SWITCH_VIEW_FORM:"magicSwitchViewForm",BENEFICIARY_FORM:"beneficiaryForm",TRADE_CONFIRMATION:"tradeConfirmation",ACCOUNT_VOID_CHEQUE:"accountVoidCheque",GET_SUMMARY:"getSummary"},SERVICE_CONFIG:{defaults:{timeout:1e4,mockBaseURL:"/assets/res/mock/documents"},accountStatement:{method:"GET",HTTP:{url:"/web/docs/rest/v1/customers/my/documents/statements/{{id}}?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/statements/id"},MOCK:{url:"/account_statement.json"}},investmentReport:{method:"GET",HTTP:{url:"/web/docs/rest/v1/customers/my/documents/investment-reports/{{id}}?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/investment-reports/id"},MOCK:{url:"/investment_report.json"}},otherDocument:{method:"GET",HTTP:{url:"/web/docs/rest/v1/customers/my/documents/other-documents/{{id}}?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/other-documents/id"},MOCK:{url:"/other_document.json"}},taxReceipt:{method:"GET",HTTP:{url:"/web/docs/rest/v1/customers/my/documents/tax-receipts/{{key}}?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/tax-receipts/key"},MOCK:{url:"/tax_receipt.json"}},beneficiaryForm:{method:"POST",HTTP:{url:"/web/docs/rest/v1/customers/my/beneficiaries"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/beneficiaries"},MOCK:{url:"/beneficiary_form.json"}},viewCheque:{method:"GET",HTTP:{url:"/web/docs/rest/v1/accounts/{{accountHash}}/documents/cheque-images/{{id}}?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/documents/cheque-images/id"},MOCK:{url:""}},accountVoidCheque:{method:"GET",HTTP:{url:"/web/docs/rest/v1/accounts/{{accountHash}}/void-cheque?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/void-cheque"},MOCK:{url:"/account_void_cheque.json"}},magicSwitchViewForm:{method:"GET",HTTP:{url:"/web/docs/rest/v1/customers/my/applications/magic-switch/{{id}}/documents?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/applications/magic-switch/id/documents"},MOCK:{url:"/magic_switch_view_form.json"}},getSummary:{method:"GET",HTTP:{url:"/web/docs/rest/v1/accounts/{{accountHash}}/summary?{{queryString}}"},WL:{adapter:"AccountsAdapterFBE",path:"v1/accounts/id/summary"},MOCK:{url:"/account_summary.json"}},tradeConfirmation:{method:"GET",HTTP:{url:"/web/docs/rest/v1/customers/my/documents/trade-confirmations/{{id}}?{{queryString}}"},WL:{adapter:"CustomersAdapterFBE",path:"v1/customers/my/documents/trade-confirmations/id"},MOCK:{url:"/account_statements.json"}}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n(33),o=(i=s)&&i.__esModule?i:{default:i},r=n(464);var l=(a={},(0,o.default)(a,r.AVAILABLE_MODALS.PENDING_APPLICATIONS,["onboardingBundle"]),(0,o.default)(a,r.AVAILABLE_MODALS.CSA_CONVERSION,["onboardingBundle"]),(0,o.default)(a,r.AVAILABLE_MODALS.PAY_BILL,["billsBundle"]),(0,o.default)(a,r.AVAILABLE_MODALS.PAY_BILL_V2,["accountDetailsBundle"]),(0,o.default)(a,r.AVAILABLE_MODALS.RDC,["rdcBundle","appReviewBundle"]),(0,o.default)(a,r.AVAILABLE_MODALS.E_NOTIFICATION,["eNotificationBundle"]),(0,o.default)(a,r.AVAILABLE_MODALS.GOALS,["goalsBundle","financialPlanBundle"]),(0,o.default)(a,r.AVAILABLE_MODALS.ACCOUNT_AGGREGATION,["accountAggregationBundle"]),a);t.default={MODAL_BUNDLE_DEPENDENCY:l,AVAILABLE_BUNDLES:{ACCOUNT_DETAILS:"accountDetailsBundle",MOBILE_TERMS_CONDITIONS_OFFERS:"mobileTermsConditionsOffersBundle",CONTACT_US:"contactUsBundle",AML:"amlBundle"},ROUTING_BUNDLE_WITH_INDICATOR:["onboardingBundle"]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={WHEN:{NOW:"NOW",LATER:"LATER",ONGOING:"ONGOING",ONE_TIME:"LATER",REOCCURRING:"ONGOING",WHEN_TILES:[{header:"global.commonWords.now",when:"NOW"},{header:"global.commonWords.later",subHeader:"billPay.singleBP.scheduleDate",when:"LATER"},{header:"global.commonWords.ongoing",subHeader:"billPay.singleBP.autoPay",when:"ONGOING"}],WHEN_A_TILES:[{header:"global.commonWords.now",when:"NOW"},{header:"global.commonWords.later",subHeader:"billPay.singleBP.scheduleDate",when:"LATER"}],SCHEDULE_TILES:[{header:"billPay.scheduleBill.oneTimePayment",subHeader:"billPay.scheduleBill.oneTimeSubTitle",when:"LATER"},{header:"billPay.scheduleBill.recurringPayment",subHeader:"billPay.scheduleBill.recurringSubTitle",when:"ONGOING"}]},FREQUENCY:{NONE:"NONE",ONCE:"ONCE",WEEKLY:"WEEKLY",BIWEEKLY:"BIWEEKLY",MONTHLY:"MONTHLY"},MOMENT_FORMAT:"YYYY-MM-DD",WHEN_TILES:[{header:"global.commonWords.now",when:"NOW"},{header:"global.commonWords.later",subHeader:"billPay.singleBP.scheduleDate",when:"LATER"},{header:"global.commonWords.ongoing",subHeader:"billPay.singleBP.autoPay",when:"ONGOING"}],NEXT_STEPS_TILES:{SETUP_PAYMENT:{header:"billPay.billPayV2.addBillerDonePage.setupPaymentOptions"},ADD_ANOTHER_PAYEE:{header:"billPay.billPayV2.addBillerDonePage.addAnotherPayee"}},MODAL_TYPE:{SCHEDULE:"SCHEDULE",EDIT:"EDIT",PAY:"PAY"},PAYMENT_TYPE:{MANUAL:"MANUAL",AUTO:"AUTO"},SETUP_PAYMENT:{NOW:"NOW",LATER:"LATER",ONGOING:"ONGOING"},RECURRING_CC_BUTTONS:{MINIMUM:{header:"billPay.singleBPCC.recurringCCButtons.minimum",subHeader:"billPay.singleBPCC.recurringCCButtons.minimumDescription",helpBubble:"billPay.singleBPCC.recurringCCButtons.minTooltipDesc"},FULL:{header:"billPay.singleBPCC.recurringCCButtons.full",subHeader:"billPay.singleBPCC.recurringCCButtons.fullDescription",helpBubble:"billPay.singleBPCC.recurringCCButtons.fullTooltipDesc"}},PAYMENT_INDICATOR:{MINIMUM_PAYMENT:"M",FULL_BALANCE:"F"},CC_VALUE:{ID:"60557"},CC_PAYMENT_OPTIONS:{CUSTOM:0,LAST_STATEMENT_BALANCE:1,MINUMUM_PAYMENT:2,CURRENT_BALANCE:3},SETUP_PAYMENT_TYPES:{NOW:{header:"billPay.addBill.now"},LATER:{header:"billPay.addBill.later"}},PAYMENT_TYPES:{MANUAL:{header:"billPay.addBill.manually",subHeader:"billPay.addBill.bestChoice"},AUTO:{header:"billPay.addBill.automatically",subHeader:"billPay.addBill.weCanPay"}},BILL_HISTORY_FILTER:{BP:"BP",CC_BP:"CC_BP"},PAYMENT_LIMITS:{MIN:.01,MAX:25e3},ERROR_CODES:{AVLBAL:"AVLBAL",AVLBALHLD:"AVLBALHLD",BP_AMOUNT_NOT_GREATER_THAN_ZERO:"BP_AMOUNT_NOT_GREATER_THAN_ZERO",BP_LIMIT_VIOLATION_DAILY:"BP_LIMIT_VIOLATION_DAILY",BP_LIMIT_VIOLATION_SINGLE_PAYMENT:"BP_LIMIT_VIOLATION_SINGLE_PAYMENT",BP_LIMITS_VIOLATION:"BP_LIMITS_VIOLATION",BP_RESTRICT:"BP_RESTRICT",BP_SYSTEM_ERROR:"BP_SYSTEM_ERROR",BP_TELUS_SERVICE_DOWN:"BP_TELUS_SERVICE_DOWN",DUPLICATE_TRANSACTION:"DUPLICATE_TRANSACTION",DUPTRAN:"DUPTRAN",DUPBPMT:"DUPBPMT",MM_OVER_PAYMENT:"MM_OVER_PAYMENT",REMOVEOLDCREDITCARD:"REMOVEOLDCREDITCARD"},EVENTS:{REFRESH_PAYEES:"REFRESH_PAYEES",ADD_PAYEE_DONE:"ADD_PAYEE_DONE",EDIT_PAYMENT_EXIT:"EDIT_PAYMENT_EXIT",EDIT_PAYMENT_DONE:"EDIT_PAYMENT_DONE"},DATE_SELECTOR_HEADERS:{SELECT_DATE:"billPay.selectDate",CHOOSE_START_END_DATE:"billPay.addBill.chooseStartEndDate"},WARNINGS:{REMINDER_REMOVEOLDCREDITCARD:"REMINDER_REMOVEOLDCREDITCARD"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={MODAL_TYPES:{TLOC:"TLOC"},OFFER_TYPES:{TLOCPREAP:"TLOCPREAP"},PRODUCT_CODES:{TLOC:"TLOC"},ADJUST_LIMIT_THRESHOLD:1e4,OFFER_RESOLUTION:{ACCEPTED:"ACCEPTED",CLOSE:"CLOSE",EVALCLOSING:"EVALCLOSING"},OFFER_STATUS:{ACTIVE:"ACTIV",CLOSE:"CLOSE"},TLOC_APP_STATUS:{PENA:"PENA",APP:"APP",DEC:"DEC",ERR:"ERR",REVW:"REVW"},TLOC_DEC_ROOT_CAUSE:{CB:"CB",EMP:"EMP",SCOREADVENTAGESMISSING:"SCOREADVENTAGESMISSING",DELINQUENT:"DELINQUENT",CITADEL:"CITADEL"},TLOC_MANUAL_REVIEW_REASON:{VERIFY_EMPLOYMENT:"VERIFY_EMPLOYMENT",VERIFY_SELF_EMPLOYMENT:"VERIFY_SELF_EMPLOYMENT"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ELIGIBLE:"EL",NOT_ELIGIBLE:"NEL",INFO:"INF"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={FONT_TIPE:"ProximaNova",FONT_SIZE:"14px",FONT_WIDTH:"bold",GRAY_DARK_COLOR:"#333333",GRAY_COLOR:"#888888",GRAY_LIGHT_COLOR:"#bbbbbb",GRAY_LIGHT_FILLER:"rgba(187,187,187,0.5)",ORANGE_COLOR:"#f58426",ORANGE_FILLER:"rgba(245,132,38,0.5)",LINE_WIDTH:2,ARC_RADIUS:7,FULL_ANGLE:2*Math.PI,GRAPH_MODAL_WIDTH:710,PADDING_ADJUSTMENT:60,MODAL_TRIGGER_SIZE:980,PHONE_TIRIGGER_SIZE:640,GRAPH_TOP_PADDING:40,GRAPH_HEIGHT:120,GRAPH_BOTTOM_PADDING:100,GRAPH_LEFT_PADDING:90,GRAPH_RIGHT_PADDING:10,GRAPH_Y_AXIS_TEXT:80,SLIDER_WIDTH:140,CURSOR_WIDTH:50,CURSOR_HEIGHT:30,CURSOR_SLIDING_CORRECTION:25,MIN_RETIREMENT_AGE:55,MAX_RETIREMENT_AGE:72,RETIREMENT_AGE:65,RETIREMENT_END_AGE:90,YEARS_IN_RETIREMENT:25,MAX_AGE:110,MAJORITY_AGE:18,INTEREST_RATE:4.5,INFLATION_RATE:2,GROSS_INCOME_PERCENTAGE:.7,ADDITIONAL_MONTHLY_INCOME:1200,TRANSFORMATION_INTERVAL:2e3};t.default={GOAL_ARCHETYPES:{OTHER:"OTHER",RETIREMENT:"RETIREMENT",EMERGENCY_FUND:"EMERGENCY_FUND",EDUCATION:"EDUCATION",DEBT_REPAYMENT:"DEBT_REPAYMENT",HOME_PURCHASE:"HOME_PURCHASE",HOME_DOWNPAYMENT:"HOME_DOWNPAYMENT"},STATES_FLOW:{ARCHETYPE:"ARCHETYPE",OTHER:"OTHER",EDIT:"EDIT",SETUP_GOAL_TRANSACTION:"SETUP_GOAL_TRANSACTION",RENEW:"RENEW",EMERGENCY_FUND:"EMERGENCY_FUND",EDIT_EMERGENCY_FUND:"EDIT_EMERGENCY_FUND",SETUP_GOAL_TRANSACTION_EMERGENCY_FUND:"SETUP_GOAL_TRANSACTION_EMERGENCY_FUND",RETIREMENT:"RETIREMENT",EDIT_RETIREMENT:"EDIT_RETIREMENT",DEBT_REPAYMENT:"DEBT_REPAYMENT",EDIT_DEBT_REPAYMENT:"EDIT_DEBT_REPAYMENT",DELETE_DEBT_REPAYMENT:"DELETE_DEBT_REPAYMENT",HOME_DOWNPAYMENT:"HOME_DOWNPAYMENT",EDIT_HOME_DOWNPAYMENT:"EDIT_HOME_DOWNPAYMENT",DELETE_HOME_DOWNPAYMENT:"DELETE_HOME_DOWNPAYMENT"},STATES_KEYS_ALL:{GOAL_ARCHETYPE:"GOAL_ARCHETYPE",GOAL_WELCOME:"GOAL_WELCOME",GOAL_TARGET_ACCOUNT:"GOAL_TARGET_ACCOUNT",GOAL_DETAIL:"GOAL_DETAIL",GOAL_IMAGE:"GOAL_IMAGE",GOAL_ACCOUNT_ASPS:"GOAL_ACCOUNT_ASPS",GOAL_START_DATE:"GOAL_START_DATE",GOAL_CONTRIBUTION:"GOAL_CONTRIBUTION",GOAL_SOURCE_ACCOUNT:"GOAL_SOURCE_ACCOUNT",CREATE_ACCOUNT:"CREATE_ACCOUNT",ACCOUNT_INFO:"ACCOUNT_INFO",THIRD_PARTY:"THIRD_PARTY",TPI:"TPI",TRANSITION:"TRANSITION",GOAL_REVIEW:"GOAL_REVIEW",GOAL_ACKNOWLEDGEMENT:"GOAL_ACKNOWLEDGEMENT",GOAL_EDIT_BASE:"GOAL_EDIT_BASE",GOAL_DELETE:"GOAL_DELETE",GOAL_RETIREMENT_TO_ACCOUNT:"GOAL_RETIREMENT_TO_ACCOUNT",GOAL_RETIREMENT_CALCULATOR:"GOAL_RETIREMENT_CALCULATOR",GOAL_EMERGENCY_FUND_CALCULATOR:"GOAL_EMERGENCY_FUND_CALCULATOR",GOAL_TARGET_PAYEE:"GOAL_TARGET_PAYEE",GOAL_LIABILITY:"GOAL_DEBT_LIABILITY",GOAL_SETUP_CONTRIBUTION:"GOAL_SETUP_CONTRIBUTION",GOAL_BORROWED_MONEY:"GOAL_BORROWED_MONEY"},STATES_ALL:{ARCHETYPE:{GOAL_ARCHETYPE:{nextStateKey:null,hideProgressBarButtons:!0,headerKey:"goals.goalArchetype.header",modalMainContentClass:"modal-goal-select",nextStateMappingData:{OTHER:"GOAL_WELCOME",RETIREMENT:"GOAL_WELCOME",EMERGENCY_FUND:"GOAL_WELCOME",DEBT_REPAYMENT:"GOAL_DEBT_LIABILITY",HOME_DOWNPAYMENT:"GOAL_DETAIL"}}},OTHER:{GOAL_WELCOME:{nextStateKey:"GOAL_TARGET_ACCOUNT",hideProgressBarButtons:!0,headerKey:"goals.goalWelcome.other.header",modalMainContentClass:"modal-goal-welcome"},GOAL_TARGET_ACCOUNT:{nextStateKey:"GOAL_DETAIL",titleKey:"goals.steps.selectAccount",subFlow:{parentState:"GOAL_TARGET_ACCOUNT",step:1,of:1}},GOAL_DETAIL:{nextStateKey:"GOAL_IMAGE",titleKey:"goals.steps.setUpGoal",parentStateKey:"GOAL_DETAIL",subFlow:{parentState:"GOAL_DETAIL",step:1,of:2}},GOAL_IMAGE:{nextStateKey:"GOAL_ACCOUNT_ASPS",subFlow:{parentState:"GOAL_DETAIL",step:2,of:2}},GOAL_ACCOUNT_ASPS:{nextStateKey:"GOAL_START_DATE",titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_ACCOUNT_ASPS",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:1,of:4}},GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:2,of:4}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:3,of:4},VIEWS:{TARGET_DATE:"TARGET_DATE",RECURRING_AMOUNT:"RECURRING_AMOUNT"}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"CREATE_ACCOUNT",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:4,of:4}},CREATE_ACCOUNT:{nextStateKey:"ACCOUNT_INFO",previousStateKey:"GOAL_CONTRIBUTION",titleKey:"goals.steps.setUpAccount",parentStateKey:"CREATE_ACCOUNT",subFlow:{parentState:"CREATE_ACCOUNT",step:1,of:5}},ACCOUNT_INFO:{nextStateKey:"AML_REVIEW",subFlow:{parentState:"CREATE_ACCOUNT",step:2,of:5}},AML_REVIEW:{nextStateKey:"THIRD_PARTY",subFlow:{parentState:"CREATE_ACCOUNT",step:3,of:5}},THIRD_PARTY:{nextStateKey:"TPI",subFlow:{parentState:"CREATE_ACCOUNT",step:4,of:5}},TPI:{nextStateKey:"TRANSITION",subFlow:{parentState:"CREATE_ACCOUNT",step:5,of:5}},TRANSITION:{nextStateKey:"GOAL_REVIEW",hideProgressBarButtons:!0},GOAL_REVIEW:{nextStateKey:"GOAL_ACKNOWLEDGEMENT",titleKey:"goals.steps.wrapUp",parentStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_REVIEW",step:1,of:2}},GOAL_ACKNOWLEDGEMENT:{nextStateKey:null,subFlow:{parentState:"GOAL_REVIEW",step:2,of:2}}},SETUP_GOAL_TRANSACTION:{GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",hideProgressBarButtons:!0,titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_START_DATE",subFlow:{parentState:"GOAL_START_DATE",step:1,of:3}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_SOURCE_ACCOUNT",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_START_DATE",step:2,of:3},VIEWS:{TARGET_DATE:"TARGET_DATE",RECURRING_AMOUNT:"RECURRING_AMOUNT"}},GOAL_SOURCE_ACCOUNT:{nextStateKey:null,hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_START_DATE",step:3,of:3}}},RENEW:{GOAL_DETAIL:{nextStateKey:"GOAL_IMAGE",titleKey:"goals.steps.setUpGoal",parentStateKey:"GOAL_DETAIL",subFlow:{parentState:"GOAL_DETAIL",step:1,of:2}},GOAL_IMAGE:{nextStateKey:"GOAL_ACCOUNT_ASPS",subFlow:{parentState:"GOAL_DETAIL",step:2,of:2}},GOAL_ACCOUNT_ASPS:{nextStateKey:"GOAL_START_DATE",titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_ACCOUNT_ASPS",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:1,of:4}},GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:2,of:4}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:3,of:4},VIEWS:{TARGET_DATE:"TARGET_DATE",RECURRING_AMOUNT:"RECURRING_AMOUNT"}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:4,of:4}},GOAL_REVIEW:{nextStateKey:"GOAL_ACKNOWLEDGEMENT",titleKey:"goals.steps.wrapUp",parentStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_REVIEW",step:1,of:2}},GOAL_ACKNOWLEDGEMENT:{nextStateKey:null,subFlow:{parentState:"GOAL_REVIEW",step:2,of:2}}},EDIT:{GOAL_EDIT_BASE:{nextStateKey:null,hideProgressBarButtons:!0,headerKey:"goals.goalEditBase.header",SUB_STATES:{subStatesParentKey:"EDIT_SUB_STATES",subStatesMappingData:{GOAL_EDIT_NAME_IMAGE_TILE:{key:"GOAL_EDIT_NAME_IMAGE_TILE",nextStateKey:"GOAL_DETAIL",tileOrderIndex:0},GOAL_EDIT_CONTRIBUTION_TILE:{key:"GOAL_EDIT_CONTRIBUTION_TILE",nextStateKey:"GOAL_CONTRIBUTION",tileOrderIndex:1},GOAL_EDIT_SOURCE_ACCOUNT_TILE:{key:"GOAL_EDIT_SOURCE_ACCOUNT_TILE",nextStateKey:"GOAL_SOURCE_ACCOUNT",tileOrderIndex:2},GOAL_EDIT_START_DATE_TILE:{key:"GOAL_EDIT_START_DATE_TILE",nextStateKey:"GOAL_START_DATE",tileOrderIndex:3}}}},GOAL_DELETE:{nextStateKey:null,previousStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,headerKey:!1}},EDIT_EMERGENCY_FUND:{GOAL_EDIT_BASE:{nextStateKey:null,hideProgressBarButtons:!0,headerKey:"goals.goalEditBase.header",SUB_STATES:{subStatesParentKey:"EDIT_EMERGENCY_FUND_SUB_STATES",subStatesMappingData:{GOAL_EDIT_NAME_IMAGE_TILE:{key:"GOAL_EDIT_NAME_IMAGE_TILE",nextStateKey:"GOAL_IMAGE",tileOrderIndex:0},GOAL_EDIT_CONTRIBUTION_TILE:{key:"GOAL_EDIT_CONTRIBUTION_TILE",nextStateKey:"GOAL_CONTRIBUTION",tileOrderIndex:1},GOAL_EDIT_SOURCE_ACCOUNT_TILE:{key:"GOAL_EDIT_SOURCE_ACCOUNT_TILE",nextStateKey:"GOAL_SOURCE_ACCOUNT",tileOrderIndex:2},GOAL_EDIT_START_DATE_TILE:{key:"GOAL_EDIT_START_DATE_TILE",nextStateKey:"GOAL_START_DATE",tileOrderIndex:3}}}},GOAL_DELETE:{nextStateKey:null,previousStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,headerKey:!1}},EDIT_HOME_DOWNPAYMENT:{GOAL_EDIT_BASE:{nextStateKey:"GOAL_ACKNOWLEDGEMENT",hideProgressBarButtons:!0,headerKey:"goals.goalEditBase.header",SUB_STATES:{subStatesParentKey:"EDIT_HOME_DOWNPAYMENT_SUB_STATES",subStatesMappingData:{GOAL_EDIT_NAME_IMAGE_TILE:{key:"GOAL_EDIT_NAME_IMAGE_TILE",nextStateKey:"GOAL_DETAIL",tileOrderIndex:0},GOAL_EDIT_HOME_DOWNPAYMENT_TILE:{key:"GOAL_EDIT_HOME_DOWNPAYMENT_TILE",nextStateKey:"GOAL_HOME_DOWNPAYMENT_TO_ACCOUNT",tileOrderIndex:1}}}},GOAL_ACKNOWLEDGEMENT:{nextStateKey:null,previousStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,headerKey:!1},GOAL_DELETE:{nextStateKey:null,previousStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,headerKey:!1}},EDIT_RETIREMENT:{GOAL_EDIT_BASE:{nextStateKey:"GOAL_ACKNOWLEDGEMENT",hideProgressBarButtons:!0,headerKey:"goals.goalEditBase.header",SUB_STATES:{subStatesParentKey:"EDIT_RETIREMENT_SUB_STATES",subStatesMappingData:{GOAL_EDIT_NAME_IMAGE_TILE:{key:"GOAL_EDIT_NAME_IMAGE_TILE",nextStateKey:"GOAL_IMAGE",tileOrderIndex:0},GOAL_EDIT_RETIREMENT_TILE:{key:"GOAL_EDIT_RETIREMENT_TILE",nextStateKey:"RETIREMENT_FINANCIAL_SITUATION",tileOrderIndex:1}}}},GOAL_ACKNOWLEDGEMENT:{nextStateKey:null,previousStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,headerKey:!1},GOAL_DELETE:{nextStateKey:null,previousStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,headerKey:!1}},SETUP_GOAL_TRANSACTION_EMERGENCY_FUND:{GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",hideProgressBarButtons:!0,titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_START_DATE",subFlow:{parentState:"GOAL_START_DATE",step:1,of:3}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_SOURCE_ACCOUNT",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_START_DATE",step:2,of:3},VIEWS:{TARGET_DATE:"TARGET_DATE",RECURRING_AMOUNT:"RECURRING_AMOUNT"}},GOAL_SOURCE_ACCOUNT:{nextStateKey:null,hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_START_DATE",step:3,of:3}}},RETIREMENT:{GOAL_WELCOME:{nextStateKey:"GOAL_IMAGE",hideProgressBarButtons:!0,headerKey:"goals.goalWelcome.retirement.header",modalMainContentClass:"modal-goal-welcome"},GOAL_IMAGE:{nextStateKey:"GOAL_DETAIL",titleKey:"goals.steps.setUpGoal",parentStateKey:"GOAL_IMAGE",subFlow:{parentState:"GOAL_IMAGE",step:1,of:4}},GOAL_DETAIL:{nextStateKey:"RETIREMENT_FINANCIAL_SITUATION",subFlow:{parentState:"GOAL_IMAGE",step:2,of:4}},RETIREMENT_FINANCIAL_SITUATION:{nextStateKey:"GOAL_RETIREMENT_CALCULATOR",subFlow:{parentState:"GOAL_IMAGE",step:3,of:4}},GOAL_RETIREMENT_CALCULATOR:{nextStateKey:"GOAL_RETIREMENT_TO_ACCOUNT",subFlow:{parentState:"GOAL_IMAGE",step:4,of:4}},GOAL_RETIREMENT_TO_ACCOUNT:{nextStateKey:"GOAL_START_DATE",titleKey:"goals.steps.selectAccount",parentStateKey:"GOAL_RETIREMENT_TO_ACCOUNT",subFlow:{parentState:"GOAL_RETIREMENT_TO_ACCOUNT",step:1,of:1}},GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_CONTRIBUTION",subFlow:{parentState:"GOAL_CONTRIBUTION",step:1,of:4}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_BORROWED_MONEY",subFlow:{parentState:"GOAL_CONTRIBUTION",step:2,of:4},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"}},GOAL_BORROWED_MONEY:{nextStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_CONTRIBUTION",step:3,of:4}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_CONTRIBUTION",step:4,of:4}},GOAL_REVIEW:{nextStateKey:"GOAL_ACKNOWLEDGEMENT",titleKey:"goals.steps.wrapUp",parentStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_REVIEW",step:1,of:2}},GOAL_ACKNOWLEDGEMENT:{nextStateKey:null,subFlow:{parentState:"GOAL_REVIEW",step:2,of:2}}},EMERGENCY_FUND:{GOAL_WELCOME:{nextStateKey:"GOAL_TARGET_ACCOUNT",hideProgressBarButtons:!0,headerKey:"goals.goalWelcome.emergencyFund.header",modalMainContentClass:"modal-goal-welcome"},GOAL_TARGET_ACCOUNT:{nextStateKey:"GOAL_IMAGE",titleKey:"goals.steps.selectAccount",subFlow:{parentState:"GOAL_TARGET_ACCOUNT",step:1,of:1}},GOAL_IMAGE:{nextStateKey:"GOAL_DETAIL",titleKey:"goals.steps.setUpGoal",parentStateKey:"GOAL_IMAGE",subFlow:{parentState:"GOAL_IMAGE",step:1,of:3}},GOAL_DETAIL:{nextStateKey:"GOAL_EMERGENCY_FUND_CALCULATOR",subFlow:{parentState:"GOAL_IMAGE",step:2,of:3}},GOAL_EMERGENCY_FUND_CALCULATOR:{nextStateKey:"GOAL_ACCOUNT_ASPS",subFlow:{parentState:"GOAL_IMAGE",step:3,of:3}},GOAL_ACCOUNT_ASPS:{nextStateKey:"GOAL_START_DATE",titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_ACCOUNT_ASPS",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:1,of:4}},GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:2,of:4}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:3,of:4},VIEWS:{TARGET_DATE:"TARGET_DATE",RECURRING_AMOUNT:"RECURRING_AMOUNT"}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"CREATE_ACCOUNT",subFlow:{parentState:"GOAL_ACCOUNT_ASPS",step:4,of:4}},CREATE_ACCOUNT:{nextStateKey:"ACCOUNT_INFO",previousStateKey:"GOAL_CONTRIBUTION",titleKey:"goals.steps.setUpAccount",parentStateKey:"CREATE_ACCOUNT",subFlow:{parentState:"CREATE_ACCOUNT",step:1,of:5}},ACCOUNT_INFO:{nextStateKey:"AML_REVIEW",subFlow:{parentState:"CREATE_ACCOUNT",step:2,of:5}},AML_REVIEW:{nextStateKey:"THIRD_PARTY",subFlow:{parentState:"CREATE_ACCOUNT",step:3,of:5}},THIRD_PARTY:{nextStateKey:"TPI",subFlow:{parentState:"CREATE_ACCOUNT",step:4,of:5}},TPI:{nextStateKey:"TRANSITION",subFlow:{parentState:"CREATE_ACCOUNT",step:5,of:5}},TRANSITION:{nextStateKey:"GOAL_REVIEW",hideProgressBarButtons:!0},GOAL_REVIEW:{nextStateKey:"GOAL_ACKNOWLEDGEMENT",titleKey:"goals.steps.wrapUp",parentStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_REVIEW",step:1,of:2}},GOAL_ACKNOWLEDGEMENT:{nextStateKey:null,subFlow:{parentState:"GOAL_REVIEW",step:2,of:2}}},DEBT_REPAYMENT:{GOAL_DEBT_LIABILITY:{nextStateKey:"GOAL_TARGET_PAYEE",titleKey:"goals.steps.gettingStarted",parentStateKey:"GOAL_DEBT_LIABILITY",previousStateKey:"GOAL_ARCHETYPE",subFlow:{parentState:"GOAL_DEBT_LIABILITY",step:1,of:2}},GOAL_TARGET_PAYEE:{nextStateKey:"GOAL_DETAIL",subFlow:{parentState:"GOAL_DEBT_LIABILITY",step:2,of:2}},GOAL_DETAIL:{nextStateKey:"GOAL_IMAGE",titleKey:"goals.steps.setUpGoal",parentStateKey:"GOAL_DETAIL",subFlow:{parentState:"GOAL_DETAIL",step:1,of:3}},GOAL_IMAGE:{nextStateKey:"GOAL_SETUP_CONTRIBUTION",subFlow:{parentState:"GOAL_DETAIL",step:2,of:3}},GOAL_SETUP_CONTRIBUTION:{nextStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_DETAIL",step:3,of:3},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_REVIEW",titleKey:"goals.steps.setupPayment",parentStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_SOURCE_ACCOUNT",step:1,of:1}},GOAL_REVIEW:{nextStateKey:"GOAL_ACKNOWLEDGEMENT",titleKey:"goals.steps.wrapUp",parentStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_REVIEW",step:1,of:2}},GOAL_ACKNOWLEDGEMENT:{nextStateKey:null,subFlow:{parentState:"GOAL_REVIEW",step:2,of:2}}},EDIT_DEBT_REPAYMENT:{GOAL_EDIT_BASE:{nextStateKey:null,hideProgressBarButtons:!0,headerKey:"goals.goalEditBase.header",SUB_STATES:{subStatesParentKey:"EDIT_DEBT_REPAYMENT_SUB_STATES",subStatesMappingData:{GOAL_EDIT_TARGET_PAYEE_TILE:{key:"GOAL_EDIT_TARGET_PAYEE_TILE",nextStateKey:null,tileOrderIndex:0},GOAL_EDIT_NAME_TILE:{key:"GOAL_EDIT_NAME_TILE",nextStateKey:"GOAL_DETAIL",tileOrderIndex:1},GOAL_EDIT_AMOUNT_TILE:{key:"GOAL_EDIT_AMOUNT_TILE",nextStateKey:"GOAL_DETAIL",tileOrderIndex:2},GOAL_EDIT_IMAGE_TILE:{key:"GOAL_EDIT_IMAGE_TILE",nextStateKey:"GOAL_IMAGE",tileOrderIndex:3},GOAL_EDIT_SETUP_CONTRIBUTION_TILE:{key:"GOAL_EDIT_SETUP_CONTRIBUTION_TILE",nextStateKey:"GOAL_SETUP_CONTRIBUTION",tileOrderIndex:4},GOAL_EDIT_SOURCE_ACCOUNT_TILE:{key:"GOAL_EDIT_SOURCE_ACCOUNT_TILE",nextStateKey:"GOAL_SOURCE_ACCOUNT",tileOrderIndex:5},GOAL_EDIT_NO_CONTRIBUTION_TILE:{key:"GOAL_EDIT_NO_CONTRIBUTION_TILE",nextStateKey:"GOAL_SETUP_CONTRIBUTION",tileOrderIndex:99},GOAL_EDIT_NAME_NO_CONTRIBUTION_TILE:{key:"GOAL_EDIT_NAME_NO_CONTRIBUTION_TILE",nextStateKey:"GOAL_DETAIL",tileOrderIndex:null},GOAL_EDIT_AMOUNT_NO_CONTRIBUTION_TILE:{key:"GOAL_EDIT_AMOUNT_NO_CONTRIBUTION_TILE",nextStateKey:"GOAL_DETAIL",tileOrderIndex:null}}}},GOAL_DELETE:{nextStateKey:null,previousStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,headerKey:!1}},DELETE_DEBT_REPAYMENT:{GOAL_DELETE:{nextStateKey:null,previousStateKey:null,hideProgressBarButtons:!0,headerKey:!1}},HOME_DOWNPAYMENT:{GOAL_DETAIL:{titleKey:"goals.steps.setUpGoal",parentStateKey:"GOAL_DETAIL",nextStateKey:"GOAL_IMAGE",subFlow:{parentState:"GOAL_DETAIL",step:1,of:2}},GOAL_IMAGE:{nextStateKey:"GOAL_HOME_DOWNPAYMENT_TO_ACCOUNT",subFlow:{parentState:"GOAL_DETAIL",step:2,of:2}},GOAL_HOME_DOWNPAYMENT_TO_ACCOUNT:{nextStateKey:"GOAL_START_DATE",titleKey:"goals.steps.selectAccount",parentStateKey:"GOAL_START_DATE",subFlow:{parentState:"GOAL_START_DATE",step:1,of:1}},GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_CONTRIBUTION",subFlow:{parentState:"GOAL_CONTRIBUTION",step:1,of:4}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_BORROWED_MONEY",subFlow:{parentState:"GOAL_CONTRIBUTION",step:2,of:4},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"}},GOAL_BORROWED_MONEY:{nextStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_CONTRIBUTION",step:3,of:4}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_CONTRIBUTION",step:4,of:4}},GOAL_REVIEW:{nextStateKey:"GOAL_ACKNOWLEDGEMENT",titleKey:"goals.steps.wrapUp",parentStateKey:"GOAL_REVIEW",subFlow:{parentState:"GOAL_REVIEW",step:1,of:2}},GOAL_ACKNOWLEDGEMENT:{nextStateKey:null,subFlow:{parentState:"GOAL_REVIEW",step:2,of:2}}}},STATES_ALL_SUB_STATES:{EDIT_SUB_STATES:{GOAL_EDIT_NAME_IMAGE_TILE:{GOAL_DETAIL:{nextStateKey:"GOAL_IMAGE",titleKey:"goals.editSteps.editGoal",subFlow:{parentState:"GOAL_DETAIL",step:1,of:1}},GOAL_IMAGE:{nextStateKey:"GOAL_EDIT_BASE",titleKey:"goals.editSteps.reviewImage",subFlow:{parentState:"GOAL_IMAGE",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_CONTRIBUTION_TILE:{GOAL_CONTRIBUTION:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_CONTRIBUTION",step:1,of:1},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"},nextButtonTypeSave:!0}},GOAL_EDIT_SOURCE_ACCOUNT_TILE:{GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_SOURCE_ACCOUNT",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_START_DATE_TILE:{GOAL_START_DATE:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_START_DATE",step:1,of:1},nextButtonTypeSave:!0}}},EDIT_EMERGENCY_FUND_SUB_STATES:{GOAL_EDIT_NAME_IMAGE_TILE:{GOAL_IMAGE:{nextStateKey:"GOAL_DETAIL",titleKey:"goals.editSteps.reviewImage",subFlow:{parentState:"GOAL_IMAGE",step:1,of:1}},GOAL_DETAIL:{nextStateKey:"GOAL_EMERGENCY_FUND_CALCULATOR",titleKey:"goals.editSteps.editGoal",parentStateKey:"GOAL_DETAIL",subFlow:{parentState:"GOAL_DETAIL",step:1,of:2},nextButtonTypeSave:!1},GOAL_EMERGENCY_FUND_CALCULATOR:{nextStateKey:"GOAL_EDIT_BASE",subFlow:{parentState:"GOAL_DETAIL",step:2,of:2},nextButtonTypeSave:!0}},GOAL_EDIT_CONTRIBUTION_TILE:{GOAL_CONTRIBUTION:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_CONTRIBUTION",step:1,of:1},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"},nextButtonTypeSave:!0}},GOAL_EDIT_SOURCE_ACCOUNT_TILE:{GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_SOURCE_ACCOUNT",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_START_DATE_TILE:{GOAL_START_DATE:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_START_DATE",step:1,of:1},nextButtonTypeSave:!0}}},EDIT_HOME_DOWNPAYMENT_SUB_STATES:{GOAL_EDIT_NAME_IMAGE_TILE:{GOAL_DETAIL:{nextStateKey:"GOAL_IMAGE",titleKey:"goals.editSteps.editGoal",subFlow:{parentState:"GOAL_DETAIL",step:1,of:1}},GOAL_IMAGE:{nextStateKey:"GOAL_EDIT_BASE",titleKey:"goals.editSteps.reviewImage",parentStateKey:"GOAL_IMAGE",subFlow:{parentState:"GOAL_IMAGE",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_HOME_DOWNPAYMENT_TILE:{GOAL_HOME_DOWNPAYMENT_TO_ACCOUNT:{nextStateKey:"GOAL_START_DATE",titleKey:"goals.steps.selectAccount",parentStateKey:"GOAL_HOME_DOWNPAYMENT_TO_ACCOUNT",subFlow:{parentState:"GOAL_HOME_DOWNPAYMENT_TO_ACCOUNT",step:1,of:1}},GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_CONTRIBUTION",subFlow:{parentState:"GOAL_CONTRIBUTION",step:1,of:4}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_BORROWED_MONEY",subFlow:{parentState:"GOAL_CONTRIBUTION",step:2,of:4},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"}},GOAL_BORROWED_MONEY:{nextStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_CONTRIBUTION",step:3,of:4}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_EDIT_BASE",subFlow:{parentState:"GOAL_CONTRIBUTION",step:4,of:4},nextButtonTypeSave:!0}}},EDIT_RETIREMENT_SUB_STATES:{GOAL_EDIT_NAME_IMAGE_TILE:{GOAL_IMAGE:{nextStateKey:"GOAL_DETAIL",titleKey:"goals.editSteps.reviewImage",subFlow:{parentState:"GOAL_IMAGE",step:1,of:1}},GOAL_DETAIL:{nextStateKey:"GOAL_EDIT_BASE",titleKey:"goals.editSteps.editGoal",parentStateKey:"GOAL_DETAIL",subFlow:{parentState:"GOAL_DETAIL",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_RETIREMENT_TILE:{RETIREMENT_FINANCIAL_SITUATION:{nextStateKey:"GOAL_RETIREMENT_CALCULATOR",titleKey:"goals.editSteps.editGoal",subFlow:{parentState:"RETIREMENT_FINANCIAL_SITUATION",step:1,of:2}},GOAL_RETIREMENT_CALCULATOR:{nextStateKey:"GOAL_RETIREMENT_TO_ACCOUNT",parentStateKey:"GOAL_RETIREMENT_CALCULATOR",subFlow:{parentState:"RETIREMENT_FINANCIAL_SITUATION",step:2,of:2}},GOAL_RETIREMENT_TO_ACCOUNT:{nextStateKey:"GOAL_START_DATE",titleKey:"goals.steps.selectAccount",parentStateKey:"GOAL_RETIREMENT_TO_ACCOUNT",subFlow:{parentState:"GOAL_RETIREMENT_TO_ACCOUNT",step:1,of:1}},GOAL_START_DATE:{nextStateKey:"GOAL_CONTRIBUTION",titleKey:"goals.steps.setUpSavings",parentStateKey:"GOAL_CONTRIBUTION",subFlow:{parentState:"GOAL_CONTRIBUTION",step:1,of:4}},GOAL_CONTRIBUTION:{nextStateKey:"GOAL_BORROWED_MONEY",subFlow:{parentState:"GOAL_CONTRIBUTION",step:2,of:4},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"}},GOAL_BORROWED_MONEY:{nextStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_CONTRIBUTION",step:3,of:4}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_EDIT_BASE",subFlow:{parentState:"GOAL_CONTRIBUTION",step:4,of:4},nextButtonTypeSave:!0}}},EDIT_DEBT_REPAYMENT_SUB_STATES:{GOAL_EDIT_NAME_TILE:{GOAL_DETAIL:{nextStateKey:"GOAL_SETUP_CONTRIBUTION",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_DETAIL",step:1,of:1}},GOAL_SETUP_CONTRIBUTION:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,parentStateKey:"GOAL_SETUP_CONTRIBUTION",subFlow:{parentState:"GOAL_SETUP_CONTRIBUTION",step:1,of:1},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"},nextButtonTypeSave:!0}},GOAL_EDIT_AMOUNT_TILE:{GOAL_DETAIL:{nextStateKey:"GOAL_SETUP_CONTRIBUTION",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_DETAIL",step:1,of:1}},GOAL_SETUP_CONTRIBUTION:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,parentStateKey:"GOAL_SETUP_CONTRIBUTION",subFlow:{parentState:"GOAL_SETUP_CONTRIBUTION",step:1,of:1},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"},nextButtonTypeSave:!0}},GOAL_EDIT_IMAGE_TILE:{GOAL_IMAGE:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_IMAGE",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_SETUP_CONTRIBUTION_TILE:{GOAL_SETUP_CONTRIBUTION:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,parentStateKey:"GOAL_SETUP_CONTRIBUTION",subFlow:{parentState:"GOAL_SETUP_CONTRIBUTION",step:1,of:1},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"},nextButtonTypeSave:!0}},GOAL_EDIT_SOURCE_ACCOUNT_TILE:{GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_SOURCE_ACCOUNT",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_NO_CONTRIBUTION_TILE:{GOAL_SETUP_CONTRIBUTION:{nextStateKey:"GOAL_SOURCE_ACCOUNT",hideProgressBarButtons:!0,parentStateKey:"GOAL_SETUP_CONTRIBUTION",subFlow:{parentState:"GOAL_SETUP_CONTRIBUTION",step:1,of:1},VIEWS:{RECURRING_AMOUNT:"RECURRING_AMOUNT",TARGET_DATE:"TARGET_DATE"}},GOAL_SOURCE_ACCOUNT:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,parentStateKey:"GOAL_SOURCE_ACCOUNT",subFlow:{parentState:"GOAL_SOURCE_ACCOUNT",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_NAME_NO_CONTRIBUTION_TILE:{GOAL_DETAIL:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_DETAIL",step:1,of:1},nextButtonTypeSave:!0}},GOAL_EDIT_AMOUNT_NO_CONTRIBUTION_TILE:{GOAL_DETAIL:{nextStateKey:"GOAL_EDIT_BASE",hideProgressBarButtons:!0,subFlow:{parentState:"GOAL_DETAIL",step:1,of:1},nextButtonTypeSave:!0}}}},GOAL_FREQUENCY_MODES:{weekly:"weekly",biWeekly:"biWeekly",monthly:"monthly"},GOAL_CONSTANTS:{goalTitleMinlength:2,goalTitleMaxlength:25,minGoalTargetAmount:10,maxYear:80,minContributionAmount:10,minMFContributionAmount:25,maxContributionAmount:9999999,minMaxContributionAmount:1e4,frequencyTranslationKeyPrefix:"goals.goalStartDate.goalFrequency.modes",maxExtraSavingsAccounts:5,defaultEmergencyMonth:6,finPlanRecommEmergencyMonth:6,defaultPBDinterestRate:19.99,maxPbdContributionAmount:2e4,debtType:{INT_CREDIT_CARD:"INT_CREDIT_CARD",EXT_CREDIT_CARD:"EXT_CREDIT_CARD",EXT_LINE_OF_CREDIT:"EXT_LINE_OF_CREDIT",EXT_LOAN:"EXT_LOAN",SCHOOL:"SCHOOL",GOVERNMENT:"GOVERNMENT"},payeeType:{EXT_PAYEES:"EXT_PAYEES",INT_PAYEES:"INT_PAYEES",LIABILITIES:"LIABILITIES"}},YES_NO_BOOLEAN:{YES:"Y",NO:"N"},TECHNICAL_DESCRIPTIONS:{INVALID_HTTP_SERVER_CODE:"500 Internal Server Error"},ERROR_MESSAGES:{EMPTY_KEY:"",INVALID_HTTP_SERVER_CODE:"global.errorCodes.INVALID_HTTP_SERVER_CODE",INVALID_HTTP_CODE:"global.errorCodes.GENERIC_ERROR",VALIDATION_ERROR:"global.errorCodes.GENERIC_ERROR",SERVICE_ERROR_GOALS:{HEADER:"global.errorCodes.goals.SERVICE_ERROR_GOALS.HEADER",BODY:"global.errorCodes.goals.SERVICE_ERROR_GOALS.BODY",BODY_INVALID_INTENDED_USE:"global.errorCodes.goals.SERVICE_ERROR_GOALS.BODY_INVALID_INTENDED_USE"},VALIDATION_ERROR_CONTAINS_PROFANITY:{HEADER:"global.errorCodes.goals.VALIDATION_ERROR_CONTAINS_PROFANITY.HEADER",BODY_GOAL_NAME:"global.errorCodes.goals.VALIDATION_ERROR_CONTAINS_PROFANITY.BODY_GOAL_NAME",BODY_INTENDED_USE:"global.errorCodes.goals.VALIDATION_ERROR_CONTAINS_PROFANITY.BODY_INTENDED_USE"}},STATUS_CODES:{INVALID_HTTP_CODE:"INVALID_HTTP_CODE",VALIDATION_ERROR:"VALIDATION_ERROR",SERVICE_ERROR_GOALS:"SERVICE_ERROR_GOALS",VALIDATION_ERROR_CONTAINS_PROFANITY:"VALIDATION_ERROR_CONTAINS_PROFANITY"},DETAIL_CODES:{INVALID:"INVALID"},GRAPH:i,NEXT_STEP_BUTTONS:{LTS_VIEW:{header:"goals.nextSteps.buttons.ltsView.header",subHeader:"goals.nextSteps.buttons.ltsView.subHeader",action:"LTS_VIEW"},LTS_SETUP:{header:"goals.nextSteps.buttons.ltsSetup.header",subHeader:"goals.nextSteps.buttons.ltsSetup.subHeader",action:"LTS_SETUP"},OPEN_ACCOUNT:{header:"goals.nextSteps.buttons.openAccount.header",subHeader:"goals.nextSteps.buttons.openAccount.subHeader",action:"OPEN_ACCOUNT"}},GOAL_FLAVOURS:{SINGLE:"SINGLE",MULTIPLE:"MULTIPLE",GOAL_ONLY:"GOAL_ONLY",NO_ASP_GOAL:"NO_ASP_GOAL"},IMAGE_CATEGORY_CODES:{GENERAL_SAVING:"general_savings"},GOALS_MODAL_CLOSE_CODES:{CANCELED:"CANCELED",SUBMITTED:"SUBMITTED"},RETIREMENT_GOAL_AMOUNT:{TOTAL:"total",MONTHLY:"monthly"},CAPABILITIES:{GOALS_CREATE:"GOALS_CREATE",GOALS_RETRIEVE:"GOALS_RETRIEVE",GOALS_UPDATE:"GOALS_UPDATE",GOALS_DELETE:"GOALS_DELETE",GOALS_CREATE_RETIREMENT:"GOALS_CREATE_RETIREMENT",GOALS_CREATE_DEBT_REPAYMENT:"GOALS_CREATE_DEBT_REPAYMENT",GOALS_CREATE_HOME_DOWNPAYMENT:"GOALS_CREATE_HOME_DOWNPAYMENT"},GOAL_CONTROL_BUTTONS:{EDIT_GOAL:"EDIT_GOAL",DELETE_GOAL:"DELETE_GOAL"},GOAL_CONTROL_OPTIONS:{HOME_DOWNPAYMENT:{EDIT_GOAL:"EDIT_GOAL"},RETIREMENT:{EDIT_GOAL:"EDIT_GOAL"},DEBT_REPAYMENT:{EDIT_GOAL:"EDIT_GOAL",DELETE_GOAL:"DELETE_GOAL"}},SOURCE_OF_REQUEST:{GOALS:"GOALS",FINANCIAL_PLAN:"FP",ACCOUNT_DETAILS:"ACCOUNT_DETAILS"},GOAL_EDIT_ACTIONS:{ADD:"ADD",UPDATE:"UPDATE",DELETE:"DELETE"},CONTRIBUTION_RETIREMENT:{SLIDER_FINE_MAX:300,SLIDER_WIDTH:32,TOOL_TIP_WIDTH:130},MF_FREQUENCY:{QUOTIDIENNE:"DAILY",HEBDOMADAIRE:"WEEKLY","AUX DEUX SEMAINES":"BIWEEKLY",MENSUELLE:"MONTHLY"},BORROWED_MONEY_FROM:["LINE_OF_CREDIT","CREDIT_CARD","MORTGAGE_TERM_LOAN","RRSP_LOAN","BORROWED_FROM_FAMILY_FRIENDS"],DEBT_ACCOUNT_TYPE:{INT_CREDIT_CARD:"INT_CREDIT_CARD",EXT_WITH_PAYEE_ID:"EXT_WITH_PAYEE_ID",EXT_NO_PAYEE_ID:"EXT_NO_PAYEE_ID"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=o(n(15)),s=o(n(33));function o(e){return e&&e.__esModule?e:{default:e}}var r={STATUS:{PENDV:"PENDV",REQAD:"REQAD",UNSTS:"UNSTS",UNSTS_DOCS_UPLOADED:"UNSTS_DOCS_UPLOADED",SLCTR:"SLCTR",STSFD:"STSFD",WAIVD:"WAIVD"}},l=(i={},(0,s.default)(i,r.STATUS.UNSTS,0),(0,s.default)(i,r.STATUS.UNSTS_DOCS_UPLOADED,0),(0,s.default)(i,r.STATUS.REQAD,1),(0,s.default)(i,r.STATUS.PENDV,2),(0,s.default)(i,r.STATUS.STSFD,3),i),c=[r.STATUS.SLCTR,r.STATUS.WAIVD],u={PURCHASE_OR_PREAPPROVAL:"PURCHASE_OR_PREAPPROVAL",INCREASE_OR_SWITCH:"INCREASE_OR_SWITCH",PRE_APPROVAL:"PA",PURCHASE:"PU",INCREASE:"MI",ETO:"ET",SWITCH:"SW",ADD_HELOC:"AH",HELOC_INCREASE:"HI",ADD_HELOC_OR_ETO:"AH_OR_ETO",ASSUMPTION:"AS",ADD_COVENANT:"AC",RELEASE_COVENANT:"RC"},d={MTG:"MTG",HELOC:"HELOC",MTG_HELOC:"MTG_HELOC"},_=[{header:"mortgage.question1.answers.1.header",transactionType:u.PURCHASE_OR_PREAPPROVAL,disabled:!1,loanApplicationType:d.MTG},{header:"mortgage.question1.answers.2.header",transactionType:u.ETO,disabled:!1,loanApplicationType:d.MTG},{header:"mortgage.question1.answers.3.header",transactionType:u.INCREASE_OR_SWITCH,disabled:!1,loanApplicationType:d.MTG},{header:"mortgage.question1.answers.heloc.1.header",transactionType:u.ADD_HELOC_OR_ETO,disabled:!1,loanApplicationType:d.HELOC},{header:"mortgage.question1.answers.heloc.2.header",transactionType:u.HELOC_INCREASE,loanApplicationType:d.HELOC}],E=[{header:"mortgage.question2HelocOrEto.answers.1.header",loanApplicationType:d.HELOC,transactionType:u.ADD_HELOC,disabled:!1},{header:"mortgage.question2HelocOrEto.answers.2.header",subHeader:"mortgage.question2HelocOrEto.answers.2.subHeader",loanApplicationType:d.MTG_HELOC,transactionType:u.ETO,disabled:!1},{header:"mortgage.question2HelocOrEto.answers.3.header",loanApplicationType:d.HELOC,transactionType:u.ETO,disabled:!1}],h=[{header:"mortgage.question2PurchaseOrPreapproval.answers.1.header",subHeader:"mortgage.question2PurchaseOrPreapproval.answers.1.subHeader",transactionType:u.PURCHASE,disabled:!1},{header:"mortgage.question2PurchaseOrPreapproval.answers.2.header",subHeader:"mortgage.question2PurchaseOrPreapproval.answers.2.subHeader",transactionType:u.PRE_APPROVAL,disabled:!1}],S=[{header:"mortgage.question2RefinanceOrSwitch.answers.2.header",transactionType:u.INCREASE,disabled:!1},{header:"mortgage.question2RefinanceOrSwitch.answers.1.header",transactionType:u.SWITCH,disabled:!1}],T={WEB:"WEB",FAX:"FAX",MAIL:"MAIL"},p=[{code:T.WEB,label:"mortgage.contactTypeOptions.email"},{code:T.FAX,label:"mortgage.contactTypeOptions.fax"},{code:T.MAIL,label:"mortgage.contactTypeOptions.mail"}],f={SINGLE:"SINGLE",JOINT:"JOINT"},g=[{key:f.SINGLE,label:"mortgage.assets.modal.belongsToOption.single",code:!1},{key:f.JOINT,label:"mortgage.assets.modal.belongsToOption.joint",code:!0}],A={OWNER_OCCUPIED:"OO",RENTAL:"RE",OWNER_TENANT:"OT"},v=[{label:"mortgage.calculatePayment.occupationType."+A.OWNER_OCCUPIED,code:A.OWNER_OCCUPIED},{label:"mortgage.calculatePayment.occupationType."+A.RENTAL,code:A.RENTAL},{label:"mortgage.calculatePayment.occupationType."+A.OWNER_TENANT,code:A.OWNER_TENANT}],C=[{label:"mortgage.liabilities.alimony",code:"CHLD",uiCode:"AM"},{label:"mortgage.liabilities.childSupport",code:"CHLD",uiCode:"CS"}],m=[{label:"mortgage.helocQuestion.option1",description:"mortgage.helocQuestion.option1Details",loanApplicationType:d.MTG_HELOC},{label:"mortgage.helocQuestion.option2",description:"mortgage.helocQuestion.option2Details",loanApplicationType:d.MTG}],I={CONDO_FEES:"COFEE",PROPERTY_TAX:"PRTAX",MORTGAGE:"MRTG",MORTGAGE_INTERNAL:"IMRTG",HELOC_INTERNAL:"IHLOC",HELOC_CREDIT_BUREAU:"CHLOC",HELOC_OTHER:"HELOC"},O=(0,a.default)(I).map((function(e){return I[e]})),N={type:I.HELOC_OTHER,balance:null,description:null},R={LOAN:"CLOAN",REVOLVING_CREDIT:"CREVC",MORTGAGE:"CMRTG",HELOC:"CHLOC"},y=(0,a.default)(R).map((function(e){return R[e]})),L={RSP_LOAN:"IRSPL",CREDIT:"ICRDT",CREDIT_CARD:"ICCRD",MORTGAGE:"IMRTG",HELOC:"IHLOC"},M=(0,a.default)(L).map((function(e){return L[e]})),D={COMMERCIAL:"CO",RESIDENTIAL:"RE",BOTH:"RC"},P=[{label:"mortgage.newPropertyDetails.propertyZoning.options.0",code:D.RESIDENTIAL},{label:"mortgage.newPropertyDetails.propertyZoning.options.1",code:D.COMMERCIAL}],b={SINGLE_DETACHED_HOUSE:"SI",SEMI_DETACHED_HOUSE:"PA",TOWN_HOUSE:"RO",CONDO:"AP",DUPLEX:"DU",TRIPLEX:"TR",FOURPLEX:"FP"},U=[{label:"mortgage.newPropertyDetails.typesOfHousing.options.0",code:b.SINGLE_DETACHED_HOUSE,requestUnitCount:!0},{label:"mortgage.newPropertyDetails.typesOfHousing.options.1",code:b.SEMI_DETACHED_HOUSE,requestUnitCount:!0},{label:"mortgage.newPropertyDetails.typesOfHousing.options.2",code:b.TOWN_HOUSE,requestUnitCount:!0,isTownhouse:!0},{label:"mortgage.newPropertyDetails.typesOfHousing.options.3",code:b.CONDO,isCondo:!0,unitCount:1},{label:"mortgage.newPropertyDetails.typesOfHousing.options.4",code:b.DUPLEX,unitCount:2},{label:"mortgage.newPropertyDetails.typesOfHousing.options.5",code:b.TRIPLEX,unitCount:3},{label:"mortgage.newPropertyDetails.typesOfHousing.options.6",code:b.FOURPLEX,unitCount:4}],$={MUNICIPAL:{label:"mortgage.newPropertyDetails.waterFacilities.options.0",code:"M"},WELL:{label:"mortgage.newPropertyDetails.waterFacilities.options.1",code:"W"}},F=(0,a.default)($).map((function(e){return $[e]})),k={CONDITIONS:{label:"mortgageTracker.tabs.conditions",code:"c"},DOCS:{label:"mortgageTracker.tabs.docs",code:"d"}},B=(0,a.default)(k).map((function(e){return k[e]}));t.default={APPLICATION_STATUS:{INCOMPLETE:"INC"},APPLICANT_STATUS:{COMPLETE:"COM",INCOMPLETE:"INC"},APPLICATION_SAVED_TIMEOUT:3e3,ASSET_ASSOCIATED_LIABILITY_TYPES:I,ASSET_ASSOCIATED_LIABILITY_TYPES_LIST:O,CALCULATE_PAYMENT:{flowFooterTemplateUrl:"mortgageCalculatePaymentFooterWrapper.html",DEFAULT_TERM_YEARS:3,MAX_AMORTIZATION_PERIODS:25},CHECKPOINT:{flowFooterTemplateUrl:"mortgageFooterWrapper.html"},CHILD_SUPPORT_CODE:"CHLD",CONTACT_TYPES:T,CONTACT_TYPES_OPTIONS:p,DESIRED_PROPERTY:{closingDate:{minDays:15,maxDays:214}},MARITAL_STATUS_X:"X",NEEDS_HELP:{BEST_TIME_TO_CALL_OPTIONS:[{label:"mortgage.needsHelp.scheduleCall.bestTimeToCall.options.0",code:"MORNING"},{label:"mortgage.needsHelp.scheduleCall.bestTimeToCall.options.1",code:"ANOON"},{label:"mortgage.needsHelp.scheduleCall.bestTimeToCall.options.2",code:"EVE"},{label:"mortgage.needsHelp.scheduleCall.bestTimeToCall.options.3",code:"ANY"}],FEEDBACK_OPTION_ACTIONS:["SHOW_FEEDBACK"],OPTIONS:[{header:"mortgage.needsHelp.options.list.0.header",subHeader:"mortgage.needsHelp.options.list.0.subHeader"},{action:"ARTICLES_AND_TOOLS",analyticsId:"MORTGAGE_APP_HELP_ARTICLES_AND_TOOLS",header:"mortgage.needsHelp.options.list.2.header",subHeader:"mortgage.needsHelp.options.list.2.subHeader"},{action:"SHOW_FEEDBACK",analyticsId:"MORTGAGE_APP_HELP_SHOW_FEEDBACK",header:"mortgage.needsHelp.options.list.3.header",subHeader:"mortgage.needsHelp.options.list.3.subHeader"}],SCHEDULE_CALL_DAY_RANGE:{MIN:1,MAX:30},STATES:{OPTIONS:{title:"mortgage.needsHelp.link",showClose:!0},SCHEDULE_CALL:{title:"mortgage.needsHelp.scheduleCall.title",showBack:!0,showConfirm:!0},ARTICLES_AND_TOOLS:{title:"mortgage.needsHelp.articlesAndTools.title",showBack:!0,showClose:!0}}},USER_CONDITION:r,USER_CONDITION_STATUS_ORDER:l,EXCLUDED_USER_CONDITIONS:c,INTENDED_USE_OTHER:"OTHER",HELOC_OPTION_OTHER:N,MORTGAGE_AMOUNT:{MIN:5e4,MAX:3e6,MAX_PERCENTAGE:80,MIN_DOWNPAYMENT:{step1:{percent:.05,upTo:5e5},step2:{percent:.1,upTo:999999},finalStep:{percent:.2}},INSURANCE_THRESHOLD:20},TRANSACTION_TYPE:u,LOAN_APPLICATION_TYPE:d,STATES:{QUESTION1:{_name:"question1",needsHelp:!1},QUESTION2_HELOC_OR_ETO:{_name:"question2_heloc_or_eto",needsHelp:!1},QUESTION2_PU_OR_PA:{_name:"question2_purchase_or_preapproval",needsHelp:!1},QUESTION2_MI_OR_SW:{_name:"question2_increase_or_switch",needsHelp:!1},HELOC_QUESTION:{_name:"heloc_question",needsHelp:!1},SWITCH_DEAD_END:{_name:"switch_dead_end",needsHelp:!1},GETTING_TO_KNOW_YOU:{_name:"intro",needsHelp:!1},CHECKPOINT:{_name:"checkpoint",needsHelp:!0,applicationState:"START"},DESIRED_PROPERTY:{_name:"desiredProperty",needsHelp:!0,applicationState:"PROPERTY_ADDRESS"},NEW_PROPERTY_DETAILS:{_name:"newPropertyDetails",needsHelp:!0,applicationState:"PROPERTY_DETAILS"},TPI:{_name:"tpi",needsHelp:!1},JOINT:{_name:"joint",needsHelp:!0,applicationState:"JOINT"},CALCULATE_PAYMENT:{_name:"calculatePayment",needsHelp:!0,applicationState:"NUMBERS"},HELOC_ELIGIBLE:{_name:"heloc_eligible",needsHelp:!0,applicationState:"HELOC"},HELOC_INELIGIBLE:{_name:"heloc_INeligible",needsHelp:!0,applicationState:"HELOC"},HELOC_NO_LONGER_ELIGIBLE:{_name:"heloc_no_longer_eligible",needsHelp:!0,applicationState:"HELOC"},EMPLOYMENT:{_name:"employment",needsHelp:!0,applicationState:"EMPLOYMENT"},HOME_STATUS:{_name:"homeStatus",needsHelp:!0,applicationState:"PERSONAL"},ASSETS:{_name:"assets",needsHelp:!0,applicationState:"ASSETS"},LIABILITIES:{_name:"liabilities",needsHelp:!0,applicationState:"LIABILITIES"},ADDITIONAL_INCOME:{_name:"additionalIncome",needsHelp:!0,applicationState:"INCOME"},REVIEW:{_name:"review",needsHelp:!1,applicationState:"SUBMIT"},CREDIT_BUREAU:{_name:"creditBureau",needsHelp:!1,applicationState:"CONSENT"},CALLBACK_CONFIRMATION:{_name:"callbackConfirmation",needsHelp:!1},DEBT_CONSOLIDATION:{_name:"debtConsolidation",needsHelp:!0,applicationState:"DEBT_CONSOLIDATION"}},QUESTION1_ANSWERS:_,QUESTION2_PU_OR_PA_ANSWERS:h,QUESTION2_MI_OR_SW_ANSWERS:S,QUESTION2_HELOC_OR_ETO_ANSWERS:E,TERM_WORD_TO_NUMBER_MAPPING:{ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,SIX:6,SEVEN:7,EIGHT:8,NINE:9,TEN:10,ELEVEN:11,TWELVE:12},ASSETS_BELONGS_TO:g,APPLICANT_TYPE:{PRIMARY:"PR",JOINT:"CO"},DOWNPAYMENT_TYPE:{RRSP:"R",CASH:"C",PROPERTY_SALE:"S",EQUITY:"E",GIFT:"G",INVESTMENTS:"I",OTHER:"O"},PROPERTY_OCCUPATION_TYPE:A,PROPERTY_OCCUPATION_TYPES:v,INCOME_TYPES:{BONUS:"BONUS",PARTTIME:"PTIME",PARTTIME_GUARANTEED_HOURS:"PTMGR",RETIREMENT:"PENS",SEASONAL:"SLEMP",SELF_EMPLOYED:"SELF",SALARY:"SLRY"},EMPLOYMENT_PERIOD:{CURRENT:"C",PREVIOUS:"P"},LIABILITY_TYPES:C,MORTGAGE_RATE_TYPE:{FIX_RATE:"fixedRate",VARIABLE_RATE:"variableRate"},ASSETS_BELONGS_TO_CODES:f,VALID_ADDITIONAL_INCOME_CODES:["RENT","PRRNT","INVS","CHILD","PENS","SESNL","OTHER"],HELOC_OPTIONS:m,HELOC_SLIDER_INCREMENTAL_VALUE:1e3,CALCULATOR_TYPE:{PAYMENT:"PAYMENT",LTV:"LTV",HELOC:"HELOC"},MORTGAGE_TRACKER:{BREADCRUMB_STATES:{COMPLETE:"y",INCOMPLETE:"n",HIDE:"h"}},DEBT_CONSOLIDATION_CLIENT_ADDED:"OTHR",DEBT_CONSOLIDATED_TYPE:{FULL:"C",PARTIAL:"P",NO:"N"},DEBT_CONSOLIDATION_CB_TYPES:R,DEBT_CONSOLIDATION_CB_TYPES_LIST:y,DEBT_CONSOLIDATION_INTERNAL_TYPES:L,DEBT_CONSOLIDATION_INTERNAL_TYPES_LIST:M,AGE_OF_PROPERTY:{MIN:0,MAX:200},NUMBER_OF_STOREY_OPTIONS:[{label:"mortgage.newPropertyDetails.numberOfStorey.options.0",code:"OS"},{label:"mortgage.newPropertyDetails.numberOfStorey.options.1",code:"SH"},{label:"mortgage.newPropertyDetails.numberOfStorey.options.2",code:"TS"},{label:"mortgage.newPropertyDetails.numberOfStorey.options.3",code:"TH"}],PROPERTY_ZONING_MAP:D,PROPERTY_ZONING_OPTIONS:P,SOURCE_OF_HEAT_OPTIONS:[{label:"mortgage.newPropertyDetails.sourceOfHeat.options.0",code:"EB"},{label:"mortgage.newPropertyDetails.sourceOfHeat.options.1",code:"FA"},{label:"mortgage.newPropertyDetails.sourceOfHeat.options.2",code:"HW"},{label:"mortgage.newPropertyDetails.sourceOfHeat.options.3",code:"OT"},{label:"mortgage.newPropertyDetails.sourceOfHeat.options.4",code:"never-sent-to-service",showError:!0}],SQUARE_FOOTAGE:{MIN:300,MAX:9999},TYPES_OF_HOUSING_MAP:b,TYPES_OF_HOUSING_OPTIONS:U,WATER_FACILITIES:$,WATER_FACILITIES_LIST:F,TENURE_CODES:{FREE_HOLD:"FH",LEASE_HOLD:"LH",CONDO:"CO"},LOCKED_STATUS_CODE:"APPLICATION_LOCKED",DOC_UPLOAD:{MAX_IMG_FILE_SIZE_BYTES:4194304,MAX_PDF_FILE_SIZE_BYTES:20971520,MAX_FILES:5,TIMEOUT:9e5,REASON:"MTG_APPL",SUPPORTED_TYPES:{EXT_LIST:["jpg","png","jpeg","gif","pdf"],ACCEPT_ATTRIBUTE:".pdf,.jpeg,.jpg,.png,.gif,application/pdf"}},TRACKER_TABS:k,TRACKER_TABS_LIST:B},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={PERSONAL_INFO:{key:"PERSONAL_INFO",titleKey:"amlConfirmInfo.breadcrumb.progressBar.PERSONAL_INFO"},BUSINESS_INFO:{key:"BUSINESS_INFO",titleKey:"amlConfirmInfo.breadcrumb.progressBar.BUSINESS_INFO"},ACCOUNT_INFO:{key:"ACCOUNT_INFO",titleKey:"amlConfirmInfo.breadcrumb.progressBar.ACCOUNT_INFO"},REVIEW:{key:"REVIEW",titleKey:"amlConfirmInfo.breadcrumb.progressBar.REVIEW"},DONE:{key:"DONE",titleKey:"amlConfirmInfo.breadcrumb.progressBar.REVIEW"}},a=[i.PERSONAL_INFO.key,i.ACCOUNT_INFO.key,i.REVIEW.key],s=[i.BUSINESS_INFO.key,i.ACCOUNT_INFO.key,i.REVIEW.key];t.default={STATES:i,BREADCRUMB_PERSONAL_KEYS:a,BREADCRUMB_BUSINESS_KEYS:s,OTHER_INTENDED_USE:{TYPE:"OTHER"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={GA_EVENTS:{OPENED:"opened",WEBLINK_OPEN_ACCOUNT_RECEIVED:"weblink - openAccount received",WEBLINK_RECEIVED:"weblinks received",ESCALATE_RECEIVED:"escalate received",CONTENT_RECEIVED:"content received",WEBLINK_CLICKED:"weblink clicked",ESCALATE_CLICKED:"escalate clicked",WEBLINK_OPEN_ACCOUNT_CLICKED:"weblink - openAccount clicked",MESSAGE_SENT:"message sent",MOVE_MONEY_CLICKED:"weblink - moveMoney clicked",CANCEL_TRANSACTION_CLICKED:"weblink - cancelTransation clicked",PRODUCT_CLICKED:"product selected",INTENT_CLICKED:"intent selected",PIN_SUCCESS:"pin success",PIN_RESET:"pin reset",PIN_FAIL:"pin fail",PIN_CONTACT_US:"pin contactUs",PASSMARK_FAIL:"passmark fail",PASSMARK_SUCCESS:"passmark success",PASSMARK_CONTACT:"passmark contactUs",WCC_CLOSED:"WCC - closed",WCC_NAVIGATE:"WCC - navigated away",WCC_OPENED:"WCC - opened",WCC_UPGRADE_CLICKED:"WCC - upgrade now",WCC_LEARN_CLICKED:"WCC - learn more",WCC_LATER_CLICKED:"WCC - maybe later",WCC_DISMISS_CLICKED:"WCC - not interested",OPENED_GENERIC:"opened - generic",OPENED_TOP3:"opened - top3",TOP3_CLICKED:"top3 clicked",CHATBOT_OPEN_FROM_CONTACT_US_FOOTER:"opened - from footer"},ESCALATION_OPTIONS:{CHAT:"CHAT",DIAL:"DIAL",LOGIN:"LOGIN",NO_THANKS:"NO_THANKS"},GENERAL:{ORANGE_KEY:"gtmok",COMPANY_ID:"219",ACCOUNT_TYPE:"webchat",CONTENT_PROCESSING:"<span>.</span><span>.</span><span>.</span>",VA:"virtualAssistant",TNGVA:"TNGVA",TIME_FORMAT:"2-digit",YES:"Y",PHONE:"tel:+18888264374",PIN_RESET_PATH:"/reset-pin",LAYOUT_WIDE:"Wide",LAYOUT_NARROW:"Narrow"},SENDER:{CHATBOT:"chatbot",USER:"user"},MESSAGE_TYPE:{WEBLINK:"weblink",ESCALATED:"escalated",CHOICE:"choice",OPEN_ACCOUNT:"openAccount",MOVE_MONEY:"moveMoney",CANCEL_TRANSACTION:"cancelTransaction",PRODUCT:"product",INTENT:"intent"},SAVE_TRANSCRIPT:{USER_CLOSED:"USER_CLOSED",ESCALATED:"ESCALATED"},MULTILANG_PROPERTIES:{START_SESSION:"chatbot.messages.startSession",START_SESSION_TOP_ANSWERS:"chatbot.messages.startSessionTopAnswers",END_SESSION:"chatbot.messages.endSession",ERROR:"chatbot.messages.error",SENDER_CHATBOT:"chatbot.labels.sender.chatbot",SENDER_CLIENT:"chatbot.labels.sender.client",OPEN_ACCOUNT:"chatbot.messages.openAccount",ESCALATE_CHAT:"chatbot.messages.escalateChat",ESCALATE_LOGIN:"chatbot.messages.escalateLogin",ESCALATE_PHONE:"chatbot.messages.escalatePhone",ESCALATE_NOTHANKS:"chatbot.messages.escalateNoThanks",PHONE_NUMBER:"chatbot.messages.phoneNumber",MOVE_MONEY:"chatbot.messages.moveMoney",CANCEL_TRANSACTION:"chatbot.messages.cancelTransaction",CONNECT_TO_LIVE_AGENT:"chatbot.messages.connectToLiveAgent",CHAT_PRODUCT_SAVING:"chatbot.messages.product.savingOrChequing",CHAT_PRODUCT_INVESTMENT:"chatbot.messages.product.investment",CHAT_INTENT_OPEN_ACCOUNT:"chatbot.messages.intent.openNewAccount",CHAT_INTENT_MANAGING_ACCOUNT:"chatbot.messages.intent.managingMyAccount",CHAT_INTENT_ENTERING_PIN:"chatbot.messages.intent.enteringMyPin",CHAT_INTENT_LOST_CARD:"chatbot.messages.intent.lostCard",CHAT_INTENT_OTHER:"chatbot.messages.intent.other",PASSMARK_HELP:"chatbot.messages.passmarkHelp",PASSMARK_RESET_HELP:"chatbot.messages.passmarkResetHelp",PIN_HELP:"chatbot.messages.pinHelp",PIN_RESET_HELP:"chatbot.messages.pinResetHelp"},WHITE_LISTED_URLS:["/","/accounts","/insights","/transactions","/financialplan-goals","/recipes","/settings","/devices","/documents","/inbox","/forms/banking","/left-to-spend"],PRODUCT_OPTIONS:{SAVING:"SAVING",INVESTMENT:"INVESTMENT"},CHAT_INTENT:{OPEN_ACCOUNT:"OPEN_ACCOUNT",MANAGING_ACCOUNT:"MANAGING_ACCOUNT",ENTERING_PIN:"ENTERING_PIN",LOST_CARD:"LOST_CARD",OTHER:"OTHER"},PROACTIVE_TOPICS:{PASSMARK:"passmark",PASSMARK_RESET:"passmarkReset",PIN:"pin",PIN_RESET:"pinReset",WCC:"wcc"},EVENTS:{OPEN_CHATBOT:"openChatbot",OPEN_CHATBOT_CONTACT_US:"openChatbotContactUs",SEND_CHATBOT_MESSAGE:"sendChatbotMessage"},FEATURE_FLAGS:{TOP_ANSWERS:!0,PROACTIVE_LOGIN_PIN:!0,PROACTIVE_LOGIN_PASSMARK:!0,OPEN_ACCOUNT:!1,CANCEL_TRANSACTION:!0,MOVE_MONEY:!0,ALLOW_PROMOTIONS:!0},WYSDOM_INTENT:{MOVE_MONEY:"$bank_transfer_menu_location",FR_MOVE_MONEY:"$fr_bank_transfer_menu_location",CANCEL_TRANSACTION:"$bank_stop_bill_payment",FR_CANCEL_TRANSACTION:"$fr_bank_stop_bill_payment",OPEN_ACCOUNT:"$bank_open_account"},PROMOTION_ANSWERS:{UPGRADE_NOW:["Upgrade Now","Oui !"],LEARN_MORE:["Learn More","Plus d'infos"],MAYBE_LATER:["Maybe Later","Plus tard"],NOT_INTERESTED:["Not Interested","Non, merci"]}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={ETRANSFER_CONSENT_TYPES:{INTERAC:"INTERAC"},ETRANSFER_TYPES:{INTERAC:"INTERAC",INTERAC_EMT:"INTERAC_EMT",TANGERINE_EMT:"TANGERINE_EMT"},WHEN_SEND:{NOW:"NOW",LATER:"LATER"},SECURITY_ANSWER_MASK:"*****",ERROR_CODES:{EMT_PENDING_EMTS_FOUND_WHILE_EDIT:"EMT_PENDING_EMTS_FOUND_WHILE_EDIT",EMT_INVALID_PROFANITY:"EMT_INVALID_PROFANITY",VALIDATION_ERROR_CONTAINS_PROFANITY:"VALIDATION_ERROR_CONTAINS_PROFANITY",EMT_INVALID_QUESTION_PROFANITY:"EMT_INVALID_QUESTION_PROFANITY",EMT_INVALID_ANSWER_PROFANITY:"EMT_INVALID_ANSWER_PROFANITY",VALIDATION_ERROR:"VALIDATION_ERROR",EMT_INVALID_MESSAGE_PROFANITY:"EMT_INVALID_MESSAGE_PROFANITY",NOT_ALLOWED_TO_EDIT_CONTACT:"NOT_ALLOWED_TO_EDIT_CONTACT"},LANGUAGES:{ENGLISH:"en",FRENCH:"fr"},PATTERN:{EMAIL:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+",FULLNAME:"^[a-zA-Z]+\\s[a-zA-Z]+"},EMT_VALIDATION_LIMIT:{MD5_FUZZY_VERSION:2,EMAIL_QUESTION_INTERAC_LENGTH_LIMIT:40}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={TYPES:{SAVINGS:"SAVINGS",EDUCATION:"EDUCATION",HOME_PURCHASE:"HOME_PURCHASE",RETIREMENT:"RETIREMENT",OTHER:"OTHER"}},a=[{id:"home",value:i.TYPES.HOME_PURCHASE,goalIcon:"icon-home"},{id:"education",value:i.TYPES.EDUCATION,goalIcon:"icon-education"},{id:"retirement",value:i.TYPES.RETIREMENT,goalIcon:"icon-sun"},{id:"savings",value:i.TYPES.SAVINGS,goalIcon:"icon-savings"},{id:"other",value:i.TYPES.OTHER,goalIcon:"icon-plane"}],s={TYPES:{ZERO:"0",TWO:"2",THREE:"3",FIVE:"5",TEN:"10"}},o={TYPES:{NO_KNOWLEDGE:"NO_KNOWLEDGE",LIMITED:"LIMITED",MODERATE:"MODERATE",EXTENSIVE:"EXTENSIVE"}},r={TYPES:{GROWTH:"GROWTH",BALANCED:"BALANCED",SAFETY:"SAFETY",INCOME:"INCOME"}},l={TYPES:{LOW:"LOW",MEDIUMLOW:"LOW TO MEDIUM",MEDIUM:"MEDIUM",MEDIUMHIGH:"MEDIUM TO HIGH",HIGH:"HIGH"}},c=[{header:"investmentFund.kyc.timeHorizon.questionData.tile1",value:s.TYPES.ZERO},{header:"investmentFund.kyc.timeHorizon.questionData.tile2",value:s.TYPES.TWO},{header:"investmentFund.kyc.timeHorizon.questionData.tile3",value:s.TYPES.THREE},{header:"investmentFund.kyc.timeHorizon.questionData.tile4",value:s.TYPES.FIVE},{header:"investmentFund.kyc.timeHorizon.questionData.tile5",value:s.TYPES.TEN}],u=[{header:"investmentFund.kyc.investmentKnowledge.questionData.tile1",value:o.TYPES.NO_KNOWLEDGE},{header:"investmentFund.kyc.investmentKnowledge.questionData.tile2",value:o.TYPES.LIMITED},{header:"investmentFund.kyc.investmentKnowledge.questionData.tile3",value:o.TYPES.MODERATE},{header:"investmentFund.kyc.investmentKnowledge.questionData.tile4",value:o.TYPES.EXTENSIVE}],d=[{header:"investmentFund.kyc.objective.questionData.tile1",value:r.TYPES.SAFETY},{header:"investmentFund.kyc.objective.questionData.tile2",value:r.TYPES.INCOME},{header:"investmentFund.kyc.objective.questionData.tile3",value:r.TYPES.BALANCED},{header:"investmentFund.kyc.objective.questionData.tile4",value:r.TYPES.GROWTH}],_=[{header:"investmentFund.kyc.riskTolerance.questionData.tile1",value:l.TYPES.HIGH},{header:"investmentFund.kyc.riskTolerance.questionData.tile2",value:l.TYPES.MEDIUMHIGH},{header:"investmentFund.kyc.riskTolerance.questionData.tile3",value:l.TYPES.MEDIUM},{header:"investmentFund.kyc.riskTolerance.questionData.tile4",value:l.TYPES.MEDIUMLOW},{header:"investmentFund.kyc.riskTolerance.questionData.tile5",value:l.TYPES.LOW}],E=[{header:"investmentFund.kyc.riskToleranceLongTerm.questionData.tile1",value:l.TYPES.HIGH},{header:"investmentFund.kyc.riskToleranceLongTerm.questionData.tile2",value:l.TYPES.MEDIUMHIGH},{header:"investmentFund.kyc.riskToleranceLongTerm.questionData.tile3",value:l.TYPES.MEDIUM},{header:"investmentFund.kyc.riskToleranceLongTerm.questionData.tile4",value:l.TYPES.MEDIUMLOW},{header:"investmentFund.kyc.riskToleranceLongTerm.questionData.tile5",value:l.TYPES.LOW}],h={PINK_B:"#EA40B7",TEAL_B:"#26CD8B",BLUE_B:"#1EABEF",PURPLE_B:"#C666E7",BLUE_A:"#89D7E0"},S={states:{INCOMPLETE_APP_CONFIRM_INFO:{_name:"incomplete_app_confirm_info"},INTRO_TNC:{_name:"intro_tnc"},INTRO_INFO:{_name:"intro_info"},INTRO_CONSENT:{_name:"intro_consent"},KYC_GOAL:{_name:"kyc_goal"},KYC_ANNUAL_INCOME:{_name:"kyc_annual_income"},KYC_NET_WORTH:{_name:"kyc_net_worth"},KYC_INVESTING_TYPE:{_name:"kyc_investing_type"},KYC_INVESTMENT_KNOWLEDGE:{_name:"kyc_investment_knowledge"},KYC_TIME_HORIZON:{_name:"kyc_time_horizon"},KYC_INVESTMENT_OBJECTIVE:{_name:"kyc_investment_objective"},KYC_RISK_TOLERANCE:{_name:"kyc_risk_tolerance"},KYC_RISK_TOLERANCE_LONG_TERM:{_name:"kyc_risk_tolerance_long_term"},RECOMMENDATION:{_name:"recommendation"},POST_RECOMMENDATION_INFO:{_name:"post_recommendation_info"},SETUP_PORTFOLIO:{_name:"setup_portfolio"},TPI:{_name:"third_party_info"},JOINT_ACCOUNT_HOLDER:{_name:"joint_account_holder"},SPOUSAL_RSP:{_name:"spousal_rsp"},FUNDFROM:{_name:"fund_from"},INVESTMENT_ASP:{_name:"investment_asp"},BORROWED_MONEY:{_name:"borrowed_money"},REVIEW:{_name:"review"}},fundBreakdownChartData:{portfolioAllocation:{210:[{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.canadianBonds",key:"canadianBonds",amount:"70",color:"#26CD88"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.canadianStocks",key:"canadianStocks",amount:"10",color:"#C666E7"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.usStocks",key:"usStocks",amount:"10",color:"#1EABEF"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.internationalStocks",key:"internationalStocks",amount:"10",color:"#96C818"}],220:[{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.canadianBonds",key:"canadianBonds",amount:"40",color:"#26CD88"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.canadianStocks",key:"canadianStocks",amount:"20",color:"#C666E7"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.usStocks",key:"usStocks",amount:"20",color:"#1EABEF"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.internationalStocks",key:"internationalStocks",amount:"20",color:"#96C818"}],230:[{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.canadianBonds",key:"canadianBonds",amount:"25",color:"#26CD88"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.canadianStocks",key:"canadianStocks",amount:"25",color:"#C666E7"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.usStocks",key:"usStocks",amount:"25",color:"#1EABEF"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.internationalStocks",key:"internationalStocks",amount:"25",color:"#96C818"}],235:[{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.canadianDividendEquity",key:"canadianDividendEquity",amount:"50",color:"#26CD88"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.usDividendEquity",key:"usDividendEquity",amount:"25",color:"#C666E7"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.internationalDividendEquity",key:"internationalDividendEquity",amount:"25",color:"#1EABEF"}],240:[{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.canadianStocks",key:"canadianStocks",amount:"33.3",color:"#26CD88"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.usStocks",key:"usStocks",amount:"33.3",color:"#C666E7"},{name:"investmentFund.recommendation.fundBreakdown.portfolioAllocation.internationalStocks",key:"internationalStocks",amount:"33.3",color:"#1EABEF"}]},assetMix:{210:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianAndInternationalBonds",key:"canadianAndInternationalBonds",amount:"68.6",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"30.6",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.8",color:h.TEAL_B}],220:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"60.7",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianAndInternationalBonds",key:"canadianAndInternationalBonds",amount:"38.8",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.5",color:h.TEAL_B}],230:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"75.5",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianAndInternationalBonds",key:"canadianAndInternationalBonds",amount:"24.2",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.3",color:h.TEAL_B}],235:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"99.7",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.3",color:h.TEAL_B}],240:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"99.6",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.4",color:h.TEAL_B}],310:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianAndInternationalBonds",key:"canadianAndInternationalBonds",amount:"70.0",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"30.0",color:h.BLUE_B}],320:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"60.0",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianAndInternationalBonds",key:"canadianAndInternationalBonds",amount:"40.0",color:h.PINK_B}],330:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"75.0",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianAndInternationalBonds",key:"canadianAndInternationalBonds",amount:"25.0",color:h.PINK_B}],340:[{name:"investmentFund.recommendation.fundBreakdown.assetMix.canadianUsAndInternationalEquities",key:"canadianUsAndInternationalEquities",amount:"100.0",color:h.BLUE_B}]},geographicAllocation:{210:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"78.9",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"10.0",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"10.3",color:h.TEAL_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.8",color:h.BLUE_A}],220:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"59.5",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"19.8",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"20.2",color:h.TEAL_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.5",color:h.BLUE_A}],230:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"49.9",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"24.7",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"25.1",color:h.TEAL_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.3",color:h.BLUE_A}],235:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"50.8",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"24.5",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"24.4",color:h.TEAL_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.3",color:h.BLUE_A}],240:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"33.9",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"32.4",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"33.3",color:h.TEAL_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.cashAndOtherAssetsLessLiabilities",key:"cashAndOtherAssetsLessLiabilities",amount:"0.4",color:h.BLUE_A}],310:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"80.0",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"10.0",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"10.0",color:h.TEAL_B}],320:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"60.0",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"20.0",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"20.0",color:h.TEAL_B}],330:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"50.0",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"25.0",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"25.0",color:h.TEAL_B}],340:[{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.canada",key:"canada",amount:"33.4",color:h.BLUE_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.unitedStates",key:"unitedStates",amount:"33.3",color:h.PINK_B},{name:"investmentFund.recommendation.fundBreakdown.geographicAllocation.other",key:"other",amount:"33.3",color:h.TEAL_B}]}},applicationStatus:{INC:"INC",SUB:"SUB",WAIT:"WAIT"},booleanValues:{Y:"Y",N:"N"},borrowedMoneyFrom:{LINE_OF_CREDIT:"LOC",CREDIT_CARD:"CC",MORTGAGE_TERM_LOAN:"MORTGAGE_TERM",RRSP_LOAN:"RRSP",BORROWED_FROM_FAMILY_FRIENDS:"BORROWED_FROM_FAMILY_FRIENDS"},kycQuestionTypes:{KYC_GOAL:"KYC_GOAL",KYC_INC:"KYC_INC",KYC_NETINC:"KYC_NETINC",KYC_KNOW:"KYC_KNOW",KYC_HORZ:"KYC_HORZ",KYC_OBJ:"KYC_OBJ",KYC_RISK:"KYC_RISK",KYC_RISK_2:"KYC_RISK_2",KYC_PORTFL:"KYC_PORTFL"},marshalEWMSEntries:{goalsTypes:{0:"SAVINGS",1:"EDUCATION",2:"HOME_PURCHASE",3:"RETIREMENT",4:"OTHER"},investingTypes:{R:"RESPONSIBLE",T:"TRADITIONAL"},knowledgeTypes:{E:"EXTENSIVE",F:"LIMITED",G:"MODERATE",M:"NO_KNOWLEDGE"},timeHorizonTypes:{0:"0",6:"2",7:"3",8:"5",4:"10"},objectiveTypes:{1:"GROWTH",2:"BALANCED",3:"INCOME",4:"SAFETY"},riskToleranceTypes:{10:"LOW",25:"LOW TO MEDIUM",50:"MEDIUM",75:"MEDIUM TO HIGH",100:"HIGH"}},unMarshalEWMSEntries:{goalsTypes:{SAVINGS:"0",EDUCATION:"1",HOME_PURCHASE:"2",RETIREMENT:"3",OTHER:"4"},investingTypes:{RESPONSIBLE:"R",TRADITIONAL:"T"},knowledgeTypes:{EXTENSIVE:"E",LIMITED:"F",MODERATE:"G",NO_KNOWLEDGE:"M"},timeHorizonTypes:{0:"0",2:"6",3:"7",5:"8",10:"4"},objectiveTypes:{GROWTH:"1",BALANCED:"2",INCOME:"3",SAFETY:"4"},riskToleranceTypes:{LOW:"10","LOW TO MEDIUM":"25",MEDIUM:"50","MEDIUM TO HIGH":"75",HIGH:"100"}},goals:i,goalTypes:a,investingTypes:[{id:"responsible",value:"RESPONSIBLE",investingTypeIcon:"icon-trust-fund"},{id:"traditional",value:"TRADITIONAL",investingTypeIcon:"icon-investment"}],timeHorizon:s,knowledge:o,objective:r,riskTolerance:l,sortedIntendedUses:["INCGE","LIQIN","LONIN","OTHER","SHOIN"],timeHorizonOptions:c,knowledgeOptions:u,objectiveOptions:d,riskToleranceOptions:_,riskToleranceLongTermOptions:E,fundBreakdownChartColors:h,FUND_FROM_CONSTANTS:{MIN_AMOUNT:25,SEND_CHEQUE:"fromCheque",MAGIC_SWITCH:"fromMagicSwitch"},NON_KYC_QUESTION_KEYS:{ACK:"ACK",LEVERDISC:"LEVERDISC",ESTPAPERLS:"ESTPAPERLS",TERM:"TERM",PRIVACY:"PRIVACY",ESTCONSENT:"ESTCONSENT",CONSENT:"CONSENT",EPROC:"EPROC"},ASP_FREQUENCY_MODES:{WEEKLY:"Weekly",BIWEEKLY:"Biweekly",MONTHLY:"Monthly"},ASP_FROM_ACCOUNT_TYPES:{CHEQUING:"CHEQUING",SAVINGS:"SAVINGS",EXT:"EXT"},ASP_ACTIONS:{INS:"INS",UPD:"UPD"},EXTERNAL_FUND_TYPE_CODES:{CTE:"CTE",XTFSA:"XTFSA"},PORTFOLIO_TYPE_CODES:{BALANCED_INCOME_PORTFOLIO:"210",BALANCED_PORTFOLIO:"220",BALANCED_GROWTH_PORTFOLIO:"230",DIVIDEND_PORTFOLIO:"235",EQUITY_GROWTH_PORTFOLIO:"240"},PORTFOLIO_NAMES_ENGLISH:{BALANCED_INCOME_PORTFOLIO:"Tangerine Balanced Income Portfolio",BALANCED_PORTFOLIO:"Tangerine Balanced Portfolio",BALANCED_GROWTH_PORTFOLIO:"Tangerine Balanced Growth Portfolio",DIVIDEND_PORTFOLIO:"Tangerine Dividend Portfolio",EQUITY_GROWTH_PORTFOLIO:"Tangerine Equity Growth Portfolio"},PORTFOLIO_NAMES_FRENCH:{BALANCED_INCOME_PORTFOLIO:"Portefeuille Tangerine - revenu équilibré",BALANCED_PORTFOLIO:"Portefeuille Tangerine - équilibré",BALANCED_GROWTH_PORTFOLIO:"Portefeuille Tangerine - croissance équilibrée",DIVIDEND_PORTFOLIO:"Portefeuille Tangerine - dividendes",EQUITY_GROWTH_PORTFOLIO:"Portefeuille Tangerine - croissance d'actions"},PORTFOLIO_TYPE_PARAMS:{BALANCED_INCOME:"balancedincome",BALANCED:"balanced",BALANCED_GROWTH:"balancedgrowth",DIVIDEND:"dividend",EQUITY_GROWTH:"equitygrowth"},PORTFOLIO_TOOL_TIP_MONTHS_ENGLISH:{JAN:"Jan",FEB:"Feb",MAR:"Mar",APR:"Apr",MAY:"May",JUN:"Jun",JUL:"Jul",AUG:"Aug",SEP:"Sep",OCT:"Oct",NOV:"Nov",DEC:"Dec"},PORTFOLIO_TOOL_TIP_MONTHS_FRENCH:{JAN:"jan",FEB:"fév",MAR:"mar",APR:"avr",MAY:"mai",JUN:"juin",JUL:"juil",AUG:"aoû",SEP:"sep",OCT:"oct",NOV:"nov",DEC:"déc",SUB_CAPTION:{JULY:"juillet"},LABEL:{JULY:"juil."}}};t.default=S,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(268)),a=o(n(366)),s=o(n(534));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("tangerine.app.core.helpers",[]).constant("addressHelper",i.default).constant("aMLEventConfirmationHelper",a.default).constant("intendedUseTpiReviewHelper",s.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1339),s=(i=a)&&i.__esModule?i:{default:i};var o=angular.module("tangerine.login.module",[]).component("loginPage",s.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1340)),a=s(n(1341));function s(e){return e&&e.__esModule?e:{default:e}}n(1342);var o={bindings:{returnTo:"<"},controller:a.default,template:i.default};t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-login return-to="$ctrl.returnTo" locale="$ctrl.LocaleService.locale" enable-full-passmark-form="true"></tng-login> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.LocaleService=t,this.SessionService=n}return(0,a.default)(e,[{key:"$onInit",value:function(){this.SessionService.getAndSetNewClientEnrollmentSession(!1)}}]),e}();o.$inject=["LocaleService","SessionService"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1344)),a=o(n(1348)),s=o(n(1349));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("forgotLoginModule",[]).component("forgotLogin",i.default).service("ForgotLoginService",a.default).constant("forgotLoginConstants",s.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1345)),a=s(n(1346));function s(e){return e&&e.__esModule?e:{default:e}}n(1347);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8)),a=r(n(0)),s=r(n(2)),o=n(67);function r(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,s,r,l,c,u,d,_,E,h,S){(0,a.default)(this,e),this.$log=t,this.isNative=n.isNative(),this.ForgotLoginService=i,this.LocaleService=s,this.INPUT_LENGTHS=r.INPUT_LENGTHS,this.VALIDATION_ERRORS=r.VALIDATION_ERRORS,this.nameValidation=o.nameValidation,this.emailValidation=o.emailValidation,this.SessionService=l,this.$state=c,this.stateConstants=u,this.namePattern=o.namePattern,this.$scope=d,this.menuConstants=_,this.EventBusService=E,this.$window=h,this.$translate=S,this.emailSent=!1,this.isSubmitEnabled=!1,this.isLoading=!1,this.PARAMS={FirstName:"",LastName:"",EmailAddress:""},this.STATES={FORM:{titleKey:"login.forgotLogin.states.form"},LOADING:{titleKey:"login.forgotLogin.states.loading"},CONFIRMED:{titleKey:"login.forgotLogin.states.confirmed"}},this.currentState=this.STATES.FORM}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.SessionService.transaction_token||this.isNative||this.$state.go(this.stateConstants.LOGIN),this.ForgotLoginService.initCifRetrieval(),this.EventBusService.subscribe(this.$scope,this.menuConstants.EVENTS.RESET_LOGIN,(function(){e.$state.go(e.stateConstants.LOGIN)}))}},{key:"validateInput",value:function(){this.forgotLoginForm&&this.forgotLoginForm.firstName.$valid&&this.forgotLoginForm.lastName.$valid&&this.forgotLoginForm.email.$valid?this.isSubmitEnabled=!0:this.isSubmitEnabled=!1}},{key:"sendLoginData",value:function(){var e=this;this.PARAMS=(0,i.default)(this.PARAMS,{TRANSACTION_TOKEN:this.SessionService.transaction_token}),this.currentState=this.STATES.LOADING,this.ForgotLoginService.retrieveCif(this.PARAMS).then((function(t){e._hasError(t)?e._handleError(t):(e.currentState=e.STATES.CONFIRMED,e.$log.debug("Login Retrieval: ",t))})).catch((function(t){e._handleError(t)}))}},{key:"_handleError",value:function(e){return this.$log.error("Login Retrieval Err: ",e),this.currentState=this.STATES.FORM,this.isNative?this._handleMobileError(e):(e.MessageHeader&&e.MessageHeader.ErrorMessages&&e.MessageHeader.ErrorMessages.length>0?this.errorMessage=e.MessageHeader.ErrorMessages[0]:e.errorMsg?this.errorMessage=e.errorMsg:e.response_status&&e.response_status.technical_description?this.errorMessage=e.response_status.technical_description:this.errorMessage=e.errorMessage,angular.noop())}},{key:"_handleMobileError",value:function(e){if(e.response_status&&e.response_status.return_code){var t="global.errorCodes."+e.response_status.return_code;this.errorMessage=this.$translate.instant(t)}else this.errorMessage=e.errorMessage}},{key:"_hasError",value:function(e){return void 0===e||e.errorMessage||e.errorMsg||e.response_status&&e.response_status.technical_description||e.MessageHeader&&e.MessageHeader.ErrorMessages&&e.MessageHeader.ErrorMessages.length>0}},{key:"goBack",value:function(){this.$window.history.back()}}]),e}();l.$inject=["$log","EnvironmentService","ForgotLoginService","LocaleService","forgotLoginConstants","SessionService","$state","stateConstants","$scope","menuConstants","EventBusService","$window","$translate"],t.default=l,e.exports=t.default},function(e,t){e.exports='<form name="$ctrl.forgotLoginForm" novalidate> <div class="forgot-login"> <div class="forgot-login__email" ng-if="$ctrl.currentState === $ctrl.STATES.FORM"> <tng-error-message ng-if="$ctrl.errorMessage"> {{ $ctrl.errorMessage | translate }} </tng-error-message> <h2 class="heading--title2">{{ \'login.forgotLogin.title\' | translate }}</h2> <div class="field"> <label for="firstName">{{ ::\'login.forgotLogin.firstNameInput\' | translate }}</label> <input name="firstName" class="input" ng-class="{warning:\n            $ctrl.forgotLoginForm.firstName.$invalid &&\n            $ctrl.forgotLoginForm.firstName.$touched\n          }" type="text" maxlength="{{ $ctrl.INPUT_LENGTHS.INPUT_MAX_LENGTH }}" ng-change="$ctrl.validateInput()" ng-model="$ctrl.PARAMS.FirstName" placeholder="{{ ::\'login.forgotLogin.firstNamePlaceholder\' | translate }}" ng-required="true" ng-pattern="$ctrl.namePattern"> <div ng-messages="$ctrl.forgotLoginForm.firstName.$error" ng-show="$ctrl.forgotLoginForm.firstName.$touched" class="field__error"> <p ng-message="required"> {{ ::\'login.userID.requiredField\' | translate }} </p> <p ng-message="pattern"> {{ ::\'login.userID.onlyLetters\' | translate }} </p> </div> </div> <div class="field"> <label for="lastName">{{ ::\'login.forgotLogin.lastNameInput\' | translate }}</label> <input name="lastName" class="input" ng-class="{warning:\n            $ctrl.forgotLoginForm.lastName.$invalid &&\n            $ctrl.forgotLoginForm.lastName.$touched\n          }" type="text" maxlength="{{ $ctrl.INPUT_LENGTHS.INPUT_MAX_LENGTH }}" ng-change="$ctrl.validateInput()" ng-model="$ctrl.PARAMS.LastName" placeholder="{{ ::\'login.forgotLogin.lastNamePlaceholder\' | translate }}" ng-required="true" ng-pattern="$ctrl.namePattern"> <div ng-messages="$ctrl.forgotLoginForm.lastName.$error" ng-show="$ctrl.forgotLoginForm.lastName.$touched" class="field__error"> <p ng-message="required"> {{ ::\'login.userID.requiredField\' | translate }} </p> <p ng-message="pattern"> {{ ::\'login.userID.onlyLetters\' | translate }} </p> </div> </div> <div class="field"> <label for="email">{{ ::\'login.forgotLogin.emailAddressInput\' | translate }}</label> <input name="email" class="input" ng-class="{warning:\n            $ctrl.forgotLoginForm.email.$invalid &&\n            $ctrl.forgotLoginForm.email.$touched\n          }" type="email" maxlength="{{ $ctrl.INPUT_LENGTHS.EMAIL_MAX_LENGTH }}" ng-model="$ctrl.PARAMS.EmailAddress" ng-change="$ctrl.validateInput()" placeholder="{{ ::\'login.forgotLogin.emailAddressPlaceholder\' | translate }}" ng-required="true"> <div ng-messages="$ctrl.forgotLoginForm.email.$error" ng-show="$ctrl.forgotLoginForm.email.$touched" class="field__error"> <p ng-message="required"> {{ ::\'login.userID.requiredField\' | translate }} </p> <p ng-message="email"> {{ ::\'login.userID.emailFormat\' | translate }} </p> </div> </div> <button ng-click="$ctrl.goBack()" actionable-id="forgot_backButton" class="btn btn--edit">{{ ::\'login.forgotLogin.back\' | translate }}</button> <button actionable-id="forgot_nextButton" class="btn btn--tangerine" ng-click="$ctrl.sendLoginData()" ng-class="{ \'disabled\': !$ctrl.isSubmitEnabled }" ng-disabled="!$ctrl.isSubmitEnabled"> {{ ::\'login.forgotLogin.next\' | translate }} </button> </div> <div class="forgot-login__confirmation" ng-if="$ctrl.currentState === $ctrl.STATES.CONFIRMED"> <h2 class="heading--title2">{{ ::\'login.forgotLoginConfirmation.title\' | translate }}</h2> <p>{{ ::\'login.forgotLoginConfirmation.emailSent\' | translate }}<br/><strong>{{ $ctrl.PARAMS.EmailAddress }}</strong></p> <p>{{ ::\'login.forgotLoginConfirmation.description\' | translate }}</p> <button actionable-id="forgot_backToLogin" ui-sref="{{ ::$ctrl.stateConstants.LOGIN }}" class="btn btn--tangerine">{{ ::\'login.forgotLoginConfirmation.login\' | translate }}</button> </div> <div ng-if="$ctrl.currentState === $ctrl.STATES.LOADING" class="loginLoadingIndicator"> <tng-loading-in-progress></tng-loading-in-progress> </div> </div> </form> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c){(0,a.default)(this,e),this.$q=n,this.$http=i,this.$log=t,this.forgotLoginConstants=o,this.CredentialsService=r,this.EnvironmentService=s,this.LocaleService=l,this.localeConstants=c}return(0,s.default)(e,[{key:"initCifRetrieval",value:function(){return this.CredentialsService.metroGet(this.forgotLoginConstants.COMMANDS.DISPLAY_CIF_RETRIEVAL)}},{key:"retrieveCif",value:function(e){var t=e,n=this.LocaleService.locale===this.localeConstants.LOCALES.EN_CA?this.forgotLoginConstants.SERVICE_PARAMS.SAVE_CHANGES:this.forgotLoginConstants.SERVICE_PARAMS.FR_SAVE_CHANGES;return(t=(0,i.default)(t,{command:this.forgotLoginConstants.COMMANDS.RETRIEVE_CIF}))[n]=this.forgotLoginConstants.SERVICE_PARAMS.NEXT,this.CredentialsService.metroPost(t,{acceptedCommands:[{command:this.forgotLoginConstants.COMMANDS.DISPLAY_CIF_RETRIEVAL_CONFIRMATION}]})}},{key:"base",get:function(){return this.EnvironmentService.getAPIUrl()+"/web"}}]),e}();r.$inject=["$log","$q","$http","EnvironmentService","forgotLoginConstants","CredentialsTPWService","LocaleService","localeConstants"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={COMMANDS:{DISPLAY_CIF_RETRIEVAL:"displayCIFRetrieval",RETRIEVE_CIF:"retrieveCIF",DISPLAY_CIF_RETRIEVAL_CONFIRMATION:"displayCIFRetrievalConfirmation"},SERVICE_PARAMS:{SAVE_CHANGES:"SAVE ANY CHANGES AND CONTINUE TO NEXT PAGE",FR_SAVE_CHANGES:"Enregistrer tous les changements et continuer à la prochaine page",NEXT:"Next"},INPUT_LENGTHS:{INPUT_MIN_LENGTH:1,INPUT_MAX_LENGTH:32,EMAIL_MAX_LENGTH:60},VALIDATION_ERRORS:{REQUIRED:"login.forgotLogin.errors.required",NONUMBERS:"login.forgotLogin.errors.noNumbers",EMAILFORMAT:"login.forgotLogin.errors.emailFormat"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(1351)),a=u(n(1355)),s=u(n(1359)),o=u(n(1363)),r=u(n(1367)),l=u(n(1368)),c=u(n(1369));function u(e){return e&&e.__esModule?e:{default:e}}var d=angular.module("resetPinModule",[]).component("resetPin",i.default).component("identificationQuestions",a.default).component("newPin",s.default).component("pinConfirmation",o.default).service("PinResetFlowService",r.default).service("ResetPinService",l.default).constant("resetPinConstants",c.default);t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1352)),a=s(n(1353));function s(e){return e&&e.__esModule?e:{default:e}}n(1354);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E,h,S){(0,i.default)(this,e),this.$log=t,this.$state=u,this.$scope=_,this.flowService=n,this.LocaleService=a,this.isNative=r.isNative(),this.resetPinService=o,this.SessionService=l,this.resetPinConstants=s,this.stateConstants=c,this.StepUpService=d,this.menuConstants=E,this.EventBusService=h,this.securityQuestion=null,this.pmSession=null,this.AuthService=S}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;angular.isDefined(this.SessionService.transaction_token)||this.isNative?!this.SessionService.isAuthenticated()||this.isNative&&!this.StepUpService.isLevel2Granted||this.$state.go(this.stateConstants.ACCOUNT_SUMMARY):this._goToLogin(),this.$log.debug("INIT RESET PIN CONTROLLER"),this.flowService.activate(),this.flowService.errorMessage="",this.flowService.showLoadingSpinner(),this.resetPinService.initResetPIN().then((function(t){e.$log.debug("RESPONSE FROM RESET PIN SERVICE INIT",t),t&&(t.MessageBody&&t.MessageBody.Question?e.securityQuestion=t.MessageBody.Question:t.pm_question?(e.securityQuestion=t.pm_question,e.flowService.passmarkSession=t.pm_session):("string"==typeof t&&t.indexOf(e.resetPinConstants.ERRORS.DISPLAYLOGGEDINERRORPAGE)>-1||t.MessageHeader.ErrorMessage)&&(e.flowService.deactivate(),e._goToLogin())),e.flowService.showLoadingDoneIcon()})).catch((function(t){e.$log.error("DISPLAY RESET INFO MFP ERROR: ",t)})),this.EventBusService.subscribe(this.$scope,this.menuConstants.EVENTS.RESET_LOGIN,(function(){e.flowService.deactivate(),e.AuthService.reinitLogin=!0,e._goToLogin()}))}},{key:"_goToLogin",value:function(){this.$state.go(this.stateConstants.LOGIN)}}]),e}();o.$inject=["$log","PinResetFlowService","LocaleService","resetPinConstants","ResetPinService","EnvironmentService","SessionService","stateConstants","$state","StepUpService","$scope","menuConstants","EventBusService","AuthService"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="reset-pin" ng-hide="$ctrl.flowService.isRedirecting"> <h2 class="heading--title2" ng-hide="$ctrl.flowService.isLoading"> {{ \'login.resetPin.title\' | translate }}</h2> <identification-questions ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.IDENTIFICATION_QUESTIONS" reset-pin-service="$ctrl.resetPinService" ng-hide="$ctrl.flowService.isLoading" on-submit-success="$ctrl.flowService.gotoNextState()" security-question="$ctrl.securityQuestion"> </identification-questions> <new-pin ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.NEW_PIN" reset-pin-service="$ctrl.resetPinService" ng-hide="$ctrl.flowService.isLoading" on-submit-success="$ctrl.flowService.onSubmit(newPin)"> </new-pin> <pin-confirmation ng-if="$ctrl.flowService.currentState == $ctrl.flowService.STATES.PIN_CONFIRMATION" ng-hide="$ctrl.flowService.isLoading"> </pin-confirmation> <div ng-if="$ctrl.flowService.isLoading" class="loginLoadingIndicator"> <tng-loading-in-progress></tng-loading-in-progress> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1356)),a=s(n(1357));function s(e){return e&&e.__esModule?e:{default:e}}n(1358);var o={template:a.default,controller:i.default,bindings:{onSubmitSuccess:"&",securityQuestion:"<",resetPinService:"<"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,o,r,l,c,u,d){(0,i.default)(this,e),this.$log=t,this.$state=n,this.$translate=a,this.secQuestMaxLength=40,this.lastThreeMaxLength=3,this.lastThreeSSNValidation=s.lastThreeSSNValidation,this.secretQuestionValidation=s.secretQuestionValidation,this.isSubmitEnabled=!1,this.flowService=r,this.isNative=l.isNative(),this.resetPinConstants=d,this.stateConstants=u,this.dateConstants=o,this.serviceConstants=c,this.selectionMode=this.dateConstants.DATE_SELECTOR_MODES.SINGLE,this.pickerfrequency=this.dateConstants.FREQUENCY_MODE_CONSTANTS.WEEKLY,this.pickerExcludedFrequency=this.dateConstants.FREQUENCY_MODE_CONSTANTS.BIWEEKLY,this.DATEFORMAT="DD/MM/YYYY",this.DEFAULTDATE="01/01/1995",this.MINDATE="01/01/1920",this.datePickerBirthday={selectionMode:this.dateConstants.DATE_SELECTOR_MODES.SINGLE,selectedDate:moment(this.DEFAULTDATE,this.DATEFORMAT),minDate:moment(this.MINDATE,this.DATEFORMAT),maxDate:this.dateConstants.TODAY_IN_EST.clone(),visible:!1},this.formData={}}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.isNative&&(this.errorMessage=this.flowService.errorMessage,this.flowService.showLoadingSpinner(),this.resetPinService.initResetPIN().then((function(t){e.$log.debug("RESPONSE FROM RESET PIN SERVICE INIT",t),t&&(t.MessageBody&&t.MessageBody.Question?e.securityQuestion=t.MessageBody.Question:t.pm_question?(e.securityQuestion=t.pm_question,e.flowService.passmarkSession=t.pm_session):("string"==typeof t&&t.indexOf(e.resetPinConstants.ERRORS.DISPLAYLOGGEDINERRORPAGE)>-1||t.MessageHeader.ErrorMessage)&&(e.flowService.deactivate(),e._goToLogin())),e.flowService.showLoadingDoneIcon()})).catch((function(t){e.$log.error("DISPLAY RESET INFO MFP ERROR: ",t),e.flowService.deactivate(),e._goToLogin()}))),this.formData={SIN:null,DateOfBirth:null,Answer:null,pmSession:null},this.questionTextPlaceholder=this.$translate.instant("login.resetPin.identification.questionPlaceholder")}},{key:"_goToLogin",value:function(){this.$state.go(this.stateConstants.LOGIN)}},{key:"validateInputs",value:function(){this.isSubmitEnabled=this.lastThreeSSNValidation(this.formData.SIN)&&this.formData.DateOfBirth&&this.formData.Answer&&this.secretQuestionValidation(this.formData.Answer)}},{key:"sendIdentityInfo",value:function(){var e=this;this.flowService.errorMessage="",this.formData.DateOfBirth=this.isNative?this.datePickerBirthday.selectedDate.format("YYYY-MM-DD").toString():this.datePickerBirthday.selectedDate.format("DD/MM/YYYY").toString(),this.formData.pmSession=this.flowService.passmarkSession,this.flowService.showLoadingSpinner(),this.resetPinService.validateResetPIN(this.formData).then((function(t){t&&!t.errorMessage&&t.MessageHeader&&!t.MessageHeader.ErrorMessages||t.response_status&&t.response_status.status_code===e.serviceConstants.STATUS_CODES.SUCCESS?(e.$log.debug("Reset Pin: ",t),e.flowService.showLoadingDoneIcon(),e.onSubmitSuccess()):e._handleError(t)})).catch((function(t){e._handleError(t)}))}},{key:"updateSelectedDob",value:function(e){this.formData.DateOfBirth=e.format(this.DATEFORMAT).toString(),this.validateInputs()}},{key:"_handleError",value:function(e){this.flowService.showLoadingDoneIcon(),this.$log.debug("Login Retrieval Err: ",e),e.MessageHeader&&e.MessageHeader.ErrorMessages?this.errorMessage=e.MessageHeader.ErrorMessages[0]:e.response_status&&e.response_status.technical_description?this.errorMessage=e.response_status.technical_description:this.errorMessage=e.errorMessage}},{key:"onKeyPress",value:function(e){(e.charCode<this.resetPinConstants.ASCII_CHARS.DIGIT_0||e.charCode>this.resetPinConstants.ASCII_CHARS.DIGIT_9)&&e.keyCode!==this.resetPinConstants.ASCII_CHARS.BACKSPACE&&e.keyCode!==this.resetPinConstants.ASCII_CHARS.DELETE&&e.preventDefault()}},{key:"onClickBack",value:function(){this.flowService.errorMessage="",this.flowService.goBack()}}]),e}();r.$inject=["$log","$state","$translate","tngDateSelectorConstants","PinResetFlowService","EnvironmentService","serviceConstants","stateConstants","resetPinConstants"],t.default=r,e.exports=t.default},function(e,t){e.exports='<form name="$ctrl.formData" class="identification-questions"> <tng-error-message ng-show="$ctrl.errorMessage"> {{ $ctrl.errorMessage }} </tng-error-message> <p>{{ ::\'login.resetPin.identification.instruct\' | translate }}</p> <div class="field"> <label for="ssn"> {{ ::\'login.resetPin.identification.ssnFirst\' | translate }} <span>{{ ::\'login.resetPin.identification.ssnSecond\' | translate }}</span> </label> <div class="ssn-field"> <span>{{ ::\'login.resetPin.identification.firstSSNPart\' | translate }}</span> <input name="ssnDigits" class="input CB_DataMask" type="tel" ng-class="{warning:\n          $ctrl.formData.ssnDigits.$invalid &&\n          $ctrl.formData.ssnDigits.$touched\n        }" maxlength="{{ $ctrl.lastThreeMaxLength }}" minlength="{{ $ctrl.lastThreeMaxLength }}" ng-change="$ctrl.validateInputs()" ng-model="$ctrl.formData.SIN" ng-keypress="$ctrl.onKeyPress($event)" required autocomplete="OFF" autofocus placeholder="{{ ::\'login.resetPin.identification.ssnPlaceholder\' | translate }}"> <div ng-messages="$ctrl.formData.ssnDigits.$error" ng-show="$ctrl.formData.ssnDigits.$touched" class="field__error"> <p ng-message="required"> {{ ::\'login.resetPin.requiredField\' | translate }} </p> <p ng-message="minlength"> {{ ::\'login.resetPin.threeChars\' | translate }} </p> </div> </div> </div> <div class="identification-questions__dob-field"> <label for="dob">{{ ::\'login.resetPin.identification.dob\' | translate }}</label> <div class="field__icon icon-calendar" ng-click="$ctrl.datePickerBirthday.visible = true"></div> <input actionable-id="resetPin_dob" class="input" type="text" ng-model="$ctrl.formData.DateOfBirth" ng-focus="$ctrl.datePickerBirthday.visible = true" ng-required="true" readonly="true" autocomplete="OFF" autofocus placeholder="{{ \'login.resetPin.identification.dobPlaceholder\' | translate }}"> <tng-date-selector ng-if="$ctrl.datePickerBirthday.visible === true" selection-mode="$ctrl.datePickerBirthday.selectionMode" selected-date="$ctrl.datePickerBirthday.selectedDate" min-date="$ctrl.datePickerBirthday.minDate" max-date="$ctrl.datePickerBirthday.maxDate" on-date-change="$ctrl.updateSelectedDob(selectedDate)" scroller-id="date-picker-birthday" hide-frequency-selector="true" hide-selection-mode-selector="true"> </tng-date-selector> </div> <div class="field"> <label for="question"> {{ ::\'login.resetPin.identification.question\' | translate }} <p><span class="CB_DataMask" id="login_secretQuestion_label">{{ $ctrl.securityQuestion }}</span></p> </label> <user-field-mask ufm-name="question" ufm-model="$ctrl.formData.Answer" ufm-placeholder="$ctrl.questionTextPlaceholder" maximum-length="$ctrl.secQuestMaxLength" ufm-show-border="$ctrl.formData.question.$dirty && $ctrl.formData.question.$invalid" ufm-change="$ctrl.validateInputs()"> </user-field-mask> <div ng-messages="$ctrl.formData.question.$error" ng-show="$ctrl.formData.question.$touched" class="field__error"> <p ng-message="required"> {{ ::\'login.resetPin.requiredField\' | translate }} </p> </div> </div> <div class="identification-questions__form-buttons"> <button class="btn btn--edit CB_ReadOnly" actionable-id="resetPin_backToLogin" ng-click="$ctrl.onClickBack()"> {{ ::\'login.resetPin.identification.back\' | translate }} </button> <button actionable-id="login_Next" class="btn btn--tangerine CB_ReadOnly" ng-click="$ctrl.sendIdentityInfo()" ng-class="{ \'disabled\': !$ctrl.isSubmitEnabled }" ng-disabled="!$ctrl.isSubmitEnabled"> {{ ::\'login.resetPin.identification.next\' | translate }} </button> </div> </form> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1360)),a=s(n(1361));function s(e){return e&&e.__esModule?e:{default:e}}n(1362);var o={template:a.default,controller:i.default,bindings:{onSubmitSuccess:"&",resetPinService:"<"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,o,r,l,c){(0,i.default)(this,e),this.$log=t,this.$timeout=n,this.$translate=a,this.flowService=o,this.STATUS_CODES=l.STATUS_CODES,this.resetPinConstants=c,this.isNative=r.isNative(),this.pinValidation=s.pinValidation,this.pinSanitize=s.pinSanitize,this.pinValue=null,this.confirmPinValue=null,this.isSubmitEnabled=!1,this.pinResetForm={}}return(0,a.default)(e,[{key:"$onInit",value:function(){this.showIdenticalValidationError=!1}},{key:"validateInput",value:function(){var e=this;this.toggleIdenticalValidationError();var t=this.pinValue===this.confirmPinValue;this.sanitizeInput((function(){e.pinValidation(e.pinValue)&&e.pinValidation(e.confirmPinValue)&&t?e.isSubmitEnabled=!0:e.isSubmitEnabled=!1}))}},{key:"sanitizeInput",value:function(e){var t=this;this.$timeout((function(){t.pinValue&&(t.pinValue=t.pinSanitize(t.pinValue)),t.confirmPinValue&&(t.confirmPinValue=t.pinSanitize(t.confirmPinValue)),angular.isFunction(e)&&e()}))}},{key:"submitNewPin",value:function(){var e=this;this.flowService.showLoadingSpinner();var t={PIN:this.pinValue,PINConfirm:this.confirmPinValue};this.resetPinService.validateResetPINInfo(t).then((function(t){t&&!t.errorMessage&&t.MessageHeader&&!t.MessageHeader.ErrorMessages||t.response_status&&t.response_status.status_code===e.STATUS_CODES.SUCCESS?(e.$log.debug("Reset Pin Info: ",t),e.flowService.showLoadingDoneIcon(),e.onSubmitSuccess({newPin:e.pinValue})):e._handleError(t)})).catch((function(t){e._handleError(t)}))}},{key:"_handleError",value:function(e){var t=this;if(this.flowService.showLoadingDoneIcon(),this.$log.debug("Login Retrieval Err: ",e),e.MessageHeader&&e.MessageHeader.ErrorMessages)this.errorMessage=e.MessageHeader.ErrorMessages[0];else if(e.ErrorMessages)this.errorMessage=e.ErrorMessages[0];else if(e.response_status)if("details"in e.response_status&&Array.isArray(e.response_status.details)){var n="";e.response_status.details.forEach((function(e,i){i>0&&(n+="<br>"),n="INVALID_PIN_REPEATED_DIGITS"===e.details_code||"INVALID_PIN_SEQUENTIAL_DIGITS"===e.details_code||"INVALID_PIN_LENGTH"===e.details_code||"INVALID_PIN_NOT_NUMERIC"===e.details_code||"INVALID_PIN_SAME_AS_CIF"===e.details_code?t.$translate.instant("global.errorCodes."+e.details_code):""+n+e.technical_description})),this.errorMessage=n.trim()}else e.response_status.technical_description?this.errorMessage=e.response_status.technical_description:this.errorMessage=this.$translate.instant("global.errorCodes.GENERIC_ERROR");else this.errorMessage=e.error_message||e.errorMessage;this.isNative&&this.flowService.restartDueToError(this.errorMessage)}},{key:"toggleIdenticalValidationError",value:function(){this.showIdenticalValidationError=!!(this.pinResetForm.newPin&&this.pinResetForm.newPin.$valid&&this.pinResetForm.confirmPin&&this.pinResetForm.confirmPin.$valid&&this.pinValue!==this.confirmPinValue)}},{key:"onKeyPress",value:function(e){(e.charCode<this.resetPinConstants.ASCII_CHARS.DIGIT_0||e.charCode>this.resetPinConstants.ASCII_CHARS.DIGIT_9)&&e.keyCode!==this.resetPinConstants.ASCII_CHARS.BACKSPACE&&e.keyCode!==this.resetPinConstants.ASCII_CHARS.DELETE&&e.preventDefault()}}]),e}();r.$inject=["$log","$timeout","$translate","PinResetFlowService","EnvironmentService","serviceConstants","resetPinConstants"],t.default=r,e.exports=t.default},function(e,t){e.exports='<form name="$ctrl.pinResetForm" class="new-pin"> <tng-error-message ng-if="$ctrl.errorMessage"> {{ $ctrl.errorMessage }} </tng-error-message> <p>{{ ::\'login.resetPin.newPin.instruct\' | translate }} <a actionable-id="new-pin-instruct_2" ng-href="{{ \'login.resetPin.newPin.securityLink\' | translate }}" target="_blank">{{ ::\'login.resetPin.newPin.instruct2\' | translate }}</a></p> <div class="field"> <label> {{ ::\'login.resetPin.newPin.newPinLabel\' | translate }} </label> <input name="newPin" class="input CB_DataMask" ng-class="{warning:\n        $ctrl.pinResetForm.newPin.$invalid &&\n        $ctrl.pinResetForm.newPin.$touched\n      }" maxlength="6" minlength="6" pin-input placeholder="{{ ::\'login.resetPin.newPin.newPinPlaceholder\' | translate }}" ng-keypress="$ctrl.onKeyPress($event)" ng-change="$ctrl.validateInput()" ng-required="true" autocomplete="off" ng-model="$ctrl.pinValue"> <div ng-messages="$ctrl.pinResetForm.newPin.$error" ng-show="$ctrl.pinResetForm.newPin.$touched" class="field__error"> <p ng-message="required"> {{ ::\'login.resetPin.requiredField\' | translate }} </p> <p ng-message="minlength"> {{ ::\'login.resetPin.sixDigits\' | translate }} </p> </div> </div> <div class="field"> <label> {{ ::\'login.resetPin.newPin.confirmPinLabel\' | translate }} </label> <input name="confirmPin" placeholder="{{ ::\'login.resetPin.newPin.newPinPlaceholder\' | translate }}" class="input CB_DataMask" ng-class="{warning:\n        $ctrl.pinResetForm.confirmPin.$touched &&\n        ($ctrl.pinResetForm.confirmPin.$invalid ||\n        $ctrl.showIdenticalValidationError)\n      }" maxlength="6" minlength="6" pin-input ng-keypress="$ctrl.onKeyPress($event)" ng-change="$ctrl.validateInput()" ng-required="true" autocomplete="off" ng-model="$ctrl.confirmPinValue"> <div ng-messages="$ctrl.pinResetForm.confirmPin.$error" ng-show="$ctrl.pinResetForm.confirmPin.$touched" class="field__error"> <p ng-message="required"> {{ ::\'login.resetPin.requiredField\' | translate }} </p> <p ng-message="minlength"> {{ ::\'login.resetPin.sixDigits\' | translate }} </p> <p ng-if="$ctrl.showIdenticalValidationError"> {{ ::\'login.resetPin.identical\' | translate }} </p> </div> </div> <button actionable-id="resetPin_back" class="btn btn--edit" ng-click="$ctrl.flowService.moveBackTo($ctrl.flowService.STATES.IDENTIFICATION_QUESTIONS)"> {{ ::\'login.resetPin.newPin.back\' | translate }} </button> <button actionable-id="resetPin_next" class="btn btn--tangerine" ng-click="$ctrl.submitNewPin()" ng-class="{ \'disabled\': !$ctrl.isSubmitEnabled }" ng-disabled="!$ctrl.isSubmitEnabled"> {{ ::\'login.resetPin.newPin.next\' | translate }} </button> <p class="disclaimer" ng-bind-html="\'login.resetPin.newPin.disclaimer\' | translate"></p> </form> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1364)),a=s(n(1365));function s(e){return e&&e.__esModule?e:{default:e}}n(1366);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s){(0,i.default)(this,e),this.$log=t,this.flowService=n,this.stateConstants=a,this.$state=s}return(0,a.default)(e,[{key:"onLoginClick",value:function(){this.flowService.deactivate(),this.$state.go(this.stateConstants.LOGIN)}}]),e}();o.$inject=["$log","PinResetFlowService","stateConstants","$state"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="new-pin-confirmation"> <p>{{ ::\'login.resetPin.confirmation.message\' | translate }}</p> <p class="disclaimer" ng-bind-html="::\'login.resetPin.confirmation.disclaimer\' | translate"></p> <button class="btn btn--medium btn--tangerine" actionable-id="resetPin_backToLoginButton" ng-click="$ctrl.onLoginClick()">{{ ::\'login.resetPin.confirmation.login\' | translate }}</button> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(15)),a=u(n(177)),s=u(n(0)),o=u(n(2)),r=u(n(264)),l=u(n(266)),c=u(n(265));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n,o,l,c,u,d,_,E,h,S,T,p,f,g,A,v,C){(0,s.default)(this,t);var m=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n,o,l,c,_,u,E));return m.$state=l,m.CustomerInfoService=S,m.InsightsSessionService=T,m.LocaleService=p,m.RequesterService=g,m.serviceConstants=A,m.loginCommands=f.LOGIN_COMMANDS,m.nextCommand=m.loginCommands.VALID_PIN_COMMAND,m.AuthService=h,m.stateConstants=d,m.menuConstants=C,m.EventBusService=v,m.isRedirecting=!1,m.STATES={IDENTIFICATION_QUESTIONS:{titleKey:"login.resetPin.identification.title"},NEW_PIN:{titleKey:"login.resetPin.newPin.title"},PIN_CONFIRMATION:{titleKey:"login.resetPin.confirmation.title"},LOADING:{titleKey:"login.resetPin.loading"}},m._initialState=m.STATES.IDENTIFICATION_QUESTIONS,m.totalSteps=(0,i.default)(m.STATES).length,m.passmarkSession=null,m}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_resetState",value:function(){(0,l.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_resetState",this).call(this),this.isRedirecting=!1,this.currentState=this._initialState,this.newPin=null,this._updateUI()}},{key:"$onInit",value:function(){this.nextCurrentlyDisabled=!1,this.backCurrentlyDisabled=!1}},{key:"onEnableNext",value:function(e){this.nextCurrentlyDisabled=!e}},{key:"onUpdateNext",value:function(e){this.nextButtonIsSubmit=e}},{key:"gotoNextState",value:function(){switch(this.currentState){case this.STATES.IDENTIFICATION_QUESTIONS:this.moveTo(this.STATES.NEW_PIN);break;case this.STATES.NEW_PIN:this.moveTo(this.STATES.PIN_CONFIRMATION)}}},{key:"moveTo",value:function(e){(0,l.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"moveTo",this).call(this,e)}},{key:"restartDueToError",value:function(e){this.errorMessage=e,this._resetState()}},{key:"goToAccountSummary",value:function(){var e=this;this.isLoading=!0,this.AuthService.submitPin({pin:this.newPin,nextCommand:this.nextCommand,locale:this.LocaleService.locale}).then((function(t){!t.authenticated&&t.errorMessage?e._handlePINError(t):e._handlePINSuccess(t)})).catch((function(t){e._handlePINError(t)}))}},{key:"goBack",value:function(){this.deactivate(),this.$window.history.back()}},{key:"_handlePINSuccess",value:function(){this.deactivate(),this.isLoading=!1,this.isRedirecting=!0,this.EventBusService.publish(this.menuConstants.EVENTS.REDIRECT_AFTER_RESET_PIN),this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.GET_ROADBLOCKS).then((function(){}))}},{key:"_handlePINError",value:function(){this.isLoading=!1,this.$state.go(this.stateConstants.LOGIN)}},{key:"onSubmit",value:function(e){this.newPin=e,this.gotoNextState()}},{key:"_getAnalyticsID",value:function(){return"resetpin"}}]),t}(u(n(267)).default);d.$inject=["$log","$q","$transitions","$state","$window","pageFlowConstants","stateConstants","$rootScope","AnalyticsService","AuthService","CustomerInfoService","InsightsSessionService","LocaleService","loginConstants","RequesterService","serviceConstants","EventBusService","menuConstants"],t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i){(0,a.default)(this,e),this.$log=t,this.resetPinConstants=n,this.CredentialsService=i}return(0,s.default)(e,[{key:"initResetPIN",value:function(){return this.CredentialsService.metroGet(this.resetPinConstants.COMMANDS.DISPLAY_RESET_PIN_INFO)}},{key:"validateResetPIN",value:function(e){var t={SIN:e.SIN,DateOfBirth:e.DateOfBirth,Answer:e.Answer,pmSession:e.pmSession};return t=(0,i.default)(t,{command:this.resetPinConstants.COMMANDS.VALIDATE_RESET_PIN_INFO}),this.CredentialsService.metroPost(t,{acceptedCommands:[{command:this.resetPinConstants.COMMANDS.DISPLAY_RESET_PIN}]})}},{key:"validateResetPINInfo",value:function(e){var t=e;return t=(0,i.default)(t,{command:this.resetPinConstants.COMMANDS.VALIDATE_RESET_PIN}),this.CredentialsService.metroPost(t,{acceptedCommands:[{command:this.resetPinConstants.COMMANDS.DISPLAY_RESET_PIN_CONFIRMATION}]})}}]),e}();r.$inject=["$log","resetPinConstants","CredentialsTPWService"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={ASCII_CHARS:{DIGIT_0:48,DIGIT_9:57,BACKSPACE:8,DELETE:46},COMMANDS:{DISPLAY_RESET_PIN_INFO:"displayResetPINInfo",VALIDATE_RESET_PIN_INFO:"validateResetPINInfo",DISPLAY_RESET_PIN:"displayResetPIN",VALIDATE_RESET_PIN:"validateResetPIN",DISPLAY_RESET_PIN_CONFIRMATION:"displayResetPINConfirmation",RESET_PIN_CONFIRM:"ResetPINConfirm"},ERRORS:{DISPLAYLOGGEDINERRORPAGE:"displayLoggedInErrorPage"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1371)),a=s(n(1375));function s(e){return e&&e.__esModule?e:{default:e}}var o=angular.module("tangerine.notFound.module",[]).component("notFound",i.default).constant("notFoundConstants",a.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1372)),a=s(n(1373));function s(e){return e&&e.__esModule?e:{default:e}}n(1374);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c){(0,i.default)(this,e),this.Idle=t,this.notFoundConstants=n,this.$scope=a,this.$state=s,this.EventBusService=l,this.menuConstants=o,this.stateConstants=r,this.LocaleService=c}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this._mapVisitorLinksLocale(),this.Idle.unwatch(),this.EventBusService.subscribe(this.$scope,this.menuConstants.EVENTS.RESET_LOGIN,(function(){e.$state.go(e.stateConstants.LOGIN)}))}},{key:"_mapVisitorLinksLocale",value:function(){var e=this;this.links=this.notFoundConstants.LINK_LIST.map((function(t){if(t.link){var n=e.LocaleService.localeDisplay.toLowerCase();return t.link="/"+n+"/"+t.link,t}return t}))}}]),e}();o.$inject=["Idle","notFoundConstants","$scope","$state","menuConstants","stateConstants","EventBusService","LocaleService"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="not-found"> <div class="not-found__banner"> <h1 class="not-found__heading-title" translate> {{ ::\'notFound.title\' }} </h1> <p translate> {{ ::\'notFound.tagLine\' }} </p> </div> <div class="not-found__container"> <h2 translate>{{ ::\'notFound.linksHeader\' }}</h2> <div class="not-found__container__links-list"> <a actionable-id="not-fund-link" ng-repeat="linkObj in $ctrl.links" ng-if="linkObj.state" ui-sref="{{ linkObj.state }}" translate>{{ linkObj.title }}</a> <a actionable-id="not-fund-link" ng-repeat="linkObj in $ctrl.links" ng-if="linkObj.link" ng-href="{{ linkObj.link }}" translate>{{ linkObj.title }}</a> </div> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(179),s=(i=a)&&i.__esModule?i:{default:i};var o={LINK_LIST:[{title:"notFound.links.home",state:s.default.ACCOUNT_SUMMARY},{title:"notFound.links.signup",state:s.default.LOGIN},{title:"notFound.links.login",state:s.default.LOGIN},{title:"notFound.links.faqs",link:"faq"},{title:"notFound.links.visitus",link:"ways-to-bank/tangerine-locations"},{title:"notFound.links.contactus",link:"about-us/contact-us"},{title:"notFound.links.aboutus",link:"about-us"}]};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1377)),a=s(n(1381));function s(e){return e&&e.__esModule?e:{default:e}}var o=angular.module("tangerine.maintenance.module",[]).component("maintenance",i.default).constant("maintenanceConstants",a.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1378)),a=s(n(1379));function s(e){return e&&e.__esModule?e:{default:e}}n(1380);var o={template:i.default,controller:a.default,bindings:{}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-maintenance"> <div class="c-maintenance__banner"> <h1 class="c-maintenance__heading-title" translate> {{ ::\'maintenance.title\' }} </h1> <p translate> {{ ::\'maintenance.tagLine\' }} </p> </div> <div class="c-maintenance__container"> <h2 translate>{{ ::\'maintenance.mainHeader\' }}</h2> <p translate>{{ ::\'maintenance.mainMsg\' }}</p> <p translate>{{ ::\'maintenance.sorryMsg\' }}</p> </div> <div class="c-maintenance__container"> <h2 translate>{{ ::\'maintenance.linksHeader\' }}</h2> <div class="c-maintenance__container__links-list"> <a actionable-id="maintenance-link" ui-sref="{{ linkObj.link }}" ng-repeat="linkObj in $ctrl.maintenanceConstants.LINK_LIST" translate>{{ linkObj.title }}</a> </div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a){(0,i.default)(this,e),this.$log=t,this.Idle=n,this.maintenanceConstants=a}return(0,a.default)(e,[{key:"$onInit",value:function(){this.Idle.unwatch()}}]),e}();o.$inject=["$log","Idle","maintenanceConstants"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(179),s=(i=a)&&i.__esModule?i:{default:i};var o={LINK_LIST:[{title:"maintenance.links.home",link:s.default.ACCOUNT_SUMMARY},{title:"maintenance.links.search",link:s.default.COMING_SOON},{title:"maintenance.links.faqs",link:s.default.COMING_SOON},{title:"maintenance.links.visitus",link:s.default.COMING_SOON},{title:"maintenance.links.contactus",link:s.default.COMING_SOON}]};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=g(n(1383)),a=g(n(1384)),s=g(n(1385)),o=g(n(1386)),r=g(n(1389)),l=g(n(1390)),c=g(n(1391)),u=g(n(1392)),d=g(n(1393)),_=g(n(1394)),E=g(n(1398)),h=g(n(1400)),S=g(n(1404)),T=g(n(1407)),p=g(n(1410)),f=g(n(1413));function g(e){return e&&e.__esModule?e:{default:e}}var A=angular.module("tangerine.insights.module",[]).run(i.default).constant("InsightsConstants",a.default).constant("InsightsServiceConfig",s.default).component("insights",_.default).component("tngInsight",E.default).component("tngInsightCarousel",h.default).component("tngInsightDefault",S.default).component("tngModalInsight",T.default).component("tngInsightLoadingBar",p.default).component("tngInsightBanner",f.default).service("InsightsService",o.default).service("InsightsEventService",r.default).service("InsightsRequestService",l.default).service("InsightsSessionService",c.default).filter("staticAbsoluteUrl",u.default).directive("insightBackground",d.default);t.default=A,e.exports=t.default},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$transitions"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={EVENT_MAP:{OPEN_URL:"openUrl",OPEN_INTERNAL_URL:"openInternalUrl",OPEN_EXTERNAL_URL:"openExternalUrl",OPEN_SECURE_URL:"openSecureUrl",OPEN_MODAL:"openModal",CLOSE_MODAL:"closeModal",REMOVE_CARD:"removeCard",ANALYTICS_EVENT:"analyticsEvent",INTERACT_EVENT:"interactEvent",INSIGHT_LOADED:"insightLoaded",GO_TO_STATE:"goToState"},INTERACTION_EVENTS:{VIEW:"evt_LogContact",RECEIVED:"evt_LogContactOLIST",REMIND_ME:"evt_RemindMe",NOT_HELPFUL:"evt_NotHelpful"},INTERACTION_POINTS:{BASKET:"ip_OnboardingProductBasket",FEED:"ip_insightsFeed",SUMMARY:"ip_InsightsCarousel",LOGIN:"ip_LoginBanner",LOGOUT:"ip_LogoutBanner",CHATBOT:"ip_ChatBot"},SESSION:{COOKIE_NAME:"tng.insights.sessionId",CACHE_PREFIX:"tng.insights.cache",HEADER:"interact-sessionid",HEADER_MFP:"Interact-SessionId",AUDIENCE_CUSTOMER:"Customer",AUDIENCE_ANONYMOUS:"Anonymous",GOOGLE_ANALYTICS_ID:"_ga",ANALYTICS_ID:"_aid"},STATUS_CODES:{SUCCESS:"SUCCESS",WARNING:"WARNING",ERROR:"ERROR",SESSION_NOT_FOUND:1},FEED:{DISPLAY_LIMIT:5},INSIGHT_UI:{MOBILE_BREAKPOINT:482,TABLET_BREAKPOINT:768},DEVICE_ORIGINS:{MOBILE:"M",WEB:"W",DAWT:"D"},EXTERNAL_EVENTS:{OPEN_MODAL:"insightsExternalOpenModal"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={AVAILABLE_SERVICES:{GET_INSIGHTS:"insights",EVENT:"insightsEvent",DELETE_SESSION:"insightsDeleteSession"},SERVICE_CONFIG:{defaults:{timeout:1e4,mockBaseURL:"/assets/res/mock/insights"},insights:{method:"GET",HTTP:{url:"/v1/campaign/insights"},MOCK:{url:"/insights.json"}},insightsDeleteSession:{method:"DELETE",HTTP:{url:"/v1/campaign/session"},MOCK:{url:"/session_delete.json"}},insightsEvent:{method:"POST",HTTP:{url:"/v1/campaign/events"},MOCK:{url:"/event.json"}},visitorSiteProductRates:{method:"GET",HTTP:{url:"/json/currentRates.json"},MOCK:{url:"/assets/res/mock/json/currentRates.json"}}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(539)),a=u(n(198)),s=u(n(540)),o=u(n(58)),r=u(n(8)),l=u(n(0)),c=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n,i,a,s,o,c,u,d,_,E,h,S){(0,l.default)(this,e),this.EnvironmentService=t,this.InsightsRequestService=n,this.InsightsServiceConfig=i,this.InsightsSessionService=a,this.InsightsConstants=s,this.LocaleService=o,this.localeConstants=c,this.$filter=u,this.$log=d,this.$q=_,this.$sce=E,this.$cookies=h,this.$http=S,this.config=t.get("insights"),this.isMock=t.isMock()||!this.config.apiUrl,this.templateBaseUrl=""+this.config.staticBaseUrl,this.config=(0,r.default)(this.config,{cardBaseUrl:this.templateBaseUrl+"/insight/assets/cards/",defaultCardUrl:"assets/cards/default.html",productRatesUrl:""+this.templateBaseUrl+this.InsightsServiceConfig.SERVICE_CONFIG.visitorSiteProductRates.HTTP.url}),this.mockCardUrl="/assets/res/mock/insights/cards/",this.mockModalUrl="/assets/res/mock/insights/cards/modal/",this.mockProductRatesUrl=this.InsightsServiceConfig.SERVICE_CONFIG.visitorSiteProductRates.MOCK.url,this.cardBaseUrl=this.isMock?this.mockCardUrl:this.config.cardBaseUrl,this.modalBaseUrl=this.isMock?this.mockModalUrl:this.config.modalBaseUrl,this.productRatesUrl=this.isMock?this.mockProductRatesUrl:this.config.productRatesUrl,this.analyticsId=this.$cookies.get(this.InsightsConstants.SESSION.GOOGLE_ANALYTICS_ID)||this.$cookies.get(this.InsightsConstants.SESSION.ANALYTICS_ID),this.analyticsId||(this.analyticsId=Math.floor(1e6*Math.random()),this.$cookies.put(this.InsightsConstants.SESSION.ANALYTICS_ID,this.analyticsId,{path:"/"})),this._openCarouselOnLaunch=!0}return(0,c.default)(e,[{key:"getInsights",value:function(e,t){var n=this;return this.InsightsSessionService.startSession(e.isLogin,e.requireSession).then((function(){var i=n.InsightsSessionService.getSession(),a=i.id,s=e.audience||i.audience;(!s||t&&s===n.InsightsConstants.SESSION.AUDIENCE_CUSTOMER)&&(s=n.InsightsConstants.SESSION.AUDIENCE_ANONYMOUS,a="");var o=n.EnvironmentService.isNative()?n.InsightsConstants.DEVICE_ORIGINS.MOBILE:n.InsightsConstants.DEVICE_ORIGINS.WEB,r={appId:n.config.appId,audienceLevel:s,channel:n.config.channel,"interaction-point":e.interactionPoint,origin:o};e.count&&(r.count=e.count),e.skip&&(r.skip=e.skip),n.analyticsId&&(r.aid=n.analyticsId);var l={};return a&&(l[n.InsightsConstants.SESSION.HEADER]=a),n.InsightsRequestService.request(n.InsightsServiceConfig.AVAILABLE_SERVICES.GET_INSIGHTS,{headers:l,queries:r}).then((function(i){var a=i.data&&i.data.status===n.InsightsConstants.STATUS_CODES.ERROR,o=i.data&&i.data.statusCode===n.InsightsConstants.STATUS_CODES.SESSION_NOT_FOUND,r=e.disableRetry&&o,l=!e.disableRetry&&o;return i.data&&i.data.insights||l||!a&&!r?e.disableRetry||!o?(n.$log.debug("insights call failed for unknown reason",i),n._handleSuccess(i,s,e.interactionPoint)):(n.$log.debug("possible interact session error, invalidating session",i),n.InsightsSessionService.setExpired(o),e.disableRetry=!0,n.getInsights(e,t)):n._handleError(i)})).catch((function(e){return n._handleError(e)}))}))}},{key:"getProductRates",value:function(){var e=this;return this.$http({method:"GET",url:this.productRatesUrl}).then((function(t){return e._mapProductRatesForInsights(t.data)})).catch((function(t){e.$log.error("currentRates.json failed to load for some reason",t)}))}},{key:"_mapProductRatesForInsights",value:function(e){var t=e.rates||[],n=e.exchange_rates||[],i={},a=!0,s=!1,r=void 0;try{for(var l,c=(0,o.default)(t);!(a=(l=c.next()).done);a=!0){var u=l.value,d=u.profile_product_type||u.group;u.min_rate_balance&&(d=d+"_"+u.min_rate_balance),u.term&&(d=d+"_"+u.term),i[d]=u}}catch(e){s=!0,r=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw r}}var _=!0,E=!1,h=void 0;try{for(var S,T=(0,o.default)(n);!(_=(S=T.next()).done);_=!0){var p=S.value;i["EXCHANGE_RATES_"+p.currency]=p}}catch(e){E=!0,h=e}finally{try{!_&&T.return&&T.return()}finally{if(E)throw h}}return i}},{key:"_handleSuccess",value:function(e,t,n){if(this.$log.debug("_handleSuccess",e),t===this.InsightsConstants.SESSION.AUDIENCE_ANONYMOUS){var i=e.headers();this.InsightsSessionService.setSession(i[this.InsightsConstants.SESSION.HEADER],t)}return this._sanitizeInsights(e.data.insights||[],n).then((function(e){return{insights:e,lastUpdated:new Date}}))}},{key:"_handleError",value:function(e){return this.$log.debug("getInsights:_handleError",e),this.$q.reject(e)}},{key:"_sanitizeInsights",value:function(e,t){var n,o=this,r=[],l=this.localeConstants.SHORTHAND_LOCALE[this.LocaleService.locale],c=(n=(0,s.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.default.all(e.map(function(){var e=(0,s.default)(i.default.mark((function e(n,s){var c,u,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={cacheKey:o._generateCacheKey(n.code?n.code[0]:"",n.treatmentCode),id:n.code?n.code[0]:void 0,name:n.name,interactionPoint:t,score:n.score,treatmentCode:n.treatmentCode,pos:s+1},u=n.attributes.reduce((function(e,t){if(e[t.name]=t.value,angular.isString(t.value)&&t.value.indexOf("|")>=1){var n=t.value.split("|");n.length>=3&&(e[n[0].trim()]=o._richProperty(n[1],n[2]))}return e}),{}),delete n.attributes,u.chartData)try{u.chartData=angular.fromJson(u.chartData)}catch(e){o.$log.debug("chart data is not proper json",c,u.chartData,e)}if(!u.ic_cardName){e.next=12;break}if(c.modalUrl=o.getModalUrl(u.ic_cardName,l),d=""+o.cardBaseUrl+u.ic_cardName+"_"+l+".html",c.interactionPoint!==o.InsightsConstants.INTERACTION_POINTS.CHATBOT){e.next=11;break}r.push(angular.extend(c,u)),e.next=12;break;case 11:return e.abrupt("return",o.$http({method:"GET",url:d}).then((function(e){-1===e.data.indexOf("<!doctype html>")?(c.cardUrl=o.$sce.trustAsResourceUrl(d),r.push(angular.extend(c,u))):o.$log.error("could not find the card through the card url, skipping insight",d)})));case 12:return o.$log.error("card url not provided, skipping insight",c,u),e.abrupt("return",a.default.resolve());case 14:case"end":return e.stop()}}),e,o)})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return n.stop()}}),n,o)}))),function(){return n.apply(this,arguments)});return this.getProductRates().then((function(e){return c().then((function(){return e&&r.forEach((function(t){t.productMap=e})),r}))}))}},{key:"getModalUrl",value:function(e,t){if(e){t||(t=this.localeConstants.SHORTHAND_LOCALE[this.LocaleService.locale]);var n=this.templateBaseUrl+"/"+t+"/assets/modal/mp-"+e+".html";return this.$sce.trustAsResourceUrl(n)}}},{key:"_generateCacheKey",value:function(e,t){var n=this.InsightsSessionService.getSession().id+"|"+e;return t?n+"|"+t.substring(0,8):n}},{key:"_richProperty",value:function(e,t){var n=e.trim(),i=t.trim();if(0===n.indexOf("numeric")){var a=2,s=/^\w+:(\d+)/.exec(n);return s&&(a=s[1]),this.$filter("number")(i,a)}if("currency"===n)return this.$filter("currency")(i,void 0,2);if(0===n.indexOf("date")){var o="mediumDate",r=/^\w+:(\w+)/.exec(n);return r&&"long"===r[1]&&(o="longDate"),this.$filter("date")(i,o)}return i}},{key:"defaultCardUrl",get:function(){return this.config.defaultCardUrl}},{key:"openCarouselOnLaunch",get:function(){return this._openCarouselOnLaunch},set:function(e){this._openCarouselOnLaunch=e}}]),e}();d.$inject=["EnvironmentService","InsightsRequestService","InsightsServiceConfig","InsightsSessionService","InsightsConstants","LocaleService","localeConstants","$filter","$log","$q","$sce","$cookies","$http"],t.default=d,e.exports=t.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E,h,S){var T=this;(0,i.default)(this,e),this.InsightsRequestService=n,this.InsightsServiceConfig=a,this.InsightsSessionService=s,this.InsightsConstants=o,this.InsightsEvents=o.EVENT_MAP,this.InteractEvents=o.INTERACTION_EVENTS,this.$window=r,this.$log=l,this.AnalyticsService=c,this.analyticsEvents=u.AVAILABLE_EVENTS,this.EnvironmentService=t,this.config=t.get("insights"),this.internalBaseUrl=""+this.config.staticBaseUrl,this.isNative=t.isNative(),this.$state=h,this.EventBusService=d,this.$rootScope=E,this.INSIGHTS_SHOW_EXTERNAL_ACCOUNTS=S.ACCOUNT_AGGREGATION.INSIGHTS_SHOW_EXTERNAL_ACCOUNTS,this.INSIGHT_CARD_HASHTAG_ID=S.ACCOUNT_AGGREGATION.INSIGHT_CARD_HASHTAG_ID,this.INSIGHT_CARD_EXTERNAL_ID=S.ACCOUNT_AGGREGATION.INSIGHT_CARD_EXTERNAL_ID,d.subscribe(E,_.KEEP_ALIVE,(function(){return T.keepAlive()}))}return(0,a.default)(e,[{key:"sendEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t){case this.InsightsEvents.OPEN_URL:case this.InsightsEvents.OPEN_INTERNAL_URL:case this.InsightsEvents.OPEN_EXTERNAL_URL:case this.InsightsEvents.OPEN_SECURE_URL:this._openUrl(t,e,n);break;case this.InsightsEvents.ANALYTICS_EVENT:this._handleAnalyticsEvent(e.treatmentCode,n);break;case this.InsightsEvents.INTERACT_EVENT:this._handleInteractButtonEvent(e,n.eventType,n);break;case this.InteractEvents.VIEW:this._handleInteractViewEvent(e);break;case this.InteractEvents.RECEIVED:break;case this.InsightsEvents.GO_TO_STATE:this._handleGoToStateEvent(e,n);break;default:this.$log.debug("unknown event action",t,e,n)}}},{key:"_openUrl",value:function(e,t,n){if(n.url)if(e===this.InsightsEvents.OPEN_EXTERNAL_URL)this.$window.open(n.url,this.isNative?"_system":"_blank");else if(e===this.InsightsEvents.OPEN_URL||e===this.InsightsEvents.OPEN_INTERNAL_URL){delete t.productMap;var i=this.$window.btoa(this.$window.JSON.stringify(t)),a="offer_id="+t.id+"&tngod="+i+"&interact_zone="+t.interactionPoint;t.ic_basketProducts&&(a+="&product_id="+t.ic_basketProducts);var s=n.url+(n.url.indexOf("?")>-1?"&":"?")+a;this.isNative&&(s=this.internalBaseUrl+"/"+s),this.$window.open(s,this.isNative?"_system":"_self")}else e===this.InsightsEvents.OPEN_SECURE_URL&&(this.isNative&&n.url?(0===n.url.indexOf("/")?n.url=n.url.substring(1):0===n.url.indexOf(this.EnvironmentService.getBaseUrl())&&(n.url=n.url.substring(this.EnvironmentService.getBaseUrl().length),0===n.url.indexOf("/")&&(n.url=n.url.substring(1))),0===n.url.indexOf("en/")||0===n.url.indexOf("fr/")?(n.url=this.EnvironmentService.getBaseUrl()+"/"+n.url,this.$window.open(n.url,n.target||"_self"),this._processAccountAggregationCard(n.url)):(window.location.href=n.url,this._processAccountAggregationCard(n.url))):(this.$window.open(n.url,n.target||"_self"),this._processAccountAggregationCard(n.url)))}},{key:"_isAccountAggregationInsightCard",value:function(e){return e&&(-1!==e.indexOf(this.INSIGHT_CARD_HASHTAG_ID)||-1!==e.indexOf(this.INSIGHT_CARD_EXTERNAL_ID))}},{key:"_isAccountAggregationAccountSummaryInsightCard",value:function(e){return-1!==e.indexOf(this.INSIGHT_CARD_HASHTAG_ID)}},{key:"_processAccountAggregationCard",value:function(e){this._isAccountAggregationInsightCard(e)&&(this.EventBusService.INSIGHTS_SHOW_EXTERNAL_ACCOUNTS=!0,this._isAccountAggregationAccountSummaryInsightCard(e)&&this.EventBusService.publish(this.INSIGHTS_SHOW_EXTERNAL_ACCOUNTS))}},{key:"_handleAnalyticsEvent",value:function(e,t){t.gtmCode&&this.$log.debug("track gtm",e,t.gtmCode)}},{key:"_handleInteractViewEvent",value:function(e){var t="evt_LogContact"+e.offertype;if(this._hasPostedEvent(e.cacheKey))this.$log.debug("Ignoring previously posted event",t);else{var n=[{key:"UDFOfferType",value:e.offertype},{key:"offerCode",value:e.id}];e.interactionPoint&&n.push({key:"intpoint",value:e.interactionPoint}),this._handleInteractEvent(e,t,n),this.AnalyticsService.sendAction(this.analyticsEvents.PROMOTION_VIEW,void 0,e)}}},{key:"_handleInteractButtonEvent",value:function(e,t,n){var i=[{key:"offerCode",value:e.id}];n.responseType&&i.push({key:"UACIResponseTypeCode",value:n.responseType}),e.interactionPoint&&i.push({key:"intpoint",value:e.interactionPoint}),this._handleInteractEvent(e,t,i,!0),this.AnalyticsService.sendAction(this.analyticsEvents.PROMOTION_CLICK,void 0,e)}},{key:"_handleInteractReceivedEvent",value:function(e){var t=this;if(this._shouldSendEvent()){var n=[],i=this.InsightsSessionService.getCache()||[];if(e.forEach((function(e){var a=e.cacheKey+"_received";if(!(i.indexOf(a)>-1)){var s=[{key:"UACIOfferTrackingCode",value:e.treatmentCode},{key:"UDFOfferType",value:"OLIST"}];e.interactionPoint&&s.push({key:"intpoint",value:e.interactionPoint}),n.push({eventType:t.InteractEvents.RECEIVED,eventData:s}),i.push(a)}})),n.length){this.InsightsSessionService.updateCache(i);var a={},s=this.InsightsSessionService.getSession().id;s&&(a[this.InsightsConstants.SESSION.HEADER]=s);var o={appId:this.config.appId};this.InsightsRequestService.request(this.InsightsServiceConfig.AVAILABLE_SERVICES.EVENT,{data:{events:n},headers:a,queries:o})}}}},{key:"_handleInteractEvent",value:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._shouldSendEvent()){var s={eventType:"evt_LogContact"+e.offertype},o=[{key:"UDFOfferType",value:e.offertype},{key:"offerCode",value:e.id}];e.interactionPoint&&o.push({key:"intpoint",value:e.interactionPoint}),o.push({key:"UACIOfferTrackingCode",value:e.treatmentCode}),s.eventData=o;var r={eventType:t,eventData:[{key:"UACIOfferTrackingCode",value:e.treatmentCode}]};if(angular.isArray(n)&&(r.eventData=r.eventData.concat(n)),n&&n.eventType===this.InteractEvents.REMIND_ME){var l=this.InsightsSessionService.getCache();angular.isArray(l)?l.indexOf(e.cacheKey)<0&&l.push(e.cacheKey):l=[e.cacheKey],this.InsightsSessionService.updateCache(l)}var c={},u=this.InsightsSessionService.getSession(),d=u.id;d&&(c[this.InsightsConstants.SESSION.HEADER]=d);var _={appId:this.config.appId,audience:u?u.audience:void 0},E=[];a&&E.push(s),E.push(r),this.InsightsRequestService.request(this.InsightsServiceConfig.AVAILABLE_SERVICES.EVENT,{data:{events:E},headers:c,queries:_}).then((function(){i._addToCache(e.cacheKey)}))}}},{key:"_handleGoToStateEvent",value:function(e,t){this.$state.go(t.state,{insight:e})}},{key:"_shouldSendEvent",value:function(){return this.InsightsSessionService.getSession().audience===this.InsightsConstants.SESSION.AUDIENCE_CUSTOMER}},{key:"_hasPostedEvent",value:function(e){var t=this.InsightsSessionService.getCache();return angular.isArray(t)&&t.indexOf(e)>-1}},{key:"_addToCache",value:function(e){var t=this.InsightsSessionService.getCache();angular.isArray(t)?t.indexOf(e)<0&&t.push(e):t=[e],this.InsightsSessionService.updateCache(t)}},{key:"keepAlive",value:function(){this.$log.debug("Triggering insights keep alive");var e={},t=this.InsightsSessionService.getSession(),n=t.id;n&&(e[this.InsightsConstants.SESSION.HEADER]=n);var i={appId:this.config.appId,audience:t?t.audience:void 0};this.InsightsRequestService.request(this.InsightsServiceConfig.AVAILABLE_SERVICES.EVENT,{data:{events:[{eventType:"evt_Heartbeat",eventData:[]}]},headers:e,queries:i})}}]),e}();o.$inject=["EnvironmentService","InsightsRequestService","InsightsServiceConfig","InsightsSessionService","InsightsConstants","$window","$log","AnalyticsService","analyticsConstants","EventBusService","appStateConstants","$rootScope","$state","accountConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d){(0,i.default)(this,e),this.AnalyticsService=t,this.ErrorService=a,this.InsightsServiceConfig=s,this.defaultConfig=s.SERVICE_CONFIG.defaults,this.HTTP_VERBS=l.HTTP_VERBS,this.ANALYTICS_EVENTS=o.AVAILABLE_EVENTS,this.ERROR_EVENTS=r.AVAILABLE_EVENTS,this.REQUEST_TYPES=l.REQUEST_TYPES,this.$http=c,this.$q=u,this.$log=d,this.config=n.get("insights"),n.isMock()||!this.config.apiUrl?this.requestType=this.REQUEST_TYPES.MOCK:this.requestType=this.REQUEST_TYPES.HTTP}return(0,a.default)(e,[{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$log.debug("Insights Service request for "+e);var n=this.InsightsServiceConfig.SERVICE_CONFIG[e],i=n.method;return i&&i in this.HTTP_VERBS||(i=this.HTTP_VERBS.GET),this.AnalyticsService.sendAction(this.ANALYTICS_EVENTS.API_REQUEST,e),this.requestType!==this.REQUEST_TYPES.MOCK&&this.config.apiUrl?this._http(n,i,t):this._mockRequest(n,i,t)}},{key:"_http",value:function(e,t,n){var i=this,a=e.HTTP,s=this.config.apiUrl+a.url,o=a.timeout||this.defaultConfig.timeout;return this.$log.debug("_http",s,t,n),this.$http({method:t,url:s,data:n.data,params:n.queries,timeout:o,headers:n.headers,withCredentials:!0}).then((function(e){var t=e.data;return i._isErrorRequest(t.http_code)?i._processError(t):e})).catch((function(e){return i._processError(e)}))}},{key:"_mockRequest",value:function(e,t,n){var i=this,a=e.MOCK,s=this.defaultConfig.mockBaseURL+a.url;this.$log.debug("_mockRequest",s,t);var o=a.timeout||this.defaultConfig.timeout;return this.$http({method:this.HTTP_VERBS.GET,url:s,data:n.data,params:n.queries,timeout:o,headers:n.headers}).then((function(e){var t=e;return"default"in t.data&&(t.data=t.data.default),"mockResponse"in n&&t.data[n.mockResponse]&&(t.data=t.data[n.mockResponse]),t})).catch((function(e,t){return i.$q.reject({data:e,status:t})}))}},{key:"_isErrorRequest",value:function(e){return e>=400}},{key:"_processError",value:function(e){var t=this;return this.ErrorService.processError(e,this.ERROR_EVENTS.REQUEST_ERROR).then((function(n){return t.$q.reject({data:e.data,status:e.status,errorMessage:n.message})})).catch((function(){return t.$q.reject()}))}}]),e}();o.$inject=["AnalyticsService","EnvironmentService","ErrorService","InsightsServiceConfig","analyticsConstants","errorConstants","serviceConstants","$http","$q","$log"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(33)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c,u,d){(0,a.default)(this,e),this.RequesterService=t,this.serviceConstants=n,this.InsightsRequestService=i,this.InsightsServiceConfig=s,this.SESSION_CONSTANTS=o.SESSION,this.$q=l,this.$log=c,this.$cookies=u,this.CacheFactory=d,this.config=r.get("insights"),this.session={},this.sessionPromise=null,this.insightsCache=null,this.cookieDefaults={path:"/"};var _=this.getSession();_.id&&(this.insightsCache=this._initializeCache(_.id))}return(0,s.default)(e,[{key:"getSession",value:function(){if(this.session.id&&this.session.audience)return this.session;var e=this.$cookies.get(this.SESSION_CONSTANTS.COOKIE_NAME),t={};if(e){var n=e.split(";");t.id=n[0],t.audience=n[1]}return this.session&&(t.expired=this.session.expired),t}},{key:"setSession",value:function(e,t){this.session={id:e,audience:t},this.sessionPromise=this.$q.when(this.session),e?(this.$cookies.put(this.SESSION_CONSTANTS.COOKIE_NAME,e+";"+t,this.cookieDefaults),this.insightsCache=this._initializeCache(e)):this.$cookies.remove(this.SESSION_CONSTANTS.COOKIE_NAME)}},{key:"deleteSession",value:function(){var e=this,t=(0,i.default)({},this.SESSION_CONSTANTS.HEADER,this.getSession().id),n={appId:this.config.appId};return this._clearSession(),this.InsightsRequestService.request(this.InsightsServiceConfig.AVAILABLE_SERVICES.DELETE_SESSION,{headers:t,queries:n}).then((function(t){return e.$log.debug("InsightsSessionService:deleteSession",t),t}))}},{key:"_clearSession",value:function(){try{this.insightsCache&&this.insightsCache.removeAll()}catch(e){return}this.setSession("",this.SESSION_CONSTANTS.AUDIENCE_ANONYMOUS)}},{key:"setExpired",value:function(e){this.session&&(this.session.expired=!0),this.sessionPromise=void 0,e&&(this.$log.debug("InsightsSessionService:deleteSessionCookie"),this.$cookies.remove(this.SESSION_CONSTANTS.COOKIE_NAME))}},{key:"startSession",value:function(e,t){var n=this;if(this.sessionPromise&&!e)return this.sessionPromise;if(!e&&!t)return this.$q.when({});if(t&&!this.sessionPromise){var i=this.getSession();if(i.id&&!i.expired)return this.sessionPromise=this.$q.when(i),this.sessionPromise}var a={data:{channel:this.config.channel}},s=this.getSession().id;return s&&(a.headers={},a.headers[this.SESSION_CONSTANTS.HEADER]=s),this.sessionPromise=this.RequesterService.request(this.serviceConstants.AVAILABLE_SERVICES.INSIGHTS_SESSION,a).then((function(e){return n._handleSessionSuccess(e)})).catch((function(e){return n._handleSessionError(e)})),this.sessionPromise}},{key:"_handleSessionSuccess",value:function(e){e.status===this.serviceConstants.STATUS_CODES.SUCCESS?this.setSession(e.responseHeaders[this.SESSION_CONSTANTS.HEADER]||e.responseHeaders[this.SESSION_CONSTANTS.HEADER_MFP],this.SESSION_CONSTANTS.AUDIENCE_CUSTOMER):this._handleSessionError(e)}},{key:"_handleSessionError",value:function(e){return this.$log.error(e),this.$q.reject(e)}},{key:"_initializeCache",value:function(e){var t=this.SESSION_CONSTANTS.CACHE_PREFIX+"."+e;return this.CacheFactory.get(t)||this.CacheFactory.createCache(t,{deleteOnExpire:"aggressive",recycleFreq:6e4,storageMode:"sessionStorage"}),this.CacheFactory.get(t)}},{key:"_getCacheName",value:function(){return this.SESSION_CONSTANTS.CACHE_PREFIX+"."+this.getSession().id}},{key:"getCache",value:function(){return this.insightsCache?this.insightsCache.get(this._getCacheName()):null}},{key:"updateCache",value:function(e){try{this.insightsCache.put(this._getCacheName(),e)}catch(e){this.$log.error("Failed to update insights cache: "+e.toString())}}}]),e}();r.$inject=["RequesterService","serviceConstants","InsightsRequestService","InsightsServiceConfig","InsightsConstants","EnvironmentService","$q","$log","$cookies","CacheFactory"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";function i(e){return function(t){return t&&e.isNative()&&!t.startsWith("http")?e.get("insights").staticBaseUrl+t:t}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["EnvironmentService"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";(function(n){function i(e,t){return{restrict:"A",scope:{options:"=insightBackground"},link:function(i,a){var s=i.options||{},o=e(s.desktop),r=e(s.tablet||s.desktop),l=e(s.mobile),c=s.mobileBreakpoint||t.INSIGHT_UI.MOBILE_BREAKPOINT,u=s.tabletBreakpoint||t.INSIGHT_UI.TABLET_BREAKPOINT,d=void 0,_=function(){var e=n(window).width(),t=void 0;(t=e>u?o:e>c?r:l)&&d!==t&&(d=t,a.css({"background-image":"url("+t+")"}))};n(window).on("resize",_),i.$on("$destroy",(function(){n(window).off("resize",_)})),_()}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["staticAbsoluteUrlFilter","InsightsConstants"],t.default=i,e.exports=t.default}).call(this,n(93))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1395)),a=s(n(1396));function s(e){return e&&e.__esModule?e:{default:e}}n(1397);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(39)),a=l(n(58)),s=l(n(15)),o=l(n(0)),r=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,i,a,s,r,l,c,u){(0,o.default)(this,e),this.InsightsService=t,this.InsightsConstants=n,this.InsightsEvents=n.EVENT_MAP,this.INTERACTION_EVENTS=n.INTERACTION_EVENTS,this.InsightsEventService=i,this.$anchorScroll=a,this.LocaleService=s,this.localeConstants=r,this.$scope=l,this.$translate=c,this.$timeout=u,this.insights=[],this.insightsQueue=[],this.requestCount=1e3,this.categories={},this.isLoading=!1,this.hasReachedEnd=!1,this.isModalOpen=!1,this.filterObj={localizedCategory:null,localizedProduct:null},this.selected={localizedCategory:null,localizedProduct:null},this.CATEGORY_ALL_CATEGORIES=this.$translate.instant("insights.select.category")}return(0,r.default)(e,[{key:"comparator",value:function(e,t){return null===t||angular.equals(e,t)}},{key:"handleEvent",value:function(e,t,n){switch(e){case this.InsightsEvents.OPEN_MODAL:this._openModal(n);break;case this.InsightsEvents.CLOSE_MODAL:this.onModalClose();break;case this.InsightsEvents.REMOVE_CARD:this._removeCard(n);break;case this.InsightsEvents.INSIGHT_LOADED:break;default:this.InsightsEventService.sendEvent(n,e,t)}}},{key:"_removeCard",value:function(e){var t=this.insights.indexOf(e);t>-1&&(this.insights.splice(t,1),this._invalidateDropdown()),this.insights.length||(this.errorMessage=this.$translate.instant("insights.noInsights"))}},{key:"_openModal",value:function(e){this.selectedInsight=e,this.isModalOpen=!0}},{key:"onModalClose",value:function(){this.isModalOpen=!1}},{key:"scrollToTopOfList",value:function(){this.$anchorScroll("")}},{key:"shouldThrottleLazyLoad",value:function(){return this.isLoading||0===this.insights.length||this.hasReachedEnd}},{key:"onLoadMore",value:function(){this.isLoading||this.hasReachedEnd||this._fetchInsights(!1)}},{key:"_fetchInsights",value:function(e){var t=this;if(e){this.isLoading=!0;var n={interactionPoint:this.InsightsConstants.INTERACTION_POINTS.FEED,count:this.requestCount,audience:this.InsightsConstants.SESSION.AUDIENCE_CUSTOMER,requireSession:!0};this.InsightsService.getInsights(n).then((function(e){if(!e.insights||!e.insights.length)return t.hasReachedEnd=!0,void t._setErrorMessage("insights.noInsights",!1);t.insightsQueue=e.insights.concat(),e.insights&&e.insights.length&&t._dequeueInsights(),t.handleEvent(t.INTERACTION_EVENTS.RECEIVED,{insights:e.insights})})).catch((function(){t._setErrorMessage("insights.serviceErrorShort",!0)})).finally((function(){t.isLoading=!1}))}else this.$scope.$apply((function(){t._dequeueInsights()}))}},{key:"_dequeueInsights",value:function(){var e=this,t=Math.min(this.InsightsConstants.FEED.DISPLAY_LIMIT,this.insightsQueue.length),n=this.insightsQueue.splice(0,t);this.insights=this.insights.concat(n),this._invalidateDropdown(),this.hasReachedEnd=!this.insightsQueue.length,this.insights.forEach((function(t){e.handleEvent(e.INTERACTION_EVENTS.VIEW,{},t)}))}},{key:"_invalidateDropdown",value:function(){var e=this;this.categories={};var t=!0,n=!1,o=void 0;try{for(var r,l=function(){var t=r.value,n=e._getDropdownTranslation(t.ic_filter_category),i=e._getDropdownTranslation(t.ic_filter_product);if(t.localizedCategory=n,t.localizedProduct=i,!n)return{v:void 0};n&&!e.categories[n]&&(e.categories[n]=[]),i&&void 0===e.categories[n].find((function(e){return e.value===i}))&&e.categories[n].push({value:i})},c=(0,a.default)(this.insights);!(t=(r=c.next()).done);t=!0){var u=l();if("object"===(void 0===u?"undefined":(0,i.default)(u)))return u.v}}catch(e){n=!0,o=e}finally{try{!t&&c.return&&c.return()}finally{if(n)throw o}}this.selectCategories=[{label:this.CATEGORY_ALL_CATEGORIES,value:this.CATEGORY_ALL_CATEGORIES}],this.selectCategories=this.selectCategories.concat((0,s.default)(this.categories).map((function(e){return{label:e,value:e}}))),this.selected.localizedCategory=this.selectCategories[0].value}},{key:"onCategorySelect",value:function(){this.selected.localizedCategory===this.CATEGORY_ALL_CATEGORIES?this.filterObj.localizedCategory=null:this.filterObj.localizedCategory=this.selected.localizedCategory,this.preselectProductDropdown()}},{key:"onProductSelect",value:function(){this.filterObj.localizedProduct=this.selected.localizedProduct}},{key:"preselectProductDropdown",value:function(){this.selected.localizedProduct=null;var e=this.categories[this.filterObj.localizedCategory];e&&1===e.length&&(this.selected.localizedProduct=e[0].value),this.onProductSelect()}},{key:"_getDropdownTranslation",value:function(e){if(!e)return e;var t=e.split(";");return 1===t.length?t[0].trim():this.LocaleService.locale===this.localeConstants.LOCALES.FR_CA?t[1].trim():t[0].trim()}},{key:"_setErrorMessage",value:function(e,t){var n=this;this.$timeout((function(){n.serviceError=t,n.errorMessage=n.$translate.instant(e)}),400)}},{key:"$onInit",value:function(){this._fetchInsights(!0)}}]),e}();c.$inject=["InsightsService","InsightsConstants","InsightsEventService","$anchorScroll","LocaleService","localeConstants","$scope","$translate","$timeout"],t.default=c,e.exports=t.default},function(e,t){e.exports='<section class="c-insights"> <tng-insight-loading-bar actionable-id="insights_loadingBar" is-loading="$ctrl.isLoading"></tng-insight-loading-bar> <div class="container"> <h1 class="heading--title">{{ \'insights.title\' | translate }}</h1> <div class="c-insights__filters" ng-if="$ctrl.insights.length"> <div class="grid__container"> <div class="grid__column--1of3"> <tng-select-autocomplete input-id="insights_selectOffer" name="insightsOfferDropDown" ng-model="$ctrl.selected.localizedCategory" options="$ctrl.selectCategories" option-label-key="label" option-value-key="value" on-select="$ctrl.onCategorySelect();" is-static="true"></tng-select-autocomplete> </div> <div class="grid__column--1of3" ng-if="$ctrl.filterObj.localizedCategory && $ctrl.categories[$ctrl.filterObj.localizedCategory].length"> <tng-select-autocomplete name="insightsAccountDropDown" input-id="insights_selectAccount" ng-model="$ctrl.selected.localizedProduct" options="$ctrl.categories[$ctrl.filterObj.localizedCategory]" option-label-key="value" option-value-key="value" on-select="$ctrl.onProductSelect()" is-static="true" placeholder="insights.select.subcategory"></tng-select-autocomplete> </div> </div> </div> <div class="c-error-message panel" ng-class="{ \'service-error\': $ctrl.serviceError }" ng-if="$ctrl.errorMessage"> <span>{{ $ctrl.errorMessage }}</span> </div> </div> <tng-lazy-loader should-throttle-callback="$ctrl.shouldThrottleLazyLoad()" on-bottom-reached="$ctrl.onLoadMore()"> <ul class="c-insights-list insights"> <li ng-repeat="insight in $ctrl.insights | filter:$ctrl.filterObj:$ctrl.comparator track by $index"> <tng-insight insight="insight" on-event="$ctrl.handleEvent(action, properties, insight, $index);"> </tng-insight></li> </ul> </tng-lazy-loader> <div ng-if="$ctrl.hasReachedEnd && $ctrl.insights.length" style="text-align:center"> <p class="margin__all--rel2"><strong>{{ \'transactions.endOfTheList\' | translate }}</strong></p> <a class="btn btn--large btn--edit" href="" ng-click="$ctrl.scrollToTopOfList()" actionable-id="insights-to-top-of-feed"> {{ \'transactions.backToTheTop\' | translate }} </a> </div> </section> <tng-modal-insight ng-if="$ctrl.isModalOpen" insight="$ctrl.selectedInsight" on-event="$ctrl.handleEvent(action, properties, $ctrl.selectedInsight);"></tng-modal-insight> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(465));function a(e){return e&&e.__esModule?e:{default:e}}var s={template:a(n(1399)).default,controller:i.default,bindings:{insight:"<",onEvent:"&"}};t.default=s,e.exports=t.default},function(e,t){e.exports='<ng-include src="$ctrl.insight.cardUrl" onload="$ctrl.onInsightLoaded()"></ng-include> <div class="banner--internal-page" ng-if="$ctrl.cardLoadError"></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1401)),a=s(n(1402));function s(e){return e&&e.__esModule?e:{default:e}}n(1403);var o={template:a.default,controller:i.default,bindings:{insights:"<"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r,l,c,u,d,_){(0,a.default)(this,e),this.InsightsService=t,this.InsightsConstants=n,this.InsightsEvents=n.EVENT_MAP,this.INTERACTION_EVENTS=n.INTERACTION_EVENTS,this.InsightsEventService=i,this.EnvironmentService=s,this.$log=o,this.$element=r,this.$timeout=l,this.$scope=c,this.$translate=u,this.EventBusService=d,this.AnalyticsService=_,this.currentSlide=1,this.insights=[],this.isLoading=!1,this.isChromium=this.EnvironmentService.isChromium(),this.isDesktop="desktop"===this.EnvironmentService.getFormFactorRealTime(),this.isOpen=!0,this.isModalOpen=!1,this.sliderInitialized=!1}return(0,s.default)(e,[{key:"removeInsight",value:function(e){var t=this,n=e;this.insights.splice(n,1),this.$timeout((function(){t.listElement.addClass("instant-slide"),t._reinitSlider(),t.$timeout((function(){if(t.insights.length>0){n%=t.insights.length,t.slider.goToSlide(n),t.currentSlide=n+1;var e=t.insights[n];e&&(t.isLightCard=e.isLightCard,t.handleEvent(t.INTERACTION_EVENTS.VIEW,{},e,n))}t.listElement.css({visibility:"visible"})}),80)}),10),this.$timeout((function(){t.listElement.removeClass("instant-slide")}),200),this.insights.length||(this.listElement.parent().parent().remove(),this.isOpen=!1,this._hideDefaultCard(),this._setWarningMessage(this.$translate.instant("insights.noInsights"),!1))}},{key:"handleEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;switch(e){case this.InsightsEvents.OPEN_MODAL:this._openModal(n);break;case this.InsightsEvents.CLOSE_MODAL:this.onModalClose();break;case this.InsightsEvents.REMOVE_CARD:this.removeInsight(i);break;case this.InsightsEvents.INSIGHT_LOADED:this._onInsightLoaded(n,t,i);break;default:this.InsightsEventService.sendEvent(n,e,t)}}},{key:"_openModal",value:function(e){this.selectedInsight=e,this.isModalOpen=!0}},{key:"onModalClose",value:function(){this.isModalOpen=!1}},{key:"_onInsightLoaded",value:function(e,t,n){e.isLightCard=t.isLightCard,this.currentSlide===n+1&&(this.isLightCard=e.isLightCard),0===n&&(this._initSlider(),this.isOpen=this.InsightsService.openCarouselOnLaunch)}},{key:"$onInit",value:function(){var e=this;this._initComponents(),this.isLoading=!0,this.isOpen=this.InsightsService.openCarouselOnLaunch,this.$timeout((function(){e.InsightsService.getInsights({audience:e.InsightsConstants.SESSION.AUDIENCE_CUSTOMER,requireSession:!0,count:3,interactionPoint:"ip_InsightsCarousel"}).then((function(t){if(e.insights=t.insights,!e.insights||!e.insights.length)return e._setWarningMessage(e.$translate.instant("insights.noInsights"),!1),e._hideDefaultCard(),void e._dismissCarousel();try{e.handleEvent(e.INTERACTION_EVENTS.VIEW,{},e.insights[0],0),e.handleEvent(e.INTERACTION_EVENTS.RECEIVED,{insights:e.insights})}catch(e){}e.EventBusService.subscribe(e.$scope,e.InsightsConstants.EXTERNAL_EVENTS.OPEN_MODAL,(function(t,n){e.handleEvent(e.InsightsEvents.OPEN_MODAL,null,n)}))})).catch((function(){e._setWarningMessage(e.$translate.instant("insights.serviceErrorShort"),!0),e._hideDefaultCard(),e._dismissCarousel()})).finally((function(){e.isLoading=!1}))}),700)}},{key:"_dismissCarousel",value:function(){var e=this;this.$timeout((function(){e.isOpen=!1}),200)}},{key:"toggleCarouselOpen",value:function(){this.isOpen=!this.isOpen,this.InsightsService.openCarouselOnLaunch=this.isOpen;var e=this.AnalyticsService.EVENT_CATEGORY.INSIGHTS;this.AnalyticsService.sendAction(this.AnalyticsService.availableEvents.CUSTOM_EVENT,"Toggle",{category:e})}},{key:"_initComponents",value:function(){this.listElement.css({visibility:"hidden"}),this.listElement.addClass("bxslider")}},{key:"_hideDefaultCard",value:function(){this.defaultCardElement.css({visibility:"hidden"})}},{key:"_initSlider",value:function(){var e=this;if(!this.sliderInitialized){this.$log.debug("First insight loaded.. load slider"),this.sliderInitialized=!0;var t=function(){e.$scope.$apply((function(){e.isAnimating=!0}))},n=function(t,n,i){i<0||e.$scope.$apply((function(){e.isAnimating=!1,e.$timeout((function(){e.currentSlide=i+1}));var t=e.insights[i];e.handleEvent(e.INTERACTION_EVENTS.VIEW,{},t,i),e.isLightCard=t.isLightCard}))};setTimeout((function(){e.slider=e.listElement.bxSlider({auto:!1,pager:!1,touchEnabled:(!e.isChromium||!e.isDesktop)&&e.insights.length>1,pause:6e3,speed:450,onSlideBefore:t,onSlideAfter:n}),e.listElement.css({visibility:"visible"}),e.defaultCardElement.css({display:"none"}),e.insights&&e.insights.length&&e.getDropDownElement.css({display:"block"})}),50)}}},{key:"_reinitSlider",value:function(){this.sliderInitialized=!1,this.slider.destroySlider(),this._initSlider()}},{key:"_setWarningMessage",value:function(e,t){var n=this;this.$timeout((function(){n.warningMessage=e,n.serviceError=t}),0)}},{key:"listElement",get:function(){return i(this.$element.find("ul")[0])}},{key:"defaultCardElement",get:function(){return i(this.$element.find("tng-insight-default")[0])}},{key:"getDropDownElement",get:function(){return i(this.$element.find("button.c-insights-carousel__toggle")[0])}}]),e}();r.$inject=["InsightsService","InsightsConstants","InsightsEventService","EnvironmentService","$log","$element","$timeout","$scope","$translate","EventBusService","AnalyticsService"],t.default=r,e.exports=t.default}).call(this,n(93))},function(e,t){e.exports='<section class="c-insights-carousel" ng-class="{ \'is-close\': !$ctrl.isOpen, \'error\': $ctrl.serviceError }"> <span class="c-insights-carousel__warning" ng-if="!$ctrl.isLoading && !$ctrl.insights.length">{{$ctrl.warningMessage}}</span> <div ng-if="!$ctrl.isLoading && $ctrl.insights.length && $ctrl.insights.length > 1 && !$ctrl.isOpen" class="c-insights-carousel__hint" ng-click="$ctrl.toggleCarouselOpen()"> <span class="banner--internal-page__icon icon-lightbulb hide--small-mobile"></span><span class="c-insights-carousel__hint__text">{{ \'insights.newInsights\' | translate: {newInsightsCount: $ctrl.insights.length} }} <span class="hide--mobile">{{ \'insights.reviewMultipleReminder\' | translate }}</span></span> </div> <div ng-if="!$ctrl.isLoading && $ctrl.insights.length && $ctrl.insights.length === 1 && !$ctrl.isOpen" class="c-insights-carousel__hint" ng-click="$ctrl.toggleCarouselOpen()"> <span class="banner--internal-page__icon icon-lightbulb hide--small-mobile"></span><span class="c-insights-carousel__hint__text">{{ \'insights.oneNewInsight\' | translate }} <span class="hide--mobile">{{ \'insights.reviewOneReminder\' | translate }}</span></span> </div> <button ng-if="$ctrl.insights.length" class="c-insights-carousel__toggle" ng-click="$ctrl.toggleCarouselOpen();" actionable-id="insights-toggle" ng-class="{ \'light\': !$ctrl.isLightCard }"> <span ng-class="$ctrl.isOpen ? \'icon-uparrow\' : \'icon-downarrow\'"></span> </button> <div class="c-insights-carousel__container insights" ng-class="{ \'is-hidden\': !$ctrl.isOpen, \'is-animating\': $ctrl.isAnimating }"> <div> <div actionable-id="insightsCarousel_indicator" ng-if="$ctrl.isOpen && $ctrl.sliderInitialized && $ctrl.insights.length" class="c-insights-carousel__indicator print-hide" ng-class="{ \'light\': !$ctrl.isLightCard, \'dark\': $ctrl.isLightCard }"> {{ $ctrl.currentSlide }} / {{ $ctrl.insights.length }} </div> <div> <ul style="position:absolute"> <li ng-repeat="insight in $ctrl.insights"><tng-insight insight="::insight" on-event="$ctrl.handleEvent (action, properties, insight, $index)"></tng-insight></li> </ul> </div> </div> <div> <tng-insight-default on-event="$ctrl.handleEvent(action, properties, {});"></tng-insight-default> </div> </div> </section> <tng-modal-insight ng-if="$ctrl.isModalOpen" insight="$ctrl.selectedInsight" on-event="$ctrl.handleEvent(action, properties, $ctrl.selectedInsight);"></tng-modal-insight> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1405));function a(e){return e&&e.__esModule?e:{default:e}}var s={template:a(n(1406)).default,controller:i.default,bindings:{onEvent:"&"}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.InsightsService=t}return(0,a.default)(e,[{key:"handleEvent",value:function(e,t){this.onEvent({action:e,properties:t})}},{key:"$onInit",value:function(){this.card={cardUrl:this.InsightsService.defaultCardUrl}}}]),e}();o.$inject=["InsightsService"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="banner--internal-page"> <div class="banner--internal-page__container"> <div class="c-insights-default-card__container"> <span class="c-insights-default-card__container__loader"></span> <span class="c-insights-default-card__container__label">{{ \'insights.loading\' | translate }}</span> </div> </div> </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(465)),a=s(n(1408));function s(e){return e&&e.__esModule?e:{default:e}}n(1409);var o={template:a.default,controller:i.default,bindings:{insight:"<",onEvent:"&"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<ng-include src="$ctrl.insight.modalUrl" onload="$ctrl.onModalLoaded()" ng-if="!$ctrl.disableModal"></ng-include> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1411));function a(e){return e&&e.__esModule?e:{default:e}}var s={template:a(n(1412)).default,controller:i.default,bindings:{isLoading:"<"}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(){(0,s.default)(this,e)};o.$inject=[],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-insights-loading-bar"> <div class="c-insights-loading-bar__container" ng-class="{ \'hidden\': !$ctrl.isLoading }"> <span class="c-insights-loading-bar__container__loader"></span> <span class="c-insights-loading-bar__container__label">{{ \'insights.loading\' | translate }}</span> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1414));function a(e){return e&&e.__esModule?e:{default:e}}var s={template:a(n(1415)).default,controller:i.default,bindings:{insight:"<"}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l){(0,i.default)(this,e),this.InsightsService=t,this.InsightsEvents=n.EVENT_MAP,this.sessionConstants=n.SESSION,this.INTERACTION_EVENTS=n.INTERACTION_EVENTS,this.InsightsEventService=a,this.InsightsSessionService=s,this.EventBusService=o,this.localeConstants=r,this.$scope=l,this.isModalOpen=!1}return(0,a.default)(e,[{key:"handleEvent",value:function(e,t,n){switch(e){case this.InsightsEvents.OPEN_MODAL:this._openModal(n);break;case this.InsightsEvents.CLOSE_MODAL:this.onModalClose();break;case this.InsightsEvents.INSIGHT_LOADED:break;default:this.InsightsEventService.sendEvent(n,e,t)}}},{key:"_openModal",value:function(e){this.selectedInsight=e,this.isModalOpen=!0}},{key:"onModalClose",value:function(){this.isModalOpen=!1}},{key:"$onChanges",value:function(e){var t=e.insight;if(t&&t.currentValue){var n=t.currentValue;this.handleEvent(this.INTERACTION_EVENTS.VIEW,{},n);var i=this.InsightsSessionService.getSession();i.audience&&i.audience===this.sessionConstants.AUDIENCE_CUSTOMER&&this.handleEvent(this.INTERACTION_EVENTS.RECEIVED,{insights:[n]},void 0)}}}]),e}();o.$inject=["InsightsService","InsightsConstants","InsightsEventService","InsightsSessionService","EventBusService","localeConstants","$scope"],t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-insight insight="$ctrl.insight" on-event="$ctrl.handleEvent (action, properties, $ctrl.insight)"></tng-insight> <tng-modal-insight ng-if="$ctrl.isModalOpen" insight="$ctrl.selectedInsight" on-event="$ctrl.handleEvent(action, properties, $ctrl.selectedInsight)"></tng-modal-insight>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1417),s=(i=a)&&i.__esModule?i:{default:i};var o=angular.module("tangerine.comingSoon.module",[]).component("comingSoon",s.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1418)),a=s(n(1419));function s(e){return e&&e.__esModule?e:{default:e}}n(1420);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.$window=t,this.$interpolate=n,this.environmentService=a,this.localeService=s,this.loginConstants=o}return(0,a.default)(e,[{key:"handleBack",value:function(){this.$window.history.back()}},{key:"goToTangerineSite",value:function(){var e=this.$interpolate("https://www.tangerine.ca/{{locale}}/index.html")({locale:this.localeService.localeDisplay.toLowerCase()});this.$window.open(e,"_self")}}]),e}();o.$inject=["$window","$interpolate","EnvironmentService","LocaleService","loginConstants"],t.default=o,e.exports=t.default},function(e,t){e.exports=' <style>.banner--internal-page{min-height:300px;color:#fff;text-align:center;border:0;padding:50px;display:block;margin:auto;margin:0;margin-right:auto;margin-left:auto}.banner--internal-page__icon,[class*=" banner--internal-page__icon--"],[class^=banner--internal-page__icon--]{font-size:3.5em;border-radius:50px;display:inline-flex;float:left;color:#fff;background-color:#f58426;font-weight:400;font-style:normal;font-stretch:normal;float:none;width:4.5rem}.banner--internal-page__icon__icon,[class*=" banner--internal-page__icon__icon--"],[class^=banner--internal-page__icon__icon--]{background-color:#f58426;color:#fff;display:inline-block}.banner--internal-page__icon__title,[class*=" banner--internal-page__icon__title--"],[class^=banner--internal-page__icon__title--]{color:#fff}.banner--internal-page__icon__info,[class*=" banner--internal-page__icon__info--"],[class^=banner--internal-page__icon__info--]{color:#fff}.banner--internal-page__icon__button::after,[class*=" banner--internal-page__icon__button--"]::after,[class^=banner--internal-page__icon__button--]::after{clear:both;content:"";display:block}.banner--internal-page__icon h1,.banner--internal-page__icon h2,.banner--internal-page__icon h3,.banner--internal-page__icon h4,.banner--internal-page__icon h5,.banner--internal-page__icon h6,.banner--internal-page__icon p,[class*=" banner--internal-page__icon--"] h1,[class*=" banner--internal-page__icon--"] h2,[class*=" banner--internal-page__icon--"] h3,[class*=" banner--internal-page__icon--"] h4,[class*=" banner--internal-page__icon--"] h5,[class*=" banner--internal-page__icon--"] h6,[class*=" banner--internal-page__icon--"] p,[class^=banner--internal-page__icon--] h1,[class^=banner--internal-page__icon--] h2,[class^=banner--internal-page__icon--] h3,[class^=banner--internal-page__icon--] h4,[class^=banner--internal-page__icon--] h5,[class^=banner--internal-page__icon--] h6,[class^=banner--internal-page__icon--] p{color:#fff}@media (max-width:1279px){.banner--internal-page__icon,[class*=" banner--internal-page__icon--"],[class^=banner--internal-page__icon--]{width:3.5rem}}@media (max-width:479px){.banner--internal-page__icon,[class*=" banner--internal-page__icon--"],[class^=banner--internal-page__icon--]{width:4.5rem}}.banner--internal-page__title,[class*=" banner--internal-page__title--"],[class^=banner--internal-page__title--]{font-family:TangerineCircular,Arial,Helvetica,sans-serif;font-size:70px;font-size:4.375rem;font-weight:700;font-style:normal;font-stretch:normal;line-height:1.08}@media (min-width:480px) and (max-width:1279px){.banner--internal-page__title,[class*=" banner--internal-page__title--"],[class^=banner--internal-page__title--]{font-size:64px;font-size:4rem}}@media (max-width:375px){.banner--internal-page__title,[class*=" banner--internal-page__title--"],[class^=banner--internal-page__title--]{font-size:48px;font-size:3rem;word-wrap:break-word}}@media (max-width:375px) and (min-width:480px) and (max-width:1279px){.banner--internal-page__title,[class*=" banner--internal-page__title--"],[class^=banner--internal-page__title--]{font-size:44px;font-size:2.75rem}}.banner--internal-page__info,[class*=" banner--internal-page__info--"],[class^=banner--internal-page__info--]{padding:20px 0}.banner--internal-page__button-container,[class*=" banner--internal-page__button-container--"],[class^=banner--internal-page__button-container--]{position:absolute;bottom:20px;left:20px}.banner--internal-page__button,[class*=" banner--internal-page__button--"],[class^=banner--internal-page__button--]{font-size:18px;font-size:1.125rem;display:inline-block;border-radius:6px;font-weight:700;line-height:1;text-align:center;padding:.5em .75em;width:auto;background-color:#f58426;color:#fff;width:auto;padding:.5em .75em;float:none;margin-left:0!important}@media (min-width:480px) and (max-width:1279px){.banner--internal-page__button,[class*=" banner--internal-page__button--"],[class^=banner--internal-page__button--]{font-size:14px;font-size:.875rem}}.banner--internal-page__button:active,.banner--internal-page__button:hover,[class*=" banner--internal-page__button--"]:active,[class*=" banner--internal-page__button--"]:hover,[class^=banner--internal-page__button--]:active,[class^=banner--internal-page__button--]:hover{opacity:.9}.banner--internal-page__button.disabled,.banner--internal-page__button[disabled],[class*=" banner--internal-page__button--"].disabled,[class*=" banner--internal-page__button--"][disabled],[class^=banner--internal-page__button--].disabled,[class^=banner--internal-page__button--][disabled]{opacity:.5}.btn__row>.banner--internal-page__button+.banner--internal-page__button,.btn__row>.banner--internal-page__button+[class*=" banner--internal-page__button--"],.btn__row>.banner--internal-page__button+[class^=banner--internal-page__button--],.btn__row>[class*=" banner--internal-page__button--"]+.banner--internal-page__button,.btn__row>[class*=" banner--internal-page__button--"]+[class*=" banner--internal-page__button--"],.btn__row>[class*=" banner--internal-page__button--"]+[class^=banner--internal-page__button--],.btn__row>[class^=banner--internal-page__button--]+.banner--internal-page__button,.btn__row>[class^=banner--internal-page__button--]+[class*=" banner--internal-page__button--"],.btn__row>[class^=banner--internal-page__button--]+[class^=banner--internal-page__button--]{margin-left:.625em}.btn__row--wide>.banner--internal-page__button+.banner--internal-page__button,.btn__row--wide>.banner--internal-page__button+[class*=" banner--internal-page__button--"],.btn__row--wide>.banner--internal-page__button+[class^=banner--internal-page__button--],.btn__row--wide>[class*=" banner--internal-page__button--"]+.banner--internal-page__button,.btn__row--wide>[class*=" banner--internal-page__button--"]+[class*=" banner--internal-page__button--"],.btn__row--wide>[class*=" banner--internal-page__button--"]+[class^=banner--internal-page__button--],.btn__row--wide>[class^=banner--internal-page__button--]+.banner--internal-page__button,.btn__row--wide>[class^=banner--internal-page__button--]+[class*=" banner--internal-page__button--"],.btn__row--wide>[class^=banner--internal-page__button--]+[class^=banner--internal-page__button--]{margin-left:1.25em}.banner--internal-page__button::after,[class*=" banner--internal-page__button--"]::after,[class^=banner--internal-page__button--]::after{clear:both;content:"";display:block}.banner--internal-page.backgroundImg{background-repeat:no-repeat;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;background-position:center}@media (max-width:480px){.banner--internal-page{width:auto}}</style> <div> <div class="banner--internal-page backgroundImg dynamic c-coming-soon__banner"> <div class="banner--internal-page__container"><span class="banner--internal-page__icon dynamic"></span> <div translate-cloak class="banner--internal-page__title margin__t--fix2 dynamic" translate>{{ ::\'comingSoon.title\' }}</div> <p class="banner--internal-page__info dynamic"></p> </div> </div> <div class="c-coming-soon__directive"> <br> <p translate-cloak translate>{{ ::\'comingSoon.body\' }} <br> </p><p translate-cloak translate>{{ ::\'comingSoon.link\' }}</p> <br> <button actionable-id="comming-soon-back_btn" class="btn" ng-click="$ctrl.handleBack()" type="submit"> {{ \'comingSoon.button\' | translate }} </button> </div> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1422)),a=o(n(1426)),s=o(n(1427));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("tangerine.help.module",[]).constant("helpConstants",a.default).service("HelpFlowStateService",s.default).component("help",i.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1423)),a=s(n(1424));function s(e){return e&&e.__esModule?e:{default:e}}n(1425);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u){(0,i.default)(this,e),this.helpConstants=t,this.stateConstants=n,this.localeConstants=a,this.HelpFlowStateService=s,this.CobrowseService=o,this.LocaleService=r,this.$stateParams=l,this.$scope=c,this.$log=u}return(0,a.default)(e,[{key:"$onInit",value:function(){this.$stateParams.locale?this.LocaleService.locale=this.localeConstants.LOCALES.FR_CA:this.LocaleService.locale=this.localeConstants.LOCALES.EN_CA,this.CobrowseService.session?(this.cobrowseSession=this.CobrowseService.session,this.cobrowseSessionToken=this.CobrowseService.session.token,this.HelpFlowStateService.next()):(this.HelpFlowStateService.init(),this.cobrowseSessionToken=null,this.cobrowseSession=null),this.CobrowseService.registerSessionStartedCB(this._cobrowseSessionStarted.bind(this)),this.CobrowseService.registerApiInitializedCB(this._cobrowseApiInitialized.bind(this)),this.CobrowseService.registerAgentJoinedCB(this._cobrowseAgentJoined.bind(this)),this.CobrowseService.registerSessionEndedCB(this._cobrowseSessionEnded.bind(this))}},{key:"$onDestroy",value:function(){this.CobrowseService.deregisterAllCB()}},{key:"startCobrowseSession",value:function(){this.HelpFlowStateService.isSpinnerActive=!0,this.CobrowseService.startCobrowseSession()}},{key:"endCobrowseSession",value:function(){this.CobrowseService.endCobrowseSession()}},{key:"_cobrowseStartedOrInitializedSetup",value:function(e){this.cobrowseSession=e,this.cobrowseSessionToken=e.token,this.HelpFlowStateService.isSpinnerActive=!1,this.HelpFlowStateService.next(),this.$scope.$apply()}},{key:"_cobrowseSessionStarted",value:function(e){this._cobrowseStartedOrInitializedSetup(e)}},{key:"_cobrowseApiInitialized",value:function(e){e&&this._cobrowseStartedOrInitializedSetup(e)}},{key:"_cobrowseSessionEnded",value:function(){this.cobrowseSession=null,this.cobrowseSessionToken=null,this.HelpFlowStateService.reset(),this.$scope.$apply()}},{key:"_cobrowseAgentJoined",value:function(){}},{key:"state",get:function(){return this.HelpFlowStateService.isSpinnerActive?this.HelpFlowStateService.spinnerActiveState:this.HelpFlowStateService.flowState}}]),e}();o.$inject=["helpConstants","stateConstants","localeConstants","HelpFlowStateService","CobrowseService","LocaleService","$stateParams","$scope","$log"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-help c-help-p"> <div class="container"> <h5 class="team-brand-help" translate="contactUs.modal.callYou.brand"> <span class="icon-tangerine"></span> </h5> <h1 class="heading--title ng-binding" translate="contactUs.IVRCobrowse.title"></h1> <div class="c-help c-help-p spinner" ng-show="$ctrl.state === \'SPINNER_ACTIVE\'"> <tng-loading-spinner>{{\'global.commonWords.loading\' | translate}}</tng-loading-spinner> </div> <div ng-show="$ctrl.state === \'COBROWSE_DISCONNECTED\'"> <p translate="contactUs.IVRCobrowse.disconnected.content"></p> <button actionable-id="help-submit_btn" translate="contactUs.IVRCobrowse.disconnected.buttons.getCode" class="btn--edit btn--larger" ng-click="$ctrl.startCobrowseSession()" type="submit"> </button> <p>{{\'contactUs.IVRCobrowse.disconnected.privacy\' | translate}} <a actionable-id="help-privacy_link" ng-href="{{::\'contactUs.IVRCobrowse.disconnected.privacyLink\' | translate}}">{{\'contactUs.IVRCobrowse.disconnected.privacyLinkText\' | translate }}</a></p> </div> <div class="" ng-show="$ctrl.state === \'COBROWSE_CONNECTED\'"> <div class="panel"> <span translate="contactUs.IVRCobrowse.connected.shareCode"></span> <h1 class="connection-code">{{ $ctrl.cobrowseSessionToken }}</h1> </div> <p translate="contactUs.IVRCobrowse.connected.content"></p> </div> </div> </div> <tng-enrollment-confirmation></tng-enrollment-confirmation> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={FLOW:{COBROWSE_CONNECTED:"COBROWSE_CONNECTED",COBROWSE_DISCONNECTED:"COBROWSE_DISCONNECTED"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.$log=t,this.helpConstants=n,this.FLOW_OPTIONS={COBROWSE_DISCONNECTED:this.helpConstants.FLOW.COBROWSE_DISCONNECTED,COBROWSE_CONNECTED:this.helpConstants.FLOW.COBROWSE_CONNECTED},this.SPINNER_OPTIONS={ACTIVE:"SPINNER_ACTIVE",INACTIVE:"SPINNER_INACTIVE"}}return(0,a.default)(e,[{key:"init",value:function(){this.reset()}},{key:"reset",value:function(){this._flowState=this.FLOW_OPTIONS.COBROWSE_DISCONNECTED,this._spinnerState=this.SPINNER_OPTIONS.INACTIVE}},{key:"next",value:function(){var e=this._flowState,t=this.FLOW_OPTIONS;switch(e){case t.COBROWSE_DISCONNECTED:this._flowState=t.COBROWSE_CONNECTED;break;default:this.$log.error("Unknown or unrecognized state.")}}},{key:"flowState",get:function(){return this._flowState}},{key:"isSpinnerActive",set:function(e){this._spinnerState=e?this.SPINNER_OPTIONS.ACTIVE:this.SPINNER_OPTIONS.INACTIVE},get:function(){return this._spinnerState===this.SPINNER_OPTIONS.ACTIVE}},{key:"spinnerActiveState",get:function(){return this.SPINNER_OPTIONS.ACTIVE}}]),e}();o.$inject=["$log","helpConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1429)),a=s(n(1430));function s(e){return e&&e.__esModule?e:{default:e}}var o=angular.module("NavigationModule",[]).config(i.default).component("tngNavigation",a.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){e.state(t.MOBILE_NAVIGATION_DOCUMENTS,{cache:!1,component:"tngNavigation",url:"/documents",data:{menu:n.MENU_TYPES.MOBILE_NAVIGATION_DOCUMENTS,parentNavigation:t.NAVIGATION,requiresAuth:!0,title:"global.menu.login.documents"}})}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$stateProvider","stateConstants","menuConstants"],t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1431)),a=s(n(1432));function s(e){return e&&e.__esModule?e:{default:e}}n(1433);var o={template:i.default,controller:a.default};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-navigation-page fb2"> <div class="container"> <div class="c-user-settings__user-header__info-container"> <tng-cif-switcher current-page="$ctrl.currentPage" on-cif-switch="$ctrl.onCifSwitch()"> </tng-cif-switcher> </div> <nav class="mobile-nav"> <ul class="mobile-nav__list grid__container" ng-if="!$ctrl.cifTypeService.isSwitchingCifs" tng-nav-list="$ctrl.getCurrentNavList()"> <li class="grid__column--1of2" ng-repeat="navItem in navList.items" ng-if="$ctrl.hidePageOnCifType(navItem)"> <a class="mobile-nav__item" ui-sref="{{ navItem.action }}" actionable-id="navigation_navItem_{{ $index }}"> {{ navItem.displayName | translate }} <span class="icon" ng-show="navItem.displayName === \'global.menu.login.inbox\'"> {{ $ctrl.inboxCount }} </span> <span class="icon-rightarrow"></span> </a> </li> </ul> </nav> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E,h){(0,i.default)(this,e),this.UserService=t,this.stateConstants=n,this.menuConstants=a,this.$state=s,this.cifTypeService=o,this.MenuService=r,this.serviceConstants=l,this.InboxService=c,this.UserSettingsConstants=u,this.$scope=d,this.EventBusService=_,this.TimerService=h,this.AccountSummaryService=E,this.userInfo={},this.isLoading=!0}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.UserService.getUserInfo().then((function(t){e.userInfo=t.customer})).finally((function(){e.TimerService.endTimerForAction(e.TimerService.EVENTS.VIEW_PROFILE_SETTINGS)})),this.getUserNotificationCount(),this.EventBusService.subscribe(this.$scope,this.UserSettingsConstants.EVENTS.CIF_SWITCHER_READY,(function(){e.isLoading=!1}))}},{key:"getUserNotificationCount",value:function(){var e=this;this.InboxService.getNewMessageCount().then((function(t){t.response_status.status_code===e.serviceConstants.STATUS_CODES.SUCCESS&&(e.userNotificationCount=t.total_number_of_new_emessages)}))}},{key:"getCurrentNavList",value:function(){return this.cifTypeService.didParentSwitchToChild()&&this.$state.current.data.menu!==this.menuConstants.MENU_TYPES.MOBILE_NAVIGATION_DOCUMENTS?this.menuConstants.MENU_TYPES.MOBILE_NAVIGATION_CHILD:this.$state.current.data.menu}},{key:"handleLogOutClick",value:function(){this.MenuService.handleMenuInteraction(this.menuConstants.LINK_TYPES.METHOD,this.menuConstants.ACTION_METHODS.LOGOUT)}},{key:"hidePageOnCifType",value:function(e){var t=!0,n=e.displayName.toUpperCase();return this.cifTypeService.isChild()?(-1===n.indexOf(this.UserSettingsConstants.COMPONENT.ORANGE_ALERTS.VALUE)&&-1===n.indexOf(this.UserSettingsConstants.COMPONENT.MONEY_TRANSFER.VALUE)&&-1===n.indexOf(this.UserSettingsConstants.COMPONENT.CONTEST_BONUSES.VALUE)||(t=!1),this.cifTypeService.didParentSwitchToChild()||-1===n.indexOf(this.UserSettingsConstants.COMPONENT.EXTERNAL_ACCOUNTS.VALUE)||(t=!1)):this.cifTypeService.isBusiness()?-1===n.indexOf(this.UserSettingsConstants.COMPONENT.ORANGE_ALERTS.VALUE)&&-1===n.indexOf(this.UserSettingsConstants.COMPONENT.MONEY_TRANSFER.VALUE)||(t=!1):this.cifTypeService.didParentSwitchToChild()||-1!==n.indexOf(this.UserSettingsConstants.COMPONENT.ASP.VALUE)&&(t=!1),-1===n.indexOf(this.UserSettingsConstants.COMPONENT.ORANGE_ALERTS.VALUE)||this.AccountSummaryService.hasCheckingAccounts()||this.AccountSummaryService.hasCreditCardAccounts()||this.AccountSummaryService.hasSavingAccounts()||(t=!1),t}},{key:"inboxCount",get:function(){return"0"===this.userNotificationCount?"":this.userNotificationCount}}]),e}();o.$inject=["UserService","stateConstants","menuConstants","$state","CifTypeService","MenuService","serviceConstants","InboxService","UserSettingsConstants","$scope","EventBusService","AccountSummaryService","TimerService"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1435),s=(i=a)&&i.__esModule?i:{default:i};var o=angular.module("SignOutModule",[]).component("signOut",s.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1436);var s={controller:((i=a)&&i.__esModule?i:{default:i}).default};t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,i.default)(this,e),this.menuService=t}return(0,a.default)(e,[{key:"$onInit",value:function(){this.menuService.logout()}}]),e}();o.$inject=["MenuService"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(1438)),a=c(n(1442)),s=c(n(1443)),o=c(n(1447)),r=c(n(1448)),l=c(n(1449));function c(e){return e&&e.__esModule?e:{default:e}}var u=angular.module("MobilePayModule",[]).component("mobilePay",i.default).component("tngMobilePayCardList",s.default).service("MobilePayEnrollmentService",o.default).service("MobilePayEnrollmentSessionService",r.default).service("MobilePayEnrollmentHelperService",l.default).constant("MobilePayEnrollmentConstants",a.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1439)),a=s(n(1440));function s(e){return e&&e.__esModule?e:{default:e}}n(1441);var o={template:a.default,controller:i.default};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u){(0,i.default)(this,e),this.$log=t,this.$translate=a,this.$state=n,this.$timeout=s,this.MobilePayEnrollmentSessionService=r,this.MobilePayEnrollmentHelperService=l,this.MobilePayEnrollmentConstants=c,this.stateConstants=u,this.isCafeApp=o.isCafeApp(),this.redirectToWallet=!1,this.wallet=this._getWalletText(this.MobilePayEnrollmentSessionService.getWalletType())}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.title=this.$translate.instant("mobilePay.title.initial",{wallet:this.wallet}),this.description="",this.errors="",this.footerText=this.$translate.instant(this.MobilePayEnrollmentSessionService.isAndroidPay()?"mobilePay.button.redirectToWallet":"mobilePay.button.done"),this.matchingCards=[],this.verifiedCards=[],this.isLoading=!1,this.hideMobilePayFooter=!1;var t=this.MobilePayEnrollmentSessionService.getError(),n=this.MobilePayEnrollmentSessionService.getPasses();if(this.$log.debug("mpay error code recieved from the service ",t),t)return this.errors=this._getErrorMessage(t),void(this.title=this.$translate.instant("mobilePay.title.mobilePayVerification"));this.isCafeApp||0===n.length?this.description=this._getDefaultDescriptionText(n,this.wallet):(this.isLoading=!0,this.MobilePayEnrollmentHelperService.getCardsForMobilePay(n).then((function(t){e.$log.debug("getCardsForMobilePay matchCards fetched",t),t&&t.length>0&&(e.hideMobilePayFooter=!0),e.matchingCards=t,e.description=e._getDefaultDescriptionText(t,e.wallet)})).catch((function(t){e.$log.error("getCardsForMobilePay error:",t),e.errors=e._getErrorText()})).finally((function(){e.isLoading=!1})))}},{key:"listItemClick",value:function(e){var t=this;this.$log.debug("listItemClick",e),e.status!==this.MobilePayEnrollmentConstants.CardStatusDisplayType.VERIFIED&&e.status!==this.MobilePayEnrollmentConstants.CardStatusDisplayType.IN_PROGRESS&&(this.errors="",this.hideMobilePayFooter=!0,e.status=this.MobilePayEnrollmentConstants.CardStatusDisplayType.IN_PROGRESS,this.isLoading=!0,this.$log.debug("listItemClick activateCard fired",e),this.MobilePayEnrollmentHelperService.activateCard(e).then((function(n){t.$log.debug("listItemClick activateCard result",n),t.isLoading=!1,n.error&&(t.errors=t._getErrorText()),t.MobilePayEnrollmentSessionService.isAndroidPay()||(t.$log.debug("listItemClick hiding footer"),t.hideMobilePayFooter=!1),t.MobilePayEnrollmentConstants.CardStatusDisplayType.VERIFIED===n.status&&(t.$log.debug("listItemClick Card Successfully Verified matchingCards",t.matchingCards),t.$log.debug("listItemClick Card Successfully Verified verifiedCards",t.verifiedCards),t.matchingCards.splice(t.matchingCards.indexOf(e),1),t.verifiedCards.push(n),t.showAdditionalCardsPrompt=t.verifiedCards.length>0&&t.matchingCards.length>0),0===t.matchingCards.length&&(t.title=t._getTitleWhenAllCardVerified(),t.description=t._getDescriptionWhenAllCardVerified(t.wallet),t.MobilePayEnrollmentSessionService.isAndroidPay()&&(t.redirectToWallet=!0,t.$log.debug("listItemClick redirecting to wallet!!!"),t.$timeout((function(){t.MobilePayEnrollmentHelperService.returnToWallet()}),3e3)))})).catch((function(){t.hideMobilePayFooter=!1})))}},{key:"doneClick",value:function(){this.$log.debug("doneClick redirecting to wallet!!!"),this.MobilePayEnrollmentSessionService.isAndroidPay()?this.MobilePayEnrollmentHelperService.returnToWallet():this.$state.go(this.stateConstants.ACCOUNT_SUMMARY,void 0,{location:"replace"})}},{key:"_getErrorMessage",value:function(e){switch(e){case 1e3:case 1001:default:return this.$translate.instant("mobilePay.error.mobilePayError")}}},{key:"_getErrorText",value:function(){return this.$translate.instant("mobilePay.error.service")}},{key:"_getTitleWhenAllCardVerified",value:function(){var e=this.MobilePayEnrollmentSessionService.isAndroidPay()?"mobilePay.title.almostDone":"mobilePay.title.allDone";return this.$translate.instant(e)}},{key:"_getDefaultDescriptionText",value:function(e,t){var n=!e||0===e.length?"mobilePay.prompt.noMatch":"mobilePay.prompt.initial";return this.$translate.instant(n,{wallet:t})}},{key:"_getDescriptionWhenAllCardVerified",value:function(e){var t=this.MobilePayEnrollmentSessionService.isAndroidPay()?"mobilePay.prompt.almostDone":"mobilePay.prompt.allDone";return this.$translate.instant(t,{wallet:e})}},{key:"_getWalletText",value:function(e){var t="mobilePay.walletType.applePay";return e?"SAMSUNG"===e.toUpperCase()?this.$translate.instant("mobilePay.walletType.samsungPay"):"GOOGLE"===e.toUpperCase()?this.$translate.instant("mobilePay.walletType.googlePay"):this.$translate.instant(t):this.$translate.instant(t)}}]),e}();o.$inject=["$log","$state","$translate","$timeout","EnvironmentService","MobilePayEnrollmentSessionService","MobilePayEnrollmentHelperService","MobilePayEnrollmentConstants","stateConstants"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div ng-if="$ctrl.isLoading" class="loginLoadingIndicator"> <tng-loading-in-progress></tng-loading-in-progress> </div> <div ng-if="!$ctrl.isLoading"> <div class="c-mobile-pay"> <div class="c-user-settings__user-header__info-container__info" ng-if="$ctrl.errors"> <tng-error-message> {{ $ctrl.errors | json}} </tng-error-message> </div> <div> <h2>{{ $ctrl.title }}</h2> <p>{{ $ctrl.description }}</p> <tng-mobile-pay-card-list cards="$ctrl.verifiedCards"></tng-mobile-pay-card-list> <div id="additionalCardsPrompt" ng-if="$ctrl.showAdditionalCardsPrompt"> <h3 translate>{{::\'mobilePay.prompt.additionalCard\'}}</h3> </div> <tng-mobile-pay-card-list cards="$ctrl.matchingCards" on-click="$ctrl.listItemClick(card)"></tng-mobile-pay-card-list> </div> </div> <div class="c-mobile-pay__redirect-to-wallet" ng-if="$ctrl.MobilePayEnrollmentSessionService.isAndroidPay() && $ctrl.redirectToWallet"> <tng-loading-spinner/> <p class="c-mobile-pay__redirect-to-wallet__description" translate>{{ ::\'mobilePay.redirectingBackToWallet\' }} </p> </div> <nav class="c-mobile-pay__footer" ng-if="!$ctrl.hideMobilePayFooter"> <div class="container"> <div class="c-mobile-pay__footer__controls btn__row"> <button class="btn btn--auto" ng-click="$ctrl.doneClick()" translate>{{ $ctrl.footerText }}</button> </div> </div> </nav> </div>'},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={SERVICES:{VERIFY_CREDIT_CARD:"ccVerifyForMobilePay",GET_CARDS_FOR_MOBILE_PAY:"getCardsForMobilePay",GENERATE_MSM_OTP:"generateMsmOtp"},CardStatusDisplayType:{PENDING:"Pending",VERIFIED:"Verified",ERROR:"Error",IN_PROGRESS:"In Progress"},PassesMockData:[{deviceAccountIdentifier:"DAPLMC0000132877d7fdd8b18e3347c5a2ac7aa61a40658a",deviceAccountNumberSuffix:"9876",primaryAccountIdentifier:"34791274891738129398",primaryAccountNumberSuffix:"9398"},{deviceAccountIdentifier:"DAPLMC0000132877d7fdd8b18e3347c5a2ac7aa61a40658b",deviceAccountNumberSuffix:"9877",primaryAccountIdentifier:"34791274891738129876",primaryAccountNumberSuffix:"9876"},{deviceAccountIdentifier:"DAPLMC0000132877d7fdd8b18e3347c5a2ac7aa61a40658c",deviceAccountNumberSuffix:"9878",primaryAccountIdentifier:"34791274891738129876",primaryAccountNumberSuffix:"9876"},{deviceAccountIdentifier:"DAPLMC0000132877d7fdd8b18e3347c5a2ac7aa61a40658d",deviceAccountNumberSuffix:"9879",primaryAccountIdentifier:"34791274891738129876",primaryAccountNumberSuffix:"9876"}],CardType:{CREDIT:"CREDIT",DEBIT:"DEBIT"}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1444)),a=s(n(1445));function s(e){return e&&e.__esModule?e:{default:e}}n(1446);var o={template:a.default,controller:i.default,bindings:{cards:"=",onClick:"&"}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};var o=function e(t,n){(0,s.default)(this,e),this.$log=t,this.$translate=n};o.$inject=["$log","$translate"],t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="c-mobile-pay-card-list c-tile c-tile--round" ng-repeat="card in $ctrl.cards"> <tng-tile-item class="c-tile--round" ng-click="$ctrl.onClick({card:card})"> <div class="tile-section"> <h3>{{card.card_name}}</h3> <p>*** {{card.last_digits}}</p> </div> <div class="tile-section align-right" ng-switch="card.status"> <span class="tile-section__arrow tile-section--orange icon-check2" ng-switch-when="Verified"></span> <span class="tile-section__arrow icon-other" ng-switch-when="Progress"></span> <span class="tile-section__arrow icon-rightarrow" ng-switch-default></span> </div> </tng-tile-item> </div> '},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){(0,i.default)(this,e),this.requesterService=t,this.services=n.SERVICES}return(0,a.default)(e,[{key:"verifyMobilePay",value:function(e){return this.requesterService.request(this.services.VERIFY_CREDIT_CARD,{data:e})}},{key:"getCardsForMobilePay",value:function(){return this.requesterService.request(this.services.GET_CARDS_FOR_MOBILE_PAY,{noError:!0})}},{key:"generateMsmOtp",value:function(e){return this.requesterService.request(this.services.GENERATE_MSM_OTP,{data:e})}}]),e}();o.$inject=["RequesterMobileService","MobilePayEnrollmentConstants"],t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e),this.passStore={},this.error=""}return(0,a.default)(e,[{key:"getPasses",value:function(){return this.passStore.passes||[]}},{key:"getWalletType",value:function(){return this.passStore.walletType||""}},{key:"setPasses",value:function(e){this.passStore.passes=e}},{key:"setWalletType",value:function(e){this.passStore.walletType=e}},{key:"setError",value:function(e){this.error=e}},{key:"getError",value:function(){return!this.error||isNaN(this.error)?"":this.error}},{key:"isAndroidPay",value:function(){return"GOOGLE"===this.getWalletType().toUpperCase()||"SAMSUNG"===this.getWalletType().toUpperCase()}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(15)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,i,s,o,r){(0,a.default)(this,e),this.$q=t,this.$log=n,this.MobilePayEnrollmentService=i,this.MobilePayEnrollmentSessionService=s,this.NativeService=o,this.CardType=r.CardType,this.CardStatusDisplayType=r.CardStatusDisplayType}return(0,s.default)(e,[{key:"getCardsForMobilePay",value:function(e){var t=this;return this.MobilePayEnrollmentService.getCardsForMobilePay().then((function(n){var a=e.reduce((function(e,t){return Object.prototype.hasOwnProperty.call(e,t.primaryAccountNumberSuffix)?e[t.primaryAccountNumberSuffix].push(t):e[t.primaryAccountNumberSuffix]=[t],e}),{}),s=(0,i.default)(a).map((function(e){var i=n.cards.find((function(t){return t.suffix.endsWith(e)}));return!!i&&{card_name:i.name,type:i.type,last_digits:e,hash_number:i.hash_number,token:a[e].map((function(e){return{deviceAccountIdentifier:e.deviceAccountIdentifier,deviceAccountNumberSuffix:e.deviceAccountNumberSuffix,primaryAccountIdentifier:e.primaryAccountIdentifier,primaryAccountNumberSuffix:e.primaryAccountNumberSuffix}})),status:t.CardStatusDisplayType.PENDING,results:[]}})).filter((function(e){return!!e}));return t.$q.when(s)}))}},{key:"activateCard",value:function(e){var t=this,n=this.$q.defer();e.results=[];var i=[];return e.token.forEach((function(n){var a=t._activateCardForSpecificToken(e,n);i.push(a)})),this.$q.all(i).finally((function(){e.status=t._getCardStatus(e),n.resolve(e)})),n.promise}},{key:"returnToWallet",value:function(){return this.NativeService.closeApp()}},{key:"_activateCardForSpecificToken",value:function(e,t){var n=this,i={account_hash:e.hash_number,device_account_identifier:t.deviceAccountIdentifier,device_account_number_suffix:t.deviceAccountNumberSuffix,primary_account_identifier:t.primaryAccountIdentifier,primary_account_number_suffix:t.primaryAccountNumberSuffix};return this._requestCardProcessing(e,i).then((function(t){n.$log.debug("_requestCardProcessing response:",t),e.token=e.token.filter((function(e){return e.deviceAccountIdentifier!==i.device_account_identifier})),e.results.push(n.CardStatusDisplayType.VERIFIED)}),(function(t){n.$log.error("requestCardProcessing error:",t),e.results.push(n.CardStatusDisplayType.ERROR),e.error=n.CardStatusDisplayType.ERROR}))}},{key:"_requestCardProcessing",value:function(e,t){return e.type===this.CardType.CREDIT?this._processCreditCard(t):this._processDebitCard(t)}},{key:"_processDebitCard",value:function(e){var t=this;return this.MobilePayEnrollmentService.generateMsmOtp(e).then((function(n){return t.NativeService.activatePaymentPass(e.device_account_identifier,n.OTP)}))}},{key:"_processCreditCard",value:function(e){var t=this;return this.MobilePayEnrollmentSessionService.isAndroidPay()?this.MobilePayEnrollmentService.verifyMobilePay(e).then((function(){return t.NativeService.activatePaymentPass(e.device_account_identifier)})):this.MobilePayEnrollmentService.verifyMobilePay(e)}},{key:"_getCardStatus",value:function(e){var t=[this.CardStatusDisplayType.VERIFIED,this.CardStatusDisplayType.ERROR,this.CardStatusDisplayType.PROGRESS];return e.results.reduce((function(e,n){return t[Math.max(t.indexOf(e),t.indexOf(n))]}))}}]),e}();r.$inject=["$q","$log","MobilePayEnrollmentService","MobilePayEnrollmentSessionService","NativeService","MobilePayEnrollmentConstants"],t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1451)),a=s(n(1455));function s(e){return e&&e.__esModule?e:{default:e}}var o=angular.module("InsightsTlocLearnMoreModule",[]).component("insightsTlocLearnMore",i.default).component("tlocLearnMore",a.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1452)),a=s(n(1453));function s(e){return e&&e.__esModule?e:{default:e}}n(1454);var o={template:i.default,controller:a.default,bindings:{}};t.default=o,e.exports=t.default},function(e,t){e.exports='<div class="insights-tloc-learnMore"> <tng-modal-dialog on-close="$ctrl.onModalClose()" analytics-id="tloc-preap-learn-more" ng-if="$ctrl.modalTypeVisible === $ctrl.tlocConstants.MODAL_TYPES.TLOC"> <div ng-if="!$ctrl.showExitWarning && !$ctrl.isLoading"> <tloc-learn-more offer="$ctrl.offer"></tloc-learn-more> </div> <footer ng-if="!$ctrl.showExitWarning && !$ctrl.isLoading && $ctrl.offer && !$ctrl.offerClosed"> <button class="btn btn--orange" ng-click="$ctrl.doAccept()" actionable-id="accountTile_detailsModal_close">{{ \'global.components.buttons.continue\' | translate }} </button> </footer> <div ng-if="$ctrl.isLoading"> <div class="container insights-tloc-learnMore__loading-spinner"> <tng-loading-spinner>{{ ::\'global.pageFlow.loading.isLoading\' | translate }}</tng-loading-spinner> </div> </div> </tng-modal-dialog> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8)),a=o(n(0)),s=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,s,o,r,l){(0,a.default)(this,e),(0,i.default)(this,{$log:t,$scope:n,stateConstants:s,$state:o,tlocConstants:r,TlocService:l}),this.showExitWarning=!1,this.modalTypeVisible=null,this.gotoAccountSummary=!0}return(0,s.default)(e,[{key:"$onInit",value:function(){this._setupModal()}},{key:"onModalClose",value:function(){this._close()}},{key:"_setupModal",value:function(){this.modalTypeVisible=this.tlocConstants.MODAL_TYPES.TLOC,this._getOffer()}},{key:"_getOffer",value:function(){var e=this;return this.isLoading=!0,this.TlocService.getOffers().then((function(t){e.offer=t})).catch((function(t){e._handleErrors(t)})).finally((function(){e.isLoading=!1}))}},{key:"_close",value:function(){this.modalTypeVisible=null,this.gotoAccountSummary&&this.$state.go(this.stateConstants.ACCOUNT_SUMMARY)}},{key:"_submitData",value:function(){this.submitErrors=[]}},{key:"_handleErrors",value:function(e){var t=this;"errorMessage"in e&&this.submitErrors.push(e.errorMessage),e.response_status&&("details"in e.response_status&&e.response_status.details.forEach((function(e){t.submitErrors.push(e)})),"status_code"in e.response_status&&"technical_description"in e.response_status&&-1===["CREATED","SUCCESS"].indexOf(e.response_status.status_code)&&this.submitErrors.push(e.response_status.technical_description)),this.$log.debug("formatted error:",this.submitErrors)}},{key:"doAccept",value:function(){this.$log.debug("doAccept invoked"),this.gotoAccountSummary=!1,this._close(),this.$state.go(this.stateConstants.EXISTING_CLIENT_ONBOARDING,{addAccount:"borrowing",products:this.offer.productTypeNumber})}},{key:"offerClosed",get:function(){return this.TlocService.tlocConstants.OFFER_STATUS.CLOSE===this.offer.offerStatus}}]),e}();r.$inject=["$log","$scope","stateConstants","$state","tlocConstants","TlocService"],t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1456)),a=s(n(1457));function s(e){return e&&e.__esModule?e:{default:e}}n(1458);var o={template:i.default,controller:a.default,bindings:{offer:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports=' <div class="dialog-content c-tloc-learnMore" ng-if="!$ctrl.isLoading"> <div ng-if="$ctrl.offer && !$ctrl.offerClosed"> <section class="intro"> <span ng-bind-html="\'tloc.learnMore.header\' | translate "></span> </section> <section> <p>{{ ::\'tloc.learnMore.subHeader1\' | translate }}</p> <p>{{ ::\'tloc.learnMore.subHeader2\' | translate }}</p> <p class="messageTitle">{{ ::\'tloc.learnMore.subHeader3\' | translate: { offerEndDate : $ctrl.offer.offerDetails.offerEndDate} }}</p> </section> <section> <p class="messageTitle" ng-bind-html="\'tloc.learnMore.info.header\' | translate"></p> <div class="c-tloc-modal"> <div class="c-balance-grid__table"> <div class="c-balance-grid__table has-right-border"> <div class="c-balance-grid__section"> <p class="top-margin-small"> <span class="c-balance-grid__title">{{ ::\'tloc.learnMore.info.preApproved.message\' | translate }}</span> <span class="gridValue" ng-bind-html="\'tloc.learnMore.info.preApproved.limit\' | translate:\n                  { creditLimit: $ctrl.offer.offerDetails.creditLimit }"> </span> </p> <p class="top-margin-small" ng-if="$ctrl.TlocService.isPromoClient($ctrl.offer)"> <span class="c-balance-grid__title">{{ ::\'tloc.learnMore.info.introductoryRate.message\' | translate }}</span> <span class="gridValue" ng-bind-html="\'tloc.learnMore.info.introductoryRate.note\' | translate:\n                    { interestRate: $ctrl.offer.offerDetails.promoRate }"> </span> </p> <p class="top-margin-small bottom-margin-medium"> <span class="c-balance-grid__title">{{ ::\'tloc.learnMore.info.interestRate.message\' | translate }}</span> <span class="gridValue" ng-bind-html="\'tloc.learnMore.info.interestRate.note\' | translate:\n                  {\n                    totalRate: $ctrl.offer.offerDetails.totalRate,\n                    spread: $ctrl.offer.offerDetails.spread }"> </span> </p> </div> </div> </div> <section> <p>{{ ::\'tloc.learnMore.note\' | translate }}</p> </section> <section> <p class="messageTitle"> {{ ::\'tloc.learnMore.introductory.header\' | translate }} </p> <p class="tlocFeature">{{ ::\'tloc.learnMore.introductory.features.online.header\' | translate }}</p> <p class="tlocFeatureDetails">{{ ::\'tloc.learnMore.introductory.features.online.content\' | translate }}</p> <p class="tlocFeature">{{ ::\'tloc.learnMore.introductory.features.safe.header\' | translate }}</p> <p class="tlocFeatureDetails" ng-bind-html="\'tloc.learnMore.introductory.features.safe.content\' | translate"></p> <section ng-if="$ctrl.TlocService.isPromoClient($ctrl.offer)"> <p> <span class="terms" ng-bind-html="\'tloc.learnMore.introductory.disclaimer\' | translate:\n                  { interestRate: $ctrl.offer.offerDetails.promoRate ,\n                       offerEndDate : $ctrl.offer.offerDetails.offerEndDate,\n                       productDescription : $ctrl.getProductDescription(),\n                      spread: $ctrl.offer.offerDetails.spread }"> </span> </p> <p ng-if="!$ctrl.showDisclaimer"> <a class="aButton" href="" actionable-id="showMore" ng-click="$ctrl.showMoreDisclaimer()"> {{ ::\'tloc.learnMore.introductory.showMore\' | translate }} </a> </p> <div ng-if="$ctrl.showDisclaimer"> <p> <span class="terms" ng-bind-html="\'tloc.learnMore.introductory.terms\' | translate:\n                  { interestRate: $ctrl.offer.offerDetails.promoRate,\n                    spread: $ctrl.offer.offerDetails.spread,\n                    offerEndDate : $ctrl.offer.offerDetails.offerEndDate,\n                    effectiveDate : $ctrl.currentDate,\n                    primeRate: $ctrl.offer.offerDetails.primeRate,\n                    productDescription : $ctrl.getProductDescription()\n                    }"> </span> </p> <p> <a class="aButton" href="" actionable-id="showMore" ng-click="$ctrl.showLessDisclaimer()"> {{ ::\'tloc.learnMore.introductory.showLess\' | translate }} </a> </p> </div> </section> </section> </div> </section> </div> <tng-error-message ng-if="!$ctrl.isLoading && $ctrl.errorMessage" message-only="true"> <p>{{::$ctrl.errorMessage | translate }}</p> </tng-error-message> </div> <div ng-show="$ctrl.isLoading"> <div class="container c-tloc-learnMore__loading-spinner"> <tng-loading-spinner>{{ ::\'global.pageFlow.loading.isLoading\' | translate }}</tng-loading-spinner> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(2)),s=n(67);function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n,a,o,r,l,c,u){(0,i.default)(this,e),this.$log=t,this.$scope=n,this.$translate=a,this.$httpParamSerializer=o,this.$window=l,this.STATUS_CODES=r.STATUS_CODES,this.UserService=c,this.TlocService=u,this.submitErrors=[],this.clearWatcher=null,this.nameValidation=s.nameValidation,this.namePattern=s.namePattern,this.annualRatePlaceholders={rateDate:null,tangerinePrimeRate:null},this.$log.debug("constructor for tlocLearnMoreController"),this.showDisclaimer=!1,this.currentDate=new Date}return(0,a.default)(e,[{key:"$onInit",value:function(){this.$log.debug("onInit for tlocLearnMoreController"),this._setupModal()}},{key:"_setupModal",value:function(){this.offer||this._getOffer()}},{key:"_handleErrors",value:function(e){var t=this;"errorMessage"in e&&this.submitErrors.push(e.errorMessage),e.response_status&&("details"in e.response_status&&e.response_status.details.forEach((function(e){t.submitErrors.push(e)})),"status_code"in e.response_status&&"technical_description"in e.response_status&&-1===["CREATED","SUCCESS"].indexOf(e.response_status.status_code)&&this.submitErrors.push(e.response_status.technical_description)),this.$log.debug("formatted error:",this.submitErrors)}},{key:"_getOffer",value:function(){var e=this;return this.isLoading=!0,this.TlocService.getOffers().then((function(t){e.offer=t})).catch((function(t){e._handleErrors(t)})).finally((function(){e.isLoading=!1}))}},{key:"getProductDescription",value:function(){return this.productDescription="tloc.learnMore.introductory.productDescription.",this.$translate.instant(""+this.productDescription+this.offer.productType)}},{key:"print",value:function(){this.$window.print()}},{key:"showMoreDisclaimer",value:function(){this.showDisclaimer=!0}},{key:"showLessDisclaimer",value:function(){this.showDisclaimer=!1}},{key:"offerClosed",get:function(){return this.TlocService.tlocConstants.OFFER_STATUS.CLOSE===this.offer.offerStatus}},{key:"errorMessage",get:function(){return this.offer?this.offerClosed?"tloc.learnMore.offerClosed":null:"tloc.learnMore.alreadyAccepted"}}]),e}();r.$inject=["$log","$scope","$translate","$httpParamSerializer","serviceConstants","$window","UserService","TlocService"],t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1460)),a=o(n(1464)),s=o(n(545));function o(e){return e&&e.__esModule?e:{default:e}}var r=angular.module("tangerine.abmAccess.module",[]).component("abmAccess",i.default).constant("abmAccessConstants",a.default).service("AbmLocationService",s.default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1461)),a=s(n(1462));function s(e){return e&&e.__esModule?e:{default:e}}n(1463);var o={controller:a.default,template:i.default,bindings:{shouldHideHeaderImage:"<?"}};t.default=o,e.exports=t.default},function(e,t){e.exports=' <div class="c-abmAccess"> <div ng-if="!$ctrl.isLoading && !$ctrl.isLoadingBundle"> <div class="c-abmInternationalAccess-top-section"> <div class="c-abmAccess__content international-abm"> <h2 class="heading--title margin__b--rel2" translate>{{ ::\'abm.access.international.header\' }}</h2> <p class="alliance-header" translate>{{ ::\'abm.access.international.alliance.body\' }}</p> <div class="abm-alliance-container"> <tng-select-autocomplete class="c-add-country__selection--item" ng-warning-border="true" ng-model="$ctrl.selectedCountry" on-select="$ctrl.handleSelection()" options="$ctrl.countries" option-label-key="name" placeholder="{{ ::\'abm.access.country\' | translate }}" select-type="$ctrl.AUTOCOMPLETE_CONSTANTS.SELECT_TYPE.FILTERED" sort-alphabetically="true" enable-for-mobile="true" show-warning-border="$ctrl.selectionError.emptySelectionError || $ctrl.selectionError.sanctionedCountryError"> </tng-select-autocomplete> </div> <br/> <div class="error-message" ng-if="$ctrl.displayAbmInternationalAccessError"> <p class="message" ng-if="$ctrl.showPartOfAllianceMessage" ng-bind-html="\'abm.access.globalAtmMessage\' | translate: { country: $ctrl.country,globalAtmMember: $ctrl.globalAtmBanks}"></p> <p class="message" ng-if="!$ctrl.showPartOfAllianceMessage" ng-bind-html="\'abm.access.globalAtmAllianceErrorMessage\' | translate: { country: $ctrl.country}"></p> </div> </div> </div> <div class="c-abmInternationalAccess-bottom-section"> <div class="c-quick-boxaccess"> <div class="c-quick-boxaccess__content"> <h3 class="atm-alliance" translate>{{ ::\'abm.access.international.alliance.header\' }}</h3> <div class="grid__container"> <div class="panel c-quick-boxaccess__grid-item" ng-repeat="item in $ctrl.tileData track by $index"> <div class="top_box"> <img src="{{item.imageUrl | translate}}" alt=""> <p class="tile-header"> {{ item.tileHeader | translate }} </p> </div> <div class="description_box"> <p class="card_text"> {{ item.tileBody | translate }} </p> </div> </div> <p class="atm-alliance-footer" translate>{{ ::\'abm.access.footer\' }}</p> </div> </div> </div> </div> </div> <tng-loading-in-progress ng-if="$ctrl.isLoading || $ctrl.isLoadingBundle"></tng-loading-in-progress> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o,r,l,c,u,d,_,E){(0,i.default)(this,e),this.$scope=t,this.$state=n,this.$translate=a,this.EventBusService=r,this.menuConstants=s,this.stateConstants=o,this.ReferenceDataService=l,this.TILE_TYPE=c.TILE_TYPE,this.abmAccessConstants=u,this.AbmLocationService=d,this.BundleService=_,this.AuthService=E}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.isLoading=!0,this.AuthService.isAuthenticated()&&(this.isLoadingBundle=!0,this.BundleService.loadCommonBundle().then((function(){e.isLoadingBundle=!1}))),this.displayAbmInternationalAccessError=!1,this.EventBusService.subscribe(this.$scope,this.menuConstants.EVENTS.RESET_LOGIN,(function(){e.$state.go(e.stateConstants.LOGIN)})),this.countryComplete=[],this.countries=[],this.selectedCountries=this.selectedCountries||[],this.ReferenceDataService.getDataByType(this.ReferenceDataService.TYPES.COUNTRIES).then((function(t){e.countries=t[e.ReferenceDataService.TYPES.COUNTRIES].filter((function(e){return"CA"!==e.code})),e.countryComplete=t,e.banks=e.$translate.instant("abm.access.international"),e._setAbmInternationTileData(),e.isLoading=!1}))}},{key:"_setAbmInternationTileData",value:function(){var e=this;this.tileData=[],this.abmAccessConstants.INTERNATIONAL_BANKS_LIST.forEach((function(t){e.tileData.push({tileHeader:"abm.access.international."+t+".header",tileBody:"abm.access.international."+t+".body",imageUrl:"abm.access.international."+t+".imageUrl"})}))}},{key:"handleSelection",value:function(){var e=this,t=this.abmAccessConstants.GLOBAL_ATM_BANK_COUNTRY_MAP;this.selectedCountry&&(this.country=this.selectedCountry,this.selectedCountryName=this.countryComplete[this.ReferenceDataService.TYPES.COUNTRIES].filter((function(t){return t.code===e.selectedCountry})),this.country=this._capitalizeWords(this.selectedCountryName[0].name),-1!==this.AbmLocationService.getGlocalAllianceCountries(t).indexOf(this.selectedCountry)?this.showPartOfAllianceMessage=!0:this.showPartOfAllianceMessage=!1,this.globalAtmBanks=this.AbmLocationService.getAvailableBanksFromCountry(t,this.selectedCountry),this.displayAbmInternationalAccessError=!0)}},{key:"_capitalizeWords",value:function(e){return e.replace(/\w\S*/g,(function(e){return""+e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}();o.$inject=["$scope","$state","$translate","menuConstants","stateConstants","EventBusService","ReferenceDataService","tngTileListConstants","abmAccessConstants","AbmLocationService","BundleService","AuthService"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={INTERNATIONAL_BANKS_LIST:["bank_america","barclays","bnp_paribas","deutsche_bank","scotiabank","westpac"],GLOBAL_ATM_BANK_COUNTRY_MAP:{bank_america:["US"],barclays:["GB"],bnp_paribas:["FR","IT","UA","GP","NC","LU","TR","MA","RE"],deutsche_bank:["DE","ES","PL","IN"],scotiabank:["MX","CL","PE","SV","AI","AG","BS","BB","BZ","KY","DM","DO","GD","GY","JM","PR","KN","LC","MF","VC","TT","TC","VI","VG"],westpac:["AU","NZ","PG","VU","WS","TO","CK","SB"]}},e.exports=t.default},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1469),s=(i=a)&&i.__esModule?i:{default:i};var o=angular.module("InsightsPageUpdateModule",[]).component("insightsPageUpdate",s.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1470)),a=s(n(1471));function s(e){return e&&e.__esModule?e:{default:e}}n(1472);var o={template:i.default,controller:a.default,bindings:{insightsInteractionPoint:"@"}};t.default=o,e.exports=t.default},function(e,t){e.exports='<tng-modal-insight ng-if="$ctrl.isModalOpen" insight="$ctrl.insightToDisplay" on-event="$ctrl.handleEvent(action, properties, $ctrl.selectedInsight)"></tng-modal-insight> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n,a,s,o){(0,i.default)(this,e),this.InsightsService=t,this.InsightsEventService=n,this.InsightsConstants=a,this.InsightsEvents=a.EVENT_MAP,this.INTERACTION_EVENTS=a.INTERACTION_EVENTS,this.$log=s,this.$translate=o,this.isModalOpen=!1,this.insightToDisplay=void 0}return(0,a.default)(e,[{key:"$onInit",value:function(){var e=this;this.InsightsService.getInsights({audience:this.InsightsConstants.SESSION.AUDIENCE_CUSTOMER,requireSession:!0,count:1,interactionPoint:this.insightsInteractionPoint}).then((function(t,n){e.insights=t.insights,e.$log.debug("Insights call response:"+t),e.$log.debug("Insights call error response:"+n),e.insights&&e.insights.length?(e.insightToDisplay=e.insights[0],e.insightToDisplay&&(e.insightToDisplay.modalUrl=e.InsightsService.getModalUrl(e.insightToDisplay.ic_cardName)),e.isModalOpen=!0,e.InsightsEventService.sendEvent(e.insights[0],e.INTERACTION_EVENTS.VIEW)):e.$log.error(e.$translate.instant("insights.noInsights"))}))}},{key:"handleEvent",value:function(e,t){switch(e){case this.InsightsEvents.OPEN_MODAL:this._openModal(this.insightToDisplay);break;case this.InsightsEvents.CLOSE_MODAL:this.onModalClose();break;case this.InsightsEvents.REMOVE_CARD:case this.InsightsEvents.INSIGHT_LOADED:break;default:this.InsightsEventService.sendEvent(this.insightToDisplay,e,t)}}},{key:"_openModal",value:function(e){this.selectedInsight=e,this.isModalOpen=!0}},{key:"onModalClose",value:function(){this.isModalOpen=!1}}]),e}();o.$inject=["InsightsService","InsightsEventService","InsightsConstants","$log","$translate"],t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=["$interpolate",function(e){var t=this;return{setLocale:function(e){t.locale=e},getInterpolationIdentifier:function(){return"TangerineInterpolator"},interpolate:function(t,n,i,a,s){return!t.match("{{")||n||s||(t=t.replace(/\{\{|\}\}/g,"")),""+e(t)(n,a)}}}],e.exports=t.default}]));